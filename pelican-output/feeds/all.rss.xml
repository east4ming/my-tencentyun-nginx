<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>ä¸ªäººæŠ€æœ¯åˆ†äº«</title><link>https://www.EWhisper.cn/</link><description>Focus on Python/Java/DevOps/Observability</description><lastBuildDate>Fri, 22 Nov 2019 17:00:00 +0800</lastBuildDate><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 11 - ZUUL</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-11.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬11ç¯‡, ä¸»è¦ä»‹ç» ZUUL.&lt;/p&gt;
&lt;h2 id="zuul"&gt;ZUUL&lt;a class="headerlink" href="#zuul" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªDemo ä½¿ç”¨Zuulä½œä¸ºå¾®æœåŠ¡ä¹‹é—´æ‰€æœ‰è°ƒç”¨çš„ä¸­å¿ƒä»£ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œzuulä½¿ç”¨åœ¨å…¶&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zuul/src/main/resources/application.yml#L8-L18"&gt;application properties(åº”ç”¨ç¨‹åºå±æ€§)&lt;/a&gt;ä¸­å®šä¹‰çš„é™æ€è·¯ç”±:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="nt"&gt;zuul&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
   &lt;span class="nt"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="nt"&gt;airports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
       &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/airports/**&lt;/span&gt;
       &lt;span class="nt"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://airports:8080/&lt;/span&gt;
     &lt;span class="nt"&gt;flights&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
       &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/flights/**&lt;/span&gt;
       &lt;span class="nt"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://flights:8080/&lt;/span&gt;
     &lt;span class="nt"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
       &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/sales/**&lt;/span&gt;
       &lt;span class="nt"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://sales:8080/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸Šè¿°è§„åˆ™ä¸­æä¾›çš„è·¯å¾„ä½¿ç”¨webåœ°å€çš„ç¬¬ä¸€éƒ¨åˆ†æ¥ç¡®å®šè¦è°ƒç”¨çš„æœåŠ¡ï¼Œå¹¶ä½¿ç”¨åœ°å€çš„å…¶ä½™éƒ¨åˆ†ä½œä¸ºä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;h3 id="ab"&gt;A/B æµ‹è¯•&lt;a class="headerlink" href="#ab" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†å®ç°A/Bæµ‹è¯•ï¼ŒSalesv2æœåŠ¡åœ¨è®¡ç®—ç¥¨ä»·çš„ç®—æ³•ä¸­å¼•å…¥äº†ä¸€ä¸ªå°çš„å˜åŒ–ã€‚Zuulé€šè¿‡ç­›é€‰ä¸€äº›è¯·æ±‚çš„&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Zuul/misc/ABTestingFilterBean.groovy"&gt;filter&lt;/a&gt;æä¾›åŠ¨æ€è·¯ç”±ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹å…¶ä»–æœåŠ¡çš„è°ƒç”¨ä¸è¿›è¡Œè¿‡æ»¤:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; 
&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;RequestContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;currentContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getRequest&lt;/span&gt;&lt;span class="o"&gt;().&lt;/span&gt;&lt;span class="na"&gt;getRequestURI&lt;/span&gt;&lt;span class="o"&gt;().&lt;/span&gt;&lt;span class="na"&gt;matches&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/sale&lt;/span&gt;
&lt;span class="s"&gt;s.*&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Won&amp;#39;t filter this request URL&lt;/span&gt;
    &lt;span class="kc"&gt;false&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åªè¿‡æ»¤æ¥è‡ªä»¥å¥‡æ•°ç»“å°¾çš„IPåœ°å€çš„å¯¹sales æœåŠ¡çš„è°ƒç”¨:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;caller&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;HTTPRequestUtils&lt;/span&gt;&lt;span class="o"&gt;().&lt;/span&gt;&lt;span class="na"&gt;getHeaderValue&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;baggage-forwarded-&lt;/span&gt;
&lt;span class="s"&gt;for&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;info&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Caller IP address is &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;caller&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;lastDigit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;caller&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reverse&lt;/span&gt;&lt;span class="o"&gt;().&lt;/span&gt;&lt;span class="na"&gt;take&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="n"&gt;Integer&lt;/span&gt;
&lt;span class="nf"&gt;if&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;lastDigit&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Even IP address won&amp;#39;t be filtered&lt;/span&gt;
    &lt;span class="kc"&gt;false&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Odd IP address will be filtered&lt;/span&gt;
    &lt;span class="kc"&gt;true&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æœè°ƒç”¨è€…çš„IPåœ°å€æœ«å°¾æœ‰ä¸€ä¸ªå¥‡æ•°ï¼Œè¯·æ±‚å°†è¢«é‡æ–°è·¯ç”±ã€‚è¿™æ„å‘³ç€æ‰§è¡Œfilterçš„&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zuul/misc/ABTestingFilterBean.groovy#L49-L52"&gt;run&lt;/a&gt;æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ›´æ”¹è·¯ç”±çš„host:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@Override&lt;/span&gt;
&lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Running filter&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;RequestContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;currentContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;routeHost&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;URL&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://salesv2:8080&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸ºäº†åœ¨ä¸æ›´æ”¹åº”ç”¨ç¨‹åºä»£ç çš„æƒ…å†µä¸‹å¯ç”¨åŠ¨æ€è·¯ç”±ï¼ŒOpenShiftèŠ‚ç‚¹å¯ä»¥ä½¿ç”¨å…±äº«å­˜å‚¨ï¼Œå¹¶&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Zuul/misc/zuul-pv.json"&gt;åˆ›å»º&lt;/a&gt;å’Œ&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Zuul/misc/zuul-pvc.json"&gt;å£°æ˜&lt;/a&gt;ä¸€ä¸ªæŒä¹…å·ã€‚å·è®¾ç½®å¥½å¹¶è®¾ç½®äº†groovyè¿‡æ»¤å™¨ä¹‹åï¼ŒOpenShift deployment config å¯ä»¥è¿›è¡Œç®¡ç†è°ƒæ•´ï¼Œä»¥å°†ç›®å½•ä½œä¸ºå·æŒ‚è½½:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc volume dc/zuul --add --name&lt;span class="o"&gt;=&lt;/span&gt;groovy --type&lt;span class="o"&gt;=&lt;/span&gt;persistentVolumeClaim --claim-name&lt;span class="o"&gt;=&lt;/span&gt;groovy-claim --mount-path&lt;span class="o"&gt;=&lt;/span&gt;/groovy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™å°†å¯¼è‡´åœ¨groovyç›®å½•ä¸‹æ‰¾åˆ°æ‰€æœ‰çš„groovyè„šæœ¬ã€‚zuulåº”ç”¨ç¨‹åºä»£ç é€šè¿‡&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zuul/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/zuul/RestApplication.java#L27-L35"&gt;æŸ¥æ‰¾å’Œåº”ç”¨&lt;/a&gt;æ­¤è·¯å¾„ä¸‹çš„ä»»ä½•groovyè„šæœ¬ï¼Œå®ç°äº†åŠ¨æ€è·¯ç”±filterçš„å¼•å…¥:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;resource&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;PathMatchingResourcePatternResolver&lt;/span&gt;&lt;span class="o"&gt;().&lt;/span&gt;&lt;span class="na"&gt;getResources&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;file:/groovy/.groovy&amp;quot;&lt;/span&gt; 
&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; &lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;info&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Found and will load groovy script &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getFilename&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;);&lt;/span&gt; &lt;span class="n"&gt;sources&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;add&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;resource&lt;/span&gt; &lt;span class="o"&gt;);&lt;/span&gt; &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;sources&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;size&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; &lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;info&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;No groovy script found under /groovy/.groovy&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_2"&gt;ç»“æŸè¯­&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è‡³æ­¤, å…³äºã€ŠSpring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µã€‹çš„ç³»åˆ—æ–‡ç« å·²ç»å…¨éƒ¨å®Œç»“ã€‚æˆ‘ä»¬å›é¡¾ä¸‹ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Spring Boot å¾®æœåŠ¡çš„åŸºæœ¬æ¦‚å¿µå’Œä½¿ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;OpenShift çš„ç®€å•åº”ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;Spring Bootä¸­çš„ä¸€äº›ç»„ä»¶å’ŒOpenShiftç»„åˆä½¿ç”¨ï¼Œè€Œæ— éœ€å¤ªå¤šä»£ç çš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸€ç³»åˆ—æ–‡ç« ä¸º Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°ï¼ˆK8Så’ŒOpenShiftï¼‰åšäº†ç ”ç©¶å’Œå®ç°ï¼ŒåŒæ—¶æä¾›äº†å¯¹ç›¸å…³æ¦‚å¿µä½¿ç”¨çš„å®ä¾‹ï¼Œå¸Œæœ›å¯¹å„ä½çš„Spring Bootå®¹å™¨åŒ–éƒ¨ç½²æœ‰æ‰€å¸®åŠ©ã€‚&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 22 Nov 2019 17:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-22:/spring-boot-on-k8s-11.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category><category>java</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 10 - Zipkin</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-10.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬10ç¯‡, ä¸»è¦ä»‹ç» zipkinåœ¨K8Sä¸Šçš„éƒ¨ç½².&lt;/p&gt;
&lt;h2 id="zipkin"&gt;Zipkin&lt;a class="headerlink" href="#zipkin" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªdemoä½¿ç”¨Spring Sleuthæ¥æ”¶é›†tracing æ•°æ®å¹¶å°†å…¶å‘é€åˆ°OpenZipkin, OpenZipkinä½œä¸ºOpenShiftæœåŠ¡éƒ¨ç½²ï¼Œå¹¶ç”±ä¸€ä¸ªæŒä¹…çš„MySQLæ•°æ®åº“é•œåƒæ”¯æŒã€‚å¯ä»¥ä»Zipkinæ§åˆ¶å°æŸ¥è¯¢tracing æ•°æ®ï¼Œè¯¥æ§åˆ¶å°é€šè¿‡OpenShift routeå…¬å¼€ã€‚æ—¥å¿—é›†æˆä¹Ÿå¯ä»¥ä½¿ç”¨trace idå°†ç›¸åŒä¸šåŠ¡è¯·æ±‚çš„åˆ†å¸ƒå¼æ‰§è¡Œæ†ç»‘åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;h3 id="mysql"&gt;MySQL æ•°æ®åº“&lt;a class="headerlink" href="#mysql" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªdemoä½¿ç”¨OpenShiftæä¾›å¹¶æ”¯æŒçš„ &lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/using_images/database-images#using-images-db-images-mysql"&gt;MySQLé•œåƒ&lt;/a&gt;æ¥å­˜å‚¨æŒä¹…çš„zipkinæ•°æ®ã€‚&lt;/p&gt;
&lt;h4&gt;Persistent Volume&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†æ”¯æŒMySQLæ•°æ®åº“é•œåƒçš„æŒä¹…å­˜å‚¨ï¼Œè¿™ä¸ªdemo åˆ›å»ºå¹¶æŒ‚è½½ä¸€ä¸ªé€šè¿‡NFSå…¬å¼€çš„é€»è¾‘å·ã€‚OpenShift &lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Zipkin/zipkin-mysql-pv.json"&gt;persistent volume&lt;/a&gt; å‘é•œåƒå…¬å¼€å­˜å‚¨ã€‚åœ¨NFSæœåŠ¡å™¨è®¾ç½®å¹¶å…±äº«å­˜å‚¨ä¹‹åå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-mysql-pv.json
persistentvolume &lt;span class="s2"&gt;&amp;quot;zipkin-mysql-data&amp;quot;&lt;/span&gt; created
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;MySQL é•œåƒ&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªdemo æä¾›äº†ä¸€ä¸ª&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Zipkin/zipkin-mysql.yml"&gt;OpenShift template&lt;/a&gt; æ¥åˆ›å»ºæ•°æ®åº“é•œåƒã€OpenZipkinæ‰€éœ€çš„æ•°æ®åº“ schemaå’ŒOpenZipkiné•œåƒæœ¬èº«ã€‚è¯¥æ¨¡æ¿ä¾èµ–äºopenshifté¡¹ç›®ä¸­&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L275-L278"&gt;é»˜è®¤å¯ç”¨&lt;/a&gt;çš„MySQLé•œåƒå®šä¹‰ã€‚&lt;/p&gt;
&lt;h4&gt;æ•°æ®åº“åˆå§‹åŒ–&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;è¿™ä¸€ç« èŠ‚ç®€è¦ä»‹ç»äº†ä¸‹podçš„é«˜çº§ç”¨æ³• - &lt;strong&gt;lifecycle hooks&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªdemo æ¼”ç¤ºäº†åœ¨åˆ›å»ºpodä¹‹åä½¿ç”¨&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/deployments#lifecycle-hooks"&gt;lifecycle hooks(ç”Ÿå‘½å‘¨æœŸé’©å­)&lt;/a&gt;åˆå§‹åŒ–æ•°æ®åº“ã€‚å…·ä½“æ¥è¯´ï¼Œ&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L192-L205"&gt;post hook&lt;/a&gt;çš„ç”¨æ³•å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;       &lt;span class="nt"&gt;recreateParams&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
         &lt;span class="nt"&gt;post&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
           &lt;span class="nt"&gt;failurePolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Abort&lt;/span&gt;
           &lt;span class="nt"&gt;execNewPod&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
             &lt;span class="nt"&gt;containerName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
             &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
             &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bin/sh&lt;/span&gt;
             &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;-c&lt;/span&gt;
             &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hostname &amp;amp;&amp;amp; sleep 10 &amp;amp;&amp;amp; /opt/rh/rh-mysql57/root/usr/bin/mysql -h&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;$DATABASE_SERVICE_NAME -u $MYSQL_USER -D $MYSQL_DATABASE -p$MYSQL_PASSWORD -P&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;3306 &amp;lt; /docker-entrypoint-initdb.d/init.sql &amp;amp;&amp;amp; echo Initialized database&lt;/span&gt;
             &lt;span class="l l-Scalar l-Scalar-Plain"&gt;env&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
             &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DATABASE_SERVICE_NAME&lt;/span&gt;
               &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;${DATABASE_SERVICE_NAME}&lt;/span&gt;
             &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
             &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql-init-script&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸ªé’©å­ä½¿ç”¨å‘½ä»¤è¡Œmysqlå®ç”¨ç¨‹åºæ¥è¿è¡Œä½äº&lt;code&gt;/docker-entrypoint-initdb.d/init.sql&lt;/code&gt; SQLè„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»º schema çš„SQLè„šæœ¬ä½œä¸º &lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L264-L266"&gt;config map&lt;/a&gt;åµŒå…¥åˆ°template ä¸­ã€‚ç„¶åconfig map è¢«å£°æ˜ä¸ºä¸€ä¸ªå·ï¼Œå¹¶æŒ‚è½½åœ¨&lt;code&gt;/docker-entrypoint-initdb.d&lt;/code&gt;ä¸‹çš„æœ€ç»ˆè·¯å¾„ä¸Š.&lt;/p&gt;
&lt;h3 id="openzipkin"&gt;OpenZipkin é•œåƒ&lt;a class="headerlink" href="#openzipkin" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¨¡æ¿ä½¿ç”¨OpenZipkinæä¾›çš„&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L145-L177"&gt;é•œåƒ&lt;/a&gt;: &lt;code&gt;image: openzipkin/zipkin:1.19.2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;OpenZipkinè®¿é—®ç›¸å…³MySQLæ•°æ®åº“æ‰€éœ€çš„å‚æ•°å¯ä»¥é…ç½®ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç›¸åŒæ¨¡æ¿çš„ä¸€éƒ¨åˆ†ç”Ÿæˆã€‚æ•°æ®åº“å¯†ç ä½œä¸ºæ¨¡æ¿çš„ä¸€éƒ¨åˆ†ç”±OpenShift&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L313-L324"&gt;éšæœºç”Ÿæˆ&lt;/a&gt;ï¼Œå¹¶å­˜å‚¨åœ¨ä¸€ä¸ª&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L21-L30"&gt;Secret&lt;/a&gt; ä¸­ï¼Œè¿™ä½¿å¾—ç”¨æˆ·å’Œç®¡ç†å‘˜å°†æ¥æ— æ³•è®¿é—®å®ƒä»¬ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦æ‰“å°&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zipkin/zipkin-mysql.yml#L5-L11"&gt;tempate message(æ¨¡æ¿æ¶ˆæ¯)&lt;/a&gt;æ¥å…è®¸ä¸€æ¬¡æ€§è®¿é—®æ•°æ®åº“å¯†ç ï¼Œä»¥ä¾¿è¿›è¡Œç›‘æ§å’Œæ•…éšœæ’é™¤ã€‚&lt;/p&gt;
&lt;p&gt;è¦åˆ›å»ºZipkin æœåŠ¡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc new-app -f LambdaAir/Zipkin/zipkin-mysql.yml
--&amp;gt; Deploying template &lt;span class="s2"&gt;&amp;quot;lambdaair/&amp;quot;&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;zipkin-mysql.yml&amp;quot;&lt;/span&gt; to project 
lambdaair
     ---------
     MySQL database service, with persistent storage. For more information 
about using this template, including OpenShift considerations, see 
https://github.com/sclorg/mysql-container/blob/master/5.7/README.md.
     NOTE: Scaling to more than one replica is not supported. You must 
have persistent volumes available in your cluster to use this template.
     The following service&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt; have been created in your project: zipkin-
mysql.
            Username: zipkin
            Password: Y4hScBSPH5bAhDL2 
       Database Name: zipkin
      Connection URL: mysql://zipkin-mysql:3306/
     For more information about using this template, including OpenShift 
considerations, see https://github.com/sclorg/mysql-
container/blob/master/5.7/README.md.
     * With parameters:
        * Memory &lt;span class="nv"&gt;Limit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;512Mi
        * &lt;span class="nv"&gt;Namespace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;openshift
        * Database Service &lt;span class="nv"&gt;Name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zipkin-mysql
        * MySQL Connection &lt;span class="nv"&gt;Username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zipkin
        * MySQL Connection &lt;span class="nv"&gt;Password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Y4hScBSPH5bAhDL2 &lt;span class="c1"&gt;# generated(è¿™é‡Œéšæœºç”Ÿæˆçš„, å­˜å‚¨åœ¨K8Sçš„Secret, ä¼šæŒ‚è½½åœ¨mysqlå’Œzipkin2ä¸ªpodçš„envé‡Œ.)&lt;/span&gt;
        * MySQL root user &lt;span class="nv"&gt;Password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;xYVNsuRXRV5xqu4A &lt;span class="c1"&gt;# generated&lt;/span&gt;
        * MySQL Database &lt;span class="nv"&gt;Name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zipkin
        * Volume &lt;span class="nv"&gt;Capacity&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1Gi
        * Version of MySQL &lt;span class="nv"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;.7
--&amp;gt; Creating resources ...
    secret &lt;span class="s2"&gt;&amp;quot;zipkin-mysql&amp;quot;&lt;/span&gt; created
    service &lt;span class="s2"&gt;&amp;quot;zipkin&amp;quot;&lt;/span&gt; created
    service &lt;span class="s2"&gt;&amp;quot;zipkin-mysql&amp;quot;&lt;/span&gt; created
    persistentvolumeclaim &lt;span class="s2"&gt;&amp;quot;zipkin-mysql&amp;quot;&lt;/span&gt; created
    configmap &lt;span class="s2"&gt;&amp;quot;zipkin-mysql-cnf&amp;quot;&lt;/span&gt; created
    configmap &lt;span class="s2"&gt;&amp;quot;zipkin-mysql-initdb&amp;quot;&lt;/span&gt; created
    deploymentconfig &lt;span class="s2"&gt;&amp;quot;zipkin&amp;quot;&lt;/span&gt; created
    deploymentconfig &lt;span class="s2"&gt;&amp;quot;zipkin-mysql&amp;quot;&lt;/span&gt; created
    route &lt;span class="s2"&gt;&amp;quot;zipkin&amp;quot;&lt;/span&gt; created
--&amp;gt; Success
    Run &lt;span class="s1"&gt;&amp;#39;oc status&amp;#39;&lt;/span&gt; to view your app.
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="spring-sleuth"&gt;SpringÂ Sleuth&lt;a class="headerlink" href="#spring-sleuth" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è™½ç„¶ZipkinæœåŠ¡å…è®¸å¯¹åˆ†å¸ƒå¼tracing æ•°æ®è¿›è¡Œèšåˆã€æŒä¹…åŒ–å¹¶ç”¨äºæŠ¥å‘Šï¼Œä½†è¯¥åº”ç”¨ç¨‹åºä¾èµ–äºSpring Sleuthæ¥å…³è”è°ƒç”¨å¹¶å°†æ•°æ®å‘é€ç»™Zipkinã€‚&lt;/p&gt;
&lt;p&gt;ä¸Ribbonå’Œå…¶ä»–æ¡†æ¶åº“çš„é›†æˆä½¿å¾—åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨Spring Sleuthå˜å¾—éå¸¸å®¹æ˜“ã€‚é€šè¿‡åœ¨é¡¹ç›®Mavenæ–‡ä»¶ä¸­å£°æ˜ä¸€ä¸ªä¾èµ–é¡¹æ¥åŒ…å«è¿™äº›åº“:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-sleuth-zipkin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿˜å¯ä»¥åœ¨application properties(åº”ç”¨ç¨‹åºå±æ€§)ä¸­æŒ‡å®šåº”è¯¥traceçš„è¯·æ±‚çš„ç™¾åˆ†æ¯”ï¼Œä»¥åŠåˆ°zipkinæœåŠ¡å™¨çš„åœ°å€ã€‚æˆ‘ä»¬å†æ¬¡ä¾èµ–OpenShift ServiceæŠ½è±¡æ¦‚å¿µæ¥è®¿é—®zipkinã€‚å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;spring&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;sleuth&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;sampler&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;percentage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1.0&lt;/span&gt;
  &lt;span class="nt"&gt;zipkin&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;baseUrl&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://zipkin/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç™¾åˆ†æ¯”å€¼1.0è¡¨ç¤º100%çš„è¯·æ±‚å°†è¢«æ•è·ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ­¥éª¤è¶³ä»¥æ”¶é›†tracing æ•°æ®ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥å°† &lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Presentation/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/presentation/service/API_GatewayController.java#L63"&gt;Tracer&lt;/a&gt; å¯¹è±¡æ³¨å…¥ä»£ç ä»¥å®ç°æ‰©å±•åŠŸèƒ½ã€‚è™½ç„¶æ¯ä¸ªè¿œç¨‹è°ƒç”¨é»˜è®¤æƒ…å†µä¸‹éƒ½å¯ä»¥ç”Ÿæˆå’Œå­˜å‚¨traceï¼Œä½†æ˜¯&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Presentation/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/presentation/service/API_GatewayController.java#L68"&gt;æ·»åŠ tag&lt;/a&gt;æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£zipkinæŠ¥å‘Šã€‚å®ƒä¹Ÿä¼š &lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Presentation/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/presentation/service/API_GatewayController.java#L68"&gt;åˆ›å»º&lt;/a&gt; å’Œ &lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Presentation/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/presentation/service/API_GatewayController.java#L124"&gt;æ ‡å®š&lt;/a&gt; æ„Ÿå…´è¶£çš„tracing spansæ¥æ”¶é›†æ›´å¤šæœ‰æ„ä¹‰çš„tracing æ•°æ®.&lt;/p&gt;
&lt;h4&gt;Baggage Data&lt;/h4&gt;
&lt;p&gt;è™½ç„¶Spring Sleuthä¸»è¦æ˜¯ä½œä¸ºä¸€ç§åˆ†å¸ƒå¼tracing å·¥å…·ï¼Œä½†å®ƒå…³è”åˆ†å¸ƒå¼è°ƒç”¨çš„èƒ½åŠ›ä¹Ÿå¯ä»¥æœ‰å…¶ä»–å®é™…ç”¨é€”ã€‚æ¯ä¸ªåˆ›å»ºçš„spanéƒ½å…è®¸é™„åŠ ä»»æ„æ•°æ®(ç§°ä¸º&lt;strong&gt;baggage item&lt;/strong&gt;)ï¼Œè¿™äº›æ•°æ®å°†è‡ªåŠ¨æ’å…¥HTTPæ ‡å¤´ï¼Œå¹¶åœ¨spanæœŸé—´éšä¸šåŠ¡è¯·æ±‚ä»ä¸€ä¸ªæœåŠ¡åˆ°å¦ä¸€ä¸ªæœåŠ¡æ— ç¼ä¼ è¾“ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºæ„Ÿå…´è¶£çš„æ˜¯ä½¿æ¯ä¸ªå¾®æœåŠ¡éƒ½å¯ä»¥å¾—åˆ°ç”¨æˆ·çš„çœŸå®IPã€‚åœ¨OpenShiftç¯å¢ƒä¸­ï¼Œè°ƒç”¨IPåœ°å€å­˜å‚¨åœ¨HTTPå¤´æ–‡ä»¶çš„æ ‡å‡†keyä¸­ã€‚æ£€ç´¢å¹¶åœ¨spanä¸Šè®¾ç½®æ­¤å€¼:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;querySpan&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setBaggageItem&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;forwarded-for&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getHeader&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;x-&lt;/span&gt;
&lt;span class="s"&gt;forwarded-for&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¹‹åï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;baggage-forward -for&lt;/code&gt;çš„header keyä»ç›¸åŒè°ƒç”¨èŒƒå›´å†…çš„ä»»ä½•æœåŠ¡è®¿é—®æ­¤å€¼ã€‚Groovyè„šæœ¬ä¸­çš„ZuulæœåŠ¡&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Zuul/misc/ABTestingFilterBean.groovy#L32"&gt;ä½¿ç”¨&lt;/a&gt;å®ƒæ¥æ‰§è¡ŒåŠ¨æ€è·¯ç”±ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;å°ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œè¾¹æœ‰å‡ ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;K8S(æˆ–OpenShift) PVçš„æ¦‚å¿µåŠä½¿ç”¨;&lt;/li&gt;
&lt;li&gt;MySQLé•œåƒé€šè¿‡OpenShiftçš„ &lt;strong&gt;lifecycle hooks&lt;/strong&gt;æ¥æ‰§è¡Œinit.sql&lt;/li&gt;
&lt;li&gt;OpenShift çš„Template èµ„æº, å¯ä»¥é…ç½®å¤šä¸ªpodæˆ–é•œåƒéœ€è¦å…¬ç”¨çš„ä¿¡æ¯(å¦‚æ•°æ®åº“å¯†ç ), å¹¶å¯ä»¥é€šè¿‡è®¾ç½®patternæ¥è‡ªåŠ¨ç”Ÿæˆ.&lt;/li&gt;
&lt;li&gt;Spring Sleuthå¾®æœåŠ¡å¦‚ä½•å¼•å…¥è¯¥ä¾èµ–;&lt;/li&gt;
&lt;li&gt;Spring Sleuth ä¹Ÿå¯ä»¥ç”±å…¶ä»–ç”¨é€”, å¦‚æ·»åŠ header, æ¥å…¨é“¾è·¯ä¼ è¾“æ„Ÿå…´è¶£çš„ä¿¡æ¯(æœ¬ä¾‹ä¸­ä¸º: ç”¨æˆ·çœŸå®IP - &lt;code&gt;x-forwarded-for&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 21 Nov 2019 16:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-21:/spring-boot-on-k8s-10.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category><category>java</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 9 - Ribbonå’Œè´Ÿè½½å‡è¡¡</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-9.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬ä¹ç¯‡, ä¸»è¦ä»‹ç» Ribbonå’Œè´Ÿè½½å‡è¡¡.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/tree/master/Flights"&gt;&lt;em&gt;Flights&lt;/em&gt;&lt;/a&gt;æœåŠ¡çš„ç»“æ„ä¸&lt;em&gt;Airports&lt;/em&gt;æœåŠ¡ç±»ä¼¼ï¼Œä½†ä¾èµ–å¹¶è°ƒç”¨&lt;em&gt;Airports&lt;/em&gt;æœåŠ¡ã€‚å› æ­¤ï¼Œå®ƒåˆ©ç”¨&lt;strong&gt;Ribbon&lt;/strong&gt;å’Œç”Ÿæˆçš„&lt;strong&gt;OpenShift Service&lt;/strong&gt;å®ç°é«˜å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;h2 id="ribbon"&gt;Ribbon å’Œ è´Ÿè½½å‡è¡¡&lt;a class="headerlink" href="#ribbon" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="resttemplate-ribbon"&gt;RestTemplate å’Œ Ribbon&lt;a class="headerlink" href="#resttemplate-ribbon" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦å¿«é€Ÿä¸”è½»æ¾åœ°å£°æ˜ä½¿ç”¨Ribbonæ‰€éœ€çš„ä¾èµ–é¡¹ï¼Œè¯·å°†ä»¥ä¸‹æ„ä»¶(artifact)æ·»åŠ ä¸ºMavenä¾èµ–é¡¹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-ribbon&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¥åº”ç”¨ç¨‹åºè¿˜åˆ©ç”¨&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Flights/pom.xml#L54-L59"&gt;Jackson JSR 310&lt;/a&gt;åº“æ­£ç¡®åœ°åºåˆ—åŒ–å’Œååºåˆ—åŒ–Java 8æ—¥æœŸå¯¹è±¡(date objects):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.fasterxml.jackson.datatype&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jackson-datatype-jsr310&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.8.8&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å£°æ˜ä¸€ä¸ªè´Ÿè½½å‡è¡¡çš„&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Flights/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/flights/service/Controller.java#L39-L47"&gt;RestTemplate&lt;/a&gt;å¹¶ä½¿ç”¨æ³¨å…¥å°†å…¶åˆ†é…ç»™ä¸€ä¸ªå­—æ®µ(field):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@LoadBalanced&lt;/span&gt;
&lt;span class="nd"&gt;@Bean&lt;/span&gt;
&lt;span class="n"&gt;RestTemplate&lt;/span&gt; &lt;span class="nf"&gt;restTemplate&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
 &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;RestTemplate&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="nd"&gt;@Autowired&lt;/span&gt;
&lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="n"&gt;RestTemplate&lt;/span&gt; &lt;span class="n"&gt;restTemplate&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¯¹äºä¼ å‡ºè°ƒç”¨ï¼Œåªéœ€&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Flights/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/flights/service/Controller.java#L64"&gt;ä½¿ç”¨restTemplateå­—æ®µ&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Airport&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;airportArray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;restTemplate&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getForObject&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://zuul/airports/airports&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Airport&lt;/span&gt;&lt;span class="o"&gt;[].&lt;/span&gt;&lt;span class="na"&gt;class&lt;/span&gt; &lt;span class="o"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½œä¸ºURLçš„ä¸»æœºéƒ¨åˆ†æä¾›çš„æœåŠ¡åœ°å€æ˜¯é€šè¿‡Ribbonæ ¹æ®&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Flights/src/main/resources/application.yml#L13-L15"&gt;åº”ç”¨ç¨‹åºå±æ€§&lt;/a&gt;ä¸­æä¾›çš„å€¼è§£æçš„: (&lt;code&gt;http://zuul&lt;/code&gt;ä¸­çš„zuulä¼šè¢«è§£æä¸º: &lt;code&gt;http://zuul:8080&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;zuul&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;ribbon&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;listOfServers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zuul:8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­ï¼ŒRibbonéœ€è¦ä¸€ä¸ªé™æ€å®šä¹‰çš„æœåŠ¡åœ°å€&lt;strong&gt;åˆ—è¡¨&lt;/strong&gt;ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªæœåŠ¡åœ°å€æ˜¯ç”¨&lt;code&gt;zuul:8080&lt;/code&gt;æä¾›ã€‚Zuulä½¿ç”¨åœ°å€çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œå³æ ¹webä¸Šä¸‹æ–‡(å¦‚ä¸Šæ–‡çš„&lt;code&gt;/airports/&lt;/code&gt;)ï¼Œé€šè¿‡é™æ€æˆ–åŠ¨æ€è·¯ç”±é‡å®šå‘è¯·æ±‚ï¼Œæœ¬æ–‡æ¡£åé¢å°†å¯¹æ­¤è¿›è¡Œè§£é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æä¾›çš„zuulä¸»æœºåå…¶å®æ˜¯OpenShiftçš„Service å&lt;/strong&gt;(è¿™ä¸ªServiceååœ¨OpenShifté›†ç¾¤å†…æ˜¯å¯ä»¥ä½œä¸ºåŸŸåä½¿ç”¨çš„)ï¼Œå¹¶è§£æä¸ºServiceçš„Cluster IPåœ°å€ï¼Œç„¶åè·¯ç”±åˆ°å†…éƒ¨çš„OpenShiftè´Ÿè½½å‡è¡¡å™¨ã€‚OpenShift Serviceåç§°æ˜¯åœ¨ä½¿ç”¨ocå·¥å…·åˆ›å»ºServiceæ—¶ç¡®å®šçš„ï¼Œæˆ–è€…åœ¨ä½¿ç”¨fabric8 Mavenæ’ä»¶éƒ¨ç½²é•œåƒæ—¶ç¡®å®šçš„ï¼Œå®ƒåœ¨&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Zuul/src/main/fabric8/svc.yml"&gt;service yaml&lt;/a&gt;æ–‡ä»¶ä¸­å£°æ˜ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Service&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zuul&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;protocol&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;TCP&lt;/span&gt;
      &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
      &lt;span class="nt"&gt;targetPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
  &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ClusterIP&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å†è§£é‡Šä¸‹, å¯ä»¥è¿™ä¹ˆç†è§£, OpenShiftçš„Serviceç±»ä¼¼äºç¡¬ä»¶Load Balancer(å¦‚F5), è¿™ä¸ªServiceçš„Cluster IPç±»ä¼¼äºF5çš„VIP. å®ƒåé¢ä¼šæœ‰1ä¸ªæˆ–å¤šä¸ªzuulæœåŠ¡. ç½‘ç»œæµ: restè¯·æ±‚ -&amp;gt; zuul -&amp;gt; 1ä¸ªOpenShift Service -&amp;gt; 1ä¸ªæˆ–å¤šä¸ªzuulå®ä¾‹.&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼ŒRibbonå¹¶ä¸è´Ÿè´£è´Ÿè½½å‡è¡¡è¯·æ±‚ï¼Œè€Œæ˜¯å°†å®ƒä»¬å‘é€åˆ°OpenShiftå†…éƒ¨è´Ÿè½½å‡è¡¡å™¨ï¼Œè¯¥è´Ÿè½½å‡è¡¡å™¨çŸ¥é“æœåŠ¡å®ä¾‹çš„å‰¯æœ¬æ•°å’Œå¤±è´¥æƒ…å†µï¼Œå¯ä»¥æ­£ç¡®åœ°é‡å®šå‘è¯·æ±‚(å¯¹äºRibbonæ¥è¯´, å°±æ˜¯1ä¸ªåœ°å€; æœåŠ¡çš„æ³¨å†Œå’Œå‘ç°å…¶å®æ˜¯ç”±OpenShiftçš„Serviceæ¥å®ç°äº†)ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;å°ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ä¸€æ¬¡, Spring å¾®æœåŠ¡çš„è´Ÿè½½å‡è¡¡æ˜¯é€šè¿‡: Ribbon å’Œ OpenShift(æˆ–K8S)çš„Serviceæ¥åšçš„.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ribbonä»…è´Ÿè´£åå‘ä»£ç†; (ä¸è´Ÿè´£è´Ÿè½½å‡è¡¡)&lt;/li&gt;
&lt;li&gt;OpenShift Service è´Ÿè´£è´Ÿè½½å‡è¡¡, ä»¥åŠæœåŠ¡çš„æ³¨å†Œå’Œå‘ç°.&lt;ol&gt;
&lt;li&gt;å…·ä½“æŸä¸€ä¸ªæœåŠ¡çš„å¤±è´¥ä¸å¦æ˜¯é€šè¿‡K8Sçš„Health Probeæ¥æ¢æµ‹çš„.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 21 Nov 2019 15:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-21:/spring-boot-on-k8s-9.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category><category>java</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 8 - Rest Service</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-8.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬å…«ç¯‡, ä¸»è¦ä»‹ç» springå¾®æœåŠ¡çš„ç›¸å…³è®¾è®¡å’Œå¼€å‘æ€è·¯, è¿™æ¬¡ä»‹ç»RESTæœåŠ¡çš„å®ç°.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/tree/master/Airports"&gt;&lt;em&gt;Airports&lt;/em&gt;&lt;/a&gt; æœåŠ¡æ˜¯åº”ç”¨ç¨‹åºä¸­æœ€ç®€å•çš„å¾®æœåŠ¡ï¼Œè¿™ä¸ºæ„å»ºåŸºæœ¬çš„Spring Boot RESTæœåŠ¡æä¾›äº†å¾ˆå¥½çš„å‚è€ƒã€‚&lt;/p&gt;
&lt;h2 id="spring-boot-rest-service"&gt;Spring Boot Rest Service&lt;a class="headerlink" href="#spring-boot-rest-service" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="spring-boot-application-class"&gt;Spring Boot Application Class&lt;a class="headerlink" href="#spring-boot-application-class" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦å°†Javaé¡¹ç›®æŒ‡å®šä¸ºSpring Bootåº”ç”¨ç¨‹åºï¼Œéœ€è¦åŒ…å«ä¸€ä¸ªç”¨&lt;a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html"&gt;SpringBootApplication&lt;/a&gt;æ³¨é‡Šçš„&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Airports/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/airports/RestApplication.java"&gt;Javaç±»&lt;/a&gt;ï¼Œè¯¥ç±»å®ç°é»˜è®¤çš„Java mainæ–¹æ³•.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;package&lt;/span&gt; &lt;span class="nn"&gt;com.redhat.refarch.obsidian.brownfield.lambdaair.airports&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.springframework.boot.SpringApplication&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.springframework.boot.autoconfigure.SpringBootApplication&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="nd"&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;RestApplication&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
 &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;SpringApplication&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;run&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;RestApplication&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt; &lt;span class="o"&gt;);&lt;/span&gt;
 &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å£°æ˜åº”ç”¨ç¨‹åºåç§°(application name)ä¹Ÿæ˜¯ä¸€ç§è‰¯å¥½çš„å®è·µï¼Œå®ƒå¯ä»¥ä½œä¸º&lt;a href="https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html"&gt;common application properties&lt;/a&gt;çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨ä»¥æ¯ä¸ªé¡¹ç›®çš„åç§°å¼€å¤´çš„&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Airports/src/main/resources/application.yml"&gt;application.yml&lt;/a&gt; æ–‡ä»¶.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;spring&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;application&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;airports&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="maven-project-file"&gt;Maven Project File&lt;a class="headerlink" href="#maven-project-file" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¯ä¸ªå¾®æœåŠ¡é¡¹ç›®éƒ½åŒ…å«ä¸€ä¸ªMaven &lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Airports/pom.xml"&gt;POMæ–‡ä»¶&lt;/a&gt;ï¼Œè¯¥æ–‡ä»¶é™¤äº†å£°æ˜æ¨¡å—å±æ€§(module properties)å’Œä¾èµ–é¡¹å¤–ï¼Œè¿˜åŒ…å«ä¸€ä¸ªé…ç½®æ–‡ä»¶å®šä¹‰(profile definition)ï¼Œç”¨äºä½¿ç”¨&lt;a href="https://maven.fabric8.io/"&gt;fabric8-maven-plugin&lt;/a&gt;åˆ›å»ºå’Œéƒ¨ç½²K8Sæˆ–OpenShifté•œåƒã€‚&lt;/p&gt;
&lt;p&gt;è¯¥POMæ–‡ä»¶ä½¿ç”¨ä¸€ä¸ªå±æ€§(property)æ¥å£°æ˜åŒ…å«æ“ä½œç³»ç»Ÿå’ŒJavaå¼€å‘å·¥å…·åŒ…(JDK)çš„åŸºç¡€é•œåƒã€‚æ­¤åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰æœåŠ¡éƒ½æ„å»ºåœ¨Red Hat Enterprise Linux (RHEL)åŸºç¡€é•œåƒä¹‹ä¸Šï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå—æ”¯æŒçš„OpenJDKç‰ˆæœ¬:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
...
  &lt;span class="nt"&gt;&amp;lt;fabric8.generator.from&amp;gt;&lt;/span&gt;registry.access.redhat.com/redhat-openjdk-18/openjdk18-openshift&lt;span class="nt"&gt;&amp;lt;/fabric8.generator.from&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¦è½»æ¾åœ°åŒ…å«æä¾›RESTæœåŠ¡çš„ç®€å•Spring Bootåº”ç”¨ç¨‹åºçš„ä¾èµ–é¡¹ï¼Œè¯·å£°æ˜ä»¥ä¸‹ä¸¤ä¸ªæ„ä»¶(artifacts):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-web&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-tomcat&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ­¤åº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªæœåŠ¡è¿˜å£°æ˜äº†å¯¹&lt;a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-actuator"&gt;Spring Boot Actuator&lt;/a&gt; ç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œå…¶ä¸­åŒ…æ‹¬è®¸å¤šé™„åŠ åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ç›‘è§†å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-actuator&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;å½“å£°æ˜äº†å¯¹&lt;em&gt;Actuator&lt;/em&gt;çš„ä¾èµ–æ—¶ï¼Œfabric8ä¼šç”Ÿæˆé»˜è®¤çš„OpenShift &lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/dev-guide-application-health#container-health-checks-using-probes"&gt;health probes&lt;/a&gt;&lt;/strong&gt;ï¼Œè¯¥probesä¸&lt;em&gt;Actuator&lt;/em&gt;æœåŠ¡é€šä¿¡ï¼Œä»¥ç¡®å®šæœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œ(running)å¹¶å‡†å¤‡(ready)å¥½ä¸ºè¯·æ±‚æä¾›æœåŠ¡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="nt"&gt;livenessProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;failureThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;3&lt;/span&gt;
      &lt;span class="nt"&gt;httpGet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/health&lt;/span&gt;
        &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
        &lt;span class="nt"&gt;scheme&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;HTTP&lt;/span&gt;
      &lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;180&lt;/span&gt;
      &lt;span class="nt"&gt;periodSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt;
      &lt;span class="nt"&gt;successThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
      &lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
    &lt;span class="nt"&gt;readinessProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;failureThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;3&lt;/span&gt;
      &lt;span class="nt"&gt;httpGet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/health&lt;/span&gt;
        &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
        &lt;span class="nt"&gt;scheme&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;HTTP&lt;/span&gt;
      &lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt;
      &lt;span class="nt"&gt;periodSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt;
      &lt;span class="nt"&gt;successThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
      &lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="spring-boot-rest-controller"&gt;Spring Boot REST Controller&lt;a class="headerlink" href="#spring-boot-rest-controller" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦æ¥æ”¶å’Œå¤„ç†RESTè¯·æ±‚ï¼Œéœ€è¦åŒ…å«ä¸€ä¸ªç”¨&lt;a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html"&gt;RestController&lt;/a&gt;æ³¨é‡Šçš„&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Airports/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/airports/service/Controller.java"&gt;Javaç±»&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.springframework.web.bind.annotation.RestController&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

&lt;span class="nd"&gt;@RestController&lt;/span&gt;
&lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Controller&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Airports/src/main/resources/application.yml#L10-L11"&gt;application properties(åº”ç”¨ç¨‹åºå±æ€§)&lt;/a&gt;ä¸­ä¸ºè¯¥æœåŠ¡æŒ‡å®šç›‘å¬ç«¯å£:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;server&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ¯ä¸ªRESTæ“ä½œéƒ½ç”±Javaæ–¹æ³•å®ç°ã€‚ä¸šåŠ¡æ“ä½œé€šå¸¸éœ€è¦æŒ‡å®š&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Airports/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/airports/service/Controller.java#L30-L32"&gt;è¯·æ±‚å‚æ•°&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@RequestMapping&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/airports&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RequestMethod&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;GET&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Collection&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Airport&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;
  &lt;span class="nd"&gt;@RequestParam&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;filter&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;required&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt; &lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
 &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_2"&gt;å¯åŠ¨åˆå§‹åŒ–&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Airports&lt;/em&gt; æœåŠ¡åœ¨å¯åŠ¨æ—¶ä½¿ç”¨ eager initialization(å³æ—¶åˆå§‹åŒ–)å°†æœºåœºæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ã€‚è¿™æ˜¯é€šè¿‡ç›‘å¬ç‰¹å®šç±»å‹äº‹ä»¶çš„&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Airports/src/main/java/com/redhat/refarch/obsidian/brownfield/lambdaair/airports/service/ApplicationInitialization.java"&gt;ApplicationListener&lt;/a&gt;å®ç°çš„:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.springframework.context.ApplicationListener&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.springframework.context.event.ContextRefreshedEvent&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.springframework.stereotype.Component&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

&lt;span class="nd"&gt;@Component&lt;/span&gt;
&lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ApplicationInitialization&lt;/span&gt; &lt;span class="kd"&gt;implements&lt;/span&gt; 
&lt;span class="n"&gt;ApplicationListener&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;ContextRefreshedEvent&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
 &lt;span class="nd"&gt;@Override&lt;/span&gt;
 &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;onApplicationEvent&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ContextRefreshedEvent&lt;/span&gt; 
&lt;span class="n"&gt;contextRefreshedEvent&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_3"&gt;å°ç»“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ç¯‡æœ‰2ä¸ªçŸ¥è¯†ç‚¹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“å£°æ˜äº†å¯¹&lt;em&gt;Actuator&lt;/em&gt;çš„ä¾èµ–æ—¶ï¼Œfabric8ä¼šç”Ÿæˆé»˜è®¤çš„OpenShift health probes. è¿™ä¹Ÿç®—fabric8çš„ä¸€ä¸ªä¼˜åŠ¿, å°‘äº†äººå·¥åŠ probeçš„æ­¥éª¤;&lt;/li&gt;
&lt;li&gt;èƒ½å¤–éƒ¨åŒ–çš„é…ç½®éƒ½å¯ä»¥å¤–éƒ¨åŒ–åˆ°: application propertiesé‡Œ. å®ƒå¯ä»¥æ˜¯&lt;code&gt;application.yml&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 21 Nov 2019 14:40:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-21:/spring-boot-on-k8s-8.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category><category>java</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 6</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-6.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬å…­ç¯‡, ä¸»è¦ä»‹ç» å¦‚ä½•è¿›è¡ŒA/Bæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;A/Bæµ‹è¯•ç›´æ¥æ˜¯ä½¿ç”¨zuulçš„åŠ¨æ€ç½‘å…³çš„åŠŸèƒ½ã€‚è¿™æ¬¡å…³äºK8Sçš„æ¼”ç¤ºåªæ˜¯å¦‚ä½•é€šè¿‡VolumeæŒ‚è½½çš„æ–¹å¼å°†åŠ¨æ€è„šæœ¬æŒ‚è½½è¿›å»ã€‚&lt;/p&gt;
&lt;h2 id="ab"&gt;A/B æµ‹è¯•&lt;a class="headerlink" href="#ab" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å°†Zuulé¡¹ç›®ä¸­æä¾›çš„groovyè„šæœ¬å¤åˆ¶åˆ°æ­¤æœåŠ¡çš„å…±äº«å­˜å‚¨ä¸­ï¼š(&lt;code&gt;/mnt/zuul/volume/&lt;/code&gt;æ˜¯NFSå…±äº«å­˜å‚¨)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ cp Zuul/misc/ABTestingFilterBean.groovy /mnt/zuul/volume/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸ºZuulæœåŠ¡ç”³è¯·ä¸€ä¸ªPVCã€‚æ”¾ç½®åœ¨æ­¤ä½ç½®çš„å¤–éƒ¨groovyè„šæœ¬å°±å¯ä»¥æä¾›åŠ¨æ€è·¯ç”±ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f Zuul/misc/zuul-pvc.json
persistentvolumeclaim &lt;span class="s2"&gt;&amp;quot;groovy-claim&amp;quot;&lt;/span&gt; created
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;PersistentVolumeClaim&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;metadata&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;groovy-claim&amp;quot;&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;},&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;accessModes&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;ReadWriteOnce&amp;quot;&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;],&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;resources&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;requests&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;storage&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1Gi&amp;quot;&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
&lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;éªŒè¯è¿™ä¸ªclaimæ˜¯å¦ç»‘å®šåˆ°æŒä¹…å·:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pvc
NAME           STATUS    VOLUME              CAPACITY   ACCESSMODES   AGE
groovy-claim   Bound     groovy              1Gi        RWO           7s
zipkin-mysql   Bound     zipkin-mysql-data   1Gi        RWO           2h
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°†æŒä¹…å·å£°æ˜(PVC)ä½œä¸ºæ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•ä¸Šçš„ä¸€ä¸ªåä¸ºgroovyçš„ç›®å½•é™„åŠ åˆ°deployment config:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc volume dc/zuul --add --name&lt;span class="o"&gt;=&lt;/span&gt;groovy --type&lt;span class="o"&gt;=&lt;/span&gt;persistentVolumeClaim --
claim-name&lt;span class="o"&gt;=&lt;/span&gt;groovy-claim --mount-path&lt;span class="o"&gt;=&lt;/span&gt;/groovy
deploymentconfig &lt;span class="s2"&gt;&amp;quot;zuul&amp;quot;&lt;/span&gt; updated
&lt;span class="o"&gt;[&lt;/span&gt;bmozaffa@middleware-master LambdaAir&lt;span class="o"&gt;]&lt;/span&gt;$ oc get pods
NAME                       READY     STATUS              RESTARTS   AGE
airports-1-72kng           &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          1h
flights-1-4xkfv            &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          1h
presentation-2-pxx85       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          32m
sales-1-fqxjd              &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          1h
salesv2-1-s1wq0            &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          1h
zipkin-1-k0dv6             &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          2h
zipkin-mysql-1-g44s7       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          2h
zuul-1-2jkj0               &lt;span class="m"&gt;1&lt;/span&gt;/1       Running             &lt;span class="m"&gt;0&lt;/span&gt;          1h
zuul-2-deploy              &lt;span class="m"&gt;0&lt;/span&gt;/1       ContainerCreating   &lt;span class="m"&gt;0&lt;/span&gt;          4s
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åŒæ ·ï¼Œä¸€æ—¦æ–°ç‰ˆæœ¬å¯åŠ¨å¹¶è¿è¡Œï¼Œä¼šè¿›è¡Œæ–°çš„éƒ¨ç½²å¹¶ç»ˆæ­¢åŸæ¥çš„zuul podã€‚&lt;/p&gt;
&lt;p&gt;ç­‰å¾…ï¼Œç›´åˆ°ç¬¬äºŒä¸ªç‰ˆæœ¬çš„podåˆ°è¾¾è¿è¡ŒçŠ¶æ€:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pods &lt;span class="p"&gt;|&lt;/span&gt; grep zuul
zuul-2-gz7hl               &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          7m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿”å›æµè§ˆå™¨å¹¶æ‰§è¡Œä¸€æ¬¡æˆ–å¤šæ¬¡èˆªç­æœç´¢ã€‚ç„¶åè¿”å›OpenShiftç¯å¢ƒï¼ŒæŸ¥çœ‹zuul podçš„æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä»æµè§ˆå™¨æ¥æ”¶åˆ°çš„IPåœ°å€ä»¥å¥‡æ•°ç»“å°¾ï¼Œgroovyè„šæœ¬å°†è¿‡æ»¤pricingè°ƒç”¨å¹¶å°†å…¶å‘é€åˆ°salesæœåŠ¡çš„ç‰ˆæœ¬2ã€‚(æ ¹æ®IPå¥‡å¶è¿›è¡ŒA/Bæµ‹è¯•)è¿™ä¸€ç‚¹åœ¨zuulæ—¥å¿—ä¸­ä¼šå¾ˆæ¸…æ¥š:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc logs zuul-2-gz7hl
...
... groovy.ABTestingFilterBean               : Caller IP address is &lt;span class="m"&gt;10&lt;/span&gt;.3.116.79
Running filter
... groovy.ABTestingFilterBean               : Caller IP address is &lt;span class="m"&gt;10&lt;/span&gt;.3.116.79
Running filter
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­ï¼Œæ¥è‡ªsalesv2çš„æ—¥å¿—å°†æ˜¾ç¤ºä½¿ç”¨ä¿®æ”¹åçš„ç®—æ³•å®šä»·çš„æœºç¥¨:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc logs salesv2-1-s1wq0
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;463&lt;/span&gt; with lower hop discount
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;425&lt;/span&gt; with lower hop discount
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;407&lt;/span&gt; with lower hop discount
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;549&lt;/span&gt; with lower hop discount
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;509&lt;/span&gt; with lower hop discount
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;598&lt;/span&gt; with lower hop discount
... c.r.r.o.b.l.sales.service.Controller     : Priced ticket at &lt;span class="m"&gt;610&lt;/span&gt; with lower hop discount
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å…·ä½“A/B æµ‹è¯•å°±æ˜¯é€šè¿‡è¿™ä¸ªæ¡ä»¶è¿›è¡Œè¿‡æ»¤çš„: &lt;code&gt;$ vi /mnt/zuul/volume/ABTestingFilterBean.groovy&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;...
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt; &lt;span class="nv"&gt;lastDigit&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ss"&gt;)&lt;/span&gt;
{
     &lt;span class="nv"&gt;false&lt;/span&gt;
}
&lt;span class="k"&gt;else&lt;/span&gt;
{
     &lt;span class="nv"&gt;true&lt;/span&gt;
}
...
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_2"&gt;å°ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é€šè¿‡K8Sçš„&lt;em&gt;PVå’ŒPVC&lt;/em&gt;çš„æ¦‚å¿µ, æˆ‘ä»¬å¯ä»¥å°†æ•°æ®æŒä¹…åŒ–. ç„¶åè¦ä¿®æ”¹æ•°æ®çš„è¯ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥æ”¾å…¥æŒä¹…åŒ–å·æ¥ç”Ÿæ•ˆ. å†ç»“åˆZuulçš„åŠ¨æ€è·¯ç”±åŠŸèƒ½, å°±èƒ½å¤Ÿå®ç°çµæ´»çš„è·¯ç”±æ–¹å¼.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 20 Nov 2019 10:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-20:/spring-boot-on-k8s-6.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category><category>java</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 7</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-7.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬ä¸ƒç¯‡, ä¸»è¦ä»‹ç» springå¾®æœåŠ¡çš„ç›¸å…³è®¾è®¡å’Œå¼€å‘æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¬¬å…­ç¯‡, Spring Boot å¾®æœåŠ¡éƒ¨ç½²åˆ°å®¹å™¨å¹³å°å·²ç»å®Œå·¥. æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¼šå¯¹Spring å¾®æœåŠ¡çš„ç›¸å…³è®¾è®¡å’Œå¼€å‘, ä»¥åŠK8S(æˆ–OpenShift)ä¸Spring Bootä¹‹é—´çš„åä½œè¿›è¡Œæ›´æ·±ä¸€å±‚çš„è®¾è®¡å’Œå¼€å‘.&lt;/p&gt;
&lt;p&gt;ä»Šå¤©å…ˆå¼€ä¸ªå¤´, å…ˆä»‹ç»ä¸‹K8Sçš„&lt;code&gt;Resource Limits&lt;/code&gt;æ¦‚å¿µ, é€šè¿‡è¿™ä¸ªæ¦‚å¿µå¯ä»¥å¯¹æ¯ä¸ªå¾®æœåŠ¡çš„èµ„æºç”¨é‡è¿›è¡Œæ§åˆ¶. é˜²æ­¢å•ä¸ªæœ‰é—®é¢˜å¾®æœåŠ¡åƒå…‰å…¨éƒ¨èµ„æºå¯¼è‡´é›ªå´©æ•ˆåº”.&lt;/p&gt;
&lt;h2 id="resource-limits"&gt;RESOURCE LIMITS&lt;a class="headerlink" href="#resource-limits" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;OpenShift&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/dev-guide-compute-resources"&gt;å…è®¸&lt;/a&gt;ç®¡ç†å‘˜è®¾ç½®çº¦æŸæ¥é™åˆ¶æ¯ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨çš„å¯¹è±¡çš„æ•°é‡æˆ–è®¡ç®—èµ„æºçš„æ•°é‡ã€‚è™½ç„¶è¿™äº›çº¦æŸæ€»ä½“ä¸Šé€‚ç”¨äºé¡¹ç›®(å³namespace)ï¼Œä½†&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/dev-guide-compute-resources#dev-compute-resources"&gt;æ¯ä¸ªpod&lt;/a&gt;ä¹Ÿå¯ä»¥è¯·æ±‚æœ€å°çš„èµ„æºå’Œ/æˆ–å—åˆ°å†…å­˜å’ŒCPUä½¿ç”¨é™åˆ¶çš„çº¦æŸã€‚&lt;/p&gt;
&lt;p&gt;é¡¹ç›®å­˜å‚¨åº“ä¸­æä¾›çš„OpenShift templateä½¿ç”¨æ­¤åŠŸèƒ½è¯·æ±‚è‡³å°‘20%çš„CPUå†…æ ¸å’Œ200MBå†…å­˜å¯ç”¨äºå…¶å®¹å™¨ã€‚å¦‚æœéœ€è¦å¹¶ä¸”å¯ç”¨ï¼Œå¯ä»¥å‘å®¹å™¨æä¾›ä¸¤å€çš„å¤„ç†èƒ½åŠ›å’Œå››å€çš„å†…å­˜ï¼Œä½†å†è¶…è¿‡å°±ä¸ä¼šåˆ†é…äº†ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;limits&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;400m&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;800Mi&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;requests&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;200m&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;200Mi&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æ ¹æ®æˆ‘ä¹‹å‰çš„æ–‡ç« : &lt;a href="https://www.ewhisper.cn/container-best-practices.html#java"&gt;ã€Šå®¹å™¨æœ€ä½³å®è·µã€‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;JAVAç¨‹åºéƒ½æœ‰ä¸€ä¸ªå¯åŠ¨é˜¶æ®µï¼Œå¯åŠ¨é˜¶æ®µä¹Ÿä¼šå¤§é‡æ¶ˆè€—CPU, CPUä½¿ç”¨è¶Šå¤š, å¯åŠ¨é˜¶æ®µè¶ŠçŸ­.&lt;br&gt;
ä¸‹é¢æ˜¯ä¸€ä¸ªè¡¨ï¼Œæ€»ç»“äº†ä¸åŒCPUé™åˆ¶ä¸‹çš„spring boot ç¤ºä¾‹åº”ç”¨å¯åŠ¨æ—¶é—´(mè¡¨ç¤ºmillicore):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;500m â€” 80 seconds&lt;/li&gt;
&lt;li&gt;1000m â€” 35 seconds&lt;/li&gt;
&lt;li&gt;1500m â€” 22 seconds&lt;/li&gt;
&lt;li&gt;2500m â€” 17 seconds&lt;/li&gt;
&lt;li&gt;3000m â€” 12 seconds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸Šæƒ…å†µ, å®¹å™¨å¹³å°ç®¡ç†å‘˜è€ƒè™‘å¯¹JAVAå®¹å™¨åšå¦‚ä¸‹é™åˆ¶:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨CPU requests, ä¸è®¾ç½®cpu limit (KubernetesåŠŸèƒ½) (æˆ–è€…é™åˆ¶åˆ°3000m)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;yaml
resources:
  requests:
    memory: "1024Mi"
    cpu: "500m"
  limits:
    memory: "1024Mi"&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ä½¿ç”¨fabric8 Mavenæ’ä»¶åˆ›å»ºé•œåƒå¹¶ç›´æ¥ç¼–è¾‘&lt;em&gt;deployment config&lt;/em&gt;ä¸æ–¹ä¾¿æ—¶ï¼Œå¯ä»¥ä½¿ç”¨&lt;a href="https://maven.fabric8.io/#configuration"&gt;èµ„æºç‰‡æ®µ(&lt;em&gt;resource fragments&lt;/em&gt;)&lt;/a&gt;æ¥æä¾›æ‰€éœ€çš„ç‰‡æ®µã€‚æ­¤åº”ç”¨ç¨‹åºæä¾›&lt;a href="https://raw.githubusercontent.com/RHsyseng/spring-boot-msa-ocp/master/Airports/src/main/fabric8/deployment.yml"&gt;deployment.yml&lt;/a&gt;æ–‡ä»¶æ¥åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå¹¶åœ¨Springå¯åŠ¨é¡¹ç›®ä¸Šè®¾ç½®èµ„æºè¯·æ±‚å’Œé™åˆ¶.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
   &lt;span class="nt"&gt;replicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
   &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
       &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
         &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
             &lt;span class="nt"&gt;requests&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
               &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;200m&amp;#39;&lt;/span&gt;
               &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;400Mi&amp;#39;&lt;/span&gt;
             &lt;span class="nt"&gt;limits&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
               &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;400m&amp;#39;&lt;/span&gt;
               &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;800Mi&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¯¹å„ä¸ªæœåŠ¡çš„å†…å­˜å’ŒCPUä½¿ç”¨çš„æ§åˆ¶é€šå¸¸æ˜¯å…³é”®çš„ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œè¿™äº›å€¼çš„æ­£ç¡®é…ç½®ä¸éƒ¨ç½²å’Œç®¡ç†è¿‡ç¨‹æ˜¯æ— ç¼è¡”æ¥çš„ã€‚åœ¨é¡¹ç›®ä¸­è®¾ç½®&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/dev-guide-compute-resources#dev-quotas"&gt;èµ„æºé…é¢&lt;/a&gt;ä»¥&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/dev-guide-compute-resources#dev-requests-vs-limits"&gt;å¼ºåˆ¶&lt;/a&gt;å°†å®ƒä»¬åŒ…å«åœ¨podéƒ¨ç½²é…ç½®ä¸­æ˜¯æœ‰å¸®åŠ©çš„ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;å°ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é€šè¿‡K8Sçš„&lt;em&gt;Resource Limits&lt;/em&gt;çš„æ¦‚å¿µ, å¯ä»¥å¯¹å®¹å™¨(ä»¥åŠå…¶ä¸­çš„å¾®æœåŠ¡)è¿›è¡Œå†…å­˜å’ŒCPUçš„resource requestå’Œlimitçš„é…ç½®. å…è®¸æ ¹æ®éœ€æ±‚åˆ†é…å®¹å™¨åˆ°æ»¡è¶³æ¡ä»¶çš„æœºå™¨, åŒæ—¶é™åˆ¶å®¹å™¨çš„æœ€å¤§èµ„æºä½¿ç”¨.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 20 Nov 2019 10:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-20:/spring-boot-on-k8s-7.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category><category>java</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 5</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-5.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬å››ç¯‡, ä¸»è¦ä»‹ç»ä¸‹ å¦‚ä½•å°†é…ç½®å¤–éƒ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡æ²¡æœ‰ç”¨åˆ°&lt;em&gt;Spring&lt;/em&gt;çš„&lt;em&gt;Config Server&lt;/em&gt;, è€Œæ˜¯ä½¿ç”¨&lt;em&gt;OpenShift&lt;/em&gt;çš„&lt;em&gt;ConfigMap&lt;/em&gt;ä½œä¸ºå‚æ•°å¤–éƒ¨åŒ–çš„æ–¹æ¡ˆ.&lt;/p&gt;
&lt;h2 id="_2"&gt;å‚æ•°å¤–éƒ¨åŒ–&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Presentation&lt;/em&gt; æœåŠ¡åœ¨å…¶åº”ç”¨ç¨‹åºå±æ€§ä¸­å°†&lt;em&gt;Hystrix&lt;/em&gt;é…ç½®ä¸º&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp/blob/master/Presentation/src/main/resources/application.yml#L22"&gt;çº¿ç¨‹æ± &lt;/a&gt;å¤§å°ä¸º20ã€‚åœ¨èˆªç­æœç´¢æ“ä½œä¹‹åï¼Œé€šè¿‡æœç´¢&lt;em&gt;presentation&lt;/em&gt; podçš„æ—¥å¿—æ¥ç¡®è®¤è¿™ä¸€ç‚¹ï¼Œå¹¶éªŒè¯batch sizeæ˜¯ç›¸åŒçš„ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc logs presentation-1-k2xlz &lt;span class="p"&gt;|&lt;/span&gt; grep batch
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;20&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;13&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;20&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;13&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;20&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;13&lt;/span&gt; 
tickets
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;â–³ å½“å‰batch sizeæœ€å¤§ä¸º&lt;strong&gt;20&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªæ–°&lt;code&gt;application.yml&lt;/code&gt;æ–‡ä»¶. &lt;code&gt;vi application.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;hystrix&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;threadpool&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;SalesThreads&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;coreSize&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;30&lt;/span&gt;
      &lt;span class="nt"&gt;maxQueueSize&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;300&lt;/span&gt;
      &lt;span class="nt"&gt;queueSizeRejectionThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;300&lt;/span&gt;    
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é€šè¿‡&lt;code&gt;oc&lt;/code&gt; åˆ›å»º&lt;code&gt;configmap&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create configmap presentation --from-file&lt;span class="o"&gt;=&lt;/span&gt;application.yml
configmap &lt;span class="s2"&gt;&amp;quot;presentation&amp;quot;&lt;/span&gt; created
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç¼–è¾‘&lt;em&gt;presentation&lt;/em&gt;çš„&lt;code&gt;deployment config&lt;/code&gt;å¹¶å°†è¿™ä¸ªConfigMapæŒ‚è½½ä¸ºå·ï¼Œ è·¯å¾„ä¸ºï¼š &lt;code&gt;/deployment/config&lt;/code&gt;ï¼Œå®ƒå°†è‡ªåŠ¨æˆä¸ºSpringå¯åŠ¨åº”ç”¨ç¨‹åºclasspathçš„ä¸€éƒ¨åˆ†.  &lt;code&gt;$ oc edit dc presentation&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ å…·æœ‰ä»»æ„åç§°çš„æ–°å·ï¼Œä¾‹å¦‚&lt;code&gt;config-volume&lt;/code&gt;, æ¥å¼•ç”¨å‰é¢åˆ›å»ºçš„configmapã€‚&lt;code&gt;volume&lt;/code&gt;å®šä¹‰æ˜¯&lt;code&gt;template spec&lt;/code&gt;çš„ä¸€ä¸ªå­è§„èŒƒã€‚æ¥ä¸‹æ¥ï¼Œåœ¨å®¹å™¨ä¸‹é¢åˆ›å»ºä¸€ä¸ªvolume mountæ¥å¼•ç”¨è¿™ä¸ªå·ï¼Œå¹¶æŒ‡å®šåº”è¯¥æŒ‚è½½å®ƒçš„ä½ç½®ã€‚æœ€åçš„ç»“æœå¦‚ä¸‹æ‰€ç¤º. (&lt;code&gt;volumeMounts&lt;/code&gt;Â -&amp;gt; &lt;code&gt;dnsPolicy&lt;/code&gt;ä¹‹å‰)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nn"&gt;...&lt;/span&gt;
        &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
        &lt;span class="nt"&gt;securityContext&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;privileged&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;false&lt;/span&gt;
        &lt;span class="nt"&gt;terminationMessagePath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/dev/termination-log&lt;/span&gt;
        &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;config-volume&lt;/span&gt;
          &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/deployments/config&lt;/span&gt;
     &lt;span class=" -Error"&gt; &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;config-volume&lt;/span&gt;
          &lt;span class="nt"&gt;configMap&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;presentation&lt;/span&gt;
      &lt;span class="nt"&gt;dnsPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ClusterFirst&lt;/span&gt;
      &lt;span class="nt"&gt;restartPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Always&lt;/span&gt;
&lt;span class="nn"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸€æ—¦ä¿®æ”¹å¹¶ä¿å­˜äº†deployment configï¼ŒOpenShiftå°†éƒ¨ç½²åŒ…å«è¦†ç›–å±æ€§çš„æœåŠ¡çš„æ–°ç‰ˆæœ¬ã€‚è¿™ä¸ªæ›´æ”¹æ˜¯æŒä¹…çš„ï¼Œå°†æ¥ä½¿ç”¨è¿™ä¸ªæ–°ç‰ˆæœ¬çš„éƒ¨ç½²é…ç½®åˆ›å»ºçš„podä¹Ÿå°†æŒ‚è½½è¿™ä¸ªyamlæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åˆ—å‡ºpodï¼Œå¹¶æ³¨æ„ä¸€ä¸ªæ–°çš„podæ­£åœ¨åˆ›å»ºæ¥åæ˜ éƒ¨ç½²é…ç½®(å³æŒ‚è½½çš„æ–‡ä»¶)ä¸­çš„æ›´æ”¹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pods
NAME                       READY     STATUS      RESTARTS   AGE
airports-1-72kng           &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          18m
flights-1-4xkfv            &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          15m
presentation-1-k2xlz       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          10m
presentation-2-deploy      &lt;span class="m"&gt;0&lt;/span&gt;/1       ContainerCreating   &lt;span class="m"&gt;0&lt;/span&gt;          3s
sales-1-fqxjd              &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          7m
salesv2-1-s1wq0            &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          5m
zipkin-1-k0dv6             &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          1h
zipkin-mysql-1-g44s7       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          1h
zuul-1-2jkj0               &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          1m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç­‰å¾…ï¼Œç›´åˆ°podçš„ç¬¬äºŒä¸ªç‰ˆæœ¬å·²ç»å¯åŠ¨, å¤„äºrunningçŠ¶æ€ã€‚ç¬¬ä¸€ä¸ªç‰ˆæœ¬å°†è¢«ç»ˆæ­¢ï¼Œéšåè¢«åˆ é™¤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pods
NAME                       READY     STATUS      RESTARTS   AGE
...
presentation-2-pxx85       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          5m
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸€æ—¦å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œä½¿ç”¨æµè§ˆå™¨è¿›è¡Œä¸€æ¬¡æˆ–å¤šæ¬¡èˆªç­æœç´¢ã€‚ç„¶åé€šè¿‡æœç´¢æ–°çš„è¡¨ç¤ºpodçš„æ—¥å¿—æ¥éªŒè¯æ›´æ–°åçš„çº¿ç¨‹æ± å¤§å°ï¼Œå¹¶éªŒè¯batch size: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc logs presentation-2-pxx85 &lt;span class="p"&gt;|&lt;/span&gt; grep batch
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;30&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;3&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;30&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;3&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;30&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;3&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;30&lt;/span&gt; 
tickets
... c.r.r.o.b.l.p.s.API_GatewayController    : Will price a batch of &lt;span class="m"&gt;3&lt;/span&gt; 
tickets
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;â–³ æ³¨æ„ï¼Œä½¿ç”¨æŒ‚è½½çš„è¦†ç›–å±æ€§æ—¶ï¼Œå®šä»·å°†ä»¥30ä¸ªå¹¶å‘æ‰¹æ¬¡è¿›è¡Œï¼Œè€Œä¸æ˜¯ç°åœ¨çš„20ä¸ªã€‚&lt;/p&gt;
&lt;h2 id="_3"&gt;å°ç»“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é€šè¿‡K8Sçš„&lt;em&gt;configmap&lt;/em&gt;çš„æ¦‚å¿µ, æˆ‘ä»¬å¯ä»¥å°†é…ç½®å‚æ•°å¤–éƒ¨åŒ–. ç„¶åå¤–éƒ¨åŒ–çš„å‚æ•°å¯ä»¥é€šè¿‡2ç§æ–¹å¼æŒ‚è½½åˆ°è¿è¡Œæ—¶ä¸­:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡ ENV&lt;/li&gt;
&lt;li&gt;Volume æŒ‚è½½åˆ°æŒ‡å®šè·¯å¾„.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿˜æ˜¯æ¯”è¾ƒçµæ´»çš„.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 19 Nov 2019 16:40:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-19:/spring-boot-on-k8s-5.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 4</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-4.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬å››ç¯‡, ä¸»è¦ä»‹ç»ä¸‹ å‡ ä¸ªå¾®æœåŠ¡çš„éƒ¨ç½². ä»‹ç»2ç§æ–¹æ³•, ä¸€ç§æ˜¯åˆ†æ­¥çš„, æ„å»ºjarã€æ‰“é•œåƒã€ä¼ åˆ°é•œåƒåº“ã€K8Séƒ¨ç½²ï¼›å¦ä¸€ç§ç›´æ¥é€šè¿‡Maven + Farbic8 ä¸€æ°”å‘µæˆã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;å¾®æœåŠ¡éƒ¨ç½²&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¾®æœåŠ¡éƒ¨ç½²è¿™é‡Œä»‹ç»2ç§æ–¹å¼:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Maven, Docker build, K8S éƒ¨ç½²&lt;/li&gt;
&lt;li&gt;Maven Farbic8 ç›´æ¥éƒ¨ç½²åˆ°K8S&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœå·²æœ‰çš„mavenç¼–è¯‘ç­‰æ–¹å¼ä¸å¸Œæœ›æ”¹åŠ¨, ä¸”å¸Œæœ›buildå’Œdeployåˆ†ç¦», åˆ™æ¨èç”¨ç¬¬ä¸€ç§æ–¹å¼;&lt;/p&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›æ›´å¿«é€Ÿé«˜æ•ˆ, å…¨æ–°çš„ä»£ç ç›´æ¥ä¸ŠK8S, åˆ™æ¨èç¬¬äºŒç§æ–¹å¼.&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§ &lt;strong&gt;Maven Farbic8 ç›´æ¥éƒ¨ç½²åˆ°K8S&lt;/strong&gt; éƒ¨ç½²æ–¹å¼çš„ä¸€äº›ä¼˜ç‚¹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‚æ•°, å˜é‡, é…ç½®å¯ä»¥å…¨å±€åº”ç”¨. å¦‚: æœåŠ¡å....&lt;/li&gt;
&lt;li&gt;ä¼šæ£€æµ‹&lt;code&gt;actuator&lt;/code&gt;, å¹¶è‡ªåŠ¨æ·»åŠ K8S Livenesså’ŒReadiness Probe&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ·»åŠ iconåˆ°å®¹å™¨å¹³å°, å±•ç¤ºæ›´å‹å¥½;&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ ¹æ®ç¼–è¯‘å¥½çš„ç‰ˆæœ¬å·ç­‰è‡ªåŠ¨æ‰“é•œåƒtag&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç™»å½•K8Sæˆ–OpenShiftå¹³å°;&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨éƒ¨ç½²&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="maven-docker-build-k8s"&gt;Maven, Docker build, K8S éƒ¨ç½²&lt;a class="headerlink" href="#maven-docker-build-k8s" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç»†èŠ‚å°±ä¸ä»‹ç»äº†, è¯´ä¸€ä¸‹ç®€è¦æ­¥éª¤.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Maven æ„å»ºä¸ºjaråŒ…&lt;/li&gt;
&lt;li&gt;å†™ä¸ªDockerfile, jaråŒ…é€šè¿‡docker buildæ–¹å¼æ„å»ºä¸ºdockeré•œåƒ;&lt;/li&gt;
&lt;li&gt;å°†æ„å»ºå¥½çš„é•œåƒæ‰“å¥½tag, å¦‚&lt;code&gt;snapshot-191114-111831-0702&lt;/code&gt;, pushåˆ°é•œåƒä»“åº“.&lt;/li&gt;
&lt;li&gt;K8S åˆ›å»ºDeploymentå’ŒServiceå’ŒIngress(æˆ–Route), å¹¶å¼•ç”¨é•œåƒä»“åº“ä¸­æ–°çš„é•œåƒtag, å¹¶å¯åŠ¨.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="maven-farbic8-k8s"&gt;MavenÂ Farbic8 ç›´æ¥éƒ¨ç½²åˆ°K8S&lt;a class="headerlink" href="#maven-farbic8-k8s" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦éƒ¨ç½²Springå¯åŠ¨æœåŠ¡ï¼Œä½¿ç”¨&lt;em&gt;Maven&lt;/em&gt;æ„å»ºé¡¹ç›®ï¼Œä½¿ç”¨&lt;em&gt;openshift&lt;/em&gt;é…ç½®æ–‡ä»¶çš„&lt;em&gt;fabric8:deploy&lt;/em&gt; targetå°†æ„å»ºçš„é•œåƒéƒ¨ç½²åˆ°openshiftã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æä¾›äº†ä¸€ä¸ªèšåˆå™¨pomæ–‡ä»¶ï¼Œå®ƒå°†åŒä¸€ä¸ªMavenæ„å»ºå§”æ‰˜ç»™æ‰€æœ‰6ä¸ªé…ç½®çš„æ¨¡å—.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ mvn clean fabric8:deploy -Popenshift
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Scanning &lt;span class="k"&gt;for&lt;/span&gt; projects...
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; ---------------------------------------------------------------
---------
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Building Lambda Air &lt;span class="m"&gt;1&lt;/span&gt;.0-SNAPSHOT
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; ---------------------------------------------------------------
---------
...
...
...
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; --- fabric8-maven-plugin:3.5.30:deploy &lt;span class="o"&gt;(&lt;/span&gt;default-cli&lt;span class="o"&gt;)&lt;/span&gt; @ aggregation 
---
&lt;span class="o"&gt;[&lt;/span&gt;WARNING&lt;span class="o"&gt;]&lt;/span&gt; F8: No such generated manifest file 
/Users/bmozaffa/RedHatDrive/SysEng/Microservices/SpringBoot/SpringBootOCP/
LambdaAir/target/classes/META-INF/fabric8/openshift.yml &lt;span class="k"&gt;for&lt;/span&gt; this project 
so ignoring
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; ---------------------------------------------------------------
---------
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Reactor Summary:
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;01&lt;/span&gt;:33 
min&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;02&lt;/span&gt;:21 
min&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;01&lt;/span&gt;:25 
min&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;01&lt;/span&gt;:05 
min&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;02&lt;/span&gt;:20 
min&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;01&lt;/span&gt;:06 
min&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Lambda Air ......................................... SUCCESS &lt;span class="o"&gt;[&lt;/span&gt;  
&lt;span class="m"&gt;1&lt;/span&gt;.659 s&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; ---------------------------------------------------------------
---------
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; BUILD SUCCESS
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; ---------------------------------------------------------------
---------
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Total time: &lt;span class="m"&gt;09&lt;/span&gt;:55 min
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Finished at: &lt;span class="m"&gt;2017&lt;/span&gt;-12-08T16:03:12-08:00
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; Final Memory: 67M/661M
&lt;span class="o"&gt;[&lt;/span&gt;INFO&lt;span class="o"&gt;]&lt;/span&gt; ---------------------------------------------------------------
---------
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»¥ä¸Šæ˜¯RedHatå®˜æ–¹çš„åšæ³•: ç”¨&lt;em&gt;fabric8&lt;/em&gt; mavenæ’ä»¶, ç›´æ¥å°†æºä»£ç æ‰“æˆé•œåƒ, å¹¶æ¨é€åˆ°é•œåƒä»“åº“. å¦å¤–ä¼šç›´æ¥è®¿é—®OpenShiftå»åˆ›å»ºç›¸å…³çš„ &lt;em&gt;Deployment&lt;/em&gt;, &lt;em&gt;Service&lt;/em&gt;, &lt;em&gt;Route&lt;/em&gt;ç­‰. &lt;/p&gt;
&lt;h4&gt;Farbic8 è¯¦ç»†è§£é‡Š&lt;/h4&gt;
&lt;p&gt;maven Farbic8:deploy ä¸¾ä¸€ä¸ª airports çš„æ„å»ºä¾‹å­, å…·ä½“æ„å»ºæ—¥å¿—å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¿è¡Œäº K8S mode: &lt;code&gt;[INFO] F8: Running in Kubernetes mode&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;generator spring-boot. &lt;code&gt;[INFO] F8: Running generator spring-boot&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨Docker Image: &lt;code&gt;registry.access.redhat.com/redhat-openjdk-18/openjdk18-openshift&lt;/code&gt;ä½œä¸ºåŸºç¡€é•œåƒå’Œæ„å»ºé•œåƒ. &lt;code&gt;[INFO] F8: spring-boot: Using Docker image registry.access.redhat.com/redhat-openjdk-18/openjdk18-openshift as base / builder&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;Airports\src\main\fabric8&lt;/code&gt; resource templates, é‡Œè¾¹åŒ…æ‹¬&lt;code&gt;deployment.yml&lt;/code&gt;å’Œ&lt;code&gt;svc.yml&lt;/code&gt;. ç”¨äºåˆ›å»ºOpenShift Deploymentå’ŒService. &lt;code&gt;[INFO] F8: using resource templates from D:\Projects\spring-boot-msa-ocp\Airports\src\main\fabric8&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”±äºä½¿ç”¨äº†spring-bootçš„&lt;code&gt;spring-boot-starter-actuator&lt;/code&gt;, æ‰€ä»¥ä¼šè‡ªåŠ¨åŠ  Readiness Probe. &lt;code&gt;INFO] F8: spring-boot-health-check: Adding readiness probe on port 8080, path='/health', scheme='HTTP', with initial delay 10 seconds&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŒç†, ä¹ŸåŠ äº†Liveness Probe: &lt;code&gt;[INFO] F8: spring-boot-health-check: Adding liveness probe on port 8080, path='/health', scheme='HTTP', with initial delay 180 seconds&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿˜èƒ½è‡ªåŠ¨åŠ iconåˆ°Deploymentå’ŒService: &lt;code&gt;[INFO] F8: f8-icon: Adding icon for deployment [INFO] F8: f8-icon: Adding icon for service&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰¾æœ‰æ²¡æœ‰OpenShiftçš„ DeploymentConfig çš„yamlæ–‡ä»¶, æ²¡æ‰¾åˆ°.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰¾æœ‰æ²¡æœ‰K8Sçš„Deployment çš„yamlæ–‡ä»¶, æ²¡æ‰¾åˆ°.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥å¸¸è§„çš„ç¼–è¯‘, ç”Ÿæˆspring-boot jaråŒ…: &lt;code&gt;airports-1.0-SNAPSHOT.jar&lt;/code&gt; å’Œ &lt;code&gt;airports-1.0-SNAPSHOT-exec.jar&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŠŠ&lt;code&gt;airports-1.0-SNAPSHOT-exec.jar&lt;/code&gt;æ‹·è´åˆ°&lt;code&gt;target\docker\lambdaair\airports\snapshot-191114-101239-0722\build\maven&lt;/code&gt;ç›®å½•: &lt;code&gt;[INFO] Copying files to D:\Projects\spring-boot-msa-ocp\Airports\target\docker\lambdaair\airports\snapshot-191114-101239-0722\build\maven&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åç”¨&lt;code&gt;Dockerfile&lt;/code&gt; æ‰§è¡Œ&lt;code&gt;docker build&lt;/code&gt;, å…¶å®å¾ˆç®€å•çš„:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dockerfile
FROM registry.access.redhat.com/redhat-openjdk-18/openjdk18-openshift
ENV JAVA_APP_DIR=/deployments
EXPOSE 8080 8778 9779
COPY maven /deployments/&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åæ‰“ä¸Šæ ‡ç­¾: &lt;code&gt;latest&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥ä¸‹æ¥è¿æ¥K8Sæˆ–OpenShiftæ§åˆ¶å°. (æˆ‘ç”¨çš„æ˜¯OpenShift 4.2, farbic8å¥½åƒä¸å…¼å®¹, è®¤æˆäº†K8Säº†. K8Såˆ›å»ºçš„æ˜¯Deployment, OpenShiftåˆ›å»ºçš„æ˜¯DeploymentConfig).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨Project: &lt;code&gt;lambdaair&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºSVC: &lt;code&gt;[INFO] Updated Service: \target\fabric8\applyJson\lambdaair\service-airports.json&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºDeployment: &lt;code&gt;[INFO] Updated Deployment: \target\fabric8\applyJson\lambdaair\deployment-airports.json&lt;/code&gt;. è¿™æ—¶å€™å·²ç»å¯åŠ¨äº†Pod.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®Œæˆ.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;deploy&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;cli&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;install&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;resources&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;:&lt;span class="nv"&gt;resources&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;resources&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;UTF-8&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;encoding&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;copy&lt;/span&gt; &lt;span class="nv"&gt;filtered&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;.
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Copying&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;resource&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Running&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;Kubernetes&lt;/span&gt; &lt;span class="nv"&gt;mode&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Running&lt;/span&gt; &lt;span class="nv"&gt;generator&lt;/span&gt; &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;: &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;Docker&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;registry&lt;/span&gt;.&lt;span class="nv"&gt;access&lt;/span&gt;.&lt;span class="nv"&gt;redhat&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;redhat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openjdk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;openjdk18&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;base&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nv"&gt;builder&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;using&lt;/span&gt; &lt;span class="nv"&gt;resource&lt;/span&gt; &lt;span class="nv"&gt;templates&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;src&lt;/span&gt;\&lt;span class="nv"&gt;main&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;health&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;check&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;readiness&lt;/span&gt; &lt;span class="nv"&gt;probe&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;port&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;, &lt;span class="nv"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;/health&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;scheme&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;HTTP&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;initial&lt;/span&gt; &lt;span class="nv"&gt;delay&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="nv"&gt;seconds&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;health&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;check&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;liveness&lt;/span&gt; &lt;span class="nv"&gt;probe&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;port&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;, &lt;span class="nv"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;/health&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;scheme&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;HTTP&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;initial&lt;/span&gt; &lt;span class="nv"&gt;delay&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt; &lt;span class="nv"&gt;seconds&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;fmp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;revision&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;history&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;revision&lt;/span&gt; &lt;span class="nv"&gt;history&lt;/span&gt; &lt;span class="nv"&gt;limit&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;f8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;icon&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;icon&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;deployment&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;f8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;icon&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;icon&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;service&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;validating&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;openshift&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;deploymentconfig&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;resource&lt;/span&gt;
[&lt;span class="nv"&gt;ERROR&lt;/span&gt;] &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;load&lt;/span&gt; &lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;schema&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;socketConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;79&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;350&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connectToAddress&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;206&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;188&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;172&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;392&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;607&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;666&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;173&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;558&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;init&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;264&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;New&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;367&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getNewHttpClient&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;191&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1162&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1056&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;177&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1570&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;268&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;openStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1067&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;com&lt;/span&gt;.&lt;span class="nv"&gt;networknt&lt;/span&gt;.&lt;span class="nv"&gt;schema&lt;/span&gt;.&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;getSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;getJsonSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;109&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;validateIfRequired&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;286&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;executeInternal&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;270&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;74&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;executeMojo&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;137&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;210&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;executeForkedExecutions&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;355&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;117&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;81&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;builder&lt;/span&gt;.&lt;span class="nv"&gt;singlethreaded&lt;/span&gt;.&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;305&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;105&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;956&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;doMain&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;288&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;62&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;43&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;lang&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launchEnhanced&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;282&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launch&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;225&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;mainWithExitCode&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;406&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;347&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
[&lt;span class="nv"&gt;WARNING&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;: &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;validating&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;deployment&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;resource&lt;/span&gt;
[&lt;span class="nv"&gt;ERROR&lt;/span&gt;] &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;load&lt;/span&gt; &lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;schema&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;socketConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;79&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;350&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connectToAddress&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;206&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;188&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;172&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;392&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;607&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;666&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;173&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;558&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;init&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;264&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;New&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;367&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getNewHttpClient&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;191&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1162&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1056&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;177&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1570&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;268&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;openStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1067&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;com&lt;/span&gt;.&lt;span class="nv"&gt;networknt&lt;/span&gt;.&lt;span class="nv"&gt;schema&lt;/span&gt;.&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;getSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;getJsonSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;109&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;validateIfRequired&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;286&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;executeInternal&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;276&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;74&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;executeMojo&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;137&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;210&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;executeForkedExecutions&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;355&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;117&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;81&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;builder&lt;/span&gt;.&lt;span class="nv"&gt;singlethreaded&lt;/span&gt;.&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;305&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;105&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;956&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;doMain&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;288&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;62&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;43&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;lang&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launchEnhanced&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;282&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launch&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;225&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;mainWithExitCode&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;406&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;347&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
[&lt;span class="nv"&gt;WARNING&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;: &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;.&lt;span class="mi"&gt;1&lt;/span&gt;:&lt;span class="nv"&gt;compile&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;compile&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Changes&lt;/span&gt; &lt;span class="nv"&gt;detected&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="nv"&gt;recompiling&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;module&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Compiling&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="nv"&gt;source&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;resources&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;:&lt;span class="nv"&gt;testResources&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;testResources&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;UTF-8&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;encoding&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;copy&lt;/span&gt; &lt;span class="nv"&gt;filtered&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;.
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;skip&lt;/span&gt; &lt;span class="nv"&gt;non&lt;/span&gt; &lt;span class="nv"&gt;existing&lt;/span&gt; &lt;span class="nv"&gt;resourceDirectory&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;src&lt;/span&gt;\&lt;span class="nv"&gt;test&lt;/span&gt;\&lt;span class="nv"&gt;resources&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;.&lt;span class="mi"&gt;1&lt;/span&gt;:&lt;span class="nv"&gt;testCompile&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;testCompile&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;No&lt;/span&gt; &lt;span class="nv"&gt;sources&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;compile&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;surefire&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;.&lt;span class="mi"&gt;4&lt;/span&gt;:&lt;span class="nv"&gt;test&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;No&lt;/span&gt; &lt;span class="nv"&gt;tests&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;run&lt;/span&gt;.
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;4&lt;/span&gt;:&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;jar&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;jar&lt;/span&gt;: &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;8&lt;/span&gt;.&lt;span class="nv"&gt;RELEASE&lt;/span&gt;:&lt;span class="nv"&gt;repackage&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Attaching&lt;/span&gt; &lt;span class="nv"&gt;archive&lt;/span&gt;: &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;, &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;classifier&lt;/span&gt;: &lt;span class="k"&gt;exec&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;build&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;Docker&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;Kubernetes&lt;/span&gt; &lt;span class="nv"&gt;mode&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Running&lt;/span&gt; &lt;span class="nv"&gt;generator&lt;/span&gt; &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;: &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;Docker&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;registry&lt;/span&gt;.&lt;span class="nv"&gt;access&lt;/span&gt;.&lt;span class="nv"&gt;redhat&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;redhat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openjdk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;openjdk18&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;base&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nv"&gt;builder&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Copying&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;docker&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101239&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0722&lt;/span&gt;\&lt;span class="nv"&gt;build&lt;/span&gt;\&lt;span class="nv"&gt;maven&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;tar&lt;/span&gt;: &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;docker&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101239&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0722&lt;/span&gt;\&lt;span class="nv"&gt;tmp&lt;/span&gt;\&lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;tar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: [&lt;span class="nv"&gt;lambdaair&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;airports&lt;/span&gt;:&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101239&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0722&lt;/span&gt;] &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;spring-boot&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;: &lt;span class="nv"&gt;Created&lt;/span&gt; &lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;tar&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="mi"&gt;142&lt;/span&gt; &lt;span class="nv"&gt;milliseconds&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: [&lt;span class="nv"&gt;lambdaair&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;airports&lt;/span&gt;:&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101239&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0722&lt;/span&gt;] &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;spring-boot&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;: &lt;span class="nv"&gt;Built&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;sha256&lt;/span&gt;:&lt;span class="nv"&gt;f13a7&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: [&lt;span class="nv"&gt;lambdaair&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;airports&lt;/span&gt;:&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101239&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0722&lt;/span&gt;] &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;spring-boot&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;: &lt;span class="nv"&gt;Tag&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;latest&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;install&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;4&lt;/span&gt;:&lt;span class="nv"&gt;install&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;install&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;pom&lt;/span&gt;.&lt;span class="nv"&gt;xml&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;pom&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;airports&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;deploy&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;cli&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;install&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;deploy&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;cli&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;airports&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;Kubernetes&lt;/span&gt; &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;https&lt;/span&gt;:&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nv"&gt;api&lt;/span&gt;.&lt;span class="nv"&gt;cce&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;.&lt;span class="nv"&gt;ccic&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;.&lt;span class="nv"&gt;cn&lt;/span&gt;:&lt;span class="mi"&gt;6443&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;namespace&lt;/span&gt; &lt;span class="nv"&gt;lambdaair&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;manifest&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Airports&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt;: &lt;span class="nv"&gt;lambdaair&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Updating&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;Service&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Updated&lt;/span&gt; &lt;span class="nv"&gt;Service&lt;/span&gt;: \&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;applyJson&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;service&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;airports&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt;: &lt;span class="nv"&gt;lambdaair&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Updating&lt;/span&gt; &lt;span class="nv"&gt;Deployment&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Updated&lt;/span&gt; &lt;span class="nv"&gt;Deployment&lt;/span&gt;: \&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;applyJson&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;deployment&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;airports&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;HINT&lt;/span&gt;: &lt;span class="nv"&gt;Use&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;command&lt;/span&gt; `&lt;span class="nv"&gt;kubectl&lt;/span&gt; &lt;span class="nv"&gt;get&lt;/span&gt; &lt;span class="nv"&gt;pods&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;w&lt;/span&gt;` &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;watch&lt;/span&gt; &lt;span class="nv"&gt;your&lt;/span&gt; &lt;span class="nv"&gt;pods&lt;/span&gt; &lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="nv"&gt;up&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;----------&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;com&lt;/span&gt;.&lt;span class="nv"&gt;redhat&lt;/span&gt;.&lt;span class="nv"&gt;refarch&lt;/span&gt;.&lt;span class="nv"&gt;spring&lt;/span&gt;.&lt;span class="nv"&gt;boot&lt;/span&gt;.&lt;span class="nv"&gt;lambdaair&lt;/span&gt;:&lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;----------&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;Lambda&lt;/span&gt; &lt;span class="nv"&gt;Air&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;                                   [&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;--------------------------------&lt;/span&gt;[ &lt;span class="nv"&gt;jar&lt;/span&gt; ]&lt;span class="o"&gt;---------------------------------&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;:&lt;span class="nv"&gt;clean&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;clean&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Deleting&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;deploy&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;cli&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;install&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;resources&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;:&lt;span class="nv"&gt;resources&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;resources&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;UTF-8&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;encoding&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;copy&lt;/span&gt; &lt;span class="nv"&gt;filtered&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;.
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Copying&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;resource&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Running&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;Kubernetes&lt;/span&gt; &lt;span class="nv"&gt;mode&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Running&lt;/span&gt; &lt;span class="nv"&gt;generator&lt;/span&gt; &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;: &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;Docker&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;registry&lt;/span&gt;.&lt;span class="nv"&gt;access&lt;/span&gt;.&lt;span class="nv"&gt;redhat&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;redhat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openjdk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;openjdk18&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;base&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nv"&gt;builder&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;using&lt;/span&gt; &lt;span class="nv"&gt;resource&lt;/span&gt; &lt;span class="nv"&gt;templates&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;src&lt;/span&gt;\&lt;span class="nv"&gt;main&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;health&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;check&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;readiness&lt;/span&gt; &lt;span class="nv"&gt;probe&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;port&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;, &lt;span class="nv"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;/health&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;scheme&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;HTTP&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;initial&lt;/span&gt; &lt;span class="nv"&gt;delay&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="nv"&gt;seconds&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;health&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;check&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;liveness&lt;/span&gt; &lt;span class="nv"&gt;probe&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;port&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;, &lt;span class="nv"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;/health&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;scheme&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;HTTP&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;initial&lt;/span&gt; &lt;span class="nv"&gt;delay&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt; &lt;span class="nv"&gt;seconds&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;fmp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;revision&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;history&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;revision&lt;/span&gt; &lt;span class="nv"&gt;history&lt;/span&gt; &lt;span class="nv"&gt;limit&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;f8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;icon&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;icon&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;deployment&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;f8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;icon&lt;/span&gt;: &lt;span class="nv"&gt;Adding&lt;/span&gt; &lt;span class="nv"&gt;icon&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;service&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;validating&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;openshift&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;deploymentconfig&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;resource&lt;/span&gt;
[&lt;span class="nv"&gt;ERROR&lt;/span&gt;] &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;load&lt;/span&gt; &lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;schema&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;socketConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;79&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;350&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connectToAddress&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;206&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;188&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;172&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;392&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;607&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;666&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;173&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;558&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;init&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;264&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;New&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;367&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getNewHttpClient&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;191&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1162&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1056&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;177&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1570&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;268&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;openStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1067&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;com&lt;/span&gt;.&lt;span class="nv"&gt;networknt&lt;/span&gt;.&lt;span class="nv"&gt;schema&lt;/span&gt;.&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;getSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;getJsonSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;109&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;validateIfRequired&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;286&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;executeInternal&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;270&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;74&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;executeMojo&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;137&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;210&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;executeForkedExecutions&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;355&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;117&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;81&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;builder&lt;/span&gt;.&lt;span class="nv"&gt;singlethreaded&lt;/span&gt;.&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;305&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;105&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;956&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;doMain&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;288&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;62&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;43&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;lang&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launchEnhanced&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;282&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launch&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;225&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;mainWithExitCode&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;406&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;347&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
[&lt;span class="nv"&gt;WARNING&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;: &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;validating&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;deployment&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;resource&lt;/span&gt;
[&lt;span class="nv"&gt;ERROR&lt;/span&gt;] &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;load&lt;/span&gt; &lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;schema&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;socketConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DualStackPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;79&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;350&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;connectToAddress&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;206&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractPlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;188&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;PlainSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;172&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SocksSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;392&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Socket&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;607&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;666&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;security&lt;/span&gt;.&lt;span class="nv"&gt;ssl&lt;/span&gt;.&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;BaseSSLSocketImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;173&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;doConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NetworkClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;openServer&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;558&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;init&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;264&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;New&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsClient&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;367&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getNewHttpClient&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;191&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1162&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;plainConnect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1056&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractDelegateHttpsURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;177&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1570&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;http&lt;/span&gt;.&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpURLConnection&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;protocol&lt;/span&gt;.&lt;span class="nv"&gt;https&lt;/span&gt;.&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;getInputStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;HttpsURLConnectionImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;268&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;openStream&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;URL&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;1067&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;com&lt;/span&gt;.&lt;span class="nv"&gt;networknt&lt;/span&gt;.&lt;span class="nv"&gt;schema&lt;/span&gt;.&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;getSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;JsonSchemaFactory&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;getJsonSchema&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;core&lt;/span&gt;.&lt;span class="nv"&gt;util&lt;/span&gt;.&lt;span class="nv"&gt;validator&lt;/span&gt;.&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceValidator&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;109&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;validateIfRequired&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;286&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;executeInternal&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ResourceMojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;276&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;io&lt;/span&gt;.&lt;span class="nv"&gt;fabric8&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;mojo&lt;/span&gt;.&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;AbstractFabric8Mojo&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;74&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;plugin&lt;/span&gt;.&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;executeMojo&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultBuildPluginManager&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;137&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;210&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;executeForkedExecutions&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;355&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;156&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MojoExecutor&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;148&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;117&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;buildProject&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleModuleBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;81&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;builder&lt;/span&gt;.&lt;span class="nv"&gt;singlethreaded&lt;/span&gt;.&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;build&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SingleThreadedBuilder&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;lifecycle&lt;/span&gt;.&lt;span class="nv"&gt;internal&lt;/span&gt;.&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;LifecycleStarter&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;305&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;doExecute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DefaultMaven&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;105&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;execute&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;956&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;doMain&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;288&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;apache&lt;/span&gt;.&lt;span class="nv"&gt;maven&lt;/span&gt;.&lt;span class="nv"&gt;cli&lt;/span&gt;.&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;MavenCli&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke0&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Native&lt;/span&gt; &lt;span class="nv"&gt;Method&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;NativeMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;62&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;sun&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;DelegatingMethodAccessorImpl&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;43&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;lang&lt;/span&gt;.&lt;span class="nv"&gt;reflect&lt;/span&gt;.&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;invoke&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Method&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;498&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launchEnhanced&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;282&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;launch&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;225&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;mainWithExitCode&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;406&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
    &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;org&lt;/span&gt;.&lt;span class="nv"&gt;codehaus&lt;/span&gt;.&lt;span class="nv"&gt;plexus&lt;/span&gt;.&lt;span class="nv"&gt;classworlds&lt;/span&gt;.&lt;span class="nv"&gt;launcher&lt;/span&gt;.&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;main&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Launcher&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;:&lt;span class="mi"&gt;347&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
[&lt;span class="nv"&gt;WARNING&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Failed&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;validate&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;: &lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;net&lt;/span&gt;.&lt;span class="nv"&gt;ConnectException&lt;/span&gt;: &lt;span class="nv"&gt;Connection&lt;/span&gt; &lt;span class="nv"&gt;timed&lt;/span&gt; &lt;span class="nv"&gt;out&lt;/span&gt;: &lt;span class="k"&gt;connect&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;.&lt;span class="mi"&gt;1&lt;/span&gt;:&lt;span class="nv"&gt;compile&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;compile&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Changes&lt;/span&gt; &lt;span class="nv"&gt;detected&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="nv"&gt;recompiling&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;module&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Compiling&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="nv"&gt;source&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;resources&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;:&lt;span class="nv"&gt;testResources&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;testResources&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;UTF-8&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;encoding&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;copy&lt;/span&gt; &lt;span class="nv"&gt;filtered&lt;/span&gt; &lt;span class="nv"&gt;resources&lt;/span&gt;.
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;skip&lt;/span&gt; &lt;span class="nv"&gt;non&lt;/span&gt; &lt;span class="nv"&gt;existing&lt;/span&gt; &lt;span class="nv"&gt;resourceDirectory&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;src&lt;/span&gt;\&lt;span class="nv"&gt;test&lt;/span&gt;\&lt;span class="nv"&gt;resources&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;6&lt;/span&gt;.&lt;span class="mi"&gt;1&lt;/span&gt;:&lt;span class="nv"&gt;testCompile&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;testCompile&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;No&lt;/span&gt; &lt;span class="nv"&gt;sources&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;compile&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;surefire&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;.&lt;span class="mi"&gt;4&lt;/span&gt;:&lt;span class="nv"&gt;test&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;No&lt;/span&gt; &lt;span class="nv"&gt;tests&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;run&lt;/span&gt;.
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;4&lt;/span&gt;:&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;jar&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;jar&lt;/span&gt;: &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;8&lt;/span&gt;.&lt;span class="nv"&gt;RELEASE&lt;/span&gt;:&lt;span class="nv"&gt;repackage&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Attaching&lt;/span&gt; &lt;span class="nv"&gt;archive&lt;/span&gt;: &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;, &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;classifier&lt;/span&gt;: &lt;span class="k"&gt;exec&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;fabric8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;3&lt;/span&gt;.&lt;span class="mi"&gt;5&lt;/span&gt;.&lt;span class="mi"&gt;30&lt;/span&gt;:&lt;span class="nv"&gt;build&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;Docker&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;Kubernetes&lt;/span&gt; &lt;span class="nv"&gt;mode&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;Running&lt;/span&gt; &lt;span class="nv"&gt;generator&lt;/span&gt; &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: &lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;: &lt;span class="nv"&gt;Using&lt;/span&gt; &lt;span class="nv"&gt;Docker&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;registry&lt;/span&gt;.&lt;span class="nv"&gt;access&lt;/span&gt;.&lt;span class="nv"&gt;redhat&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;redhat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openjdk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;openjdk18&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;base&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nv"&gt;builder&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Copying&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;docker&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101329&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0408&lt;/span&gt;\&lt;span class="nv"&gt;build&lt;/span&gt;\&lt;span class="nv"&gt;maven&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Building&lt;/span&gt; &lt;span class="nv"&gt;tar&lt;/span&gt;: &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;docker&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101329&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0408&lt;/span&gt;\&lt;span class="nv"&gt;tmp&lt;/span&gt;\&lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;tar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: [&lt;span class="nv"&gt;lambdaair&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;flights&lt;/span&gt;:&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101329&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0408&lt;/span&gt;] &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;spring-boot&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;: &lt;span class="nv"&gt;Created&lt;/span&gt; &lt;span class="nv"&gt;docker&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;build&lt;/span&gt;.&lt;span class="nv"&gt;tar&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="mi"&gt;111&lt;/span&gt; &lt;span class="nv"&gt;milliseconds&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: [&lt;span class="nv"&gt;lambdaair&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;flights&lt;/span&gt;:&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101329&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0408&lt;/span&gt;] &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;spring-boot&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;: &lt;span class="nv"&gt;Built&lt;/span&gt; &lt;span class="nv"&gt;image&lt;/span&gt; &lt;span class="nv"&gt;sha256&lt;/span&gt;:&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="nv"&gt;eaa&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;F8&lt;/span&gt;: [&lt;span class="nv"&gt;lambdaair&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;flights&lt;/span&gt;:&lt;span class="nv"&gt;snapshot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;191114&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;101329&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0408&lt;/span&gt;] &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;spring-boot&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;: &lt;span class="nv"&gt;Tag&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;latest&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;]
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="o"&gt;---&lt;/span&gt; &lt;span class="nv"&gt;maven&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;install&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;plugin&lt;/span&gt;:&lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;4&lt;/span&gt;:&lt;span class="nv"&gt;install&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;install&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; @ &lt;span class="nv"&gt;flights&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;pom&lt;/span&gt;.&lt;span class="nv"&gt;xml&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;.&lt;span class="nv"&gt;pom&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;openshift&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;yml&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;classes&lt;/span&gt;\&lt;span class="nv"&gt;META&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;INF&lt;/span&gt;\&lt;span class="nv"&gt;fabric8&lt;/span&gt;\&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;kubernetes&lt;/span&gt;.&lt;span class="nv"&gt;json&lt;/span&gt;
[&lt;span class="nv"&gt;INFO&lt;/span&gt;] &lt;span class="nv"&gt;Installing&lt;/span&gt; &lt;span class="nv"&gt;D&lt;/span&gt;:\&lt;span class="nv"&gt;Projects&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;msa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;ocp&lt;/span&gt;\&lt;span class="nv"&gt;Flights&lt;/span&gt;\&lt;span class="nv"&gt;target&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;C&lt;/span&gt;:\&lt;span class="nv"&gt;Users&lt;/span&gt;\&lt;span class="mi"&gt;8000619804&lt;/span&gt;\.&lt;span class="nv"&gt;m2&lt;/span&gt;\&lt;span class="nv"&gt;repository&lt;/span&gt;\&lt;span class="nv"&gt;com&lt;/span&gt;\&lt;span class="nv"&gt;redhat&lt;/span&gt;\&lt;span class="nv"&gt;refarch&lt;/span&gt;\&lt;span class="nv"&gt;spring&lt;/span&gt;\&lt;span class="nv"&gt;boot&lt;/span&gt;\&lt;span class="nv"&gt;lambdaair&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;\&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;\&lt;span class="nv"&gt;flights&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;exec&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸€æ—¦æ‰€æœ‰æœåŠ¡éƒ½è¢«æ„å»ºå’Œéƒ¨ç½²ï¼Œåº”è¯¥æ€»å…±æœ‰8ä¸ªè¿è¡Œçš„podï¼ŒåŒ…æ‹¬ä¹‹å‰çš„2ä¸ªZipkin podï¼Œä»¥åŠ6ä¸ªæœåŠ¡ä¸­çš„æ¯ä¸€ä¸ªæ–°çš„pod:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pods
NAME                       READY     STATUS      RESTARTS   AGE
airports-1-72kng           &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          18m
flights-1-4xkfv            &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          15m
presentation-1-k2xlz       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          10m
sales-1-fqxjd              &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          7m
salesv2-1-s1wq0            &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          5m
zipkin-1-k0dv6             &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          1h
zipkin-mysql-1-g44s7       &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          1h
zuul-1-2jkj0               &lt;span class="m"&gt;1&lt;/span&gt;/1       Running     &lt;span class="m"&gt;0&lt;/span&gt;          1m
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_3"&gt;å°ç»“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;presentation&lt;/em&gt; æœåŠ¡è¿˜åˆ›å»ºä¸€ä¸ªRouteã€‚å†æ¬¡åˆ—å‡ºOpenShifté¡¹ç›®ä¸­çš„è·¯ç”±:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get routes
NAME           HOST/PORT                                    PATH      SERVICES       PORT      TERMINATION   WILDCARD
presentation   presentation-lambdaair.ocp.xxx.example.com             presentation   &lt;span class="m"&gt;8080&lt;/span&gt;                    None
zipkin         zipkin-lambdaair.ocp.xxx.example.com                   zipkin         &lt;span class="m"&gt;9411&lt;/span&gt;                    None
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½¿ç”¨è·¯ç”±çš„URLä»æµè§ˆå™¨è®¿é—®HTMLåº”ç”¨ç¨‹åºï¼Œå¹¶éªŒè¯å®ƒæ˜¯å¦å‡ºç°.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 15 Nov 2019 19:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-15:/spring-boot-on-k8s-4.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 3</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-3.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬ä¸‰ç¯‡, ä¸»è¦ä»‹ç»ä¸‹ Zipkin + MySQLéƒ¨ç½²åˆ°å®¹å™¨å¹³å°ä¸Š.&lt;/p&gt;
&lt;h3 id="_2"&gt;é¡¹ç›®å…‹éš†&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/RHsyseng/spring-boot-msa-ocp"&gt;GitHub ä»“åº“åœ°å€&lt;/a&gt; æºç åœ¨è¿™é‡Œ. å…ˆä¸‹è½½ä¸‹æ¥.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ git clone https://github.com/RHsyseng/spring-boot-msa-ocp.git LambdaAir
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç„¶åè¿›å…¥é¡¹ç›®ç›®å½•: &lt;code&gt;cd LambdaAir&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="_3"&gt;å‡ ä¸ªå‰æ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å…±äº«å­˜å‚¨. è¿™ä¸ªDemo åº”ç”¨ä¼šç”¨åˆ°NFS, K8S(æˆ–OpenShift)ä¸Šå¾—æœ‰NFSçš„PV, ä¸”ç©ºé—´å……è¶³(è‡³å°‘5G). å…±äº«å­˜å‚¨ç”¨äº: &lt;ol&gt;
&lt;li&gt;zpikinçš„mysqlæ•°æ®å­˜å‚¨;&lt;/li&gt;
&lt;li&gt;zuulçš„åŠ¨æ€proxyè„šæœ¬æŒ‚è½½.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;K8S (æˆ–OpenShift) å¾—æœ‰å……è¶³çš„æƒé™. è‡³å°‘å¾—æ‹¥æœ‰ä»¥ä¸‹æƒé™:&lt;ol&gt;
&lt;li&gt;åˆ›å»º&lt;em&gt;NameSpace&lt;/em&gt;(æˆ–OpenShiftçš„&lt;em&gt;Project&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;em&gt;PVC&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;em&gt;Service&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;Deployment&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;Ingress&lt;/em&gt;(æˆ–OpenShiftçš„ &lt;em&gt;Route&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå’ŒæŒ‚è½½ &lt;em&gt;ConfigMap&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;em&gt;Secret&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="namespaceproject"&gt;åˆ›å»º &lt;em&gt;NameSpace&lt;/em&gt;(æˆ–&lt;em&gt;Project&lt;/em&gt;)&lt;a class="headerlink" href="#namespaceproject" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc new-project lambdaair --display-name&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Lambda Air&amp;quot;&lt;/span&gt; --description&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Spring Boot Microservices on Red Hat OpenShift Container Platform&amp;quot;&lt;/span&gt;
Now using project &lt;span class="s2"&gt;&amp;quot;lambdaair&amp;quot;&lt;/span&gt; on server &lt;span class="s2"&gt;&amp;quot;https://ocp-master1.xxx.example.com:8443&amp;quot;&lt;/span&gt;.
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="zipkin"&gt;éƒ¨ç½²ZipKin&lt;a class="headerlink" href="#zipkin" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_4"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…¨éƒ¨æ­¥éª¤æ‹†åˆ†å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»º&lt;em&gt;secret&lt;/em&gt; - å­˜å‚¨æ•°æ®åº“è´¦å·å¯†ç ç­‰æœºè¦ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;PVC&lt;/em&gt; - &lt;em&gt;zipkin-mysql&lt;/em&gt;, ç”¨äºç”³è¯·å­˜å‚¨èµ„æº, å­˜æ”¾mysql æŒä¹…åŒ–æ•°æ®;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;configmap&lt;/em&gt; - &lt;em&gt;zipkin-mysql-cnf&lt;/em&gt;, ç”¨äºæŒ‚è½½mysqlçš„é…ç½®;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;configmap&lt;/em&gt; - &lt;em&gt;zipkin-mysql-initdb&lt;/em&gt;, ç”¨äºæŒ‚è½½mysql åˆå§‹åŒ–è„šæœ¬;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;deploymentconfig&lt;/em&gt; - &lt;em&gt;zipkin-mysql&lt;/em&gt;, ç”¨äºå¯¹&lt;em&gt;zipkin-mysql&lt;/em&gt; çš„åˆå§‹åŒ–, deployemntåŠå‰¯æœ¬æ•°è¿›è¡Œç®¡ç†.&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;service&lt;/em&gt; - &lt;em&gt;zipkin-mysql&lt;/em&gt;, ç”¨äºåœ¨é›†ç¾¤å†…æä¾› &lt;em&gt;zipkinçš„mysql&lt;/em&gt; æœåŠ¡. zipkiné€šè¿‡è¿™ä¸ªserviceè¿æ¥åˆ°mysql.&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;deploymentconfig&lt;/em&gt; - &lt;em&gt;zipkin&lt;/em&gt;. ç”¨äºå¯¹&lt;em&gt;zipkin&lt;/em&gt;çš„buildå’Œdeploymentä»¥åŠå‰¯æœ¬æ•°ç­‰è¿›è¡Œç®¡ç†;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;service&lt;/em&gt; - &lt;em&gt;zipkin&lt;/em&gt;. ç”¨äºåœ¨é›†ç¾¤å†…æä¾›&lt;em&gt;zipkin&lt;/em&gt; æœåŠ¡;&lt;/li&gt;
&lt;li&gt;åˆ›å»º &lt;em&gt;route&lt;/em&gt; - &lt;em&gt;zipkin&lt;/em&gt; , ç”¨äºè¿æ¥&lt;em&gt;service&lt;/em&gt; - &lt;em&gt;zipkin&lt;/em&gt;, ä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡åŸŸåè®¿é—®&lt;em&gt;zipkin&lt;/em&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="mysql"&gt;åˆ›å»º MySQL æ•°æ®åº“&lt;a class="headerlink" href="#mysql" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢çš„æ­¥éª¤ä¸­, ä¸åˆ›å»ºMySQL æ•°æ®åº“æœ‰å…³çš„æ­¥éª¤æœ‰1-6æ­¥. è¯´æ˜å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºè´¦å·å¯†ç ç­‰ä¿¡æ¯;&lt;/li&gt;
&lt;li&gt;ç”³è¯·æŒä¹…åŒ–å­˜å‚¨;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºMySQL é…ç½®;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºMySQL åˆå§‹åŒ–è„šæœ¬;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºMySQLå®ä¾‹. ä¼šç”¨åˆ°&lt;ol&gt;
&lt;li&gt;è´¦å·å¯†ç &lt;/li&gt;
&lt;li&gt;æŒä¹…åŒ–å­˜å‚¨&lt;/li&gt;
&lt;li&gt;MySQLå¯åŠ¨åä¼šæ‰§è¡Œåˆå§‹åŒ–è„šæœ¬&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åˆ›å»ºMySQLæœåŠ¡, ä¾›é›†ç¾¤å†…(é¡¹ç›®å†…)ä½¿ç”¨.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;åˆ›å»º Secret&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;zipkin-mysql-secret.yml&lt;/code&gt;æ–‡ä»¶å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Secret&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;lambdaair&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;  
&lt;span class="nt"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;database-password&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;your-password&lt;/span&gt;
  &lt;span class="nt"&gt;database-root-password&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;root-password&lt;/span&gt;
  &lt;span class="nt"&gt;database-user&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;normaluser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½¿ç”¨&lt;code&gt;oc&lt;/code&gt;æˆ–&lt;code&gt;kubectl&lt;/code&gt;åˆ›å»º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# å…ˆåˆ‡æ¢åˆ° lambdaair project(åç»­éƒ½åœ¨è¿™ä¸ªé¡¹ç›®é‡Œ, ä¸åœ¨èµ˜è¿°)&lt;/span&gt;
$ oc project lambdaair
&lt;span class="c1"&gt;# åˆ›å»º secret&lt;/span&gt;
$ oc create -f zipkin-mysql-secret.yml
&lt;span class="c1"&gt;# æŸ¥çœ‹åˆ›å»ºç»“æœ&lt;/span&gt;
$ oc get secret 
NAME                       TYPE                                  DATA   AGE
zipkin-mysql               Opaque                                &lt;span class="m"&gt;3&lt;/span&gt;      2d5h
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;åˆ›å»º PVC&lt;/h4&gt;
&lt;p&gt;Zipkinä½¿ç”¨MySQLæ•°æ®åº“è¿›è¡Œå­˜å‚¨ï¼Œè¿™åè¿‡æ¥åˆéœ€è¦åˆ›å»ºä¸€ä¸ªOpenShift å…±äº«å­˜å‚¨ã€‚å‡å®šå·²ç»æœ‰äº†:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pv
NAME                  CAPACITY   ACCESSMODES   RECLAIMPOLICY   STATUS      CLAIM                           REASON    AGE
zipkin-mysql-data     1Gi        RWO           Recycle         Available     1m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;zipkin-mysql-pvc.yml&lt;/code&gt; å†…å®¹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;PersistentVolumeClaim&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;lambdaair&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;  
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;accessModes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ReadWriteOnce&lt;/span&gt;
  &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;requests&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;storage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1Gi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åˆ›å»º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-mysql-pvc.yml
$ oc get pvc
NAME           STATUS   VOLUME              CAPACITY   ACCESS MODES   STORAGECLASS   AGE
zipkin-mysql   Bound    zipkin-mysql-data   1Gi        RWO                           2d5h
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;åˆ›å»º ConfigMap&lt;/h4&gt;
&lt;h5&gt;åˆ›å»º MySQL é…ç½®çš„ConfigMap&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;zipkin-mysql-cnf.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ConfigMap&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql-cnf&lt;/span&gt;
  &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;lambdaair&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;  
&lt;span class="nt"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;custom.cnf&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
    &lt;span class="no"&gt;[mysqld]&lt;/span&gt;
    &lt;span class="no"&gt;sql-mode=&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å…¶å®å°±æ˜¯ç¤ºèŒƒä¸‹, æ²¡é…ç½®å•¥. æ¥ä¸‹æ¥åˆ›å»º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-mysql-cnf.yml
$ oc get configmap
NAME                  DATA   AGE
zipkin-mysql-cnf      &lt;span class="m"&gt;1&lt;/span&gt;      2d5h
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;åˆ›å»º MySQL åˆå§‹åŒ–è„šæœ¬çš„ConfigMap&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;zipkin-mysql-initdb.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ConfigMap&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql-initdb&lt;/span&gt;
  &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;lambdaair&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;  
&lt;span class="nt"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;init.sql&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="no"&gt;CREATE TABLE IF NOT EXISTS zipkin_spans (&lt;/span&gt;
      &lt;span class="no"&gt;`trace_id` BIGINT NOT NULL,&lt;/span&gt;
      &lt;span class="no"&gt;`id` BIGINT NOT NULL,&lt;/span&gt;
      &lt;span class="no"&gt;`name` VARCHAR(255) NOT NULL,&lt;/span&gt;
      &lt;span class="no"&gt;`parent_id` BIGINT,&lt;/span&gt;
      &lt;span class="no"&gt;`debug` BIT(1),&lt;/span&gt;
      &lt;span class="no"&gt;`start_ts` BIGINT COMMENT &amp;#39;Span.timestamp(): epoch micros used for endTs query and to implement TTL&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`duration` BIGINT COMMENT &amp;#39;Span.duration(): micros used for minDuration and maxDuration query&amp;#39;&lt;/span&gt;
    &lt;span class="no"&gt;) ENGINE=InnoDB ROW_FORMAT=COMPRESSED;&lt;/span&gt;


    &lt;span class="no"&gt;ALTER TABLE zipkin_spans ADD UNIQUE KEY(`trace_id`, `id`) COMMENT &amp;#39;ignore&lt;/span&gt;
    &lt;span class="no"&gt;insert on duplicate&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_spans ADD INDEX(`trace_id`, `id`) COMMENT &amp;#39;for joining&lt;/span&gt;
    &lt;span class="no"&gt;with zipkin_annotations&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_spans ADD INDEX(`trace_id`) COMMENT &amp;#39;for getTracesByIds&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_spans ADD INDEX(`name`) COMMENT &amp;#39;for getTraces and&lt;/span&gt;
    &lt;span class="no"&gt;getSpanNames&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_spans ADD INDEX(`start_ts`) COMMENT &amp;#39;for getTraces&lt;/span&gt;
    &lt;span class="no"&gt;ordering and range&amp;#39;;&lt;/span&gt;


    &lt;span class="no"&gt;CREATE TABLE IF NOT EXISTS zipkin_annotations (&lt;/span&gt;
      &lt;span class="no"&gt;`trace_id` BIGINT NOT NULL COMMENT &amp;#39;coincides with zipkin_spans.trace_id&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`span_id` BIGINT NOT NULL COMMENT &amp;#39;coincides with zipkin_spans.id&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`a_key` VARCHAR(255) NOT NULL COMMENT &amp;#39;BinaryAnnotation.key or Annotation.value if type == -1&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`a_value` BLOB COMMENT &amp;#39;BinaryAnnotation.value(), which must be smaller than 64KB&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`a_type` INT NOT NULL COMMENT &amp;#39;BinaryAnnotation.type() or -1 if Annotation&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`a_timestamp` BIGINT COMMENT &amp;#39;Used to implement TTL; Annotation.timestamp or zipkin_spans.timestamp&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`endpoint_ipv4` INT COMMENT &amp;#39;Null when Binary/Annotation.endpoint is null&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`endpoint_ipv6` BINARY(16) COMMENT &amp;#39;Null when Binary/Annotation.endpoint is null, or no IPv6 address&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`endpoint_port` SMALLINT COMMENT &amp;#39;Null when Binary/Annotation.endpoint is null&amp;#39;,&lt;/span&gt;
      &lt;span class="no"&gt;`endpoint_service_name` VARCHAR(255) COMMENT &amp;#39;Null when Binary/Annotation.endpoint is null&amp;#39;&lt;/span&gt;
    &lt;span class="no"&gt;) ENGINE=InnoDB ROW_FORMAT=COMPRESSED;&lt;/span&gt;


    &lt;span class="no"&gt;ALTER TABLE zipkin_annotations ADD UNIQUE KEY(`trace_id`, `span_id`,&lt;/span&gt;
    &lt;span class="no"&gt;`a_key`, `a_timestamp`) COMMENT &amp;#39;Ignore insert on duplicate&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_annotations ADD INDEX(`trace_id`, `span_id`) COMMENT &amp;#39;for&lt;/span&gt;
    &lt;span class="no"&gt;joining with zipkin_spans&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_annotations ADD INDEX(`trace_id`) COMMENT &amp;#39;for&lt;/span&gt;
    &lt;span class="no"&gt;getTraces/ByIds&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_annotations ADD INDEX(`endpoint_service_name`) COMMENT&lt;/span&gt;
    &lt;span class="no"&gt;&amp;#39;for getTraces and getServiceNames&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_annotations ADD INDEX(`a_type`) COMMENT &amp;#39;for getTraces&amp;#39;;&lt;/span&gt;

    &lt;span class="no"&gt;ALTER TABLE zipkin_annotations ADD INDEX(`a_key`) COMMENT &amp;#39;for getTraces&amp;#39;;&lt;/span&gt;


    &lt;span class="no"&gt;CREATE TABLE IF NOT EXISTS zipkin_dependencies (&lt;/span&gt;
      &lt;span class="no"&gt;`day` DATE NOT NULL,&lt;/span&gt;
      &lt;span class="no"&gt;`parent` VARCHAR(255) NOT NULL,&lt;/span&gt;
      &lt;span class="no"&gt;`child` VARCHAR(255) NOT NULL,&lt;/span&gt;
      &lt;span class="no"&gt;`call_count` BIGINT&lt;/span&gt;
    &lt;span class="no"&gt;) ENGINE=InnoDB ROW_FORMAT=COMPRESSED;&lt;/span&gt;


    &lt;span class="no"&gt;ALTER TABLE zipkin_dependencies ADD UNIQUE KEY(`day`, `parent`, `child`);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åˆ›å»º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-mysql-initdb.yml
$ oc get configmap
NAME                  DATA   AGE
zipkin-mysql-cnf      &lt;span class="m"&gt;1&lt;/span&gt;      2d5h
zipkin-mysql-initdb   &lt;span class="m"&gt;1&lt;/span&gt;      2d5h
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;åˆ›å»º MySQLçš„ DeploymentConfig&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;zipkin-mysql-deploymentconfig.yml&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.openshift.com/container-platform/4.2/applications/deployments/what-deployments-are.html#deployments-and-deploymentconfigs_what-deployments-are"&gt;&lt;code&gt;DeploymentConfig&lt;/code&gt;&lt;/a&gt; è¿™ä¸ªresourceæ˜¯OpenShiftç‰¹æœ‰çš„. åŸºäºK8Sçš„&lt;code&gt;ReplicationControllers&lt;/code&gt;, å¢åŠ äº†å¯¹è½¯ä»¶å¼€å‘å’Œéƒ¨ç½²ç”Ÿå‘½å‘¨æœŸçš„æ‰©å±•æ”¯æŒ. æœ€ç®€å•çš„æƒ…å†µ, &lt;code&gt;DeploymentConifg&lt;/code&gt;å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„&lt;code&gt;ReplicationController&lt;/code&gt;å¹¶å¯åŠ¨&lt;code&gt;pod&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯, å®ƒç¡®å®å¢åŠ äº†ä¸€äº›æ–°åŠŸèƒ½, æä¾›äº†ä»é•œåƒçš„ç°æœ‰éƒ¨ç½²è¿‡æ¸¡åˆ°æ–°é•œåƒçš„åŠŸèƒ½, å¹¶ä¸”è¿˜å®šä¹‰äº†åœ¨åˆ›å»º&lt;code&gt;ReplicationController&lt;/code&gt;ä¹‹å‰æˆ–ä¹‹åè¿è¡Œçš„Hook. (mysqlåˆå§‹åŒ–sqlå°±æ˜¯åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½)&lt;/p&gt;
&lt;p&gt;è¿˜æä¾›ä»¥ä¸‹åŠŸèƒ½:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DeploymentConfigï¼Œè¿™æ˜¯ç”¨äºè¿è¡Œåº”ç”¨ç¨‹åºçš„æ¨¡æ¿ã€‚&lt;/li&gt;
&lt;li&gt;è§¦å‘é©±åŠ¨è‡ªåŠ¨éƒ¨ç½²ä»¥å“åº”äº‹ä»¶çš„è§¦å‘å™¨(trigger)ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·å¯å®šåˆ¶çš„éƒ¨ç½²ç­–ç•¥ï¼Œä»¥ä»å…ˆå‰ç‰ˆæœ¬è¿‡æ¸¡åˆ°æ–°ç‰ˆæœ¬ã€‚ç­–ç•¥åœ¨é€šå¸¸ç§°ä¸ºéƒ¨ç½²è¿‡ç¨‹çš„Podä¸­è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ç»„hooksï¼ˆlifecycle hooksï¼‰ï¼Œç”¨äºåœ¨éƒ¨ç½²çš„ç”Ÿå‘½å‘¨æœŸä¸­çš„ä¸åŒç‚¹æ‰§è¡Œè‡ªå®šä¹‰è¡Œä¸ºã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºçš„ç‰ˆæœ¬æ§åˆ¶ï¼Œä»¥ä¾¿åœ¨éƒ¨ç½²å¤±è´¥çš„æƒ…å†µä¸‹æ‰‹åŠ¨æˆ–è‡ªåŠ¨æ”¯æŒå›æ»šã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨å‰¯æœ¬ç¼©æ”¾å’Œè‡ªåŠ¨ç¼©æ”¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DeploymentConfig&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apps.openshift.io/v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;replicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
  &lt;span class="nt"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;strategy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Recreate&lt;/span&gt;
    &lt;span class="nt"&gt;recreateParams&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;post&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;failurePolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Abort&lt;/span&gt;
        &lt;span class="nt"&gt;execNewPod&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;containerName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
          &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bin/sh&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;-c&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hostname &amp;amp;&amp;amp; sleep 10 &amp;amp;&amp;amp; /opt/rh/rh-mysql57/root/usr/bin/mysql -h $DATABASE_SERVICE_NAME -u $MYSQL_USER -D $MYSQL_DATABASE -p$MYSQL_PASSWORD -P 3306 &amp;lt; /docker-entrypoint-initdb.d/init.sql &amp;amp;&amp;amp; echo Initialized database&lt;/span&gt;
          &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DATABASE_SERVICE_NAME&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
          &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql-init-script&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
    &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_USER&lt;/span&gt;
              &lt;span class="nt"&gt;valueFrom&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="nt"&gt;secretKeyRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                  &lt;span class="nt"&gt;key&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;database-user&lt;/span&gt;
                  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_PASSWORD&lt;/span&gt;
              &lt;span class="nt"&gt;valueFrom&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="nt"&gt;secretKeyRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                  &lt;span class="nt"&gt;key&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;database-password&lt;/span&gt;
                  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;
              &lt;span class="nt"&gt;valueFrom&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="nt"&gt;secretKeyRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                  &lt;span class="nt"&gt;key&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;database-root-password&lt;/span&gt;
                  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_DATABASE&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;${MYSQL_DATABASE}&lt;/span&gt;
          &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
          &lt;span class="nt"&gt;imagePullPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;IfNotPresent&lt;/span&gt;
          &lt;span class="nt"&gt;livenessProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;30&lt;/span&gt;
            &lt;span class="nt"&gt;tcpSocket&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;3306&lt;/span&gt;
            &lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
          &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;containerPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;3306&lt;/span&gt;
          &lt;span class="nt"&gt;readinessProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;exec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bin/sh&lt;/span&gt;
                &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;-i&lt;/span&gt;
                &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;-c&lt;/span&gt;
                &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_PWD=&amp;quot;$MYSQL_PASSWORD&amp;quot; mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE&lt;/span&gt;
                  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;-e &amp;#39;SELECT 1&amp;#39;&lt;/span&gt;
            &lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;5&lt;/span&gt;
            &lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
          &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;limits&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;512Mi&lt;/span&gt;
          &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/lib/mysql/data&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql-data&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/docker-entrypoint-initdb.d/&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql-init-script&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc/mysql/conf.d/&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql-confd&lt;/span&gt;
      &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql-data&lt;/span&gt;
          &lt;span class="nt"&gt;persistentVolumeClaim&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;claimName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;configMap&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql-initdb&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql-init-script&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;configMap&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql-cnf&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql-confd&lt;/span&gt;
  &lt;span class="nt"&gt;triggers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;imageChangeParams&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;automatic&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
        &lt;span class="nt"&gt;containerNames&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
        &lt;span class="nt"&gt;from&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ImageStreamTag&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql:5.7&lt;/span&gt;
          &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;openshift&lt;/span&gt;
      &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ImageChange&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ConfigChange&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªç”¨åˆ°äº†RedHatæä¾›çš„&lt;a href="https://github.com/sclorg/mysql-container/blob/master/5.7/README.md"&gt;&lt;code&gt;mysql:5.7&lt;/code&gt;&lt;/a&gt;çš„é•œåƒ.&lt;/p&gt;
&lt;p&gt;åˆ›å»º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-mysql-deploymentconfig.yml
$ watch oc get pods
Every &lt;span class="m"&gt;2&lt;/span&gt;.0s: oc get pods                                                      
Fri Jul &lt;span class="m"&gt;21&lt;/span&gt; &lt;span class="m"&gt;02&lt;/span&gt;:04:15 &lt;span class="m"&gt;2017&lt;/span&gt;
NAME                    READY     STATUS              RESTARTS   AGE
zipkin-mysql-1-deploy   &lt;span class="m"&gt;1&lt;/span&gt;/1   Running             &lt;span class="m"&gt;0&lt;/span&gt;          2m
zipkin-mysql-1-tv2v1    &lt;span class="m"&gt;0&lt;/span&gt;/1   ContainerCreating   &lt;span class="m"&gt;0&lt;/span&gt;          1m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®Œæˆéƒ¨ç½²è¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œæ­¤æ—¶åº”è¯¥æœ‰1ä¸ªpodå¤„äº&lt;code&gt;Running&lt;/code&gt;çŠ¶æ€&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pods
NAME                   READY     STATUS    RESTARTS   AGE
zipkin-mysql-1-g44s7   &lt;span class="m"&gt;1&lt;/span&gt;/1       Running   &lt;span class="m"&gt;0&lt;/span&gt;          4m
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;åˆ›å»º MySQL çš„ Service&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;zipkin-mysql-svc.yml&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Service&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;lambdaair&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
      &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;3306&lt;/span&gt;
  &lt;span class="nt"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åˆ›å»ºå¹¶æŸ¥çœ‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-mysql-svc.yml
$ oc get svc
NAME           TYPE        CLUSTER-IP      EXTERNAL-IP   PORT&lt;span class="o"&gt;(&lt;/span&gt;S&lt;span class="o"&gt;)&lt;/span&gt;    AGE
zipkin-mysql   ClusterIP   &lt;span class="m"&gt;172&lt;/span&gt;.30.241.12   &amp;lt;none&amp;gt;        &lt;span class="m"&gt;3306&lt;/span&gt;/TCP   2d7h
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ ·, zipkinå°±å¯ä»¥é€šè¿‡ service æ¥è°ƒç”¨mysqläº†.&lt;/p&gt;
&lt;h3 id="zpikin"&gt;åˆ›å»º Zpikin åº”ç”¨å®ä¾‹å¹¶å¯¹å¤–æä¾›æœåŠ¡&lt;a class="headerlink" href="#zpikin" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢çš„æ­¥éª¤ä¸­, ä¸åˆ›å»ºMySQL æ•°æ®åº“æœ‰å…³çš„æ­¥éª¤æœ‰7-9æ­¥. è¯´æ˜å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºzipkinå®ä¾‹, ä¼šé“¾æ¥åˆ°æ•°æ®åº“. è¿™æ—¶å€™, é›†ç¾¤å†…å¤–éƒ½æ— æ³•è®¿é—®è¯¥å®ä¾‹, åªèƒ½åœ¨å®¹å™¨å†…ä½¿ç”¨;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºzipkin service, æ­¤æ—¶, zipkinå¯ä»¥ä¾›é›†ç¾¤å†…ä½¿ç”¨.&lt;/li&gt;
&lt;li&gt;åˆ›å»ºzipkin route, è¿æ¥åˆ°zipkin service, æ­¤æ—¶, zipkinå¯ä»¥é€šè¿‡åŸŸåè¢«ç”¨æˆ·è®¿é—®åˆ°.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;åˆ›å»º ZipKinçš„ DeploymentConfig&lt;/h4&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆäº†! åˆ›å»ºZipkinçš„è¿è¡Œå®ä¾‹, å¹¶è¿æ¥æ•°æ®åº“. &lt;code&gt;zpikin-deploymentconfig.yml&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DeploymentConfig&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;replicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
  &lt;span class="nt"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
    &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;STORAGE_PORT_9042_TCP_ADDR&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-cassandra:9411&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;STORAGE_PORT_3306_TCP_ADDR&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql:3306&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_USER&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;normaluser&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_PASS&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;your-password&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;STORAGE_TYPE&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;TRANSPORT_TYPE&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;KUBERNETES_NAMESPACE&lt;/span&gt;
              &lt;span class="nt"&gt;valueFrom&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="nt"&gt;fieldRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                  &lt;span class="nt"&gt;fieldPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;metadata.namespace&lt;/span&gt;
          &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;openzipkin/zipkin:1.19.2&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin&lt;/span&gt;
          &lt;span class="nt"&gt;readinessProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;httpGet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/api/v1/services&lt;/span&gt;
              &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;9411&lt;/span&gt;
            &lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;5&lt;/span&gt;
          &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;limits&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt;
              &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1600Mi&amp;quot;&lt;/span&gt;
            &lt;span class="nt"&gt;requests&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;200m&amp;quot;&lt;/span&gt;
              &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;200Mi&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;triggers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ConfigChange&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åˆ›å»ºå¹¶æŸ¥çœ‹è¿›åº¦:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zpikin-deploymentconfig.yml
$ $ watch oc get pods
Every &lt;span class="m"&gt;2&lt;/span&gt;.0s: oc get pods                                                      
Fri Jul &lt;span class="m"&gt;21&lt;/span&gt; &lt;span class="m"&gt;02&lt;/span&gt;:04:15 &lt;span class="m"&gt;2017&lt;/span&gt;
NAME                    READY     STATUS              RESTARTS   AGE
zipkin-1-deploy         &lt;span class="m"&gt;1&lt;/span&gt;/1   Running             &lt;span class="m"&gt;0&lt;/span&gt;          2m
zipkin-1-sclgl          &lt;span class="m"&gt;0&lt;/span&gt;/1   Running             &lt;span class="m"&gt;0&lt;/span&gt;          2m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¯èƒ½è¦èŠ±è´¹å‡ åˆ†é’Ÿ, å‡ åˆ†é’Ÿåå†æŸ¥çœ‹, å‡ºäº&lt;em&gt;Running&lt;/em&gt;çŠ¶æ€æ˜¾ç¤ºå¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc get pods
NAME                   READY     STATUS    RESTARTS   AGE
zipkin-1-k0dv6         &lt;span class="m"&gt;1&lt;/span&gt;/1       Running   &lt;span class="m"&gt;0&lt;/span&gt;          5m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ ·å®ä¾‹å°±åˆ›å»ºå¥½äº†.&lt;/p&gt;
&lt;h4&gt;åˆ›å»º Zpikin çš„ Service&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;zipkin-svc.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Service&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;80&lt;/span&gt;
      &lt;span class="nt"&gt;protocol&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;TCP&lt;/span&gt;
      &lt;span class="nt"&gt;targetPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;9411&lt;/span&gt;
  &lt;span class="nt"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;LoadBalancer&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åˆ›å»ºå¹¶æŸ¥çœ‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zipkin-svc.yaml
$ oc get svc
NAME     TYPE           CLUSTER-IP       EXTERNAL-IP   PORT&lt;span class="o"&gt;(&lt;/span&gt;S&lt;span class="o"&gt;)&lt;/span&gt;        AGE
zipkin   LoadBalancer   &lt;span class="m"&gt;172&lt;/span&gt;.30.140.146   &amp;lt;pending&amp;gt;     &lt;span class="m"&gt;80&lt;/span&gt;:32395/TCP   2d7h
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®¹å™¨å†…çš„ç«¯å£æ˜¯9411, serviceçš„å¯¹åº”ç«¯å£æ˜¯80. ç±»å‹æ˜¯&lt;code&gt;LoadBalancer&lt;/code&gt;. è¿™é‡Œ&lt;code&gt;Service&lt;/code&gt;å°±æ˜¯æä¾›äº†2ä¸ªåŠŸèƒ½:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡æ³¨å†Œå’Œå‘ç°;&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;åˆ›å»º Zipkin çš„ Route&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;zpikin-route.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;route.openshift.io/v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Route&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;project&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin-mysql&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;targetPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;9411&lt;/span&gt;
  &lt;span class="nt"&gt;to&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Service&lt;/span&gt;
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zipkin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åˆ›å»ºå¹¶æŸ¥çœ‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc create -f zpikin-route.yml
$ oc get route
NAME           HOST/PORT                                              PATH   SERVICES       PORT   TERMINATION   WILDCARD
zipkin         zipkin-lambdaair.apps.cce-test.ccic-net.com.cn                zipkin         &lt;span class="m"&gt;9411&lt;/span&gt;                 None
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½¿ç”¨æ˜¾ç¤ºçš„URLä»æµè§ˆå™¨è®¿é—®æ§åˆ¶å°ï¼Œå¹¶éªŒè¯å…¶å·¥ä½œæ­£å¸¸: &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="zipkin console" src="images/1573808377299.png"&gt;&lt;/p&gt;
&lt;h2 id="_5"&gt;å°ç»“&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è‡³æ­¤, zipkin + mysql éƒ¨ç½²å®Œæˆ. å®Œæˆå, æ‹“æ‰‘å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="zipkin æ‹“æ‰‘" src="images/1573808497291.png"&gt;&lt;/p&gt;
&lt;p&gt;mysqlå®¹å™¨ä¸Šåªæ”¯æŒå•èŠ‚ç‚¹. å¦‚æœä¸Šç”Ÿäº§çš„è¯å»ºè®®è¿˜æ˜¯éƒ¨ç½²åœ¨å®¹å™¨å¤–. zipkinçš„è¯, å°±å¯ä»¥éšæ„çš„æ‰©å±•å’Œè°ƒæ•´, ç‚¹å‡»å¦‚ä¸‹çš„å‘ä¸Šç®­å¤´, åŠ å¤šå°‘ä¸ªpodéƒ½å¯ä»¥, å› ä¸ºé…ç½®äº†Liveness å’ŒReadiness Probe, K8Sä¼šåœ¨Readiness Probeæ¢æµ‹okå, è‡ªåŠ¨å°†Serviceçš„æµé‡LoadBalanceåˆ°åç«¯çš„æ–°å¢å’Œç°æœ‰çš„pod. åŒæ—¶æŒ‡å‘serviceçš„routeå®é™…ä¸Šä¹Ÿæ˜¯ç”±åè¾¹çš„å¤šä¸ªpodæ¥æ‰¿è½½. æ›´è¿‘ä¸€æ­¥, å¯ä»¥é€šè¿‡é…ç½®HPAæ¥è‡ªåŠ¨æ ¹æ®CPU, å†…å­˜ç­‰é˜ˆå€¼æ¥è‡ªåŠ¨æ‰©ç¼©å®¹é‡. è¿™å°±æ˜¯K8Sçš„ä¸€å¤§ä¼˜åŠ¿ -- &lt;strong&gt;ä¸€é”®ç§’çº§æ‰©å®¹, ç”šè‡³è‡ªåŠ¨æ‰©å®¹!&lt;/strong&gt; &lt;img align="absmiddle" alt="ğŸ’ª" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4aa.png" title=":muscle:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ’ª" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4aa.png" title=":muscle:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ’ª" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4aa.png" title=":muscle:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="1573808565527" src="images/1573808565527.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 15 Nov 2019 14:10:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-15:/spring-boot-on-k8s-3.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 2</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-2.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹ç¬¬äºŒç¯‡, ä¸»è¦ä»‹ç»ä¸‹ Demo åº”ç”¨çš„æ¶æ„.&lt;/p&gt;
&lt;p&gt;å¦å¤–, æˆ‘è¦åƒæ‰æˆ‘ä¹‹å‰å†™çš„ç¬¬ä¸€ç¯‡äº†, çº æ­£å¦‚ä¸‹:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; ç¬¬ä¸€ç¯‡ä¿®è®¢:&lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ¬¡ï¼Œç›¸å…³çš„åœºæ™¯æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;Spring Cloud å¾®æœåŠ¡ç³»ç»Ÿå·²ç»æå‰æå¥½äº†ï¼Œå¹¶æ²¡æœ‰è¿è¡Œåœ¨å®¹å™¨å¹³å°ä¸Šï¼Œè€Œæ˜¯ç›´æ¥è¿è¡Œåœ¨è™šæœºä¸Šã€‚è¿™æ¬¡å°±æ˜¯ç»“&lt;strong&gt;åˆSpring Bootçš„ç»„ä»¶å’ŒK8S (OpenShift)çš„ç›¸å…³æ¦‚å¿µå’Œä¼˜åŠ¿&lt;/strong&gt;ï¼Œå°†å…¶è¿ç§»éƒ¨ç½²åˆ°å®¹å™¨å¹³å°ä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="demo"&gt;Demo æ¶æ„&lt;a class="headerlink" href="#demo" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªDemo æ¶æ„æ¼”ç¤ºäº†åœ¨å¾®æœåŠ¡ä½“ç³»ç»“æ„é£æ ¼ä¸­æ„å»ºçš„&lt;strong&gt;æœºç¥¨æœç´¢ç³»ç»Ÿ&lt;/strong&gt;ã€‚æ¯ä¸ªå•ç‹¬çš„å¾®æœåŠ¡éƒ½æ˜¯ä½œä¸ºRESTæœåŠ¡å®ç°çš„ï¼Œå®ƒä½äºSpring Bootä¹‹ä¸Šï¼Œå¸¦æœ‰ä¸€ä¸ªåµŒå…¥å¼TomcatæœåŠ¡å™¨ï¼Œéƒ¨ç½²åœ¨OpenShifté•œåƒä¸Šï¼Œå¹¶æ”¯æŒOpenJDKã€‚å…¸å‹å¾®æœåŠ¡çš„è½¯ä»¶æ ˆå¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="è½¯ä»¶æ ˆ" src="images/1573784455930.png"&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªå¾®æœåŠ¡å®ä¾‹åœ¨ä¸€ä¸ªå®¹å™¨å®ä¾‹ä¸­è¿è¡Œï¼Œæ¯ä¸ªOpenShift podæœ‰ä¸€ä¸ªå®¹å™¨ï¼Œæ¯ä¸ªService æœ‰ä¸€ä¸ªå®¹å™¨ã€‚åœ¨å…¶æ ¸å¿ƒï¼Œç”¨å¾®æœåŠ¡ä½“ç³»ç»“æ„é£æ ¼æ„å»ºçš„åº”ç”¨ç¨‹åºç”±è®¸å¤šç›¸äº’è°ƒç”¨çš„å¤åˆ¶å®¹å™¨ç»„æˆ.&lt;/p&gt;
&lt;p&gt;&lt;img alt="å®¹å™¨è½¯ä»¶æ ˆ" src="images/1573784609557.png"&gt;&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ç”±å¾®æœåŠ¡æä¾›çš„ï¼Œæ¯ä¸ªå¾®æœåŠ¡æ‰¿æ‹…ä¸€ä¸ªå•ä¸€çš„èŒè´£ã€‚æœ‰ä¸€ä¸ªæœåŠ¡å……å½“&lt;a href="http://microservices.io/patterns/apigateway.html"&gt;APIç½‘å…³&lt;/a&gt;ï¼Œè°ƒç”¨å•ä¸ªå¾®æœåŠ¡å¹¶èšåˆå“åº”ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°ä½¿ç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="åŠŸèƒ½å›¾" src="images/1573784683961.png"&gt;&lt;/p&gt;
&lt;p&gt;è¯¥æ¶æ„è¿˜å®ç°å¹¶æ‰©å±•äº†Spring Sleuthå’ŒOpenZipkinçš„åˆ†å¸ƒå¼è·Ÿè¸ª(distributed tracing)åŠŸèƒ½ã€‚OpenZipkinä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æœåŠ¡è¿è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªMySQLæ•°æ®åº“æ¥æŒä¹…åŒ–å®ƒçš„æ•°æ®ï¼Œåº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªæœåŠ¡éƒ½ä¼šè°ƒç”¨Zipkinã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zipkin è°ƒç”¨" src="images/1573784806810.png"&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼ŒDemo åº”ç”¨ä½¿ç”¨&lt;strong&gt;Zuul&lt;/strong&gt;ä½œä¸ºè¾¹ç¼˜æœåŠ¡æ¥æä¾›é™æ€å’ŒåŠ¨æ€è·¯ç”±ã€‚ç»“æœæ˜¯ï¼Œæ‰€æœ‰æœåŠ¡è°ƒç”¨å®é™…ä¸Šéƒ½è¢«å®šå‘åˆ°Zuulï¼Œå¹¶ç”±å®ƒé€‚å½“åœ°ä»£ç†è¯·æ±‚ã€‚è¿™ä¸ªDemoä¹Ÿä¼šæ¼”ç¤º&lt;strong&gt;A/Bæµ‹è¯•&lt;/strong&gt; , é€šè¿‡æä¾›é”€å”®æœåŠ¡çš„å¦ä¸€ä¸ªç‰ˆæœ¬å¹¶åœ¨è¿è¡Œæ—¶å†³å®šå°†å…¶ç”¨äºå“ªä¸€ç±»å®¢æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zuul Proxy" src="images/1573784937524.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;å°ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;åº”ç”¨æ¶æ„&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·é€šè¿‡å‰ç«¯ç¨‹åº(presentationçš„é¡µé¢è¿›è¡Œè®¿é—®, è®¿é—®çš„è¯·æ±‚ä¼šè°ƒç”¨API Gateway, é€šè¿‡Zuul ä½œä¸ºä»£ç†è·¯ç”±åˆ°å„ä¸ªå¾®æœåŠ¡: Flights, Airports, Sales. åŒæ—¶è¯·æ±‚çš„tracingä¿¡æ¯ä¼šå‘é€ç»™zipkin.&lt;/p&gt;
&lt;p&gt;&lt;img alt="OpenShift æ‹“æ‰‘å›¾" src="images/1573785143934.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”¨åˆ°çš„ç»„ä»¶&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;ç»“åˆä¸Šä¸€ç¯‡æ–‡ç« æ¥çœ‹, å…·ä½“å¦‚ä¸‹:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Spring Boot å…¨å®¶æ¡¶&lt;/th&gt;
&lt;th&gt;Spring Boot å…¨å®¶æ¡¶&lt;/th&gt;
&lt;th&gt;K8S (OpenShift)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å®¢æˆ·ç«¯åº“&lt;/td&gt;
&lt;td&gt;Ribbon&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœåŠ¡æ³¨å†Œ&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Service&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è´Ÿè½½å‡è¡¡&lt;/td&gt;
&lt;td&gt;Ribbon&lt;/td&gt;
&lt;td&gt;Service&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ–­è·¯å™¨&lt;/td&gt;
&lt;td&gt;Hystrix&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤–éƒ¨åŒ–é…ç½®&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;ConfigMap&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åˆ†å¸ƒå¼ Tracing&lt;/td&gt;
&lt;td&gt;Sleuth/Zipkin&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä»£ç†/è·¯ç”±&lt;/td&gt;
&lt;td&gt;Zuul&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 15 Nov 2019 10:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-15:/spring-boot-on-k8s-2.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category></item><item><title>Spring Boot å¾®æœåŠ¡ä¸Šå®¹å™¨å¹³å°çš„æœ€ä½³å®è·µ - 1</title><link>https://www.EWhisper.cn/spring-boot-on-k8s-1.html</link><description>&lt;p&gt;&lt;img alt="Spring+K8s" src="./images/spring_k8s.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹å¼€æ–°å‘â€”â€”æŠŠSpring Boot å¾®æœåŠ¡éƒ¨ç½²åˆ°å®¹å™¨å¹³å°ï¼ˆK8Sï¼ŒOpenShiftï¼‰ä¸Šï¼&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚å†…å®¹ä¼šåŒ…æ‹¬è¿™äº›ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Spring Boot å…¨å®¶æ¡¶ï¼ˆåŠå…¶ä»–æ›¿ä»£å“å’ŒK8Sçš„æ›¿ä»£å“ï¼‰&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹ç¨‹åºå‚è€ƒæ¶æ„&lt;/li&gt;
&lt;li&gt;åˆ›å»ºç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;è®¾è®¡å’Œéƒ¨ç½²Spring Boot å¾®æœåŠ¡åº”ç”¨&lt;/li&gt;
&lt;li&gt;æ€»ç»“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸€æ¬¡ï¼Œç›¸å…³çš„åœºæ™¯æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;Spring Cloud å¾®æœåŠ¡ç³»ç»Ÿå·²ç»æå‰æå¥½äº†ï¼Œå¹¶æ²¡æœ‰è¿è¡Œåœ¨å®¹å™¨å¹³å°ä¸Šï¼Œè€Œæ˜¯ç›´æ¥è¿è¡Œåœ¨è™šæœºä¸Šã€‚è¿™æ¬¡å°±æ˜¯åœ¨ç»“åˆSpring Bootçš„ç»„ä»¶å’ŒOpenShiftçš„ç›¸å…³æ¦‚å¿µå’Œä¼˜åŠ¿ï¼Œå°†å…¶è¿ç§»éƒ¨ç½²åˆ°å®¹å™¨å¹³å°ä¸Šã€‚&lt;/p&gt;
&lt;h2 id="spring-boot"&gt;Spring Boot å…¨å®¶æ¡¶åŠæ›¿ä»£å“&lt;a class="headerlink" href="#spring-boot" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æ›¿ä»£å“è¯·å…³æ³¨K8Sçš„ç›¸å…³æ›¿ä»£å“, æœ¬æ¬¡ä¸»è¦ç›®çš„æ˜¯ç»“åˆSpring Bootçš„ç»„ä»¶å’ŒOpenShiftçš„ç›¸å…³æ¦‚å¿µå’Œä¼˜åŠ¿.&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_2"&gt;æ¡†æ¶&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æœ¬ç³»åˆ—æ–‡ç« ä¸»è¦å…³æ³¨æ„å»ºåœ¨Spring Bootæ¡†æ¶ä¹‹ä¸Šçš„å¾®æœåŠ¡ä½“ç³»ç»“æ„ã€‚Spring Boot æ¡†æ¶å¯ä»¥ä½¿ç”¨å„ç§ç‰ˆæœ¬çš„Tomcatã€Jettyä½œä¸ºå®ƒçš„åµŒå…¥å¼servletå®¹å™¨ã€‚æœ¬æ–‡åªå…³æ³¨åœ¨åµŒå…¥å¼Tomcat Serverä¸Šä½¿ç”¨Spring Boot.&lt;/p&gt;
&lt;h3 id="_3"&gt;å®¢æˆ·ç«¯åº“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è™½ç„¶è°ƒç”¨å¾®æœåŠ¡é€šå¸¸æ˜¯é€šè¿‡HTTPå‘é€JSONæˆ–XML payloadè¿™æ ·ç®€å•çš„äº‹æƒ…ï¼Œä½†æ˜¯å„ç§å„æ ·çš„è€ƒè™‘å¯¼è‡´äº†ä¸“ç”¨å®¢æˆ·ç«¯åº“çš„æµè¡Œï¼Œç‰¹åˆ«æ˜¯åœ¨Spring Bootç¯å¢ƒä¸­ã€‚è¿™äº›åº“ä¸ä»…æä¾›ä¸Spring Bootçš„é›†æˆï¼Œè¿˜æä¾›ä¸å¾®æœåŠ¡ä½“ç³»ç»“æ„ä¸­ç»å¸¸éœ€è¦çš„è®¸å¤šå…¶ä»–å·¥å…·å’Œåº“çš„é›†æˆã€‚&lt;/p&gt;
&lt;h4&gt;Ribbon&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://github.com/Netflix/ribbon"&gt;Ribbon&lt;/a&gt;æ˜¯ä¸€ä¸ªå…·æœ‰å†…ç½®å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„è¿›ç¨‹é—´é€šä¿¡(RPC)åº“ã€‚ä¸»è¦çš„ä½¿ç”¨æ¨¡å‹åŒ…æ‹¬RESTè°ƒç”¨å’Œå„ç§åºåˆ—åŒ–æ–¹æ¡ˆæ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡çš„å®ä¾‹ç¨‹åºåªä½¿ç”¨Ribbonçš„æœ€åŸºæœ¬åŠŸèƒ½ã€‚å› ä¸ºRibbon å°±æ˜¯Spring Bootæ¡†æ¶å…¨å®¶æ¡¶çš„ä¸€å‘˜. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯åº“æ›¿ä»£å“: &lt;a href="https://grpc.io/"&gt;gRPC&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ Protocol Buffersåè®®. &lt;/p&gt;
&lt;p&gt;ä¼˜åŠ¿:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ›´å¥½çš„æ€§èƒ½å’Œå®‰å…¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŠ£åŠ¿:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ºç‰²äº†å…¼å®¹æ€§å’Œå·¥å…·æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="_4"&gt;æœåŠ¡æ³¨å†Œ&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¾®æœåŠ¡ä½“ç³»æ¶æ„é€šå¸¸æ„å‘³ç€åœ¨ç§æœ‰ã€æ··åˆæˆ–å…¬å…±äº‘ä¸­å¯¹å•ä¸ªæœåŠ¡è¿›è¡ŒåŠ¨æ€æ‰©å±•ï¼Œå…¶ä¸­ä¸»æœºçš„æ•°é‡å’Œåœ°å€ä¸èƒ½æ€»æ˜¯é¢„å…ˆé¢„æµ‹æˆ–é™æ€é…ç½®ã€‚(è¯´äººè¯, å¾®æœåŠ¡ç»å¸¸ä¼šæ¨ªå‘åŠ¨æ€æ‰©å±•.) è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒä½œä¸ºå‘ç°æ¯ä¸ªæœåŠ¡çš„å·²éƒ¨ç½²å®ä¾‹çš„èµ·ç‚¹ã€‚è¿™é€šå¸¸ç”±å®¢æˆ·ç«¯åº“æˆ–è´Ÿè½½å‡è¡¡å±‚è¿›è¡ŒåŒ¹é…ï¼Œå½“å‘ç°å®ä¾‹ä¸å†å­˜åœ¨æ—¶ï¼Œè¯¥å±‚ä¼šæ— ç¼åœ°è¿›è¡Œæ•…éšœè½¬ç§»ï¼Œå¹¶æ›´æ–°æœåŠ¡æ³¨å†Œè¡¨æŸ¥æ‰¾çš„ç¼“å­˜ã€‚æ›´è¿›ä¸€æ­¥è¯´ï¼Œå®¢æˆ·æœºåº“å’ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒä¹‹é—´çš„é›†æˆå¯ä»¥ä½¿æŸ¥æ‰¾å’Œè°ƒç”¨è¿‡ç¨‹æˆä¸ºå•ä¸ªæ­¥éª¤ï¼Œå¹¶ä¸”å¯¹å¼€å‘äººå‘˜æ˜¯é€æ˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç°ä»£äº‘ç¯å¢ƒä¸­ï¼Œè¿™ç§åŠŸèƒ½é€šå¸¸ç”±å¹³å°æä¾›(è¯´äººè¯: è¿™ä¸ªåº”è¯¥ç”±æˆ‘K8Sæ¥åš! ä½ æ¡†æ¶åšçš„å¤ªå¤šäº†! &lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f602.png" title=":joy:" width="20px"&gt; â€‹)ï¼Œè€ŒæœåŠ¡å¤åˆ¶å’Œæ‰©å±•æ˜¯ä¸€ä¸ªæ ¸å¿ƒç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡çš„ç¤ºä¾‹æ„å»ºåœ¨OpenShiftä¹‹ä¸Šï¼Œå°±ç”¨K8Sçš„Serviceæ¥åšæœåŠ¡æ³¨å†Œã€‚ &lt;/p&gt;
&lt;h4&gt;Eureka&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://github.com/Netflix/eureka"&gt;Eureka&lt;/a&gt;æ˜¯ä¸€ç§åŸºäºREST(REpresentational State Transfer)çš„æœåŠ¡ï¼Œä¸»è¦ç”¨äºå¾®æœåŠ¡ä¸­å®šä½æœåŠ¡ï¼Œä»¥å®ç°ä¸­é—´å±‚æœåŠ¡å™¨çš„è´Ÿè½½å¹³è¡¡å’Œæ•…éšœè½¬ç§»ã€‚&lt;/p&gt;
&lt;p&gt;Ribbonå’ŒEurekaä¹‹é—´çš„&lt;a href="https://github.com/Netflix/ribbon/wiki/Programmers-Guide#integration-with-eureka"&gt;ç´§å¯†é›†æˆ&lt;/a&gt;å…è®¸åœ¨è°ƒç”¨è€…ä½¿ç”¨Ribbonåº“æ—¶å£°æ˜æ€§åœ°ä½¿ç”¨Eureka.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;p&gt;æœåŠ¡æ³¨å†Œæ›¿ä»£å“: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.consul.io/intro/index.html"&gt;Consul&lt;/a&gt; - åœ¨Spring Cloud ä¸­ä¸Ribboné›†æˆå…è®¸å¯¹åœ¨ Consul ä¸Šæ³¨å†Œçš„æœåŠ¡è¿›è¡Œé€æ˜å’Œå£°æ˜æ€§æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href="https://zookeeper.apache.org/"&gt;ZooKeeper&lt;/a&gt; - Apache ZooKeeperæ˜¯ä¸€ä¸ªé›†ä¸­çš„æœåŠ¡ï¼Œç”¨äºç»´æŠ¤é…ç½®ä¿¡æ¯ã€å‘½åã€æä¾›åˆ†å¸ƒå¼åŒæ­¥å’Œæä¾›ç»„æœåŠ¡. åŒæ ·ï¼Œåœ¨Spring Cloudä¸­ZooKeeperçš„æ”¯æŒä»¥åŠä¸Ribbonçš„é›†æˆå…è®¸åœ¨è°ƒç”¨ä¹‹å‰å£°æ˜æ€§åœ°æŸ¥æ‰¾æœåŠ¡å®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/"&gt;K8S Service&lt;/a&gt; - Kubernetes Serviceå……å½“å†…éƒ¨è´Ÿè½½å‡è¡¡ã€‚å®ƒæ ‡è¯†ä¸€ç»„å¤åˆ¶çš„podï¼Œä»¥ä¾¿ä»£ç†å®ƒæ¥æ”¶åˆ°çš„è¿æ¥ã€‚å¯ä»¥åœ¨æœåŠ¡æœ¬èº«ä¿æŒä¸€è‡´å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œå‘æœåŠ¡æ·»åŠ æˆ–ä»æœåŠ¡ä¸­åˆ é™¤é¢å¤–çš„å¤‡ä»½podï¼Œä»è€Œä½¿ä¾èµ–äºæœåŠ¡çš„ä»»ä½•ä¸œè¥¿éƒ½å¯ä»¥é€šè¿‡ä¸€è‡´çš„åœ°å€å¼•ç”¨å®ƒã€‚ä¸ç¬¬ä¸‰æ–¹æœåŠ¡æ³¨å†Œä¸­å¿ƒä¸åŒï¼Œè´Ÿè´£æœåŠ¡å¤åˆ¶çš„å¹³å°å¯ä»¥éšæ—¶æä¾›æœåŠ¡å‰¯æœ¬çš„æœ€æ–°å‡†ç¡®æŠ¥å‘Šã€‚æœåŠ¡æŠ½è±¡ä¹Ÿæ˜¯ä¸åº•å±‚å¹³å°æœ¬èº«ä¸€æ ·å¯é çš„å…³é”®å¹³å°ç»„ä»¶ã€‚è¿™æ„å‘³ç€å®¢æˆ·ç«¯ä¸éœ€è¦ä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒæœ¬èº«çš„æ•…éšœä¿ç•™ç¼“å­˜å’Œå¸æˆ·ã€‚&lt;strong&gt;å¯ä»¥å£°æ˜æ€§åœ°å°†Ribboné…ç½®ä¸ºä½¿ç”¨OpenShiftè€Œä¸æ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä»£ç ã€‚&lt;/strong&gt; (è¯´äººè¯: ä¸Šå®¹å™¨å¹³å°å, K8Sçš„Serviceè¿˜æ˜¯å€¼å¾—ä¸€ç”¨çš„)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;è´Ÿè½½å‡è¡¡&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯¹äºå®¢æˆ·ç«¯å¯¹æ— çŠ¶æ€æœåŠ¡çš„è°ƒç”¨ï¼Œé«˜å¯ç”¨æ€§(HA)æ„å‘³ç€éœ€è¦ä»æœåŠ¡æ³¨å†Œä¸­å¿ƒæŸ¥æ‰¾æœåŠ¡ï¼Œä»¥åŠå¯ç”¨å®ä¾‹ä¹‹é—´çš„è´Ÿè½½å¹³è¡¡ã€‚å‰é¢æåˆ°çš„å®¢æˆ·ç«¯åº“åŒ…æ‹¬åˆå¹¶è¿™ä¸¤ä¸ªæ­¥éª¤çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®¹å™¨å¹³å°é€šè¿‡åœ¨ &lt;em&gt;Service&lt;/em&gt; æŠ½è±¡æ¦‚å¿µä¸­åŒ…å«è´Ÿè½½å¹³è¡¡åŠŸèƒ½ï¼Œä½¿å¾—è¿™ä¸¤ä¸ªæ“ä½œå˜å¾—å¤šä½™ã€‚OpenShiftæä¾›ä¸€ä¸ªå•ä¸€åœ°å€ï¼Œåœ¨è¿™ä¸ªåœ°å€ä¸­ï¼Œè°ƒç”¨å°†è¢«è´Ÿè½½å¹³è¡¡å¹¶é‡å®šå‘åˆ°é€‚å½“çš„å®ä¾‹ã€‚(è¯´äººè¯: Spring Bootè™½ç„¶æä¾›äº†åº“, ä½†è¿˜æ˜¯è¦å†™ä»£ç çš„; å®¹å™¨å¹³å°ç›´æ¥æä¾›Service, Serviceè‡ªåŠ¨åœ¨å®ä¾‹é—´è´Ÿè½½å‡è¡¡. å¯¹äºå¼€å‘æ¥è¯´, å°±æ˜¯åªç”¨é…ä¸€ä¸ªServiceåœ°å€, å°±å¯ä»¥è´Ÿè½½å‡è¡¡).&lt;/p&gt;
&lt;h4&gt;Ribbon&lt;/h4&gt;
&lt;p&gt;Ribbon å…è®¸åœ¨å£°æ˜çš„é™æ€å®ä¾‹åˆ—è¡¨ä¹‹é—´è¿›è¡Œ&lt;a href="https://github.com/Netflix/ribbon/wiki/Working-with-load-balancers"&gt;è´Ÿè½½å‡è¡¡&lt;/a&gt;ï¼Œæˆ–è€…åœ¨æ³¨å†Œè¡¨æŸ¥æ‰¾ä¸­å‘ç°æœåŠ¡çš„ä»»æ„å¤šä¸ªå®ä¾‹ä¹‹é—´è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;p&gt;è´Ÿè½½å‡è¡¡æ›¿ä»£å“:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gRPC - &lt;a href="https://github.com/grpc/grpc/blob/master/doc/load-balancing.md"&gt;è´Ÿè½½å‡è¡¡èƒ½åŠ›ä»‹ç»é“¾æ¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;K8S Service - OpenShifté€šè¿‡å…¶ &lt;em&gt;Service&lt;/em&gt;çš„æŠ½è±¡æ¦‚å¿µæä¾›&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/architecture/core-concepts#services"&gt;è´Ÿè½½å‡è¡¡&lt;/a&gt;ã€‚Service æ‰€å…¬å¼€çš„Cluster IPåœ°å€æ˜¯æä¾›æœåŠ¡çš„ä»»ä½•æ­£åœ¨è¿è¡Œçš„å‰¯æœ¬podä¹‹é—´çš„å†…éƒ¨è´Ÿè½½å‡è¡¡ã€‚åœ¨OpenShifté›†ç¾¤ä¸­ï¼ŒService åç§°è§£æä¸ºè¿™ä¸ªCluster IPåœ°å€ï¼Œå¹¶å¯ç”¨äºè´Ÿè½½å‡è¡¡ã€‚è¿™ç§åªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨, å¯¹äºå¤–éƒ¨åœ°å€ä¸èƒ½ç”¨.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="_6"&gt;æ–­è·¯å™¨&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¾®æœåŠ¡çš„é«˜åº¦åˆ†å¸ƒå¼ç‰¹æ€§æ„å‘³ç€è¿œç¨‹è°ƒç”¨å¤±è´¥çš„é£é™©æ›´é«˜ï¼Œå› ä¸ºæ­¤ç±»è¿œç¨‹è°ƒç”¨çš„æ•°é‡å¢åŠ äº†ã€‚æ–­è·¯å™¨æ¨¡å¼å¯ä»¥é€šè¿‡éš”ç¦»æœ‰é—®é¢˜çš„æœåŠ¡å’Œé¿å…ç ´åæ€§è¶…æ—¶æ¥å¸®åŠ©é¿å…è¿™ç±»æ•…éšœçš„çº§è”ã€‚&lt;/p&gt;
&lt;h4&gt;Hystrix&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://github.com/Netflix/Hystrix"&gt;Hystrix&lt;/a&gt;æ˜¯ä¸€ä¸ªå»¶è¿Ÿå¤„ç†å’Œæ•…éšœè½¬ç§»åŠŸèƒ½åº“ï¼Œæ—¨åœ¨éš”ç¦»è¿œç¨‹ç³»ç»Ÿã€æœåŠ¡å’Œç¬¬ä¸‰æ–¹åº“çš„è®¿é—®ç‚¹ï¼Œä¸­æ­¢çº§è”æ•…éšœï¼Œå¹¶åœ¨ä¸å¯é¿å…çš„å¤æ‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¯ç”¨å¼¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Hystrixå®ç°äº†æ–­è·¯å™¨å’Œ bulkhead æ¨¡å¼.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;p&gt;æš‚æ— . &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;service meshç®—ä¸€ä¸ª. ä½†æ˜¯ç›®å‰ç”¨çš„ä¸å¤š, ä¹Ÿä¸å¤Ÿç¨³å®š.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="_7"&gt;å¤–éƒ¨åŒ–é…ç½®&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¤–éƒ¨åŒ–é…ç½®ç®¡ç†è§£å†³æ–¹æ¡ˆå¯ä»¥ä¸º&lt;strong&gt;é…ç½®æ–‡ä»¶ã€å‘½ä»¤è¡Œå‚æ•°å’Œç¯å¢ƒå˜é‡&lt;/strong&gt;çš„å…¸å‹ç»„åˆæä¾›ä¸€ç§ä¼˜é›…çš„æ›¿ä»£æ–¹æ¡ˆï¼Œè¿™äº›é…ç½®æ–‡ä»¶ã€å‘½ä»¤è¡Œå‚æ•°å’Œç¯å¢ƒå˜é‡ç”¨äºä½¿åº”ç”¨ç¨‹åºæ›´åŠ å¯ç§»æ¤ï¼Œå¹¶å‡å°‘å¯¹å¤–éƒ¨æ›´æ”¹çš„å“åº”ã€‚&lt;/p&gt;
&lt;h4&gt;Spring Cloud Config&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://cloud.spring.io/spring-cloud-config/spring-cloud-config.html"&gt;Spring Cloud Config&lt;/a&gt;ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤–éƒ¨åŒ–é…ç½®æä¾›äº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ”¯æŒã€‚æœ‰äº†Config Serverï¼Œæ‚¨å°±æœ‰äº†ä¸€ä¸ªä¸­å¿ƒä½ç½®æ¥ç®¡ç†è·¨æ‰€æœ‰ç¯å¢ƒçš„åº”ç”¨ç¨‹åºçš„å¤–éƒ¨å±æ€§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;K8S ConfigMaps - &lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.7/html/developer_guide/dev-guide-configmaps"&gt;ConfigMaps&lt;/a&gt;å¯ä»¥ç”¨æ¥å­˜å‚¨ç»†ç²’åº¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å•ä¸ªå±æ€§ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨ç²—ç²’åº¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ•´ä¸ªé…ç½®æ–‡ä»¶æˆ–JSON blobã€‚å®ƒä»¬æä¾›äº†å°†é…ç½®æ•°æ®æ³¨å…¥å®¹å™¨çš„æœºåˆ¶ï¼ŒåŒæ—¶ä¿æŒå®¹å™¨ä¸å®¹å™¨å¹³å°æ— å…³ã€‚(ä¸ªäººä½“éªŒ: ç›®å‰è¿˜ä¸æ˜¯éå¸¸æˆç†Ÿ, æ¯”å¦‚ç‰ˆæœ¬è¿½æº¯ç›¸å…³åŠŸèƒ½å°±æ²¡æœ‰. )&lt;/li&gt;
&lt;li&gt;Apollo - &lt;a href="https://github.com/ctripcorp/apollo"&gt;Apolloï¼ˆé˜¿æ³¢ç½—ï¼‰&lt;/a&gt;æ˜¯æºç¨‹æ¡†æ¶éƒ¨é—¨ç ”å‘çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œèƒ½å¤Ÿé›†ä¸­åŒ–ç®¡ç†åº”ç”¨ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤çš„é…ç½®ï¼Œé…ç½®ä¿®æ”¹åèƒ½å¤Ÿå®æ—¶æ¨é€åˆ°åº”ç”¨ç«¯ï¼Œå¹¶ä¸”å…·å¤‡è§„èŒƒçš„æƒé™ã€æµç¨‹æ²»ç†ç­‰ç‰¹æ€§ï¼Œé€‚ç”¨äºå¾®æœåŠ¡é…ç½®ç®¡ç†åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="tracing"&gt;åˆ†å¸ƒå¼ Tracing&lt;a class="headerlink" href="#tracing" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å°½ç®¡å¾®æœåŠ¡ä½“ç³»ç»“æ„æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä½†æ˜¯&lt;strong&gt;å¾ˆéš¾åˆ†æå’Œæ’é™¤æ•…éšœ&lt;/strong&gt;ã€‚æ¯ä¸ªä¸šåŠ¡è¯·æ±‚åœ¨ä¸åŒçš„å±‚ä¸Šç”Ÿæˆå¯¹å„ä¸ªæœåŠ¡çš„å¤šä¸ªè°ƒç”¨ï¼Œä»¥åŠåœ¨å„ä¸ªæœåŠ¡ä¹‹é—´çš„å¤šä¸ªè°ƒç”¨ã€‚åˆ†å¸ƒå¼ Tracing å°†æ‰€æœ‰å•ç‹¬çš„æœåŠ¡è°ƒç”¨ç»‘å®šåœ¨ä¸€èµ·ï¼Œå¹¶é€šè¿‡æƒŸä¸€ç”Ÿæˆçš„IDå°†å®ƒä»¬ä¸ä¸šåŠ¡è¯·æ±‚å…³è”èµ·æ¥ã€‚&lt;/p&gt;
&lt;h4&gt;Sleuth/Zipkin&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://cloud.spring.io/spring-cloud-sleuth/"&gt;Spring Cloud Sleuth&lt;/a&gt;ä¸ºåº”ç”¨ç¨‹åºä¸­è¯·æ±‚ç‚¹ä¸Šçš„æ¯ä¸ªè°ƒç”¨å’Œ &lt;em&gt;span ID&lt;/em&gt;ç”Ÿæˆ&lt;em&gt;trace ID&lt;/em&gt;ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥ä¸æ—¥å¿—æ¡†æ¶é›†æˆï¼Œé€šè¿‡è·Ÿè¸ªæ—¥å¿—æ–‡ä»¶æ¥å¸®åŠ©è§£å†³åº”ç”¨ç¨‹åºçš„æ•…éšœï¼Œæˆ–è€…å¹¿æ’­åˆ°&lt;a href="http://zipkin.io/"&gt;Zipkin&lt;/a&gt;æœåŠ¡å™¨å¹¶å­˜å‚¨åˆ†æå’ŒæŠ¥å‘Šã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Jaeger - &lt;a href="https://github.com/uber/jaeger"&gt;Jaeger&lt;/a&gt;çš„çµæ„Ÿæ¥è‡ªäº&lt;a href="https://research.google.com/pubs/pub36356.html"&gt;Dapper&lt;/a&gt;å’Œ&lt;a href="http://zipkin.io/"&gt;OpenZipkin&lt;/a&gt;ï¼Œæ˜¯ä¸€ä¸ªå®Œå…¨ç¬¦åˆäº‘åŸç”ŸåŸºé‡‘ä¼š(CNCF) &lt;em&gt;OpenTracing&lt;/em&gt;æ ‡å‡†çš„å¼€æºåˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿã€‚å®ƒå¯ä»¥ç”¨äºç›‘è§†åŸºäºå¾®æœåŠ¡çš„ä½“ç³»ç»“æ„ï¼Œå¹¶æä¾›åˆ†å¸ƒå¼ä¸Šä¸‹æ–‡ä¼ æ’­å’Œäº‹åŠ¡ç›‘è§†ï¼Œä»¥åŠæœåŠ¡ä¾èµ–æ€§åˆ†æå’Œæ€§èƒ½/å»¶è¿Ÿä¼˜åŒ–ã€‚(å…³é”®å­—: CNCF æ ‡å‡†)&lt;/li&gt;
&lt;li&gt;Dynatrace - APMè¡Œä¸šæ’è¡Œç¬¬ä¸€çš„å•†ä¸šäº§å“, è´µ, ä½†å¥½ç”¨.&lt;/li&gt;
&lt;li&gt;pinpoint - ç±»ä¼¼çš„å¼€æºåˆ†å¸ƒå¼Tracing&lt;/li&gt;
&lt;li&gt;... - è¿™ç±»äº§å“è¿˜æŒºå¤šçš„. Skywalking, New Relic, Appdynamics, Datadog...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="_8"&gt;ä»£ç†/è·¯ç”±&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨æ¯ä¸ªæœåŠ¡è°ƒç”¨ä¹‹å‰æ·»åŠ ä»£ç†ï¼Œå¯ä»¥åœ¨è°ƒç”¨ä¹‹å‰å’Œä¹‹ååº”ç”¨å„ç§ filtersï¼Œä»¥åŠå¾®æœåŠ¡ä½“ç³»ç»“æ„ä¸­çš„è®¸å¤šå¸¸è§æ¨¡å¼ï¼Œæ¯”å¦‚A/Bæµ‹è¯•ã€‚é™æ€å’ŒåŠ¨æ€è·¯ç”±è§„åˆ™å¯ä»¥å¸®åŠ©é€‰æ‹©æ‰€éœ€çš„æœåŠ¡ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h4&gt;Zuul&lt;/h4&gt;
&lt;p&gt;Zuulæ˜¯ä¸€ç§è¾¹ç¼˜æœåŠ¡ï¼Œæä¾›&lt;strong&gt;åŠ¨æ€è·¯ç”±ã€ç›‘è§†ã€å¼¹æ€§ã€å®‰å…¨æ€§&lt;/strong&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Zuulæ”¯æŒå¤šç§è·¯ç”±æ¨¡å‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜ å°„åˆ°ç›®çš„åœ°çš„å£°æ˜å¼URLæ¨¡å¼ï¼Œ&lt;/li&gt;
&lt;li&gt;é©»ç•™åœ¨åº”ç”¨ç¨‹åº archiveä¹‹å¤–å¹¶åŠ¨æ€ç¡®å®šè·¯ç”±çš„groovyè„šæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æ›¿ä»£å“:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Istio - &lt;a href="https://istio.io/faq/"&gt;Istio&lt;/a&gt;æ˜¯ä¸€ä¸ªå¼€æ”¾çš„ç‹¬ç«‹äºå¹³å°çš„service meshï¼Œå®ƒæä¾›æµé‡ç®¡ç†ã€ç­–ç•¥æ‰§è¡Œå’Œé¥æµ‹æ•°æ®æ”¶é›†ã€‚Istioæ—¨åœ¨ç®¡ç†å¾®æœåŠ¡å’Œåº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="_9"&gt;å°ç»“&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¯ä¸å¤šè¯´, çœ‹è¡¨:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Spring Boot å…¨å®¶æ¡¶&lt;/th&gt;
&lt;th&gt;Spring Boot å…¨å®¶æ¡¶&lt;/th&gt;
&lt;th&gt;K8Sä¸Šæ›¿ä»£å“&lt;/th&gt;
&lt;th&gt;å…¶ä»–æ›¿ä»£å“&lt;/th&gt;
&lt;th&gt;ä¸ªäººå»ºè®®&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å®¢æˆ·ç«¯åº“&lt;/td&gt;
&lt;td&gt;Ribbon&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;td&gt;gRPC&lt;/td&gt;
&lt;td&gt;Ribbonå¥½ç”¨; gRPCæ€§èƒ½å¥½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœåŠ¡æ³¨å†Œ&lt;/td&gt;
&lt;td&gt;Eureka&lt;/td&gt;
&lt;td&gt;Service&lt;/td&gt;
&lt;td&gt;Consulå’ŒZooKeeper&lt;/td&gt;
&lt;td&gt;EurekaæŒºå¥½; ä¸Šå®¹å™¨Serviceäº¦å¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è´Ÿè½½å‡è¡¡&lt;/td&gt;
&lt;td&gt;Ribbon&lt;/td&gt;
&lt;td&gt;Service&lt;/td&gt;
&lt;td&gt;gRPC&lt;/td&gt;
&lt;td&gt;RibbonæŒºå¥½; ä¸Šå®¹å™¨Serviceäº¦å¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ–­è·¯å™¨&lt;/td&gt;
&lt;td&gt;Hystrix&lt;/td&gt;
&lt;td&gt;~~Service Mesh~~ç®—åŠä¸ª&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;td&gt;Hystrix&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤–éƒ¨åŒ–é…ç½®&lt;/td&gt;
&lt;td&gt;Spring Cloud Config&lt;/td&gt;
&lt;td&gt;ConfigMap&lt;/td&gt;
&lt;td&gt;Apollo&lt;/td&gt;
&lt;td&gt;Spring Cloud Configå¤Ÿç”¨å°±ç”¨; å¦åˆ™æ¨èApollo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åˆ†å¸ƒå¼ Tracing&lt;/td&gt;
&lt;td&gt;Sleuth/Zipkin&lt;/td&gt;
&lt;td&gt;Jaeger&lt;/td&gt;
&lt;td&gt;Dynatrace; pinpoint...&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä»£ç†/è·¯ç”±&lt;/td&gt;
&lt;td&gt;Zuul&lt;/td&gt;
&lt;td&gt;Istio&lt;/td&gt;
&lt;td&gt;ç•¥&lt;/td&gt;
&lt;td&gt;Zuulæ€§èƒ½å¤Ÿç”¨å°±ç”¨;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Mon, 11 Nov 2019 19:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-11:/spring-boot-on-k8s-1.html</guid><category>spring boot</category><category>k8s</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category></item><item><title>æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨å®¹å™¨äº‘å¹³å°ä¸Šéƒ¨ç½²Java åº”ç”¨</title><link>https://www.EWhisper.cn/deploy-java-app-on-openshift.html</link><description>&lt;p&gt;&lt;img alt="" src="./images/tomcat-docker.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ç¯‡æ•™ç¨‹ä¼šä½¿ç”¨ Tomcat + PostgreSQL åˆ›å»ºä¸€ä¸ª &lt;strong&gt;å¾…åŠæ¸…å•&lt;/strong&gt; (todolist) åº”ç”¨. å¹¶éƒ¨ç½²åˆ°OpenShiftä¸Š.ä»¥æ­¤æ¥æ¼”ç¤ºå®Œæ•´çš„java åº”ç”¨ä¸Šå®¹å™¨å¹³å°(OpenShift)çš„æµç¨‹.&lt;/p&gt;
&lt;h3 id="_2"&gt;å…ˆå†³æ¡ä»¶&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬çš„Java 8å’ŒTomcatçŸ¥è¯†&lt;/li&gt;
&lt;li&gt;OpenJDK 8, Tomcat 8, Mavençš„æœ¬åœ°å®‰è£…ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;åŸºæœ¬çš„GitçŸ¥è¯†&lt;/li&gt;
&lt;li&gt;OpenShift 4çš„è¿è¡Œå®ä¾‹&lt;/li&gt;
&lt;li&gt;ç¡®ä¿OpenShiftå®¹å™¨å¹³å°çš„å®ä¾‹æ­£åœ¨è¿è¡Œå¹¶ä¸”å¯ç”¨ã€‚å¦å¤–ï¼Œè¯·ç¡®ä¿å·²å®‰è£…CLIå®¢æˆ·ç«¯&lt;code&gt;oc&lt;/code&gt;ï¼Œå¹¶ä¸”å¯ä»¥ä»å‘½ä»¤shellè¯¥å‘½ä»¤ï¼Œä»¥ä¾¿å¯ä»¥ä½¿ç”¨å®ƒé€šè¿‡è´¦å·å’Œå¯†ç ç™»å½•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;è®¾ç½®æ•°æ®åº“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Java åº”ç”¨ç¨‹åºå‡ ä¹æ€»æ˜¯ä¸æ•°æ®åº“ä¸€èµ·ä½¿ç”¨ã€‚å¯¹äºæœ¬åœ°å¼€å‘ï¼Œè¯·ä½¿ç”¨PostgreSQLæ•°æ®åº“ã€‚(ä½¿ç”¨MySQLçš„è¿‡ç¨‹æ˜¯å®Œå…¨ä¸€æ ·çš„, åªæ˜¯å®‰è£…çš„ä¸ºMySQLæˆ–MariaDB).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…æ•°æ®åº“: &lt;code&gt;$ sudo yum install -y postgresql postgresql-server postgresql-devel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–æ•°æ®åº“: &lt;code&gt;$ sudo postgresql-setup initdb&lt;/code&gt;. æ­¤å‘½ä»¤ä¼šåˆ›å»º&lt;code&gt;/var/lib/pgsql/data&lt;/code&gt;ç›®å½•, æ•°æ®å­˜åœ¨è¿™ä¸ªç›®å½•.&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æ•°æ®åº“: &lt;code&gt;$ sudo systemctl start postgresql.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“å¯åŠ¨å, åˆ›å»ºæ™®é€šè´¦æˆ·: &lt;code&gt;$ sudo -u postgres createuser -s jws&lt;/code&gt;. è¯·æ³¨æ„ï¼Œåˆ›å»ºçš„ç”¨æˆ·æ²¡æœ‰å¯†ç ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="java"&gt;å†™ Java åº”ç”¨&lt;a class="headerlink" href="#java" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœè¦ä»å¤´å¼€å§‹å®‰è£…javaå’Œtomcatï¼Œåˆ™å¿…é¡»å…ˆå®‰è£…OpenJDK 8 ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ç»§ç»­ç¼–å†™åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£… OpenJDK8: &lt;code&gt;$ sudo yum install java-1.8.0-openjdk-devel.x86_64&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;éªŒè¯javaç‰ˆæœ¬:&lt;code&gt;$ java -version&lt;/code&gt; è¾“å‡ºç¤ºä¾‹: &lt;code&gt;openjdk version "1.8.0_171&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸‹è½½JAVA IDEå¹¶å®‰è£…é…ç½®, å¦‚IDEAæˆ–Eclipse.&lt;a href="https://www.eclipse.org/downloads/"&gt;https://www.eclipse.org/downloads/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»è¿™ä¸ªé“¾æ¥ä¸‹è½½Tomcat 8 åº”ç”¨: &lt;a href="https://tomcat.apache.org/download-80.cgi"&gt;https://tomcat.apache.org/download-80.cgi&lt;/a&gt;. ç„¶åè§£å‹å³å¯: &lt;code&gt;tar -xvzf apache-tomcat-8.5.47.tar.gz -C /opt/&lt;/code&gt;. é‚£ä¹ˆTomcatçš„Homeç›®å½•å°±æ˜¯: &lt;code&gt;/opt/apache-tomcat-8.5.47&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸‹è½½Mavenå¹¶å®‰è£…. &lt;a href="https://maven.apache.org/download.cgi"&gt;https://maven.apache.org/download.cgi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä¸‹è½½JDBCé©±åŠ¨.&lt;/li&gt;
&lt;li&gt;æ‰“å¼€IDEæ–°å»ºä¸€ä¸ªJAVAå·¥ç¨‹ - &lt;code&gt;todolist-jdbc&lt;/code&gt;, ç„¶åè¿›è¡Œç¼–ç . å·¥ç¨‹çš„ç»“æ„å¦‚ä¸‹: (æºç é“¾æ¥: &lt;a href="https://dev.tencent.com/u/east4ming/p/openshift-quickstarts/git/tree/1.2/tomcat-jdbc"&gt;https://dev.tencent.com/u/east4ming/p/openshift-quickstarts/git/tree/1.2/tomcat-jdbc&lt;/a&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ tree .
.
â”œâ”€â”€ pom.xml
â””â”€â”€ src
    â””â”€â”€ main
        â”œâ”€â”€ java
        â”‚   â””â”€â”€ org
        â”‚       â””â”€â”€ openshift
        â”‚           â””â”€â”€ quickstarts
        â”‚               â””â”€â”€ tomcat
        â”‚                   â”œâ”€â”€ dao
        â”‚                   â”‚   â”œâ”€â”€ JdbcTomcatDAO.java
        â”‚                   â”‚   â””â”€â”€ TomcatDAO.java
        â”‚                   â”œâ”€â”€ model
        â”‚                   â”‚   â””â”€â”€ TomcatEntry.java
        â”‚                   â”œâ”€â”€ service
        â”‚                   â”‚   â””â”€â”€ TomcatService.java
        â”‚                   â””â”€â”€ servlet
        â”‚                       â””â”€â”€ MainServlet.java
        â””â”€â”€ webapp
            â”œâ”€â”€ WEB-INF
            â”‚   â”œâ”€â”€ index.html
            â”‚   â””â”€â”€ web.xml
            â””â”€â”€ resources
                â””â”€â”€ css
                    â”œâ”€â”€ bootstrap-theme.min.css
                    â””â”€â”€ bootstrap.min.css
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="7"&gt;
&lt;li&gt;ç”Ÿæˆç›¸å…³ä¾èµ–é¡¹&lt;code&gt;pom.xml&lt;/code&gt;: å¦‚JDBCå’Œæ¡†æ¶. æ„å»ºä½¿ç”¨&lt;code&gt;maven&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;å°†æ•°æ®åº“é…ç½®ä¸ºJNDIèµ„æº, ç®€å•ç¤ºä¾‹å¦‚ä¸‹: &lt;code&gt;/opt/apache-tomcat-8.5.47/conf/context.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;Resource&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;jboss/datasources/defaultDS&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;auth=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Container&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;javax.sql.DataSource&amp;quot;&lt;/span&gt;
               &lt;span class="na"&gt;maxTotal=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;25&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;maxIdle=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;5&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;maxWaitMillis=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;5000&amp;quot;&lt;/span&gt;
               &lt;span class="na"&gt;username=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;root&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;password=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mypassword&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;driverClassName=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;org.postgresql.Driver&amp;quot;&lt;/span&gt;
               &lt;span class="na"&gt;url=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;jdbc:postgresql://localhost/test&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="9"&gt;
&lt;li&gt;å¯åŠ¨tomcatæŸ¥çœ‹æ—¥å¿—ç¡®å®šæ•°æ®åº“æ˜¯å¦å·²å¯ä»¥æ­£å¸¸è¿æ¥.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="index"&gt;åˆ›å»º index é¡µé¢&lt;a class="headerlink" href="#index" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¦‚è¿°å¦‚ä¸‹, MVCæ¨¡å¼:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Model: &lt;code&gt;TomcatEntry&lt;/code&gt;ç±», &lt;code&gt;getSummary()&lt;/code&gt;  &lt;code&gt;setSummary()&lt;/code&gt;ç­‰æ–¹æ³•. è§&lt;a href="https://dev.tencent.com/u/east4ming/p/openshift-quickstarts/git/blob/1.2/tomcat-jdbc/src/main/java/org/openshift/quickstarts/tomcat/model/TomcatEntry.java"&gt;https://dev.tencent.com/u/east4ming/p/openshift-quickstarts/git/blob/1.2/tomcat-jdbc/src/main/java/org/openshift/quickstarts/tomcat/model/TomcatEntry.java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;View: &lt;code&gt;index.html&lt;/code&gt;. åŒ…å«å¯¹&lt;code&gt;Summary&lt;/code&gt; çš„POSTå’ŒGET http method. è§&lt;a href="https://dev.tencent.com/u/east4ming/p/openshift-quickstarts/git/blob/1.2/tomcat-jdbc/src/main/webapp/WEB-INF/index.html"&gt;https://dev.tencent.com/u/east4ming/p/openshift-quickstarts/git/blob/1.2/tomcat-jdbc/src/main/webapp/WEB-INF/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Controller: &lt;code&gt;MainServlet.java&lt;/code&gt;. åŒ…å«&lt;code&gt;MainServlet&lt;/code&gt;ç±», åŒ…å«&lt;code&gt;doPost()``doGet()&lt;/code&gt;ç­‰æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”¨IDE, é…ç½®tomcatè¿è¡ŒéªŒè¯é¡µé¢æ˜¯å¦å¯ç”¨.&lt;/p&gt;
&lt;p&gt;é€šè¿‡è®¿é—®&lt;a href="http://localhost:8080"&gt;http://localhost:8080&lt;/a&gt; æ¥æŸ¥çœ‹é¡µé¢. å¦‚æœæ²¡æœ‰çœ‹åˆ°è¯¥é¡µé¢ï¼Œå¯ä»¥æŸ¥çœ‹tomcatçš„è¾“å‡ºæ—¥å¿—ã€‚&lt;/p&gt;
&lt;h3 id="openshift"&gt;åœ¨ OpenShift ä¸Šé…ç½®åº”ç”¨&lt;a class="headerlink" href="#openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºä¸åœ¨OpenShift Container Platformä¸­è¿è¡Œçš„PostgreSQLæ•°æ®åº“æœåŠ¡é€šä¿¡ï¼Œæ‚¨å¿…é¡»ç¼–è¾‘å…¶ä¸­çš„å†™æ­»çš„éƒ¨åˆ†ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆè¿è¡Œåœ¨OpenShiftä¹‹ä¸Šçš„ä»£ç å’Œæœ¬åœ°ä»£ç å·®åˆ«å…¶å®å¾ˆå°. å¦‚æœæœ€åˆè¿è¡Œåœ¨æœ¬åœ°æˆ–å¼€å‘ç¯å¢ƒ. é‚£ä¹ˆç±»ä¼¼ä»¥ä¸‹çš„ä»£ç å°±ä¼šå†™æ­», ä½œä¸ºå¯¹æ¯”, å¦‚æœæ˜¯OpenShift, åˆ™å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ENV:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pom.xml&lt;/code&gt;åŸå§‹ç‰ˆæœ¬:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-surefire-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.1.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;skip&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/skip&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;pom.xml&lt;/code&gt; OpenShiftç‰ˆæœ¬: å–„ç”¨å˜é‡ (è¯¦è§&lt;code&gt;${}&lt;/code&gt;å†…çš„å†…å®¹)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-surefire-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;${version.surefire.plugin}&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;skip&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/skip&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;JdbcTomcatDAO.java&lt;/code&gt;åŸå§‹ç‰ˆæœ¬:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="n"&gt;DataSource&lt;/span&gt; &lt;span class="nf"&gt;lookupDataSource&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Context&lt;/span&gt; &lt;span class="n"&gt;initialContext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;InitialContext&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DataSource&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;initialContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;lookup&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;jboss/datasources/defaultDS&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NameNotFoundException&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;Context&lt;/span&gt; &lt;span class="n"&gt;envContext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;initialContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;lookup&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;java:comp/env&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;  &lt;span class="c1"&gt;// Tomcat places datasources inside java:comp/env&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DataSource&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;envContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;lookup&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getenv&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;DB_JNDI&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;));&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NamingException&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;RuntimeException&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Could not look up datasource&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;JdbcTomcatDAO.java&lt;/code&gt; OpenShiftç‰ˆæœ¬: å–„ç”¨ç¯å¢ƒå˜é‡ ENV (è¯¦è§: &lt;code&gt;System.getenv&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="n"&gt;DataSource&lt;/span&gt; &lt;span class="nf"&gt;lookupDataSource&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Context&lt;/span&gt; &lt;span class="n"&gt;initialContext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;InitialContext&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DataSource&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;initialContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;lookup&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getenv&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;DB_JNDI&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;));&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NameNotFoundException&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;Context&lt;/span&gt; &lt;span class="n"&gt;envContext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;initialContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;lookup&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;java:comp/env&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;  &lt;span class="c1"&gt;// Tomcat places datasources inside java:comp/env&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DataSource&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;envContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;lookup&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getenv&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;DB_JNDI&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;));&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NamingException&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;RuntimeException&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Could not look up datasource&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="git"&gt;ä½¿ç”¨ Git&lt;a class="headerlink" href="#git" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨OpenShift Container Platformä¸­æ„å»ºåº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦å°†æºä»£ç å­˜å‚¨åœ¨gitå­˜å‚¨åº“ä¸­(å»ºè®®)ï¼Œå› æ­¤å¦‚æœå°šæœªå®‰è£…&lt;code&gt;git&lt;/code&gt;ï¼Œåˆ™å¿…é¡»è¿›è¡Œå®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰æ&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…git&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡®ä¿ä½äºå·¥ç¨‹ç›®å½•ä¸­;&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–ä»£ç å¹¶æäº¤åˆ°git:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ git init
$ git add .
$ git commit -m &lt;span class="s2"&gt;&amp;quot;initial commit&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;æäº¤åº”ç”¨ç¨‹åºåï¼Œå¿…é¡»å°†å…¶æ¨é€åˆ°è¿œç¨‹å­˜å‚¨åº“ã€‚å¦‚GitHubå¸æˆ·ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­åˆ›å»ºæ–°çš„å­˜å‚¨åº“ã€‚&lt;/li&gt;
&lt;li&gt;è®¾ç½®æŒ‡å‘æ‚¨çš„&lt;code&gt;git&lt;/code&gt;å­˜å‚¨åº“çš„è¿œç¨‹æœåŠ¡å™¨ï¼š&lt;code&gt;$ git remote add origin git@github.com:&amp;lt;namespace/repository-name&amp;gt;.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†æ‚¨çš„åº”ç”¨ç¨‹åºæ¨é€åˆ°è¿œç¨‹gitå­˜å‚¨åº“ã€‚&lt;code&gt;$ git push&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="openshift_1"&gt;éƒ¨ç½²åº”ç”¨åˆ° OpenShift&lt;a class="headerlink" href="#openshift_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ‚¨å¯ä»¥å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°OpenShiftå®¹å™¨å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨OpenShiftä¸Šåˆ›å»º&lt;code&gt;java-app&lt;/code&gt;é¡¹ç›®åï¼Œæ‚¨å°†è‡ªåŠ¨åˆ‡æ¢åˆ°æ–°çš„é¡¹ç›®namespaceã€‚&lt;/p&gt;
&lt;p&gt;åœ¨OpenShift Container Platformä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºæ¶‰åŠä¸‰ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»OpenShiftå®¹å™¨å¹³å°çš„PostgreSQL é•œåƒåˆ›å»ºæ•°æ®åº“æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ä»ä¸æ•°æ®åº“æœåŠ¡è¿æ¥çš„OpenShift Container Platformçš„ &lt;code&gt;JBoss Web Server 3.1 Apache TomcatÂ 8Â builder&lt;/code&gt; (REDHATåŸºäºå¼€æºç‰ˆtomcatåšäº†éƒ¨åˆ†å®šåˆ¶, å¯ä»¥å’Œä½¿ç”¨å¼€æºç‰ˆtomcatä¸€æ ·ä½¿ç”¨å®ƒ) é•œåƒ(docker image)å’Œjavaæºä»£ç åˆ›å»ºjavaæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºè·¯ç”±å’ŒåŸŸåã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¦éƒ¨ç½² JAVA åº”ç”¨ç¨‹åºï¼Œè¯·ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®: &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc new-project java-app --description&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Todolist Java application&amp;quot;&lt;/span&gt; --display-name&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Todolist + JDBC JAVA Application&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_4"&gt;åˆ›å»ºæ•°æ®åº“æœåŠ¡&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ‚¨çš„Java åº”ç”¨ç¨‹åºéœ€è¦æ­£åœ¨è¿è¡Œçš„æ•°æ®åº“æœåŠ¡ã€‚å¯¹äºæ­¤æœåŠ¡ï¼Œä½¿ç”¨PostgeSQLæ•°æ®åº“é•œåƒæ¥åˆ›å»ºã€‚&lt;/p&gt;
&lt;p&gt;è¦åˆ›å»ºæ•°æ®åº“æœåŠ¡ï¼Œæ‚¨å°†ä½¿ç”¨&lt;code&gt;oc new-app&lt;/code&gt;å‘½ä»¤ã€‚å¯¹äºæ­¤å‘½ä»¤ï¼Œæ‚¨å¿…é¡»ä¼ é€’ä¸€äº›å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼Œè¿™äº›å˜é‡å°†åœ¨æ•°æ®åº“å®¹å™¨å†…éƒ¨ä½¿ç”¨ã€‚è¿™äº›ç¯å¢ƒå˜é‡æ˜¯è®¾ç½®æ•°æ®åº“çš„ç”¨æˆ·åï¼Œå¯†ç å’Œåç§°æ‰€å¿…éœ€çš„ã€‚æ‚¨å¯ä»¥å°†è¿™äº›ç¯å¢ƒå˜é‡çš„å€¼æ›´æ”¹ä¸ºæ‰€éœ€çš„ä»»ä½•å€¼ã€‚å˜é‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;POSTGRESQL_DATABASE&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POSTGRESQL_USER&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POSTGRESQL_PASSWORD&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®¾ç½®è¿™äº›å˜é‡å¯ç¡®ä¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­˜åœ¨å…·æœ‰æŒ‡å®šåç§°çš„æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;li&gt;å­˜åœ¨å…·æœ‰æŒ‡å®šåç§°çš„ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·å¯ä»¥ç”¨æŒ‡å®šçš„JDBCé…ç½®è®¿é—®æŒ‡å®šçš„æ•°æ®åº“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºæ•°æ®åº“æœåŠ¡ï¼š&lt;code&gt;$ oc new-app postgresql -e POSTGRESQL_DATABASE=db_name -e POSTGRESQL_USER=username -e POSTGRESQL_PASSWORD=password&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿè¿›åº¦: &lt;code&gt;$ oc get pods --watch&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="java_1"&gt;åˆ›å»º Java æœåŠ¡&lt;a class="headerlink" href="#java_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦å°†åº”ç”¨ç¨‹åºå¸¦å…¥OpenShiftå®¹å™¨å¹³å°ï¼Œå¿…é¡»æŒ‡å®šä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰€åœ¨çš„å­˜å‚¨åº“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºJAVAæœåŠ¡ï¼Œå¹¶æŒ‡å®šåœ¨åˆ›å»ºæ•°æ®åº“æœåŠ¡æ—¶è®¾ç½®çš„ä¸æ•°æ®åº“ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc new-app path/to/source/code --name&lt;span class="o"&gt;=&lt;/span&gt;todolist-jdbc &lt;span class="se"&gt;\&lt;/span&gt;
-e &lt;span class="nv"&gt;POSTGRESQL_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;username -e &lt;span class="nv"&gt;POSTGRESQL_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;password -e &lt;span class="nv"&gt;POSTGRESQL_DATABASE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;db_name -e &lt;span class="nv"&gt;DATABASE_SERVICE_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;postgresql &lt;span class="se"&gt;\&lt;/span&gt;
-e &lt;span class="nv"&gt;DB_JNDI&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;jboss/datasources/defaultDS&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;ä½¿ç”¨æ­¤å‘½ä»¤ï¼ŒOpenShift Container Platformå¯ä»¥è·å–æºä»£ç ï¼Œè®¾ç½®builder ä»¥æ„å»ºæ‚¨çš„åº”ç”¨ç¨‹åºdocker é•œåƒï¼Œå¹¶å°†æ–°åˆ›å»ºçš„é•œåƒä¸æŒ‡å®šçš„ç¯å¢ƒå˜é‡ä¸€èµ·éƒ¨ç½²ã€‚è¯¥åº”ç”¨ç¨‹åºåä¸º&lt;code&gt;todolist-jdbc&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡æŸ¥çœ‹&lt;code&gt;todolist-jdbc&lt;/code&gt;çš„&lt;code&gt;DeploymentConfig&lt;/code&gt; çš„JSONé…ç½®æ¥éªŒè¯æ˜¯å¦å·²æ·»åŠ ç¯å¢ƒå˜é‡ï¼š&lt;code&gt;$ oc get dc todolist-jdbc -o json&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åº”è¯¥ä¼šçœ‹åˆ°ä¸‹åˆ—å†…å®¹:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;env&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: [&lt;/span&gt;
&lt;span class="s2"&gt;    {&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;name&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;POSTGRESQL_USER&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;value&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;username&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    },&lt;/span&gt;
&lt;span class="s2"&gt;    {&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;name&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;POSTGRESQL_PASSWORD&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;value&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;password&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    },&lt;/span&gt;
&lt;span class="s2"&gt;    {&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;name&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;POSTGRESQL_DATABASE&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;value&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;db_name&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    },&lt;/span&gt;
&lt;span class="s2"&gt;    {&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;name&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;DATABASE_SERVICE_NAME&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;value&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;postgresql&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    }&lt;/span&gt;
&lt;span class="s2"&gt;    {&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;name&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;DB_JNDI&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;value&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="err"&gt;jboss/datasources/defaultDS&amp;quot;&lt;/span&gt;
    &lt;span class="err"&gt;}&lt;/span&gt;
&lt;span class="err"&gt;],&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="5"&gt;
&lt;li&gt;æ£€æŸ¥æ„å»ºè¿‡ç¨‹ï¼š&lt;code&gt;$ oc logs -f build/todolist-jdbc-app-1&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;æ„å»ºå®Œæˆåï¼Œè¯·æŸ¥çœ‹OpenShift Container Platformä¸­æ­£åœ¨è¿è¡Œçš„Podï¼š&lt;code&gt;$ oc get pods&lt;/code&gt; . æ‚¨åº”è¯¥çœ‹åˆ°ä»¥&lt;code&gt;todolist-jdbc-&amp;lt;number&amp;gt;-&amp;lt;hash&amp;gt;&lt;/code&gt;å¼€å¤´çš„podï¼Œè¿™æ˜¯æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨OpenShift Container Platformä¸­è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¦åœ¨ç¨‹åºæ­£å¸¸è¿è¡Œä¹‹å‰, å…ˆè¿è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬æ¥åˆå§‹åŒ–æ•°æ®åº“. æœ‰3æ–¹æ³•:&lt;ol&gt;
&lt;li&gt;ä»pgsqlä¸­æ‰‹åŠ¨è¿›è¡Œ:&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;rsh&lt;/code&gt;å‘½ä»¤è¿›å…¥åˆ°å®¹å™¨ä¸­: &lt;code&gt;$ oc rsh &amp;lt;PGSQL_POD_ID&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨pgsqlå®¢æˆ·ç«¯è¿è¡Œsqlåˆå§‹åŒ–è„šæœ¬&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯ä»¥åˆ›å»ºä¸ªæ¨¡æ¿ - &lt;code&gt;template&lt;/code&gt;å¯¹è±¡, åœ¨å…¶ä¸­æ·»åŠ éƒ¨ç½²å‰è¦æ‰§è¡Œçš„hook, æ¥è‡ªåŠ¨è§¦å‘. &lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_5"&gt;åˆ›å»ºåº”ç”¨çš„è®¿é—®åŸŸå&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¿™æ ·æ‚¨å¯ä»¥å…¬å¼€æœåŠ¡ä»¥ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºè·¯ç”±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¦ç»™æœåŠ¡æä¾›å¤–éƒ¨å¯è®¿é—®çš„åŸŸåï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨OpenShiftå®¹å™¨å¹³å°çš„routeræä¾›&lt;code&gt;todolist.apps.example.com&lt;/code&gt;ï¼‰æ¥å…¬å¼€è¯¥æœåŠ¡ ã€‚æ‚¨éœ€è¦è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥å‘å¸ƒå‰ç«¯æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc expose service todolist-jdbc --hostname&lt;span class="o"&gt;=&lt;/span&gt;todolist.apps.example.com
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å‰ææ˜¯&lt;code&gt;todolist.apps.example.com&lt;/code&gt;å·²ç»è¢«è§£æåˆ°OpenShifté›†ç¾¤çš„routerä¸Šäº†. &lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬OpenShiftç®¡ç†å‘˜ä¼šé…ç½®æ³›åŸŸå&lt;code&gt;*.apps.example.com&lt;/code&gt;Â éƒ½è§£æåˆ°OpenShiftçš„routerä¸Š.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_6"&gt;æ€»ç»“&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šä»‹ç»äº†java åº”ç”¨&lt;strong&gt;æºä»£ç éƒ¨ç½²&lt;/strong&gt;çš„æ–¹å¼. JAVAåº”ç”¨è¦éƒ¨ç½²åœ¨OpenShiftä¸Š. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å»ºè®®æŠŠJAVAåº”ç”¨æ”¾åˆ°Gitä¸Š.  è¿™æ ·æ–¹ä¾¿è¿½è¸ª.&lt;/li&gt;
&lt;li&gt;å»ºè®®ä»£ç é‡Œä¸ç¡®å®šçš„å†…å®¹ä½¿ç”¨ç¯å¢ƒå˜é‡ENVæ¥è¿›è¡Œè·å–å’Œé…ç½®.&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“å¯ä»¥ä½¿ç”¨OpenShiftè‡ªå¸¦çš„pgsql, MongoDB, Mysqlå®¹å™¨é•œåƒ;&lt;/li&gt;
&lt;li&gt;ä¸çº¯dockeræˆ–çº¯k8sç›¸æ¯”, åº”ç”¨å¯ä»¥ç›´æ¥æºä»£ç + openshiftçš„tomcat8 builderé•œåƒè‡ªåŠ¨ç”Ÿæˆå¯ç”¨çš„é•œåƒå¹¶éƒ¨ç½². å› ä¸º:&lt;ol&gt;
&lt;li&gt;builderé•œåƒå†…åŒ…å«mavenç­‰builderå·¥å…·. å®ƒä¼šå°†æºç pullä¸‹æ¥, mavenç¼–è¯‘ä¸ºWARåŒ…, åŒæ—¶ä¼šæ ¹æ®ä¼ å…¥çš„ç¯å¢ƒå˜é‡ç”Ÿæˆç›¸å…³é…ç½®çš„xmlæ–‡ä»¶. å†æŠŠwaråŒ…æ”¾åˆ°æŒ‡å®šç›®å½•ä¸‹. &lt;/li&gt;
&lt;li&gt;ç„¶åç”Ÿæˆæ–°çš„é•œåƒå¹¶éƒ¨ç½².&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;oc new-app&lt;/code&gt;è¿™ä¸ªå‘½ä»¤å…¶å®é™¤äº†åˆ›å»º&lt;code&gt;deployment&lt;/code&gt;  &lt;code&gt;pod&lt;/code&gt;å¤–, ä¸€èˆ¬è¿˜ä¼šæ ¹æ®åŸºç¡€é•œåƒçš„&lt;code&gt;EXPOSE&lt;/code&gt; è‡ªåŠ¨åˆ›å»ºç›¸å…³&lt;code&gt;SERVICE&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;æœ€åè¦ä½¿å¤–éƒ¨å¯ä»¥è®¿é—®è¯¥åº”ç”¨. ä½¿ç”¨&lt;code&gt;oc expose service &amp;lt;service_name&amp;gt;&lt;/code&gt; å°†åº”ç”¨å‘å¸ƒåˆ°æŸä¸ªåŸŸå.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“ç„¶, å…¶å®ä¸Šè¾¹è¿™äº›æ­¥éª¤ä¸‹æ¥, è¿˜æ˜¯æœ‰äº›éº»çƒ¦çš„. å¦å¤–è¿˜ä¼šæœ‰ä¸€äº›ç‰¹æ®Šæƒ…å†µæ— æ³•ä½¿ç”¨è¿™ç§æ–¹å¼:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸æ–¹ä¾¿æä¾›æˆ–å¼€æ”¾æºç , åªèƒ½æä¾›äºŒè¿›åˆ¶åŒ…(å¦‚waråŒ…), å¯ä»¥ä½¿ç”¨waråŒ…è¿›è¡Œ. ç®€å•ç¤ºä¾‹å¦‚ä¸‹: &lt;code&gt;$ oc start-build billing-service --from-file=todolist.war&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœè‡ªå·±æƒ³é€šè¿‡Docker imageæ–¹å¼æä¾›, å¯ä»¥è¿™ä¹ˆåš: &lt;code&gt;$ oc new-app -e MYSQL_USER=product -e MYSQL_PASSWORD=password --docker-image=172.30.182.75:5000/deploy-project/msa-product --name=product-service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœè‡ªå·±å·²ç»é€šè¿‡Jenkinså®ç°äº†CI/CDè‡ªåŠ¨åŒ–æµç¨‹. é‚£ä¹ˆä¹Ÿå¯ä»¥ç»“åˆèµ·æ¥æ¥ç”¨. jenkinsæœ‰openshiftæ’ä»¶, æˆ–è€…ä¹Ÿå¯ä»¥åœ¨jenkinsçš„slaveèŠ‚ç‚¹ä¸Šå®‰è£…&lt;code&gt;oc&lt;/code&gt;å®¢æˆ·ç«¯.&lt;/li&gt;
&lt;li&gt;æœ€å, æœ€å¼ºå¤§å¿«æ·è€Œåˆä¸ºç¨‹åºå‘˜æ‰€ä¹ æƒ¯çš„æ–¹æ³•, æ˜¯é€šè¿‡&lt;code&gt;odo&lt;/code&gt;Â å·¥å…·. è¿™æ˜¯OpenShift 4æ–°å‘å¸ƒçš„ä¸“é—¨é’ˆå¯¹å¼€å‘äººå‘˜çš„ OpenShift å‘½ä»¤è¡Œ. ä½¿ç”¨æ–¹å¼å’Œ&lt;code&gt;git push&lt;/code&gt;éå¸¸åƒ, å°è£…äº†å¾ˆå¤šç¨‹åºå‘˜ä¸å¤ªäº†è§£çš„å®¹å™¨å’ŒK8Sçš„æ¦‚å¿µ. ä½ è¦åšçš„å°±æ˜¯ç±»ä¼¼å‰é¢å†™çš„: init, commit, pushå°±å¥½äº†. (ä»¥åæœ‰æ—¶é—´è¯¦ç»†è¯´æ˜ä¸‹)&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 07 Nov 2019 18:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-07:/deploy-java-app-on-openshift.html</guid><category>java</category><category>openshift</category><category>æœ€ä½³å®è·µ</category><category>devops</category></item><item><title>åœ¨K8S Volumeä¸­ä½¿ç”¨ subPath</title><link>https://www.EWhisper.cn/use-subpath-in-k8s.html</link><description>&lt;p&gt;&lt;img alt="" src="./images/kubernetes_logo.png"&gt;&lt;/p&gt;
&lt;h2 id="subpath"&gt;ä½¿ç”¨ subPath&lt;a class="headerlink" href="#subpath" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œåœ¨å•ä¸ª Pod ä¸­å…±äº«å·ä»¥ä¾›å¤šæ–¹ä½¿ç”¨æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ &lt;code&gt;volumeMounts.subPath&lt;/code&gt; å±æ€§å¯ç”¨äºæŒ‡å®šæ‰€å¼•ç”¨çš„å·å†…çš„å­è·¯å¾„ï¼Œè€Œä¸æ˜¯å…¶æ ¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨åŒä¸€å…±äº«å·çš„ã€å†…å« LAMP æ ˆï¼ˆLinux Apache Mysql PHPï¼‰çš„ Pod çš„ç¤ºä¾‹ã€‚ HTML å†…å®¹è¢«æ˜ å°„åˆ°å·çš„ &lt;code&gt;html&lt;/code&gt; æ–‡ä»¶å¤¹ï¼Œæ•°æ®åº“å°†è¢«å­˜å‚¨åœ¨å·çš„ &lt;code&gt;mysql&lt;/code&gt; æ–‡ä»¶å¤¹ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Pod&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-lamp-site&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
      &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
      &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;
        &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rootpasswd&amp;quot;&lt;/span&gt;
      &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/lib/mysql&lt;/span&gt;
        &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;site-data&lt;/span&gt;
        &lt;span class="nt"&gt;subPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mysql&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;php&lt;/span&gt;
      &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;php:7.0-apache&lt;/span&gt;
      &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/www/html&lt;/span&gt;
        &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;site-data&lt;/span&gt;
        &lt;span class="nt"&gt;subPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;html&lt;/span&gt;
    &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;site-data&lt;/span&gt;
      &lt;span class="nt"&gt;persistentVolumeClaim&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;claimName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-lamp-site-data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¯¹ä¸Šé¢çš„é…ç½®è¿›è¡Œè¯´æ˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;volumeMounts&lt;/code&gt; ä¸‹é¢çš„&lt;code&gt;name&lt;/code&gt;, å°±æ˜¯åˆ†é…ç»™è¿™ä¸ªpodçš„volumeçš„åå­—&lt;code&gt;site-data&lt;/code&gt;, mysqlå’Œphpçš„htmlåˆ†åˆ«ä½¿ç”¨äº†å®ƒçš„å­è·¯å¾„: &lt;code&gt;mysql&lt;/code&gt; å’Œ&lt;code&gt;html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;volumes&lt;/code&gt; å¯¹äº&lt;code&gt;site-data&lt;/code&gt;è¿™ä¸ªvolume, æ˜¯é€šè¿‡PVCçš„å½¢å¼æä¾›çš„, PVCçš„nameä¸º: &lt;code&gt;my-lamp-site-data&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="subpath_1"&gt;ä½¿ç”¨å¸¦æœ‰æ‰©å±•ç¯å¢ƒå˜é‡çš„ subPath&lt;a class="headerlink" href="#subpath_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;FEATURE STATE:&lt;/strong&gt; &lt;code&gt;Kubernetes v1.15&lt;/code&gt; &lt;a href="https://kubernetes.io/zh/docs/concepts/storage/#"&gt;feature-state-beta.txt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;subPathExpr&lt;/code&gt; å­—æ®µä» Downward API ç¯å¢ƒå˜é‡æ„é€  &lt;code&gt;subPath&lt;/code&gt; ç›®å½•åã€‚ åœ¨ä½¿ç”¨æ­¤ç‰¹æ€§ä¹‹å‰ï¼Œå¿…é¡»å¯ç”¨ &lt;code&gt;VolumeSubpathEnvExpansion&lt;/code&gt; åŠŸèƒ½å¼€å…³ã€‚ &lt;code&gt;subPath&lt;/code&gt; å’Œ &lt;code&gt;subPathExpr&lt;/code&gt; å±æ€§æ˜¯äº’æ–¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç¤ºï¦µä¸­ï¼ŒPod åŸºäº Downward API ä¸­çš„ Pod åç§°ï¼Œä½¿ç”¨ &lt;code&gt;subPathExpr&lt;/code&gt; åœ¨ hostPath å· &lt;code&gt;/var/log/pods&lt;/code&gt; ä¸­åˆ›å»ºç›®å½• &lt;code&gt;pod1&lt;/code&gt;ã€‚ ä¸»æœºç›®å½• &lt;code&gt;/var/log/pods/pod1&lt;/code&gt; æŒ‚è½½åˆ°äº†å®¹å™¨çš„ &lt;code&gt;/logs&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Pod&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;pod1&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;container1&lt;/span&gt;
    &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;POD_NAME&lt;/span&gt;
      &lt;span class="nt"&gt;valueFrom&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;fieldRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
          &lt;span class="nt"&gt;fieldPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;metadata.name&lt;/span&gt;
    &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;busybox&lt;/span&gt;
    &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;sh&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;-c&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;while&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;[&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;];&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;do&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;echo&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Hello&amp;#39;;&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;sleep&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;10;&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;done&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;|&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;tee&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;-a&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;/logs/hello.txt&amp;quot;&lt;/span&gt; &lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
    &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;workdir1&lt;/span&gt;
      &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/logs&lt;/span&gt;
      &lt;span class="nt"&gt;subPathExpr&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;$(POD_NAME)&lt;/span&gt;
  &lt;span class="nt"&gt;restartPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Never&lt;/span&gt;
  &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;workdir1&lt;/span&gt;
    &lt;span class="nt"&gt;hostPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/log/pods&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯´æ˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;envä¸­, é…ç½®äº†&lt;code&gt;POD_NAME&lt;/code&gt;è¿™ä¸ªç¯å¢ƒå˜é‡, è¿™ä¸ªå˜é‡çš„å€¼æ¥è‡ªäº&lt;code&gt;metadata.name&lt;/code&gt;, å³&lt;code&gt;pod1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;subPathExpr: $(POD_NAME)&lt;/code&gt; å­è·¯å¾„ä¸º&lt;code&gt;$(POD_NAME)&lt;/code&gt;è¿™ä¸ªå˜é‡, å°±æ˜¯&lt;code&gt;pod1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;volumeç”¨çš„æ˜¯&lt;code&gt;hostPath&lt;/code&gt;, å®é™…è·¯å¾„ä¸º:&lt;code&gt;/var/log/pods&lt;/code&gt;. é‚£ä¹ˆå®Œæ•´çš„pathå°±æ˜¯&lt;code&gt;/var/log/pods/pod1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_1"&gt;æ€»ç»“&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;subPath è¿˜æ˜¯æŒºå®ç”¨çš„, æ˜¯ä¸ªå°åŠŸèƒ½, ä½†æ˜¯ç¡®å®èƒ½æäº¤æ•ˆç‡. æ¯”å¦‚æˆ‘æ˜¨å¤©æ­å»ºçš„ç¦…é“çš„å®¹å™¨. å°±æ˜¯å…¸å‹çš„LAMP: Linux + Apache + Mysql + PHP.&lt;/p&gt;
&lt;p&gt;è¿™äº›ç»„ä»¶ä¸­, &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Apache&lt;/code&gt;çš„&lt;code&gt;www/html&lt;/code&gt;éœ€è¦æŒ‚è½½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mysql&lt;/code&gt;çš„æ•°æ®åº“éœ€è¦æŒ‚è½½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;php&lt;/code&gt;çš„åº”ç”¨æ•°æ®éœ€è¦æŒ‚è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæ²¡ç”¨subPath, é‚£ä¹ˆæˆ‘å¾—è¿™ä¹ˆæ“ä½œ: (ä»¥nfsä¸ºä¾‹)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;nfsä¸‹æ‰‹åŠ¨åˆ›å»º3ä¸ªå­ç›®å½•: &lt;code&gt;html&lt;/code&gt;Â  &lt;code&gt;mysql&lt;/code&gt;Â &lt;code&gt;php&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º3ä¸ªPV, åˆ†åˆ«ä¸º: &lt;code&gt;apache-volume&lt;/code&gt;  &lt;code&gt;mysql-volume&lt;/code&gt;  &lt;code&gt;php-volume&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å†™3ä¸ªPVC, åˆ†åˆ«æ˜¯: &lt;code&gt;apache-claim&lt;/code&gt; &lt;code&gt;mysql-claim&lt;/code&gt;  &lt;code&gt;php-claim&lt;/code&gt;. è€Œä¸”2å’Œ3è¿™ä¸¤æ­¥æœ€å¥½ä¸€ä¸ªpv+ä¸€ä¸ªPVCæ¥å»º. é¿å…boundä¹±äº†.&lt;/li&gt;
&lt;li&gt;å†ä¿®æ”¹&lt;code&gt;Deployment&lt;/code&gt; é…ç½®, ä¸€ä¸ªä¸ªæŒ‚è½½ä¸Šå».&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;â–³ ç®—ä¸‹æ¥,10æ­¥.&lt;/p&gt;
&lt;p&gt;ç”¨äº†subPath, ç¡®å®èŠ‚çœäº†å·¥ä½œé‡: (è¿˜æ˜¯ä»¥nfsä¸ºä¾‹)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»º1ä¸ªPV, ä¸º: &lt;code&gt;LAMP-volume&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º1ä¸ªPVC, ä¸º: &lt;code&gt;LAMP-claim&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å†ä¿®æ”¹&lt;code&gt;Deployment&lt;/code&gt; é…ç½®, æŒ‚è½½ä¸€ä¸ªPVC, ç”¨subPathåŒºåˆ†.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;â–³ ç®—ä¸‹æ¥, 3æ­¥.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 07 Nov 2019 16:20:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-11-07:/use-subpath-in-k8s.html</guid><category>k8s</category><category>æœ€ä½³å®è·µ</category></item><item><title>æ‰¹å¤„ç† æœ‰çŠ¶æ€ç­‰åº”ç”¨ç±»å‹åœ¨K8Sä¸Šåº”è¯¥å¦‚ä½•é…ç½®?</title><link>https://www.EWhisper.cn/choose-right-resources-on-k8s-based-your-app-type.html</link><description>&lt;p&gt;&lt;img alt="å…¸å‹æœ‰çŠ¶æ€åº”ç”¨-elastic" src="images/k8sandelastic.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥, Kubernetes(K8S)æ›´é€‚åˆè¿è¡Œ&lt;strong&gt;æ— çŠ¶æ€&lt;/strong&gt;åº”ç”¨, ä½†æ˜¯é™¤äº†æ— çŠ¶æ€åº”ç”¨. æˆ‘ä»¬è¿˜ä¼šæœ‰å¾ˆå¤šå…¶ä»–åº”ç”¨ç±»å‹, å¦‚: æœ‰çŠ¶æ€åº”ç”¨, æ‰¹å¤„ç†, ç›‘æ§ä»£ç†(æ¯å°ä¸»æœºä¸Šéƒ½å¾—è·‘), æ›´å¤æ‚çš„åº”ç”¨(å¦‚:hadoopç”Ÿæ€...). é‚£ä¹ˆè¿™äº›åº”ç”¨å¯ä»¥åœ¨K8Sä¸Šè¿è¡Œä¹ˆ? å¦‚ä½•é…ç½®?&lt;/p&gt;
&lt;p&gt;å…¶å®, K8Sé’ˆå¯¹è¿™äº›éƒ½æœ‰å¯¹åº”çš„ä¸åŒçš„è¿è¡Œæ–¹å¼. æ‚¨è¦åšçš„, å°±æ˜¯è€ƒè™‘æ‚¨çš„åº”ç”¨ç¨‹åºç±»å‹ä¼šå¦‚ä½•å½±å“å…¶è¿è¡Œæ–¹å¼.&lt;/p&gt;
&lt;p&gt;Kuberneteså®šä¹‰äº†é€‚ç”¨äºä¸åŒç±»å‹åº”ç”¨ç¨‹åºçš„ä¸åŒç±»å‹çš„å·¥ä½œè´Ÿè½½ã€‚è¦ç¡®å®šé€‚åˆæ‚¨çš„åº”ç”¨ç¨‹åºçš„å·¥ä½œè´Ÿè½½ï¼Œè¯·æ ¹æ®å¦‚ä¸‹æ€è·¯æ¥æ€è€ƒæ‚¨çš„åº”ç”¨ç¨‹åºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ˜¯ä¸ºäº†å®Œæˆä»»åŠ¡&lt;/strong&gt;ã€‚ä¸€ä¸ªå…¸å‹ä¾‹å­æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå¯åŠ¨æ—¶ä¼šè·‘ä¸€æ‰¹æ•°æ®ï¼Œå¹¶åœ¨æ‰¹å¤„ç†æ‰§è¡Œå®Œæˆåé€€å‡ºã€‚è¯¥åº”ç”¨ç¨‹åºå¯èƒ½ä¼šå®šæœŸè¿è¡Œ(å¦‚æ¯æœˆ)ã€‚å¯¹äºè¿™ç§ç±»å‹çš„åº”ç”¨ç¨‹åºï¼Œåˆé€‚çš„Kubernetes (æˆ–OpenShift) å®¹å™¨å¹³å°å¯¹è±¡åŒ…æ‹¬&lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/"&gt;Jobs&lt;/a&gt;å’Œ&lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/"&gt;CronJob&lt;/a&gt;  å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é•¿æ—¶é—´ä¸€ç›´è¿è¡Œ.&lt;/strong&gt; å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ç¼–å†™&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html-single/applications/#deployments-kube-deployments"&gt;Deployment&lt;/a&gt;æˆ–&lt;a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html-single/applications/#deployments-and-deploymentconfigs"&gt;DeploymentConfig&lt;/a&gt;ã€‚(å½“ç„¶å•¦, æœ€å¥½æ˜¯æ— çŠ¶æ€çš„)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¦æ±‚é«˜å¯ç”¨&lt;/strong&gt;. å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦é«˜å¯ç”¨ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦è°ƒæ•´éƒ¨ç½²çš„æ•°é‡ä»¥å…·æœ‰å¤šä¸ªå®ä¾‹ã€‚&lt;code&gt;Deployment&lt;/code&gt;æˆ–&lt;code&gt;DeploymentConfig&lt;/code&gt;èµ„æºç±»å‹å¯ä»¥åŒ…æ‹¬&lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/"&gt;ReplicaSet&lt;/a&gt;ã€‚å€ŸåŠ©&lt;code&gt;ReplicaSet&lt;/code&gt;ï¼ŒPodå¯ä»¥åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œä»¥ç¡®ä¿å³ä½¿å…¶ä¸­çš„ä¸€ä¸ªæˆ–æŸå‡ ä¸ªç¨‹åºä¸­æ–­ï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºå§‹ç»ˆè¿˜æ˜¯å¯ç”¨çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œ&lt;/strong&gt;ã€‚æŸäº›ç±»å‹çš„Kubernetesåº”ç”¨ç¨‹åºéœ€è¦åœ¨ç¾¤é›†ä¸­çš„æ¯ä¸ªä¸»èŠ‚ç‚¹(master)æˆ–å·¥ä½œèŠ‚ç‚¹(worker)ä¸Šè¿è¡Œã€‚DNSå’Œç›‘æ§çš„åº”ç”¨ç¨‹åºæ˜¯éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿ç»­è¿è¡Œçš„åº”ç”¨ç¨‹åºçš„å…¸å‹ä¾‹å­ã€‚æ‚¨å¯ä»¥å°†è¿™ç§ç±»å‹çš„åº”ç”¨ç¨‹åºä½œä¸º&lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/"&gt;DaemonSet&lt;/a&gt;è¿è¡Œã€‚æ‚¨è¿˜å¯ä»¥åŸºäºèŠ‚ç‚¹æ ‡ç­¾(node labels)åœ¨éƒ¨åˆ†ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ä¸Šè¿è¡ŒDaemonSetã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤æ‚çš„åº”ç”¨, æˆ–éœ€è¦å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/strong&gt;ã€‚å½“æ‚¨è¦ç§»äº¤åº”ç”¨ç¨‹åºä»¥ä¾¿å…¶ä»–è¿ç»´äººå‘˜å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨å®ƒæ—¶ï¼Œè¯·è€ƒè™‘åˆ›å»ºä¸€ä¸ª&lt;a href="https://coreos.com/operators/"&gt;Operator&lt;/a&gt; (ç±»ä¼¼HELM Charts, åŒºåˆ«æ˜¯HELMåªè´Ÿè´£å®‰è£…, Operatoré™¤äº†å®‰è£…, è¿˜å¤šäº†å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†)ã€‚Operator å¯è®©æ‚¨æ„å»ºæ™ºèƒ½çš„åº”ç”¨ï¼Œå› æ­¤å®ƒ&lt;strong&gt;å¯ä»¥è‡ªåŠ¨å¤„ç†å¤‡ä»½å’Œå‡çº§ä¹‹ç±»çš„äº‹æƒ…&lt;/strong&gt;ã€‚ä¸Operator Lifecycle Manager(Operator ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨, ç®€ç§°:OLM)ç»“åˆä½¿ç”¨ï¼Œé›†ç¾¤ç®¡ç†è€…å¯ä»¥å°†Operator æš´éœ²ç»™ç‰¹å®šçš„namespaceï¼Œä»¥ä¾¿é›†ç¾¤ä¸­çš„ç”¨æˆ·å¯ä»¥è¿è¡Œå®ƒä»¬ã€‚ç¤ºä¾‹æœ‰:&lt;/p&gt;
&lt;p&gt;&lt;img alt="OperatorHub" src="images/Operatorhub.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;weblogic é›†ç¾¤...&lt;/li&gt;
&lt;li&gt;redis é›†ç¾¤...&lt;/li&gt;
&lt;li&gt;elasticsearch é›†ç¾¤...&lt;/li&gt;
&lt;li&gt;Spark é›†ç¾¤...&lt;/li&gt;
&lt;li&gt;MongoDBçš„å‰¯æœ¬é›†, åˆ†ç‰‡é›†ç¾¤...&lt;/li&gt;
&lt;li&gt;TiDB é›†ç¾¤...&lt;/li&gt;
&lt;li&gt;Prometheus&lt;/li&gt;
&lt;li&gt;Istio&lt;/li&gt;
&lt;li&gt;Kafka é›†ç¾¤...&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœ‰èº«ä»½æˆ–ç¼–å·è¦æ±‚&lt;/strong&gt;ã€‚åº”ç”¨ç¨‹åºå¯èƒ½å…·æœ‰èº«ä»½è¦æ±‚æˆ–ç¼–å·è¦æ±‚ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥åº”ç”¨ç¨‹åºçš„ä¸å¤šä¸å°‘åˆšå¥½ä¸‰ä¸ªå®ä¾‹, å¹¶ä¸”å®ä¾‹å‘½åä¸º&lt;code&gt;0&lt;/code&gt;ï¼Œ&lt;code&gt;1&lt;/code&gt;å’Œ&lt;code&gt;2&lt;/code&gt;ã€‚é‚£ä¹ˆ&lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/"&gt;StatefulSet&lt;/a&gt;æ˜¯é€‚åˆäºè¿™ç§åº”ç”¨ã€‚StatefulSetå¯¹äºéœ€è¦ç‹¬ç«‹å­˜å‚¨çš„åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚æ•°æ®åº“å’ŒZookeeperç¾¤é›†ï¼‰æœ€æœ‰ç”¨ã€‚æ€»ç»“èµ·æ¥, å°±æ˜¯æœ‰çŠ¶æ€çš„åº”ç”¨å°±é€‰æ‹© StatefulSet .&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_1"&gt;æ€»ç»“&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åº”ç”¨ç±»å‹&lt;/th&gt;
&lt;th&gt;K8S èµ„æºç±»å‹&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Jobã€æ‰¹å¤„ç†&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Jobs&lt;/code&gt; &lt;code&gt;CronJob&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é•¿æ—¶é—´è¿è¡Œçš„æ— çŠ¶æ€åº”ç”¨&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Deployment&lt;/code&gt; &lt;code&gt;DeploymentConfig&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;DeploymentConfig&lt;/code&gt;æ˜¯OpenShiftç‰¹æœ‰çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é•¿æ—¶é—´è¿è¡Œçš„æ— çŠ¶æ€åº”ç”¨- é«˜å¯ç”¨&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Deployment&lt;/code&gt;é‡ŒåŠ &lt;code&gt;ReplicaSet&lt;/code&gt;å­—æ®µ&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„åº”ç”¨&lt;/td&gt;
&lt;td&gt;&lt;code&gt;DaemonSet&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤æ‚çš„åº”ç”¨, æˆ–éœ€è¦å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†çš„åº”ç”¨&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Operator&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Helm Charts&lt;/code&gt;ä¹Ÿé€‚ç”¨äºå®‰è£…å¤æ‚åº”ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœ‰çŠ¶æ€åº”ç”¨&lt;/td&gt;
&lt;td&gt;&lt;code&gt;StatefulSet&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 23 Oct 2019 14:40:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-23:/choose-right-resources-on-k8s-based-your-app-type.html</guid><category>K8S</category><category>æœ€ä½³å®è·µ</category><category>openshift</category><category>java</category></item><item><title>ä»Šå¤©è¢«å‰ä¸€ä¸ªé¡¹ç›®ç»„åŸ‹çš„é›·ç‚¸æƒ¨äº†!</title><link>https://www.EWhisper.cn/I-was-screwed-by-previous-project.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å‰è¨€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;åˆ†æå¤„ç†ç»è¿‡&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ç¬¬ä¸€ç§å¯èƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ç¬¬äºŒç§å¯èƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;ä¿®å¤&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ€»ç»“&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_7"&gt;ä¸Šä¸ªé¡¹ç›®ç»„çš„ä¸ƒå®—ç½ª&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;å†·æ±—ä¸æ­¢&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©è¢«å‰ä¸€ä¸ªé¡¹ç›®ç»„åŸ‹çš„é›·ç‚¸æƒ¨äº†! äº‹æƒ…æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;p&gt;&lt;img alt="å®šæ—¶ç‚¸å¼¹" src="./images/20191017183113.png"&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»Šå¹´æ¥æ‰‹äº† K8S å¹³å°çš„ç®¡ç†, è¿™å¥— K8S å¹³å°æ˜¯å‰ä¸€ä¸ªé¡¹ç›®ç»„(æŸå›½é™…æ€§å¼€æºå•†ä¸šå…¬å¸...)å®æ–½çš„. åŒ…æ‹¬äº†ä¸€æ•´å¥—å®Œæ•´çš„ CI/CD æµæ°´çº¿.&lt;/p&gt;
&lt;p&gt;è¿™å¥—æµæ°´çº¿ä¸­æœ‰ç”¨åˆ°SVN , ç”¨ä½œä¸€ä¸ªç®€æ˜“çš„åˆ¶å“åº“, ç”¨æ¥å­˜æ”¾è½¯ä»¶åŒ…, åç»­çš„æµæ°´çº¿ä¼šä»SVNä¸­æ‹‰å–è½¯ä»¶åŒ…å¹¶æ‰“æˆé•œåƒæ›´æ–°.&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ä»Šå¤©! åœ¨ä½¿ç”¨è¿™ä¸ªæµæ°´çº¿çš„ä¸€ä¸ªç³»ç»Ÿå¼€å‘å‘æˆ‘åé¦ˆæµæ°´çº¿è¿è¡ŒæŠ¥é”™äº†, æŠ¥é”™å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="pipeline error" src="./images/pipeline_error.png"&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ç™»å½•åˆ°è¿™ä¸ªSVNä»“åº“çœ‹äº†ä¸€çœ¼, æƒŠå‡ºäº†ä¸€èº«å†·æ±—! &lt;img align="absmiddle" alt="ğŸ˜±" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f631.png" title=":scream:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜±" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f631.png" title=":scream:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜±" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f631.png" title=":scream:" width="20px"&gt; -- SVNä»“åº“&lt;strong&gt;ç©ºäº†ï¼æ•°æ®å…¨æ²¡äº†ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ„å‘³ç€ï¼š&lt;strong&gt;è¿è¡Œè¿‘2å¹´, æ‰€æœ‰ä½¿ç”¨è¿™ä¸ªæµæ°´çº¿çš„ä¸šåŠ¡ç³»ç»Ÿå†å²å‘å¸ƒåŒ…, é…ç½®, ä»¥åŠåŸºç¡€é•œåƒç›¸å…³çš„ä»£ç , è„šæœ¬å…¨æ²¡äº†!&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;åˆ†æå¤„ç†ç»è¿‡&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœçœŸæ˜¯æ•°æ®å…¨ä¸¢çš„è¯é—®é¢˜å¤ªä¸¥é‡äº†! æˆ‘æ•´ä¸ªäººçœŸçš„æ˜¯è¿‡äº†å¥½ä¹…æˆ‘æ‰ä»è¿™ä¸ªæ‰“å‡»ä¸­æ¢å¤è¿‡æ¥. ç¬¬ä¸€ä¸ªæƒ³æ³•å°±æ˜¯èµ¶ç´§æƒ³åŠæ³•æ¢å¤æ•°æ®.&lt;/p&gt;
&lt;h3 id="_3"&gt;ç¬¬ä¸€ç§å¯èƒ½&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç™»å½•äº†SVN æœåŠ¡å™¨çœ‹äº†ä¸‹, 10å¤šä¸ªå°æ—¶å‰é‡å¯è¿‡. ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å¯èƒ½æ€§å°±æ˜¯: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…±äº«å­˜å‚¨æ²¡æŒ‚è½½?&lt;/li&gt;
&lt;li&gt;ä¸»æœºè¿ç§»è¿‡?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;èµ¶ç´§å»æ‰¾ä¸»æœºå’Œå­˜å‚¨ç»„å¸®å¿™æŸ¥äº†ä¸‹. ç»“æœå¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯¥ä¸»æœºæ²¡æœ‰å…±äº«å­˜å‚¨&lt;/li&gt;
&lt;li&gt;ä¸»æœºæ˜¯å…‹éš†åçš„ä¸»æœº, ä½†æ˜¯å…‹éš†å‰åæ•°æ®æ²¡æœ‰å‘ç”Ÿè¿‡ä¸¢å¤±&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;ç¬¬äºŒç§å¯èƒ½&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ’é™¤ç¬¬ä¸€ç§å¯èƒ½æ€§. æ¥ä¸‹æ¥å°±ä»”ç»†å…ˆæ£€æŸ¥äº†ä¸‹ SVN æœåŠ¡å™¨è¿è¡Œæƒ…å†µ, æ˜¯&lt;strong&gt;æœåŠ¡è‡ªå¯åŠ¨&lt;/strong&gt;çš„, å¯åŠ¨åè¿›ç¨‹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/usr/bin/svnserve --daemon --pid-file&lt;span class="o"&gt;=&lt;/span&gt;/run/svnserve/svnserve.pid -r /var/svn/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;çœ‹äº†ä¸‹&lt;code&gt;/var/svn&lt;/code&gt;, ç©ºç©ºå¦‚ä¹Ÿ, æ‰€æœ‰å†å²æ•°æ®éƒ½æ²¡æœ‰.&lt;/p&gt;
&lt;p&gt;è¿™æ—¶æ³¨æ„åˆ°&lt;code&gt;/&lt;/code&gt; ç›®å½•ç£ç›˜æœ‰ä¸€å®šçš„ä½¿ç”¨é‡, æ‰€ä»¥å°±æƒ³åˆ°äº†ç¬¬äºŒç§å¯èƒ½:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯ä¸æ˜¯SVNä»“åº“ä½ç½®ä¸æ˜¯é»˜è®¤çš„&lt;code&gt;/var/svn&lt;/code&gt;å•Š?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ä½¿ç”¨&lt;code&gt;du -sh&lt;/code&gt;é€ä¸€æŸ¥çœ‹å„ä¸ªç›®å½•,  è¿˜çœŸæœ‰æ”¶è·, å‘ç°&lt;code&gt;root&lt;/code&gt;å’Œ &lt;code&gt;/project&lt;/code&gt; ç›®å½•è¾ƒå¤§, è¿›ä¸€æ­¥æŸ¥çœ‹æ’é™¤&lt;code&gt;/root&lt;/code&gt;&lt;br&gt;
ç›®å½•.&lt;/p&gt;
&lt;p&gt;å†é€šè¿‡&lt;code&gt;history&lt;/code&gt; æŸ¥çœ‹å†å²å‘½ä»¤, å‘ç° K8S ä¸Šä¸€æœŸé¡¹ç›®ç»„ç¡®å®å°† SVN ä»“åº“æ”¾åˆ°äº†&lt;code&gt;/project&lt;/code&gt; ç›®å½•ä¸‹.&lt;/p&gt;
&lt;p&gt;é‚£è¿™æ¬¡è‡ªå¯åŠ¨åä¸ºå•¥ç›®å½•å˜äº†? ç„¶åç”¨&lt;code&gt;systemctl&lt;/code&gt;æŸ¥çœ‹ &lt;code&gt;svnserve&lt;/code&gt;çš„å‚æ•°, å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl cat svnserve.service
&lt;span class="c1"&gt;# /usr/lib/systemd/system/svnserve.service&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;Unit&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Subversion protocol daemon
&lt;span class="nv"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;syslog.target network.target

&lt;span class="o"&gt;[&lt;/span&gt;Service&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;forking
&lt;span class="nv"&gt;EnvironmentFile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/etc/sysconfig/svnserve
&lt;span class="nv"&gt;ExecStart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/bin/svnserve --daemon --pid-file&lt;span class="o"&gt;=&lt;/span&gt;/run/svnserve/svnserve.pid &lt;span class="nv"&gt;$OPTIONS&lt;/span&gt;

&lt;span class="o"&gt;[&lt;/span&gt;Install&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;multi-user.target
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ª&lt;code&gt;svnserve.service&lt;/code&gt; æœåŠ¡ä¼šè°ƒç”¨&lt;code&gt;/etc/sysconfig/svnserve&lt;/code&gt; , æŸ¥çœ‹è¯¥æ–‡ä»¶é…ç½®:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /etc/sysconfig/svnserve
&lt;span class="c1"&gt;# è¾“å‡ºå¦‚ä¸‹:&lt;/span&gt;
&lt;span class="nv"&gt;OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-r /var/svn/&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°±æ˜¯è¿™ä¸ªåœ°é›·&lt;img align="absmiddle" alt="ğŸ’£" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4a3.png" title=":bomb:" width="20px"&gt;!!!  -- &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸Šä¸ªé¡¹ç›®ç»„, å®‰è£…äº†SVN(åŒæ—¶è®¾ç½®äº†è‡ªå¯åŠ¨), æ”¹äº†ä»“åº“ä½ç½®, å´æ²¡æœ‰å°†ä¿®æ”¹åçš„ä»“åº“ä½ç½®åŠ å…¥åˆ°å¯åŠ¨å‚æ•°ä¸­!!!&lt;/strong&gt; å¯¼è‡´ä¸»æœºé‡å¯åè‡ªåŠ¨å¸¦èµ·æ¥çš„ SVN ä»“åº“ä¸å¯¹! &lt;img align="absmiddle" alt="ğŸ˜ " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f620.png" title=":angry:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜ " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f620.png" title=":angry:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜ " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f620.png" title=":angry:" width="20px"&gt;&lt;/p&gt;
&lt;h3 id="_5"&gt;ä¿®å¤&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å‘ç°é—®é¢˜å, ä¿®å¤èµ·æ¥å°±å¾ˆç®€å•äº†, ä¿®æ”¹&lt;code&gt;/etc/sysconfig/svnserve&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-r /project/svn/&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç„¶åé‡å¯ &lt;code&gt;svnserve&lt;/code&gt;å°±å¥½äº†.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl restart svnserve.service
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_6"&gt;æ€»ç»“&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_7"&gt;ä¸Šä¸ªé¡¹ç›®ç»„çš„ä¸ƒå®—ç½ª&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸æ•¬ç•å®¢æˆ·çš„ä¸šåŠ¡å’Œç¯å¢ƒ! æ²¡æœ‰ç«™åœ¨å®¢æˆ·è§’åº¦å»è€ƒè™‘å‘¨å…¨.&lt;/li&gt;
&lt;li&gt;å®‰è£…é…ç½®ä½¿ç”¨ SVNæ—¶, è¿‡äºéšæ„å’Œè‰ç‡, ä»æ²¡æœ‰è€ƒè™‘è¿‡ä¸»æœºé‡å¯çš„æƒ…å†µ!&lt;/li&gt;
&lt;li&gt;SVN å®‰è£…è¿‡ç¨‹, æœªç”Ÿæˆè¯¦ç»†çš„è¿‡ç¨‹æ–‡æ¡£å’Œé…ç½®æ–‡æ¡£. &lt;/li&gt;
&lt;li&gt;SVN å®‰è£…å, æœªç”Ÿæˆè¯¦ç»†çš„è¿ç»´æ–‡æ¡£.&lt;/li&gt;
&lt;li&gt;äº¤æ¥æœŸ, åªäº¤æ¥äº†SVN åœ°å€, SVNè´¦å·å¯†ç . æœªè¿›ä¸€æ­¥äº¤æ¥: ä¸»æœºè´¦å·å¯†ç , SVNé…ç½®ä¿¡æ¯.&lt;/li&gt;
&lt;li&gt;é¡¹ç›®ç»ç†, å¯¹é¡¹ç›®ç»†èŠ‚ç¼ºä¹æŠŠæ§.&lt;/li&gt;
&lt;li&gt;ç”±æ­¤å±•å¼€, å¯èƒ½è¿˜ä¼šåŸ‹æœ‰æ›´å¤šè¿™æ ·æˆ‘å°šä¸æ¸…æ¥š, ä½†æ˜¯ä¸æ•´ä¸ªK8S ç³»ç»Ÿç´§å¯†ç›¸å…³çš„é›·&lt;img align="absmiddle" alt="ğŸ’£" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4a3.png" title=":bomb:" width="20px"&gt;. å®ƒä»¬å¯èƒ½æ•£è½åœ¨K8S ç³»ç»Ÿçš„å„ä¸ªè§’è½ç”šè‡³K8S ä¹‹å¤–, å­˜åœ¨è¾ƒå¤§é£é™©.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_8"&gt;å†·æ±—ä¸æ­¢&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;äº‹åæˆ‘ä»ç„¶å†·æ±—ä¸æ­¢, å› ä¸ºåˆšå‡ºç°é—®é¢˜çš„ç¬¬ä¸€æ—¶é—´, æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯è§£å†³å›¾ç‰‡ä¸Šçš„SVN æŠ¥é”™. è€Œè§£å†³çš„åŠæ³•, å°±æ˜¯å°†é”™å°±é”™, ç›´æ¥åˆå§‹åŒ–ä¸€ä¸‹, ç„¶åç”¨è¿™ä¸ªç©ºçš„SVN ä»“åº“... å½“ç„¶, å¦‚æœè¿™æ ·, é‚£è¿™ä¸ªé›·&lt;img align="absmiddle" alt="ğŸ’£" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4a3.png" title=":bomb:" width="20px"&gt;, ç›¸å½“äºæ˜¯æˆ‘å‘ç°å®ƒç‚¸äº†ä¸€ä¸ªäº†, æˆ‘æŠŠå‰©ä¸‹çš„ç†„ç­å, åˆåŸ‹ä¸‹å»äº†! é‚£ä¸‹ä¸€æ¬¡çˆ†ç‚¸, å¨åŠ›å°±ä¸ä»…æ­¢äºæ­¤äº†.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 17 Oct 2019 18:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-17:/I-was-screwed-by-previous-project.html</guid><category>devops</category><category>docker</category><category>git</category><category>k8s</category><category>openshift</category><category>é—®é¢˜åˆ†æ</category><category>é¡¹ç›®ç®¡ç†</category></item><item><title>åœ¨NGINXä¸­æ ¹æ®ç”¨æˆ·çœŸå®IPè¿›è¡Œé™åˆ¶</title><link>https://www.EWhisper.cn/deny-xff-ip-in-nginx.html</link><description>&lt;p&gt;&lt;img alt="NGINX LOGO" src="images/nginx-logo.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;éœ€æ±‚&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦æ ¹æ®ç”¨æˆ·çš„çœŸå®IPè¿›è¡Œé™åˆ¶, ä½†æ˜¯NGINXå‰è¾¹è¿˜æœ‰ä¸ªF5, å¯¼è‡´&lt;code&gt;deny&lt;/code&gt;æŒ‡ä»¤ä¸ç”Ÿæ•ˆ.&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;é˜»æ­¢ç”¨æˆ·çš„çœŸå®IP&lt;strong&gt;ä¸æ˜¯&lt;/strong&gt;&lt;code&gt;192.168.14.*&lt;/code&gt;å’Œ&lt;code&gt;192.168.15.*&lt;/code&gt;çš„è®¿é—®è¯·æ±‚.&lt;/p&gt;
&lt;h2 id="_2"&gt;å®ç°&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å…³äº&lt;code&gt;deny&lt;/code&gt;æŒ‡ä»¤çš„ä½¿ç”¨, è¯·å‚è§æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« : &lt;a href="https://www.EWhisper.cn/nginx-handbook-2-1-control-access.html"&gt;NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-è®¿é—®æ§åˆ¶&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€ç®€å•çš„å®ç°å¦‚ä¸‹:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å‰ç½®æ¡ä»¶:&lt;/p&gt;
&lt;p&gt;éœ€è¦nginxå‰è¾¹çš„load balancerè®¾å¤‡(å¦‚F5)å¼€å¯&lt;code&gt;X-Forwarded-For&lt;/code&gt;æ”¯æŒ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="s"&gt;X-Forwarded-For&lt;/span&gt;  &lt;span class="nv"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$proxy_add_x_forwarded_for&lt;/span&gt; &lt;span class="s"&gt;!~&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;192\.168\.1[45]&amp;quot;)&lt;/span&gt;  &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;403&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;      
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯´æ˜å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;&lt;/code&gt; è·å–è¯·æ±‚å¤´&lt;code&gt;X-Forwarded-For&lt;/code&gt;ä¸­çš„ç”¨æˆ·çœŸå®IP, å¹¶é™„åŠ åˆ°&lt;code&gt;$proxy_add_x_forwarded_for&lt;/code&gt;å˜é‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;if...&lt;/code&gt; &lt;ul&gt;
&lt;li&gt;&lt;code&gt;(...)&lt;/code&gt; å˜é‡&lt;code&gt;$proxy_add_x_forwarded_for&lt;/code&gt; ä¸åŒ¹é…æ­£åˆ™&lt;code&gt;192\.168\.1[45]&lt;/code&gt; (å³&lt;code&gt;192.168.14.*&lt;/code&gt;å’Œ&lt;code&gt;192.168.15.*&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;return 403&lt;/code&gt;, å¦‚æœä¸Šè¾¹çš„æ¡ä»¶æ»¡è¶³, è¿”å›403&lt;/li&gt;
&lt;li&gt;å³: å¦‚æœçœŸå®IPä¸æ˜¯&lt;code&gt;192.168.14.*&lt;/code&gt;å’Œ&lt;code&gt;192.168.15.*&lt;/code&gt;, è¿”å›403.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæœ‰æ›´å¤æ‚çš„éœ€æ±‚, å¯ä»¥å‚è€ƒè¿™ä¸ªç¤ºä¾‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;proxy_set_header&lt;/span&gt; &lt;span class="s"&gt;HOST&lt;/span&gt; &lt;span class="nv"&gt;$http_host&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="s"&gt;X-Forwarded-For&lt;/span&gt;  &lt;span class="nv"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$http_host&lt;/span&gt; &lt;span class="p"&gt;~&lt;/span&gt; &lt;span class="sr"&gt;&amp;quot;yourdomain.hypernode.io:8443&amp;quot;)&lt;/span&gt;  &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kn"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;$block_me_now&lt;/span&gt; &lt;span class="s"&gt;A&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$proxy_add_x_forwarded_for&lt;/span&gt; &lt;span class="s"&gt;!=&lt;/span&gt; &lt;span class="s"&gt;YOURIP)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kn"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;$block_me_now&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;${block_me_now}B&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$block_me_now&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;AB)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;403&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="deny"&gt;ä¸ºå•¥&lt;code&gt;deny&lt;/code&gt;é…ç½®ä¸èµ·ä½œç”¨?&lt;a class="headerlink" href="#deny" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ¤”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f914.png" title=":thinking:" width="20px"&gt;ç–‘é—®: ä¸ºå•¥ä»¥ä¸‹çš„é…ç½®ä¸èµ·ä½œç”¨?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.14.0/24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.15.0/24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;deny&lt;/span&gt; &lt;span class="s"&gt;all&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ ¹æ®nginxå®˜æ–¹æ–‡æ¡£, &lt;code&gt;deny&lt;/code&gt;æŒ‡ä»¤æ˜¯æ ¹æ®" client address"è¿›è¡Œé™åˆ¶çš„.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¼•ç”¨:&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;ngx_http_access_module&lt;/code&gt; module allows limiting access to certain &lt;strong&gt;client addresses&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è€Œ" client address" å¯¹åº”çš„å˜é‡æ˜¯: &lt;code&gt;$remote_addr&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¼•ç”¨:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$remote_addr&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;â€‹    client address&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ¤”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f914.png" title=":thinking:" width="20px"&gt;é‚£ä¹ˆ, å¯ä¸å¯ä»¥ç›´æ¥é€šè¿‡ä¿®æ”¹å˜é‡&lt;code&gt;$remote_addr&lt;/code&gt;, ç„¶åé€šè¿‡é…ç½®&lt;code&gt;deny&lt;/code&gt;æ¥å®ç°? å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="s"&gt;X-Forwarded-For&lt;/span&gt;  &lt;span class="nv"&gt;$remote_addr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.14.0/24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.15.0/24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;deny&lt;/span&gt; &lt;span class="s"&gt;all&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;ç­”æ¡ˆæ˜¯&lt;/strong&gt;: ä¸å¯ä»¥.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£é‡Šå¦‚ä¸‹:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…³äº&lt;code&gt;$remote_addr&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;æ˜¯nginxä¸å®¢æˆ·ç«¯è¿›è¡ŒTCPè¿æ¥è¿‡ç¨‹ä¸­ï¼Œè·å¾—çš„å®¢æˆ·ç«¯çœŸå®åœ°å€. Remote Address æ— æ³•ä¼ªé€ ï¼Œå› ä¸ºå»ºç«‹ TCP è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¦‚æœä¼ªé€ äº†æº IPï¼Œæ— æ³•å»ºç«‹ TCP è¿æ¥ï¼Œæ›´ä¸ä¼šæœ‰åé¢çš„ HTTP è¯·æ±‚&lt;/p&gt;
&lt;p&gt;remote_addrä»£è¡¨å®¢æˆ·ç«¯çš„IPï¼Œä½†å®ƒçš„å€¼ä¸æ˜¯ç”±å®¢æˆ·ç«¯æä¾›çš„ï¼Œè€Œæ˜¯æœåŠ¡ç«¯æ ¹æ®å®¢æˆ·ç«¯çš„ipæŒ‡å®šçš„ï¼Œå½“ä½ çš„æµè§ˆå™¨è®¿é—®æŸä¸ªç½‘ç«™æ—¶ï¼Œå‡è®¾ä¸­é—´æ²¡æœ‰ä»»ä½•ä»£ç†ï¼Œé‚£ä¹ˆç½‘ç«™çš„webæœåŠ¡å™¨ï¼ˆNginxï¼ŒApacheç­‰ï¼‰å°±ä¼šæŠŠremote_addrè®¾ä¸ºä½ çš„æœºå™¨IPï¼Œå¦‚æœä½ ç”¨äº†æŸä¸ªä»£ç†(å…¶å®F5å°±æ˜¯ä¸ªåå‘ä»£ç†)ï¼Œé‚£ä¹ˆä½ çš„æµè§ˆå™¨ä¼šå…ˆè®¿é—®è¿™ä¸ªä»£ç†ï¼Œç„¶åå†ç”±è¿™ä¸ªä»£ç†è½¬å‘åˆ°ç½‘ç«™ï¼Œè¿™æ ·webæœåŠ¡å™¨å°±ä¼šæŠŠremote_addrè®¾ä¸ºè¿™å°ä»£ç†æœºå™¨çš„IPã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å®é™…åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å³ä½¿æœ‰ä»£ç†ï¼Œä¹Ÿéœ€è¦å°†&lt;code&gt;$remote_addr&lt;/code&gt;è®¾ç½®ä¸ºçœŸå®çš„ç”¨æˆ·IPï¼Œä»¥ä¾¿è®°å½•åœ¨æ—¥å¿—å½“ä¸­ï¼Œå½“ç„¶nginxæ˜¯æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯éœ€è¦ç¼–è¯‘çš„æ—¶å€™æ·»åŠ --with-http_realip_module è¿™ä¸ªæ¨¡å—ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å®‰è£…çš„ã€‚(æˆ‘ä¹Ÿæ²¡æœ‰å®‰è£…)&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Sat, 12 Oct 2019 17:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-12:/deny-xff-ip-in-nginx.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>å¦‚ä½•åœ¨Ansibleä¸­å¤åˆ¶å¤šä¸ªæ–‡ä»¶å’Œç›®å½•</title><link>https://www.EWhisper.cn/how-to-copy-files-and-directories-in-ansible.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å°†æ–‡ä»¶ä»æœ¬åœ°è®¡ç®—æœºå¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;å°†ç›®å½•ä»æœ¬åœ°è®¡ç®—æœºå¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;åœ¨åŒä¸€å°è¿œç¨‹è®¡ç®—æœºä¸Šçš„ä¸åŒæ–‡ä»¶å¤¹ä¹‹é—´å¤åˆ¶æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#with_items"&gt;ä½¿ç”¨with_itemså¤åˆ¶å¤šä¸ªæ–‡ä»¶/ç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å¤åˆ¶å…·æœ‰ä¸åŒæƒé™/ç›®çš„åœ°è®¾ç½®çš„å¤šä¸ªæ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pattern"&gt;å¤åˆ¶ä¸patternï¼ˆé€šé…ç¬¦ï¼‰åŒ¹é…çš„æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å¤åˆ¶ä¹‹å‰åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸­åˆ›å»ºæ–‡ä»¶å¤‡ä»½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ad-hoc"&gt;ä½¿ç”¨ä¸´æ—¶(Ad-hoc)æ–¹æ³•å¤åˆ¶æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;å°†æ–‡ä»¶ä»è¿œç¨‹è®¡ç®—æœºå¤åˆ¶åˆ°æœ¬åœ°è®¡ç®—æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#copy"&gt;ä½¿ç”¨ copy æ¨¡å—å†™å…¥æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#copy_1"&gt;copy æ¨¡å—çš„è¿”å›å€¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;å°†æŸ¥æ‰¾åˆ°çš„æ–‡ä»¶å¤åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt="Ansible Logo" src="images/ansible_logo_black-1024x138.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹ä¸ºè¯‘æ–‡.&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a href="http://www.mydailytutorials.com/how-to-copy-files-and-directories-in-ansible-using-copy-and-fetch-modules/"&gt;http://www.mydailytutorials.com/how-to-copy-files-and-directories-in-ansible-using-copy-and-fetch-modules/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Thanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ansible é€šè¿‡ &lt;em&gt;copy&lt;/em&gt; å’Œ &lt;em&gt;fetch&lt;/em&gt; æ¨¡å—æä¾›äº†åŸºæœ¬çš„å¤åˆ¶æ–‡ä»¶å’Œç›®å½•çš„åŠŸèƒ½.&lt;/p&gt;
&lt;p&gt;æ‚¨å¯ä»¥ä½¿ç”¨&lt;a href="http://docs.ansible.com/ansible/copy_module.html"&gt;&lt;em&gt;copy&lt;/em&gt; æ¨¡å—&lt;/a&gt;å°†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä»æœ¬åœ°æœåŠ¡å™¨å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œåœ¨è¿œç¨‹æœåŠ¡å™¨ä¹‹é—´ï¼ˆä»…æ–‡ä»¶ï¼‰å¤åˆ¶ï¼Œæ›´æ”¹æ–‡ä»¶çš„æƒé™ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨éœ€è¦åœ¨æ›¿æ¢å˜é‡åå¤åˆ¶æ–‡ä»¶ï¼Œä¾‹å¦‚å…·æœ‰IPæ›´æ”¹çš„é…ç½®æ–‡ä»¶ï¼Œè¯·æ”¹ç”¨&lt;a href="http://docs.ansible.com/ansible/template_module.html"&gt;&lt;em&gt;template&lt;/em&gt; æ¨¡å—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id="_1"&gt;å°†æ–‡ä»¶ä»æœ¬åœ°è®¡ç®—æœºå¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;em&gt;copy&lt;/em&gt; æ¨¡å—å°†æ£€æŸ¥æœ¬åœ°è®¡ç®—æœºä¸Š &lt;code&gt;src&lt;/code&gt; å‚æ•°ä¸­è®¾ç½®çš„æ–‡ä»¶ã€‚ç„¶åå®ƒå°†æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„ä¸­æŒ‡å®šçš„è¿œç¨‹è®¡ç®—æœº &lt;code&gt;dest&lt;/code&gt; (ç›®æ ‡)è·¯å¾„ã€‚ä¸‹é¢çš„ç¤ºä¾‹å°†å½“å‰ç”¨æˆ·ï¼ˆåœ¨æœ¬åœ°è®¡ç®—æœºä¸Šï¼‰çš„ä¸»ç›®å½•ä¸­çš„sample.txtæ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„&lt;code&gt;/tmp&lt;/code&gt;ç›®å½•ä¸­ã€‚ç”±äºæˆ‘ä»¬æ²¡æœ‰ä¸ºæ–‡ä»¶æŒ‡å®šä»»ä½•æƒé™ï¼Œå› æ­¤è¿œç¨‹æ–‡ä»¶çš„é»˜è®¤æƒé™è®¾ç½®ä¸º&lt;code&gt;-rw-rw-râ€“(0664)&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible copy file to remote server&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;~/sample.txt&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨1:&lt;/p&gt;
&lt;p&gt;å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨äºè¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”å’Œæºæ–‡ä»¶çš„å†…å®¹ä¸åŒï¼Œåˆ™åœ¨è¿è¡Œä»»åŠ¡æ—¶ï¼Œå°†ä¿®æ”¹ç›®æ ‡æ–‡ä»¶ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½® &lt;code&gt;force&lt;/code&gt; å‚æ•°æ¥æ§åˆ¶å®ƒã€‚é»˜è®¤è®¾ç½®ä¸º&lt;code&gt;yes&lt;/code&gt;ã€‚å› æ­¤ï¼Œå®ƒé»˜è®¤æƒ…å†µä¸‹ä¼šä¿®æ”¹æ–‡ä»¶ã€‚å¦‚æœæ‚¨ä¸å¸Œæœ›åœ¨æºæ–‡ä»¶ä¸åŒçš„æƒ…å†µä¸‹ä¿®æ”¹æ–‡ä»¶ï¼Œåˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸º&lt;code&gt;no&lt;/code&gt;ã€‚ä»…å½“è¿œç¨‹æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨è¯¥æ–‡ä»¶æ—¶ï¼Œä»¥ä¸‹ä»»åŠ¡æ‰ä¼šå¤åˆ¶è¯¥æ–‡ä»¶ã€‚ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible copy file force&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;~/sample.txt&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp&lt;/span&gt; 
      &lt;span class="nt"&gt;force&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;no&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨2:&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæ‰¾ä¸åˆ°è¯¥æ–‡ä»¶ï¼Œåˆ™Ansibleå°†å¼•å‘ç±»ä¼¼äºä»¥ä¸‹çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fatal: [remote-machine-1]: FAILED! =&amp;gt; {â€œchangedâ€: false, â€œfailedâ€: true, â€œmsgâ€: â€œUnable to find â€˜~/sample.txtâ€™ in expected paths.â€}&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;å°†ç›®å½•ä»æœ¬åœ°è®¡ç®—æœºå¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨Ansible &lt;em&gt;copy&lt;/em&gt; æ¨¡å—å¤åˆ¶æ–‡ä»¶å¤¹/ç›®å½•ã€‚å¦‚æœ&lt;code&gt;src&lt;/code&gt;è·¯å¾„æ˜¯ç›®å½•ï¼Œåˆ™å°†ä»¥é€’å½’æ–¹å¼å¤åˆ¶å®ƒã€‚è¿™æ„å‘³ç€å°†å¤åˆ¶æ•´ä¸ªç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæœ‰ä¸¤ä¸ªä¸åŒçš„å˜ä½“ã€‚å–å†³äºæ˜¯å¦åœ¨&lt;code&gt;src&lt;/code&gt;è·¯å¾„çš„æœ«å°¾ä½¿ç”¨ &lt;code&gt;/&lt;/code&gt;å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç§æ–¹æ³•å°†&lt;strong&gt;åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç›®å½•&lt;/strong&gt;ï¼Œå…¶åç§°åœ¨&lt;code&gt;src&lt;/code&gt;å‚æ•°ä¸­è®¾ç½®ã€‚ç„¶åå®ƒå°†å¤åˆ¶æºæ–‡ä»¶å¤¹çš„å†…å®¹å¹¶å°†å…¶ç²˜è´´åˆ°è¯¥ç›®å½•ã€‚ &lt;strong&gt;å¦‚æœä½ æƒ³è¦è¿™ä¸ªè¡Œä¸ºï¼Œé‚£ä¹ˆä¸è¦åœ¨srcå‚æ•°è·¯å¾„ååŠ &lt;code&gt;/&lt;/code&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„Ansibleå¤åˆ¶ç›®å½•ç¤ºä¾‹å°†é¦–å…ˆåœ¨è¿œç¨‹æœåŠ¡å™¨çš„&lt;code&gt;/tmp&lt;/code&gt;ä¸­åˆ›å»ºä¸€ä¸ªåä¸º&lt;code&gt;copy_dir_ex&lt;/code&gt;çš„ç›®å½•ã€‚æŸ¥çœ‹&lt;code&gt;tmp&lt;/code&gt;æ–‡ä»¶å¤¹ä¸­ä¼šæœ‰ä¸€ä¸ª&lt;code&gt;copy_dir_ex&lt;/code&gt;æ–‡ä»¶å¤¹ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;blocks&lt;/span&gt;
  &lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Ansible&lt;/span&gt; &lt;span class="k"&gt;copy&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;remote&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;
    &lt;span class="k"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Users&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mdtutorials2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Documents&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Ansible&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;copy_dir_ex&lt;/span&gt;
      &lt;span class="n"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Users&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mdtutorials2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Documents&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Ansible&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;

&lt;span class="k"&gt;output&lt;/span&gt;
&lt;span class="c1"&gt;------&lt;/span&gt;
&lt;span class="n"&gt;Ansible&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Pro&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;Ansible&lt;/span&gt; &lt;span class="n"&gt;mdtutorials2$&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt; &lt;span class="n"&gt;tmp&lt;/span&gt;
&lt;span class="n"&gt;tmp&lt;/span&gt;
&lt;span class="err"&gt;â””â”€â”€&lt;/span&gt; &lt;span class="n"&gt;copy_dir_ex&lt;/span&gt;
    &lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file1&lt;/span&gt;
    &lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file2&lt;/span&gt;
    &lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file3&lt;/span&gt;
    &lt;span class="err"&gt;â””â”€â”€&lt;/span&gt; &lt;span class="n"&gt;tmp2&lt;/span&gt;
        &lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file4&lt;/span&gt;
        &lt;span class="err"&gt;â””â”€â”€&lt;/span&gt; &lt;span class="n"&gt;file5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç¬¬äºŒç§æ–¹æ³•å°†ä»…å°†æ–‡ä»¶ä»æºç›®å½•å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚å®ƒ&lt;strong&gt;ä¸ä¼š&lt;/strong&gt;åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Š&lt;strong&gt;åˆ›å»ºç›®å½•&lt;/strong&gt;ã€‚å¦‚æœæ‚¨æƒ³è¦è¿™ç§è¡Œä¸ºï¼Œåˆ™&lt;strong&gt;åœ¨srcå‚æ•°ä¸­çš„è·¯å¾„ä¹‹åè¾“å…¥&lt;code&gt;/&lt;/code&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œ&lt;code&gt;copy_dir_ex&lt;/code&gt;å†…éƒ¨çš„æ–‡ä»¶å°†è¢«å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨çš„&lt;code&gt;/tmp&lt;/code&gt;æ–‡ä»¶å¤¹ä¸­ã€‚å¦‚æ‚¨æ‰€è§ï¼Œ&lt;code&gt;src&lt;/code&gt;ç›®å½•æœªåœ¨ç›®æ ‡ä¸­åˆ›å»ºã€‚ä»…å¤åˆ¶ç›®å½•çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;blocks&lt;/span&gt;
  &lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Ansible&lt;/span&gt; &lt;span class="k"&gt;copy&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;remote&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;
    &lt;span class="k"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Users&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mdtutorials2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Documents&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Ansible&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;copy_dir_ex&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
      &lt;span class="n"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Users&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mdtutorials2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Documents&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Ansible&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;

&lt;span class="k"&gt;output&lt;/span&gt;
&lt;span class="c1"&gt;------&lt;/span&gt;
&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file1&lt;/span&gt;
&lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file2&lt;/span&gt;
&lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file3&lt;/span&gt;
&lt;span class="err"&gt;â””â”€â”€&lt;/span&gt; &lt;span class="n"&gt;tmp2&lt;/span&gt;
    &lt;span class="err"&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class="n"&gt;file4&lt;/span&gt;
    &lt;span class="err"&gt;â””â”€â”€&lt;/span&gt; &lt;span class="n"&gt;file5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœéœ€è¦è®¾ç½®è¿œç¨‹ç›®å½•çš„æƒé™ï¼Œå¯ä»¥ä½¿ç”¨  &lt;code&gt;directory_mode&lt;/code&gt;å‚æ•°æ¥è¿›è¡Œè®¾ç½®ã€‚ä»…å½“è¿œç¨‹è®¡ç®—æœºä¸Šä¸å­˜åœ¨ç›®å½•æ—¶ï¼Œæ‰è®¾ç½®æƒé™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‚¨è¿˜å¯ä»¥è®¾ç½®ç›®å½•çš„ç»„å’Œæ‰€æœ‰è€…ã€‚æ‚¨åº”è¯¥å°†å„è‡ªçš„åç§°èµ‹å€¼ç»™&lt;code&gt;group&lt;/code&gt;å’Œ&lt;code&gt;owner&lt;/code&gt;çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id="_3"&gt;åœ¨åŒä¸€å°è¿œç¨‹è®¡ç®—æœºä¸Šçš„ä¸åŒæ–‡ä»¶å¤¹ä¹‹é—´å¤åˆ¶æ–‡ä»¶&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ‚¨è¿˜å¯ä»¥åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å„ä¸ªä½ç½®ä¹‹é—´å¤åˆ¶æ–‡ä»¶ã€‚æ‚¨å¿…é¡»å°†&lt;code&gt;remote_src&lt;/code&gt;å‚æ•°è®¾ç½®ä¸º&lt;code&gt;yes&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹ç¤ºä¾‹å°†å¤åˆ¶è¿œç¨‹æœåŠ¡å™¨çš„&lt;code&gt;/tmp&lt;/code&gt;ç›®å½•ä¸­çš„ &lt;em&gt;hello6&lt;/em&gt; æ–‡ä»¶ï¼Œå¹¶å°†å…¶ç²˜è´´åˆ°&lt;code&gt;/etc/&lt;/code&gt;ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible copy files remote to remote&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/hello6&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc&lt;/span&gt;
      &lt;span class="nt"&gt;remote_src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ä»Ansible 2.2.1.0å¼€å§‹ï¼Œä¸æ”¯æŒåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸­å¤åˆ¶ç›®å½•ã€‚å¦‚æœå°è¯•ï¼Œå°†å‡ºç°ä»¥ä¸‹é”™è¯¯:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fatal: [remote-machine-1]: FAILED! =&amp;gt; {"changed": false, "failed": true, "msg": "Remote copy does not support recursive copy of directory: /tmp/copy_dir_ex"}&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="with_items"&gt;ä½¿ç”¨with_itemså¤åˆ¶å¤šä¸ªæ–‡ä»¶/ç›®å½•&lt;a class="headerlink" href="#with_items" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœè¦å¤åˆ¶å¤šä¸ªæ–‡ä»¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨&lt;code&gt;with_items&lt;/code&gt;éå†å®ƒä»¬ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹ç¤ºä¾‹å°†å¤åˆ¶ home ç›®å½•åˆ—è¡¨ç»™å‡ºçš„å¤šä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible copy multiple files with_items&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;~/{{item}}&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp&lt;/span&gt;
      &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0774&lt;/span&gt;
    &lt;span class="nt"&gt;with_items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;hello1&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;hello2&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;hello3&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;sub_folder/hello4&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_4"&gt;å¤åˆ¶å…·æœ‰ä¸åŒæƒé™/ç›®çš„åœ°è®¾ç½®çš„å¤šä¸ªæ–‡ä»¶&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨ä¸Šè¿°ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨å¤åˆ¶å¤šä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯æ‰€æœ‰æ–‡ä»¶éƒ½å…·æœ‰ç›¸åŒçš„æƒé™å’Œç›¸åŒçš„ç›®çš„åœ°ã€‚ä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬æƒ³ä¸ºä¸åŒçš„æ–‡ä»¶è®¾ç½®æƒé™ï¼Œæˆ–è€…æ¯ä¸ªæ–‡ä»¶çš„ç›®æ ‡æ–‡ä»¶å¤¹éƒ½ä¸åŒã€‚è¿™å¯ä»¥é€šè¿‡ä¸å­—å…¸ç»“æ„ä¸€èµ·ä½¿ç”¨&lt;code&gt;with_items&lt;/code&gt;æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»¥ä¸‹ä»»åŠ¡ä¸­ï¼Œæˆ‘è¯•å›¾å°†3ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°2ä¸ªä¸åŒçš„æ–‡ä»¶å¤¹ä¸­ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªæ–‡ä»¶çš„æ–‡ä»¶æƒé™ä¹Ÿä¸åŒã€‚æˆ‘æä¾›äº†ä¸€ä¸ªå­—å…¸ç»“æ„ï¼Œå…¶ä¸­æåˆ°äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸åŒè®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä»è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ–‡ä»¶å·²å¤åˆ¶åˆ°ç»™å®šçš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”æƒé™è®¾ç½®æ­£ç¡®ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;all&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Copy multiple files in Ansible with different permissions&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;{{&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;item.src&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;}}&amp;quot;&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;{{&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;item.dest&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;}}&amp;quot;&lt;/span&gt;
      &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;{{&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;item.mode&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;}}&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;with_items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;&lt;span class="nt"&gt; src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/home/mdtutorials2/test1&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/tmp/devops_system1&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="nt"&gt; mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;0777&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;&lt;span class="nt"&gt; src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/home/mdtutorials2/test2&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/tmp/devops_system2&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="nt"&gt; mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;0707&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;&lt;span class="nt"&gt; src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/home/mdtutorials2/test3&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/tmp2/devops_system3&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;&lt;span class="nt"&gt; mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;0575&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gh"&gt;output&lt;/span&gt;
&lt;span class="gh"&gt;======&lt;/span&gt;
mdtutorials2@system01:~$ ls -lrt /tmp
drwxrwxrwx 2 root          root          4096 Oct  9 14:28 devops_system1
drwx---rwx 2 root          root          4096 Oct  9 14:28 devops_system2

mdtutorials2@system01:~$ ls -lrt /tmp2
-r-xrwxr-x 1 root root 0 Oct  9 14:33 devops_system3
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="pattern"&gt;å¤åˆ¶ä¸patternï¼ˆé€šé…ç¬¦ï¼‰åŒ¹é…çš„æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶&lt;a class="headerlink" href="#pattern" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœéœ€è¦å¤åˆ¶ç›®å½•ä¸­ä¸é€šé…ç¬¦åŒ¹é…çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨&lt;code&gt;with_fileglob&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå°†æœ¬åœ°è®¡ç®—æœº/ tmpç›®å½•ä¸­æ‰€æœ‰ä»¥'hello'å¼€å¤´çš„æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible copy multiple files with wildcard matching.&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;{{&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;item&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;}}&amp;quot;&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc&lt;/span&gt;
    &lt;span class="nt"&gt;with_fileglob&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/hello*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_5"&gt;å¤åˆ¶ä¹‹å‰åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸­åˆ›å»ºæ–‡ä»¶å¤‡ä»½&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¤åˆ¶æ–‡ä»¶æ—¶ï¼Œå¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ã€‚æ‚¨å¯èƒ½ä¼šå¤åˆ¶é”™è¯¯çš„æ–‡ä»¶ï¼Œå†™å…¥é”™è¯¯çš„å†…å®¹ç­‰ã€‚è¿™å°†é€ æˆå¾ˆå¤šéº»çƒ¦ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šåˆ›å»ºè¿œç¨‹æ–‡ä»¶çš„å¤‡ä»½å°†å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;Ansibleå¤åˆ¶æ¨¡å—ä¸ºæ­¤æä¾›äº†ä¸€ä¸ª&lt;code&gt;backup&lt;/code&gt;å‚æ•°ã€‚å¦‚æœè¿œç¨‹æ–‡ä»¶å­˜åœ¨ä¸”ä¸å¤åˆ¶çš„æ–‡ä»¶ä¸åŒï¼Œåˆ™å°†åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚æ–°æ–‡ä»¶å°†é€šè¿‡é™„åŠ æ—¶é—´æˆ³å’ŒåŸå§‹æ–‡ä»¶åæ¥å‘½åã€‚å¤‡ä»½å‚æ•°çš„é»˜è®¤å€¼ä¸º&lt;code&gt;no&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹å°†åœ¨è¿œç¨‹æœåŠ¡å™¨çš„&lt;code&gt;/tmp&lt;/code&gt;ç›®å½•ä¸­åˆ›å»º&lt;code&gt;helloworld.txt&lt;/code&gt;çš„å¤‡ä»½ã€‚å®ƒå°†è¢«å‘½åä¸º&lt;code&gt;helloworld.txt.8925.2019-10-12@14:53:13&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ansible copy file backup example&lt;/span&gt;
    &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;~/helloworld.txt&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp&lt;/span&gt;
      &lt;span class="nt"&gt;backup&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="ad-hoc"&gt;ä½¿ç”¨ä¸´æ—¶(Ad-hoc)æ–¹æ³•å¤åˆ¶æ–‡ä»¶&lt;a class="headerlink" href="#ad-hoc" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šå¤§å¤šæ•°ä»»åŠ¡ä¹Ÿå¯ä»¥ä»¥ Ad-hoc æ–¹å¼å®Œæˆã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ansible blocks -m copy -a &lt;span class="s2"&gt;&amp;quot;src=~/sample.txt dest=/tmp&amp;quot;&lt;/span&gt; -i inventory.ini
ansible blocks -m copy -a &lt;span class="s2"&gt;&amp;quot;src=~/copy_dir_ex dest=/tmp&amp;quot;&lt;/span&gt; -i inventory.ini
ansible blocks -m copy -a &lt;span class="s2"&gt;&amp;quot;src=/tmp/hello6 dest=/tmp/hello7 remote_src=yes&amp;quot;&lt;/span&gt; -s -i inventory.ini
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_6"&gt;å°†æ–‡ä»¶ä»è¿œç¨‹è®¡ç®—æœºå¤åˆ¶åˆ°æœ¬åœ°è®¡ç®—æœº&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ‚¨è¿˜å¯ä»¥å°†æ–‡ä»¶ä»è¿œç¨‹æœåŠ¡å™¨å¤åˆ¶åˆ°æœ¬åœ°è®¡ç®—æœºã€‚è¿™å¯ä»¥ä½¿ç”¨Ansible &lt;em&gt;fetch&lt;/em&gt;æ¨¡å—å®Œæˆã€‚å½“æ‚¨è¦å°†æŸäº›æ—¥å¿—æ–‡ä»¶ä»è¿œç¨‹æœåŠ¡å™¨å¤åˆ¶åˆ°æœ¬åœ°è®¡ç®—æœºæ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†åœ¨ç›®æ ‡ç›®å½•ï¼ˆæœ¬åœ°è®¡ç®—æœºï¼‰ä¸­åˆ›å»ºä¸€ä¸ªä»¥æ‚¨æ­£åœ¨è¿æ¥çš„æ¯ä¸ªä¸»æœºå‘½åçš„ç›®å½•ã€‚æå–çš„æ–‡ä»¶å°†è¢«å¤åˆ¶åˆ°æ­¤å¤„ã€‚å¦‚æœè¿œç¨‹æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨è¯¥æ–‡ä»¶ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå¼•å‘ä»»ä½•é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘åœ¨ remote-server-1 ä¸Šè¿è¡Œä»»åŠ¡ã€‚è¯¥æ–‡ä»¶å°†è¢«å¤åˆ¶åˆ° æœ¬åœ°è®¡ç®—æœºçš„&lt;code&gt;/etc/remote-server-1/tmp&lt;/code&gt;ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible fetch files from remote server to the local machine using Ansible fetch module&lt;/span&gt;
    &lt;span class="nt"&gt;fetch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/hello2&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc&lt;/span&gt;
      &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0774&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æœæ‚¨ä¸å¸Œæœ›å‡ºç°è¿™ç§æƒ…å†µï¼Œå¹¶ä¸”éœ€è¦å°†æ–‡ä»¶ç›´æ¥å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•ï¼Œåˆ™åº”ä½¿ç”¨&lt;code&gt;flat&lt;/code&gt;å‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible fetch directory example with flat parameter set&lt;/span&gt;
    &lt;span class="nt"&gt;fetch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/hello2&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/&lt;/span&gt;
      &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0774&lt;/span&gt;
      &lt;span class="nt"&gt;flat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ‚¨ä½¿ç”¨&lt;code&gt;flat&lt;/code&gt;å‚æ•°ï¼Œå¹¶ä¸”æ–‡ä»¶åä¸æ˜¯å”¯ä¸€çš„ï¼Œåˆ™æ¯æ¬¡è·å–æ–‡ä»¶æ—¶éƒ½ä¼šæ›¿æ¢ç°æœ‰æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‚¨å¸Œæœ›åœ¨æºæ–‡ä»¶ä¸¢å¤±çš„æƒ…å†µä¸‹å¼•å‘é”™è¯¯ï¼Œåˆ™å°†&lt;code&gt;fail_on_missing&lt;/code&gt;å‚æ•°è®¾ç½®ä¸º&lt;code&gt;yes&lt;/code&gt;ã€‚å¦‚æœè¿œç¨‹æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä»¥ä¸‹ç¤ºä¾‹å°†å¼•å‘é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;blocks&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible fetch example with fail_on_missing set&lt;/span&gt;
    &lt;span class="nt"&gt;fetch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/fetch.txt&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp/&lt;/span&gt;
      &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0774&lt;/span&gt;
      &lt;span class="nt"&gt;fail_on_missing&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å¦‚æœå°è¯•å°†ç›®æ ‡è·¯å¾„&lt;code&gt;dest&lt;/code&gt;è®¾ç½®ä¸ºç›®å½•ï¼Œè¯·åœ¨è·¯å¾„æœ«å°¾æ·»åŠ â€œ&lt;code&gt;\&lt;/code&gt;ã€‚å¦åˆ™Ansibleå°†è¿è¡Œè¯¥ä»»åŠ¡ï¼Œå°±åƒç›®æ ‡è·¯å¾„&lt;code&gt;dest&lt;/code&gt;æ˜¯ä¸€ä¸ªæ–‡ä»¶ä¸€æ ·, å¹¶å°è¯•æ›¿æ¢å®ƒã€‚æ‚¨å¯èƒ½ä¼šæ”¶åˆ°ä»¥ä¸‹é”™è¯¯: (&lt;strong&gt;åªé’ˆå¯¹åŠ å‚æ•°&lt;code&gt;flat&lt;/code&gt;çš„æƒ…å†µ&lt;/strong&gt;)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fatal: [remote-machine-1]: FAILED! =&amp;gt; {â€œfailedâ€: true, â€œmsgâ€: â€œdest is an existing directory, use a trailing slash if you want to fetch src into that directoryâ€}&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="copy"&gt;ä½¿ç”¨ copy æ¨¡å—å†™å…¥æ–‡ä»¶&lt;a class="headerlink" href="#copy" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ‚¨è¿˜å¯ä»¥ä½¿ç”¨Ansible &lt;em&gt;copy&lt;/em&gt; æ¨¡å—ä¸­çš„&lt;code&gt;contents&lt;/code&gt;å‚æ•°å†™å…¥æ–‡ä»¶ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†ç»™&lt;code&gt;content&lt;/code&gt;å‚æ•°æä¾›çš„å€¼å†™å…¥check4.txtæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;all&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ansible write to a file example&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;content&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
        &lt;span class="no"&gt;Content parameter example.&lt;/span&gt;
        &lt;span class="no"&gt;Check4.txt will be created after this task is executed.&lt;/span&gt;
      &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/Users/mdtutorials2/Documents/Ansible/check4.txt&lt;/span&gt;
      &lt;span class="nt"&gt;backup&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="copy_1"&gt;copy æ¨¡å—çš„è¿”å›å€¼&lt;a class="headerlink" href="#copy_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;copy&lt;/em&gt; æ¨¡å—ä¸ºæ¯ä¸ªä»»åŠ¡è¿”å›ä¸€äº›å€¼ã€‚å®Œæ•´åˆ—è¡¨å¯åœ¨&lt;a href="http://docs.ansible.com/ansible/copy_module.html#return-values"&gt;Ansibleæ–‡æ¡£ä¸­æ‰¾åˆ°&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="s"&gt;&amp;quot;changed&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;true,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;checksum&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;98d8fb24e8b2c2cec9c5ae963bd65c3657f50b16&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;dest&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/tmp/sample.txt&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;gid&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;group&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;root&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;md5sum&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ce83d23d6eb6bf079e1fc5c448ea9a9f&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;mode&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;0644&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;owner&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;root&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;size&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;13,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/home/mdtutorials2/.ansible/tmp/ansible-tmp-1489974916.02-178756727263160/source&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;file&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt; 
    &lt;span class="s"&gt;&amp;quot;uid&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_7"&gt;å°†æŸ¥æ‰¾åˆ°çš„æ–‡ä»¶å¤åˆ¶&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ &lt;em&gt;find&lt;/em&gt; æ¨¡å—é€’å½’æŸ¥æ‰¾&lt;code&gt;/appl/scripts/inq&lt;/code&gt;ä¸‹çš„æ‰€æœ‰ç¬¦åˆ&lt;code&gt;patterns="inq.Linux*"&lt;/code&gt;çš„æ–‡ä»¶, å¹¶å°†è¿™äº›æ–‡ä»¶èµ‹å€¼åˆ°&lt;code&gt;/usr/local/bin&lt;/code&gt; ç›®å½•.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;lnx&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;find&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;paths=&amp;quot;/appl/scripts/inq&amp;quot; recurse=yes patterns=&amp;quot;inq.Linux*&amp;quot;&lt;/span&gt;
      &lt;span class="nt"&gt;register&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;file_to_copy&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;src={{ item.path }} dest=/usr/local/sbin/&lt;/span&gt;
      &lt;span class="nt"&gt;owner&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
      &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0775&lt;/span&gt;
      &lt;span class="nt"&gt;with_items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;{{&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;files_to_copy.files&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;}}&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;find&lt;/em&gt; æ¨¡å—çš„è¿”å›å€¼å¦‚ä¸‹:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Key&lt;/th&gt;
&lt;th&gt;Returned&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;examined&lt;/strong&gt; ç±»å‹:integer&lt;/td&gt;
&lt;td&gt;success&lt;/td&gt;
&lt;td&gt;æŸ¥æ‰¾çš„æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡æ•°. &lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;: 34&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;files&lt;/strong&gt; ç±»å‹: list&lt;/td&gt;
&lt;td&gt;success&lt;/td&gt;
&lt;td&gt;æ‰¾åˆ°ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„æ‰€æœ‰åŒ¹é…é¡¹ &lt;strong&gt;ç¤ºä¾‹:&lt;/strong&gt;&lt;code&gt;[{'path': '/var/tmp/test1', 'mode': '0644', '...': '...', 'checksum': '16fac7be61a6e4591a33ef4b729c5c3302307523'}, {'path': '/var/tmp/test2', '...': '...'}]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;matched&lt;/strong&gt; ç±»å‹: integer&lt;/td&gt;
&lt;td&gt;success&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ•°é‡ &lt;strong&gt;ç¤ºä¾‹:&lt;/strong&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å…·ä½“è§£é‡Š:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;register: file_to_copy&lt;/code&gt; æ‰€æœ‰è¿”å›å€¼æ³¨å†Œä¸º&lt;code&gt;file_to_copy&lt;/code&gt; å¯¹è±¡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;files_to_copy.files&lt;/code&gt; å³æ‰¾åˆ°çš„ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„æ‰€æœ‰åŒ¹é…é¡¹ &lt;strong&gt;ç¤ºä¾‹:&lt;/strong&gt;&lt;code&gt;[{'path': '/var/tmp/test1', 'mode': '0644', '...': '...', 'checksum': '16fac7be61a6e4591a33ef4b729c5c3302307523'}, {'path': '/var/tmp/test2', '...': '...'}]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;item.path&lt;/code&gt;: å…·ä½“çš„ç¬¦åˆçš„æ–‡ä»¶è·¯å¾„, å³: &lt;code&gt;/var/tmp/test1&lt;/code&gt; &lt;code&gt;/var/tmp/test2&lt;/code&gt;...&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Sat, 12 Oct 2019 15:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-12:/how-to-copy-files-and-directories-in-ansible.html</guid><category>python</category><category>devops</category><category>ansible</category><category>linux</category><category>è¯‘æ–‡</category></item><item><title>Ansible æ–°æ‰‹æŒ‡å— - å¦‚ä½•æ‰¹é‡ç®¡ç† NGINX</title><link>https://www.EWhisper.cn/how-to-manager-nginx-using-ansible.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;å…å¯†é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible"&gt;å®‰è£… Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible_1"&gt;ä½¿ç”¨ Ansible æ¨¡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#ansible-doc"&gt;ansible-doc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible_2"&gt;ä½¿ç”¨ Ansible æ¨¡å—ç¤ºä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible-playbook"&gt;ä½¿ç”¨ Ansible Playbook&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#nginx"&gt;å®‰è£…å¹¶å¯åŠ¨NGINX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#nginx_1"&gt;åœæ­¢å¹¶å¸è½½NGINX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#nginx_2"&gt;é…ç½®NGINX å¹¶é‡å¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Ansibleæ˜¯è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼ŒåŸºäºPythonå¼€å‘ï¼Œå®ç°äº†æ‰¹é‡ç³»ç»Ÿé…ç½®ã€æ‰¹é‡ç¨‹åºéƒ¨ç½²ã€æ‰¹é‡è¿è¡Œå‘½ä»¤ç­‰åŠŸèƒ½ã€‚Ansibleæ˜¯åŸºäºæ¨¡å—(module)å’Œå‰§æœ¬(playbook)å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="Ansible Logo" src="images/ansible_logo_black-1024x138.png"&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥æ¼”ç¤º Ansible çš„åŸºæœ¬ä½¿ç”¨:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Linux é…ç½® SSH å…å¯†&lt;/li&gt;
&lt;li&gt;å®‰è£… Ansible&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Ansible æ¨¡å—&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Ansible Playbook&lt;ol&gt;
&lt;li&gt;å®‰è£…å¹¶å¯åŠ¨ NGINX&lt;/li&gt;
&lt;li&gt;åœæ­¢å¹¶å¸è½½ NGINX&lt;/li&gt;
&lt;li&gt;é…ç½®NGINX å¹¶é‡å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®éªŒç¯å¢ƒå¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç®¡ç†ç«¯: (å®‰è£… Ansible)&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿ: Debian&lt;/li&gt;
&lt;li&gt;IP: 192.168.1.1&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¿œç¨‹ä¸»æœº1å’Œ2:&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿ: Ubuntu&lt;/li&gt;
&lt;li&gt;IP: 192.168.1.106å’Œ192.168.1.107&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿æ¼”ç¤º, ä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯åŸºäº&lt;code&gt;root&lt;/code&gt;ç”¨æˆ·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;å…å¯†é…ç½®&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å³: åŸºäºå…¬é’¥çš„ç™»é™†&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 1. åˆ›å»ºå¯†é’¥å¯¹(åˆ›å»ºåé»˜è®¤ä½äº ~/.ssh)&lt;/span&gt;
ssh-keygen -t ed25519 -C &lt;span class="s2"&gt;&amp;quot;Login to nginx lab&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# 2. ä½¿ç”¨ ssh-copy-id å‘½ä»¤å®‰è£…å…¬é’¥&lt;/span&gt;
ssh-copy-id -i /root/.ssh/id_ed25519 root@192.168.1.106
ssh-copy-id -i /root/.ssh/id_ed25519 root@192.168.1.107
&lt;span class="c1"&gt;# 3. éªŒè¯å…å¯†æ˜¯å¦é…ç½®æˆåŠŸ: (æ— éœ€è¾“å…¥å¯†ç )&lt;/span&gt;
ssh root@192.168.1.106 -i /root/.ssh/id_ed25519
ssh root@192.168.1.107 -i /root/.ssh/id_ed25519
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å…å¯†é…ç½®æœ‰å¤šç§æƒ…å†µä¼šå¯¼è‡´å¤±è´¥, æœ¬æ–‡ä¸ä¸€ä¸€åˆ—ä¸¾è¯¦ç»†å¤±è´¥åŸå› . å¦‚æœå¤±è´¥æŸ¥çœ‹è¿œç¨‹ä¸»æœºçš„&lt;code&gt;/var/log/secure&lt;/code&gt; æ—¥å¿—.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="ansible"&gt;å®‰è£… Ansible&lt;a class="headerlink" href="#ansible" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;APTå®‰è£…æ–¹å¼å¦‚ä¸‹: (å…¶ä»–ç±»ä¼¼, ä¸ä¸€ä¸€åˆ—ä¸¾)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt install -y ansible
&lt;span class="c1"&gt;# éªŒè¯&lt;/span&gt;
ansible --version
&lt;span class="c1"&gt;# è¾“å‡ºå¦‚ä¸‹:&lt;/span&gt;
&lt;span class="c1"&gt;#ansible 2.2.1.0&lt;/span&gt;
&lt;span class="c1"&gt;#  config file = /etc/ansible/ansible.cfg&lt;/span&gt;
&lt;span class="c1"&gt;#  configured module search path = Default w/o overrides&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="ansible_1"&gt;ä½¿ç”¨ Ansible æ¨¡å—&lt;a class="headerlink" href="#ansible_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¼•ç”¨:&lt;/p&gt;
&lt;p&gt;Ansibleé™„å¸¦äº†è®¸å¤šæ¨¡å—ï¼ˆmodule ç§°ä¸ºâ€œmodule libraryâ€ï¼‰ï¼Œè¿™äº›æ¨¡å—å¯ä»¥ç›´æ¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæˆ–é€šè¿‡playbooksæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå·±çš„æ¨¡å—ã€‚è¿™äº›æ¨¡å—å¯ä»¥æ§åˆ¶ç³»ç»Ÿèµ„æºï¼Œæ¯”å¦‚æœåŠ¡ã€åŒ…æˆ–æ–‡ä»¶ï¼ˆå®é™…ä¸Šæ˜¯ä»»ä½•ä¸œè¥¿ï¼‰ï¼Œæˆ–è€…å¤„ç†æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…ˆå¯¹&lt;code&gt;/etc/ansible/hosts&lt;/code&gt;åšæœ€åŸºæœ¬é…ç½®:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[web]&lt;/span&gt;
&lt;span class="na"&gt;192.168.1.106&lt;/span&gt;
&lt;span class="na"&gt;192.168.1.107&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸Šæ–‡çš„webå°±æ˜¯ä¸€ä¸ªhost group, å¯ä»¥ç›´æ¥é€šè¿‡&lt;code&gt;web&lt;/code&gt;è¿›è¡Œå¼•ç”¨. &lt;/p&gt;
&lt;h3 id="ansible-doc"&gt;ansible-doc&lt;a class="headerlink" href="#ansible-doc" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ‰€æœ‰çš„æ¨¡å—çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ansible-doc -s &amp;lt;module_name&amp;gt;
ansible-doc -s ping
&lt;span class="c1"&gt;# - name: Try to connect to host, verify a usable python and return `pong&amp;#39; on success.&lt;/span&gt;
&lt;span class="c1"&gt;#  action: ping&lt;/span&gt;
ansible-doc -s &lt;span class="nb"&gt;command&lt;/span&gt;
&lt;span class="c1"&gt;#- name: Executes a command on a remote node&lt;/span&gt;
&lt;span class="c1"&gt;#  action: command&lt;/span&gt;
&lt;span class="c1"&gt;#      chdir                  # cd into this directory before running the command&lt;/span&gt;
&lt;span class="c1"&gt;#      creates                # a filename or (since 2.0) glob pattern, when it already #exists, this step will *not* be run.&lt;/span&gt;
&lt;span class="c1"&gt;#      executable             # change the shell used to execute the command. Should be #an absolute path to the executable.&lt;/span&gt;
&lt;span class="c1"&gt;#      free_form=             # the command module takes a free form command to run.  #There is no parameter actually named &amp;#39;free form&amp;#39;. See the examples!&lt;/span&gt;
&lt;span class="c1"&gt;#      removes                # a filename or (since 2.0) glob pattern, when it does not #exist, this step will *not* be run.&lt;/span&gt;
&lt;span class="c1"&gt;#      warn                   # if command warnings are on in ansible.cfg, do not warn #about this particular line if set to no/false.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="ansible_2"&gt;ä½¿ç”¨ Ansible æ¨¡å—ç¤ºä¾‹&lt;a class="headerlink" href="#ansible_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢ä»¥ &lt;em&gt;command&lt;/em&gt;å’Œ&lt;em&gt;ping&lt;/em&gt; moduleä¸ºä¾‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ansible web -a &lt;span class="s2"&gt;&amp;quot;pwd chdir=/tmp&amp;quot;&lt;/span&gt;
ansible web -m ping
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¾“å‡ºå¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;ansible&lt;/span&gt; &lt;span class="n"&gt;web&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;pwd chdir=/tmp&amp;quot;&lt;/span&gt;
&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;106&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;SUCCESS&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;

&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;107&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;SUCCESS&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;

&lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;ansible&lt;/span&gt; &lt;span class="n"&gt;web&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;ping&lt;/span&gt;
&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;106&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;SUCCESS&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
    &lt;span class="ss"&gt;&amp;quot;changed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="ss"&gt;&amp;quot;ping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;pong&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;107&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;SUCCESS&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
    &lt;span class="ss"&gt;&amp;quot;changed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="ss"&gt;&amp;quot;ping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;pong&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;ç®€å•è¯´æ˜:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;web&lt;/code&gt;: åœ¨&lt;code&gt;/etc/ansible/hosts&lt;/code&gt;ä¸­é…ç½®çš„ web ä¸»æœºç»„. åŒ…å«æœ¬æ¬¡å®éªŒçš„: è¿œç¨‹ä¸»æœº1å’Œ2&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-a "pwd chdir=/tmp"&lt;/code&gt;: &lt;code&gt;-a MODULE_ARGS&lt;/code&gt; æ¨¡å—çš„å‚æ•°. &lt;ul&gt;
&lt;li&gt;å‚æ•°æ ¼å¼ä¸º: &lt;code&gt;key=value&lt;/code&gt;.  å¦‚æœ¬ä¾‹ä¸­çš„: &lt;code&gt;chdir=/tmp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pwd&lt;/code&gt; ä¸ºshellå‘½ä»¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-m ping&lt;/code&gt;: ansibleå‘½ä»¤å‚æ•° - æ¨¡å—, åè·Ÿæ¨¡å—å. (é»˜è®¤ä¸º &lt;code&gt;command&lt;/code&gt;). &lt;code&gt;"pong"&lt;/code&gt; è¡¨ç¤ºpingæˆåŠŸ, è¿”å›ä¸æ˜¯&lt;code&gt;"pong"&lt;/code&gt;åˆ™è¿æ¥å¼‚å¸¸.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ansible-playbook"&gt;ä½¿ç”¨ Ansible Playbook&lt;a class="headerlink" href="#ansible-playbook" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Playbook&lt;/strong&gt;(å‰§æœ¬)æ˜¯ä½¿ç”¨ansibleçš„ä¸€ç§å®Œå…¨ä¸åŒçš„å½¢å¼ï¼Œéå¸¸å¼ºå¤§ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•åœ°è¯´ï¼Œplaybookæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„é…ç½®ç®¡ç†å’Œå¤šæœºéƒ¨ç½²ç³»ç»Ÿçš„åŸºç¡€ï¼Œä¸åƒä»»ä½•å·²ç»å­˜åœ¨çš„ç³»ç»Ÿï¼Œå®ƒéå¸¸é€‚åˆéƒ¨ç½²å¤æ‚çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;a href="https://github.com/ansible/ansible-examples"&gt;ansible-examples&lt;/a&gt; gitä»“åº“ä¸­, æœ‰ä¸€äº›å®Œæ•´çš„playbookå…·ä½“å±•ç¤ºäº†è¿™äº›æŠ€æœ¯ã€‚å»ºè®®å¯ä»¥çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;h3 id="nginx"&gt;å®‰è£…å¹¶å¯åŠ¨NGINX&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºå®‰è£…å¹¶å¯åŠ¨NGINXçš„ Ansible Playbook YAMLæ–‡ä»¶: &lt;code&gt;vi nginx_install.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;web&lt;/span&gt;
  &lt;span class="nt"&gt;become&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;install nginx&lt;/span&gt;
      &lt;span class="nt"&gt;apt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;name=nginx state=latest&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;start nginx&lt;/span&gt;
      &lt;span class="nt"&gt;service&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
          &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;started&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;ç®€å•è¯´æ˜:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;- hosts: web&lt;/code&gt;: è¯¥playbooké¦–å…ˆè¯´æ˜åº”å°†å…¶åº”ç”¨äºinventory èµ„æºä¸­çš„&lt;code&gt;web&lt;/code&gt;ä¸»æœºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;become: true&lt;/code&gt;: å‘Šè¯‰Ansibleæå‡æƒé™ï¼ˆå¦‚sudoï¼‰æ¥æ‰§è¡Œæ­¤playbookä¸­çš„æ‰€æœ‰ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tasks&lt;/code&gt;: å®šä¹‰å®é™…&lt;strong&gt;tasks&lt;/strong&gt;(ä»»åŠ¡)çš„éƒ¨åˆ†ã€‚ç¬¬ä¸€ä¸ªä»»åŠ¡å®‰è£…nginxï¼Œç¬¬äºŒä¸ªä»»åŠ¡æ˜¯å¯åŠ¨nginx.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰§è¡Œ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ansible-playbook nginx_install.yml
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¾“å‡º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PLAY&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*******************************************************************************************************&lt;/span&gt;

&lt;span class="n"&gt;TASK&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Gathering&lt;/span&gt; &lt;span class="n"&gt;Facts&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*******************************************************************************************&lt;/span&gt;
&lt;span class="nl"&gt;ok&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;192.168.1.106&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nl"&gt;ok&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;192.168.1.107&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;TASK&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ensure&lt;/span&gt; &lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;latest&lt;/span&gt; &lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*********************************************************************&lt;/span&gt;
&lt;span class="nl"&gt;changed&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;192.168.1.106&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nl"&gt;changed&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;192.168.1.107&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;PLAY&lt;/span&gt; &lt;span class="n"&gt;RECAP&lt;/span&gt; &lt;span class="o"&gt;*******************************************************************************************************&lt;/span&gt;
&lt;span class="mf"&gt;192.168.1.106&lt;/span&gt;              &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ok&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;    &lt;span class="n"&gt;changed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;    &lt;span class="n"&gt;unreachable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;    &lt;span class="n"&gt;failed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="mf"&gt;192.168.1.107&lt;/span&gt;              &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ok&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;    &lt;span class="n"&gt;changed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;    &lt;span class="n"&gt;unreachable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;    &lt;span class="n"&gt;failed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ—¶NGINXå·²ç»å®‰è£…å¹¶å¯åŠ¨å®Œæ¯•.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å‡ ä¸ªå°ç« èŠ‚çš„&lt;code&gt;ansible-playbook&lt;/code&gt; æ‰§è¡Œç»“æœç±»ä¼¼, å°±ä¸ä¸€ä¸€è´´å‡ºæ¥äº†.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="nginx_1"&gt;åœæ­¢å¹¶å¸è½½NGINX&lt;a class="headerlink" href="#nginx_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºåœæ­¢å¹¶å¸è½½NGINXçš„ Ansible Playbook YAMLæ–‡ä»¶: &lt;code&gt;vi nginx_uninstall.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;web&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;stop nginx&lt;/span&gt;
      &lt;span class="nt"&gt;service&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
          &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;stopped&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;uninstall nginx&lt;/span&gt;
      &lt;span class="nt"&gt;apt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;name=nginx state=absent&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å†æ¬¡æ‰§è¡Œå¹¶æŸ¥çœ‹ç»“æœ.&lt;/p&gt;
&lt;h3 id="nginx_2"&gt;é…ç½®NGINX å¹¶é‡å¯&lt;a class="headerlink" href="#nginx_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤å¦‚ä¸‹:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªnginx confçš„æ¨¡æ¿æ–‡ä»¶: &lt;code&gt;vi static_site.conf.tpl&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="s"&gt;[::]:80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/usr/share/nginx/html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="kn"&gt;index.html&lt;/span&gt; &lt;span class="s"&gt;index.htm&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;æŠŠä»¥ä¸Šæ–‡ä»¶æ”¾åˆ°&lt;code&gt;/etc/nginx/sites-available/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;/etc/nginx/sites-enabled/&lt;/code&gt;é‡Œåˆ›å»ºä¸ªè½¯é“¾æ¥æŒ‡å‘è¯¥æ–‡ä»¶.&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª&lt;code&gt;index.html&lt;/code&gt;é¡µé¢: &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Hello ansible&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Hello World Ansible&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Running on {{ inventory_hostname }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="5"&gt;
&lt;li&gt;é‡å¯NGINX.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å®Œæ•´Ansible Playbook&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•´åˆä¹‹å‰çš„å®‰è£…, å®Œæ•´çš„Ansible Playbook å¦‚ä¸‹: &lt;code&gt;vi nginx.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hosts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;web&lt;/span&gt;
  &lt;span class="nt"&gt;vars&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;src_root&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/tmp&lt;/span&gt;
  &lt;span class="nt"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;install nginx&lt;/span&gt;
      &lt;span class="nt"&gt;apt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;name=nginx state=latest&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;start nginx&lt;/span&gt;
      &lt;span class="nt"&gt;service&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
          &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;started&lt;/span&gt;
      &lt;span class="nt"&gt;become&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;copy nginx conf&lt;/span&gt;
      &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;src_root&lt;/span&gt; &lt;span class="p p-Indicator"&gt;}}&lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/static_site.conf.tpl&lt;/span&gt;
        &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc/nginx/sites-available/static_site.conf&lt;/span&gt;
      &lt;span class="nt"&gt;become&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;create symlink&lt;/span&gt;
      &lt;span class="nt"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc/nginx/sites-available/static_site.conf&lt;/span&gt;
        &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc/nginx/sites-enabled/000-default.conf&lt;/span&gt;
        &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;link&lt;/span&gt;
      &lt;span class="nt"&gt;become&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;copy the html&lt;/span&gt;
      &lt;span class="nt"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;src_root&lt;/span&gt; &lt;span class="p p-Indicator"&gt;}}&lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/index.html&lt;/span&gt;
        &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/usr/share/nginx/html/index.html&lt;/span&gt;
      &lt;span class="nt"&gt;notify&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;restart nginx&lt;/span&gt;
  &lt;span class="nt"&gt;handlers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;restart nginx&lt;/span&gt;
      &lt;span class="nt"&gt;service&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
        &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;restarted&lt;/span&gt;
      &lt;span class="nt"&gt;become&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å†æ¬¡æ‰§è¡Œå¹¶æŸ¥çœ‹ç»“æœ. åˆ†åˆ«è®¿é—®: &lt;a href="http://192.168.1.106/"&gt;http://192.168.1.106/&lt;/a&gt; å’Œ &amp;lt;&lt;a href="http://192.168.1.107/"&gt;http://192.168.1.107/&lt;/a&gt; æŸ¥çœ‹NGINXè¿è¡ŒçŠ¶æ€.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç®€å•è¯´æ˜:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;index.html&lt;/code&gt;é¡µé¢, å¯ä»¥é€šè¿‡&lt;code&gt;{{ vars }}&lt;/code&gt; æ¥ä½¿ç”¨ä¸€äº›å˜é‡. å¯ä»¥ä½¿ç”¨ansibleå·²æœ‰çš„, ä¹Ÿå¯ä»¥ä½¿ç”¨åç»­è‡ªå®šä¹‰çš„. æœ¬ä¾‹ä¸­ä½¿ç”¨çš„&lt;code&gt;inventory_hostname&lt;/code&gt; ä¸ºansibleè‡ªå¸¦çš„å˜é‡.&lt;/p&gt;
&lt;p&gt;Ansible Playbook  - &lt;code&gt;nginx.yml&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vars&lt;/code&gt;: å®šä¹‰å˜é‡ï¼Œ&lt;code&gt;src_root&lt;/code&gt;ä»¥ååœ¨ä»»åŠ¡ä¸­ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tasks&lt;/code&gt;: åˆ†åˆ«ä¸º:&lt;ul&gt;
&lt;li&gt;å®‰è£…&lt;/li&gt;
&lt;li&gt;å¯åŠ¨&lt;/li&gt;
&lt;li&gt;å¤åˆ¶NGINXé…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;åˆ›å»ºè½¯é“¾æ¥&lt;/li&gt;
&lt;li&gt;å¤åˆ¶htmlæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nofity&lt;/code&gt;å’Œ&lt;code&gt;handlers&lt;/code&gt;: ç”¨&lt;code&gt;notify&lt;/code&gt;è§¦å‘ä¸€ä¸ªåœ¨Ansibleä¸­ç§°ä¸º&lt;strong&gt;å¤„ç†ç¨‹åº&lt;/strong&gt; - &lt;code&gt;handler&lt;/code&gt;çš„äº‹ä»¶ï¼Œè¯¥äº‹ä»¶å°†åœ¨ä¸‹é¢ç”¨äºé‡å¯nginxã€‚&lt;code&gt;notify&lt;/code&gt;å¼•å‘äº‹ä»¶åï¼Œå°†è§¦å‘ç›¸åº”çš„å¤„ç†ç¨‹åºï¼ˆ&lt;code&gt;restart nginx&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;æ€»ç»“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡é€šè¿‡æ‰¹é‡ç®¡ç†NGINXè¿™æ ·ä¸€ä¸ªå®é™…æ¡ˆä¾‹, ä»‹ç»äº†Ansibleçš„åŸºæœ¬ç”¨æ³•. ä½ å¯ä»¥åœ¨å·¥ä½œä¸­ä½¿ç”¨ç±»ä¼¼çš„è¯­æ³•æ¥åˆ›å»ºå±äºä½ è‡ªå·±çš„å‰§æœ¬(playbook). &lt;img align="absmiddle" alt="ğŸ˜†" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f606.png" title=":laughing:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜†" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f606.png" title=":laughing:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜†" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f606.png" title=":laughing:" width="20px"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 08 Oct 2019 18:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-08:/how-to-manager-nginx-using-ansible.html</guid><category>python</category><category>devops</category><category>ansible</category><category>linux</category></item><item><title>Kubernetes ä¸­åˆ†æè°ƒè¯•ç½‘ç»œæµé‡çš„4ç§æ–¹å¼</title><link>https://www.EWhisper.cn/how-to-tcpdump-in-k8s.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å‰è¨€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#-sidecar"&gt;æ–¹æ³•ä¸€ - ä½¿ç”¨ Sidecar&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#sidecar"&gt;Sidecar å‰æ¥æ•‘æ´!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sidecar_1"&gt;éƒ¨ç½² Sidecar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ•è·å’Œåˆ†ææµé‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#-netshoot"&gt;æ–¹æ³•äºŒ - ä½¿ç”¨ netshoot&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ç”¨é€”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#network-namespaces-"&gt;Network Namespaces - ç½‘ç»œåç§°ç©ºé—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;é’ˆå¯¹å®¹å™¨çš„ç”¨æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#kubernetes"&gt;é’ˆå¯¹ Kubernetes çš„ç”¨æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;ç½‘ç»œé—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;è¢«åŒ…å«çš„åŒ…&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#-network-namespace"&gt;æ–¹æ³•ä¸‰ - åˆ©ç”¨Network Namespace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#-kubectl-ksniff"&gt;æ–¹æ³•å›› - ä½¿ç”¨ kubectl æ’ä»¶ksniff&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#krew-kubectl"&gt;é¢˜å¤–è¯: krew - kubectl æ’ä»¶åŒ…ç®¡ç†å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ksniff"&gt;å®‰è£…ksniff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;ä½¿ç”¨æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨å½“ä»Šä¸–ç•Œ, åˆ†å¸ƒå¼ç³»ç»Ÿ, å¾®æœåŠ¡/SOAæ¶æ„éåœ°, æœåŠ¡ä¹‹é—´çš„è®¸å¤šäº¤äº’å’Œé€šä¿¡éƒ½ä¸å†æ˜¯åŒä¸€ä¸»æœºçš„ä¸åŒçº¿ç¨‹æˆ–è¿›ç¨‹, è€Œæ˜¯è·¨ä¸»æœº, ç”šè‡³è·¨ç½‘ç»œåŒºåŸŸ. é‚£ä¹ˆä¸€æ—¦ç›¸å…³æœåŠ¡å‡ºç°é—®é¢˜, æˆ‘ä»¬å°±ä¼šéœ€è¦è°ƒè¯•æœåŠ¡é—´çš„é€šè®¯, ä¸»æœºé—´çš„ç½‘ç»œ...&lt;/p&gt;
&lt;p&gt;&lt;img alt="å¤æ‚çš„ç½‘ç»œæ¶æ„" src="images/smartscape-complex-environment-572-9c4b25ca16.png"&gt;&lt;/p&gt;
&lt;p&gt;Kubernetes ä¸­çš„åº”ç”¨å‡ºäº†é—®é¢˜, å¾€å¾€éœ€è¦è¿›è¡Œç½‘ç»œæŠ“åŒ…åˆ†æ. æœ¬æ–‡ä»‹ç»äº†åœ¨ Kubernetes ä¸­ç½‘ç»œè°ƒè¯•åˆ†æçš„4ç§æ–¹æ³•.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ sidecar&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;a href="https://github.com/nicolaka/netshoot"&gt;netshoot&lt;/a&gt; - ä¸€ä¸ª Docker + Kubernetesç½‘ç»œæ•…éšœæ’é™¤çš„ç‘å£«å†›åˆ€å®¹å™¨&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨Network Namespace&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ kubectl æ’ä»¶ - &lt;code&gt;ksniff&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="-sidecar"&gt;æ–¹æ³•ä¸€ - ä½¿ç”¨ Sidecar&lt;a class="headerlink" href="#-sidecar" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æœ¬ç« èŠ‚ä¸ºè¯‘æ–‡, åŸæ–‡é“¾æ¥: &lt;a href="https://developers.redhat.com/blog/2019/02/27/sidecars-analyze-debug-network-traffic-kubernetes-pod/"&gt;çº¢å¸½å¼€å‘è€…åšå®¢ - Using sidecars to analyze and debug network traffic in OpenShift and Kubernetes pods&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;By&lt;/strong&gt; &lt;a href="https://developers.redhat.com/blog/author/duncandoyle/"&gt;Duncan Doyle&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;February 27, 2019&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;sidecaråº”ç”¨èŒƒå›´ä¸ä»…ä»…æ­¢äºæ­¤, æ¯”å¦‚: APMç›‘æ§çš„agentå°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥æŒ‚è½½. è¯¦è§æˆ‘çš„å¦ä¸€ç¯‡åšæ–‡: &lt;a href="https://www.EWhisper.cn/monitoring-docker-app-with-dynatrace.html"&gt;ä½¿ç”¨ Dynatrace AppMon ç›‘æ§ Docker åº”ç”¨&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼è®¡ç®—ã€å®¹å™¨å’Œå¾®æœåŠ¡çš„ä¸–ç•Œä¸­ï¼ŒæœåŠ¡ä¹‹é—´çš„è®¸å¤šäº¤äº’å’Œé€šä¿¡éƒ½æ˜¯é€šè¿‡RESTful apiå®Œæˆçš„ã€‚åœ¨å¼€å‘è¿™äº›apiå’ŒæœåŠ¡ä¹‹é—´çš„äº¤äº’æ—¶ï¼Œæˆ‘ç»å¸¸éœ€è¦è°ƒè¯•æœåŠ¡ä¹‹é—´çš„é€šä¿¡ï¼Œç‰¹åˆ«æ˜¯å½“äº‹æƒ…çœ‹èµ·æ¥ä¸åƒé¢„æœŸçš„é‚£æ ·å·¥ä½œæ—¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®¹å™¨å‡ºç°ä¹‹å‰ï¼Œæˆ‘åªéœ€å°†æœåŠ¡éƒ¨ç½²åˆ°æœ¬åœ°æœºå™¨ä¸Šï¼Œå¯åŠ¨Wiresharkï¼Œæ‰§è¡Œæµ‹è¯•ï¼Œå¹¶åˆ†ææœåŠ¡ä¹‹é—´çš„HTTPé€šä¿¡ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç§å¿«é€Ÿåˆ†æè½¯ä»¶ä¸­é€šä¿¡é—®é¢˜çš„ç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•ã€‚ç„¶è€Œï¼Œè¿™ç§è°ƒè¯•æ–¹æ³•åœ¨ä¸€ä¸ªå®¹å™¨åŒ–çš„ä¸–ç•Œä¸­å¹¶ä¸é€‚ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œå®¹å™¨å¾ˆå¯èƒ½åœ¨æ‚¨çš„æœºå™¨æ— æ³•ç›´æ¥è®¿é—®çš„å†…éƒ¨å®¹å™¨å¹³å°ç½‘ç»œä¸Šè¿è¡Œã€‚ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼ŒæŒ‰ç…§å®¹å™¨è®¾è®¡æœ€ä½³å®è·µï¼Œå®¹å™¨åªåŒ…å«æ‰§è¡Œå…¶ä»»åŠ¡æ‰€éœ€çš„æœ€å°åº”ç”¨ç¨‹åºå’Œåº“é›†ã€‚è¿™æ„å‘³ç€åƒtcpdumpè¿™æ ·çš„å·¥å…·é€šå¸¸åœ¨å®¹å™¨ä¸­ä¸å¯ç”¨ã€‚è¿™ä½¿å¾—è°ƒè¯•å’Œåˆ†æå®¹å™¨ä¹‹é—´çš„ç½‘ç»œé€šä¿¡å˜å¾—æ›´åŠ å›°éš¾ï¼Œä»è€Œä½¿å¾—è°ƒè¯•å¾®æœåŠ¡é—´çš„é€šä¿¡æ¯”åœ¨éå®¹å™¨ç¯å¢ƒä¸­æ›´åŠ å›°éš¾ã€‚æœ¬æ–‡å±•ç¤ºäº†ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id="sidecar"&gt;Sidecar å‰æ¥æ•‘æ´!&lt;a class="headerlink" href="#sidecar" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="sidecar" src="images/sidecar.jpg"&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘å°è¯•äº†å„ç§æ–¹æ³•æ¥å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæœ€ç»ˆå½¢æˆäº†æˆ‘å°†åœ¨æœ¬æ–‡ä¸­æ¦‚è¿°çš„æ–¹æ³•ã€‚å®ƒæ˜¯æ•è·Kubernetes/OpenShift podsä¹‹é—´çš„ç½‘ç»œæµé‡æ•°æ®çš„ç®€å•æ–¹æ³•ï¼Œå…è®¸å¼€å‘äººå‘˜æ›´å¥½åœ°åˆ†æå’Œè°ƒè¯•å®¹å™¨åŒ–åº”ç”¨ç¨‹åºä¸­çš„é€šä¿¡é—®é¢˜ï¼Œå¹¶æ›´å¿«ã€æ›´æœ‰æ•ˆåœ°è§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°†ä½¿ç”¨tcpdumpæ•è·ä¸€ä¸ªæ‰€è°“çš„PCAP(packet capture)æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°†åŒ…å«podçš„ç½‘ç»œæµé‡ã€‚ç„¶åå¯ä»¥å°†è¿™ä¸ªPCAPæ–‡ä»¶åŠ è½½åˆ°Wiresharkä¹‹ç±»çš„å·¥å…·ä¸­æ¥åˆ†ææµé‡ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œåˆ†æåœ¨podä¸­è¿è¡Œçš„æœåŠ¡çš„RESTfulé€šä¿¡ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨Red Hat Process Automation Manageräº§å“çš„KIEæœåŠ¡å™¨(æ‰§è¡ŒæœåŠ¡å™¨)ä½œä¸ºç¤ºä¾‹ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•åº”è¯¥é€‚ç”¨äºä»»ä½•ç±»å‹çš„å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;è¦å…‹æœçš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯Kubernetes podä¸­tcpdumpå‘½ä»¤çš„å¯ç”¨æ€§ã€‚KIEæœåŠ¡å™¨å®¹å™¨æ˜ åƒæ²¡æœ‰å®‰è£…tcpdumpã€‚å…¶æ¬¡ï¼Œå®¹å™¨ä¸æä¾›ä»Red Hatå­˜å‚¨åº“å®‰è£…tcpdumpçš„å®ç”¨ç¨‹åºã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†â€œsidecarå®¹å™¨â€çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;h4&gt;Sidecar æ¦‚å¿µ&lt;/h4&gt;
&lt;p&gt;sidecarå®¹å™¨æ˜¯ä¸å®é™…æœåŠ¡/åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ç›¸åŒpodä¸­çš„å®¹å™¨ï¼Œèƒ½å¤Ÿä¸ºæœåŠ¡/åº”ç”¨ç¨‹åºæä¾›é™„åŠ åŠŸèƒ½ã€‚&lt;strong&gt;sidecarå®¹å™¨çš„ä¸€ä¸ªä¾‹å­æ˜¯Istioçš„Envoy sidecarï¼Œå®ƒä½¿podæˆä¸ºæœåŠ¡ç½‘æ ¼çš„ä¸€éƒ¨åˆ†&lt;/strong&gt;ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†éƒ¨ç½²ä¸€ä¸ªsidecarå®¹å™¨ï¼Œè¯¥å®¹å™¨æä¾›tcpdumpå®ç”¨ç¨‹åºã€‚ç”±äº&lt;strong&gt;podä¸­çš„å¤šä¸ªå®¹å™¨å…±äº«ç›¸åŒçš„ç½‘ç»œå±‚&lt;/strong&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨sidecaræ¥æ•è·è¿›å‡ºKIEæœåŠ¡å™¨çš„ç½‘ç»œæµé‡ã€‚&lt;/p&gt;
&lt;h3 id="sidecar_1"&gt;éƒ¨ç½² Sidecar&lt;a class="headerlink" href="#sidecar_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘éƒ¨ç½²äº†&lt;a href="https://github.com/jbossdemocentral/rhpam7-mortgage-demo"&gt;Red Hat Process Automation Manager 7 Mortgage Demo&lt;/a&gt;ï¼Œå®ƒå°†åœ¨æˆ‘çš„OpenShift namespaceä¸­åˆ›å»ºä¸¤ä¸ªpodã€‚ä¸€ä¸ªpodè¿è¡ŒBusiness Central workbenchï¼Œå¦ä¸€ä¸ªpodæ˜¯æ‰§è¡ŒæœåŠ¡å™¨çš„podã€‚è¿™ä¸¤ä¸ªç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡RESTå®Œæˆçš„ï¼Œè¿™æ˜¯æˆ‘ä»¬å°†è¦æ•è·çš„æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="OpenShift Namespace Overview" src="./images/Screenshot-2019-02-20-at-09.04.48.png"&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ•è·KIEæœåŠ¡å™¨podä¸Šçš„ç½‘ç»œæµé‡ï¼Œä»¥ä¾¿åˆ†æBusiness Central workbench å‘é€ç»™KIEæœåŠ¡å™¨çš„RESTfulå‘½ä»¤ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦é™„åŠ (attach)ä¸€ä¸ª sidecar åˆ°KIEæœåŠ¡å™¨çš„pod.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨Overviewé¡µé¢ä¸­ï¼Œå•å‡»è¦åˆ†æçš„podçš„åç§°ã€‚è¿™å°†æ‰“å¼€&lt;em&gt;éƒ¨ç½²é…ç½®(Deployment Config, ç®€ç§°DC)&lt;/em&gt;é¡µé¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;em&gt;éƒ¨ç½²é…ç½®&lt;/em&gt;å±å¹•çš„å³ä¸Šè§’ï¼Œå•å‡»Actions -&amp;gt; Edit YAMLã€‚è¿™å°†æ‰“å¼€DC çš„YAMLé…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="images/Screenshot-2019-02-20-at-09.08.55.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘ä¸‹æ»šåŠ¨ï¼Œç›´åˆ°çœ‹åˆ°å•è¯&lt;code&gt;containers&lt;/code&gt;ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å®¹å™¨ï¼Œå®‰è£…äº†tcpdumpçš„sidecaråˆ°podä¸­ã€‚ç›´æ¥åœ¨&lt;code&gt;containers&lt;/code&gt; å®šä¹‰ä¸‹æ·»åŠ ä»¥ä¸‹YAMLç‰‡æ®µ:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;tcpdump&lt;/span&gt;
   &lt;span class="l l-Scalar l-Scalar-Plain"&gt;image&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;corfr/tcpdump&lt;/span&gt;
   &lt;span class="l l-Scalar l-Scalar-Plain"&gt;command&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/bin/sleep&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;infinity&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="img" src="images/Screenshot-2019-02-20-at-09.17.56.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;ä¿å­˜é…ç½®ã€‚è¿™å°†éƒ¨ç½²ä¸€ä¸ªæ–°çš„podï¼Œå®ƒç°åœ¨ç”±ä¸¤ä¸ªå®¹å™¨ç»„æˆ:ä¸€ä¸ªå®¹å™¨åŒ…å«KIEæœåŠ¡å™¨ï¼Œå¦ä¸€ä¸ªå®¹å™¨åŒ…å«æˆ‘ä»¬çš„tcpdumpå·¥å…·ï¼Œå®ƒå°†æ— é™æœŸåœ°æŒç»­è¿è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_2"&gt;æ•è·å’Œåˆ†ææµé‡&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;éšç€sidecarçš„éƒ¨ç½²å’Œè¿è¡Œï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å¼€å§‹æ•è·æ•°æ®äº†ã€‚æˆ‘å°è¯•çš„æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨&lt;code&gt;oc rsh&lt;/code&gt;å‘½ä»¤è¿œç¨‹æ‰§è¡Œsidecarä¸­çš„&lt;code&gt;tcpdump&lt;/code&gt;å‘½ä»¤ï¼Œå°†ç½‘ç»œæ•°æ®æµè¾“å‡ºåˆ°FIFOæ–‡ä»¶ï¼Œå¹¶å°†æ•°æ®ç›´æ¥å¯¼å…¥Wiresharkã€‚ç”±äºå„ç§åŸå› ï¼Œè¿™ç§æ–¹æ³•å¤±è´¥äº†ã€‚å…¶ä¸­ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œ&lt;code&gt;tcpdump&lt;/code&gt;å‘&lt;code&gt;stderr&lt;/code&gt;å‘é€ä¿¡æ¯æ¶ˆæ¯ï¼Œä½†æ˜¯è¿™äº›æ¶ˆæ¯ä¸&lt;code&gt;stdout&lt;/code&gt;åœ¨ç›¸åŒçš„æµä¸­, å¹¶ä¸”æ˜¯é€šè¿‡SSHæ¥æ”¶ï¼Œä»è€Œç ´åäº†è¿›å…¥Wiresharkçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æœ€åä½¿ç”¨çš„æ–¹æ³•æ˜¯ç™»å½•åˆ°sidecarå®¹å™¨ï¼Œå¹¶åœ¨sidecarä¸­è¿è¡Œ&lt;code&gt;tcpdump&lt;/code&gt;å‘½ä»¤æ¥åˆ›å»ºPCAPæ–‡ä»¶ã€‚å½“æ‚¨æ•è·äº†è¶³å¤Ÿçš„æ•°æ®åï¼Œå°±å¯ä»¥åœæ­¢æ•è·è¿‡ç¨‹å¹¶å°†PCAPæ–‡ä»¶å¤åˆ¶åˆ°æ‚¨å¸Œæœ›ä½¿ç”¨Wiresharkè¿›è¡Œç½‘ç»œæµé‡åˆ†æçš„æœºå™¨ä¸Šã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æ‚¨çš„å¼€å‘æœºå™¨ä¸Šï¼Œç”¨&lt;code&gt;oc&lt;/code&gt; å®¢æˆ·ç«¯è¿æ¥åˆ°OpenShiftå®ä¾‹ï¼Œå¹¶æ¿€æ´»æ­£ç¡®çš„é¡¹ç›®(project, å³namespace)ï¼Œè¿è¡Œ&lt;code&gt;oc get pods&lt;/code&gt;å‘½ä»¤æ¥åˆ—å‡ºæ‚¨çš„pods:&lt;/p&gt;
&lt;p&gt;&lt;img alt="oc get pods" src="images/Screenshot-2019-02-20-at-09.26.30.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½•åˆ°æˆ‘ä»¬çš„KIEæœåŠ¡å™¨podçš„tcpdumpå®¹å™¨ä¸­:&lt;code&gt;oc rsh -c tcpdump rhpam7-mortgage-kieserver-2-zcpsn&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;code&gt;tcpdump&lt;/code&gt;å®¹å™¨ä¸­ï¼Œè¿è¡Œæ­¤å‘½ä»¤ä»¥å¯åŠ¨ç½‘ç»œæµé‡æ•è·è¿‡ç¨‹: &lt;code&gt;tcpdump -s 0 -n -w /tmp/kieserver.pcap&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿è¡Œè¦åˆ†æçš„ç½‘ç»œæµé‡çš„æµ‹è¯•ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘å°†ä»Business Central workbenchä¸­å¯åŠ¨ä¸€ä¸ªä¸šåŠ¡æµç¨‹ï¼Œå®ƒå°†å‘KIEæœåŠ¡å™¨å‘é€ä¸€ä¸ªRESTfulè¯·æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•è·è¶³å¤Ÿçš„æ•°æ®åï¼Œåœ¨&lt;code&gt;tcpdump&lt;/code&gt;å®¹å™¨ä¸­ä½¿ç”¨&lt;code&gt;Ctrl+C&lt;/code&gt;å®Œæˆæ•è·è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›åˆ°æœ¬åœ°æœºå™¨ã€‚å°†PCAPæ–‡ä»¶ä»podå¤åˆ¶åˆ°æœ¬åœ°æœºå™¨: &lt;code&gt;oc cp -c tcpdump rhpam7-mortgage-kieserver-2-zcpsn:tmp/kieserver.pcap kieserver.pcap&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨Wiresharkæ‰“å¼€PCAPæ–‡ä»¶å¹¶åˆ†æç½‘ç»œæµé‡ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æ­£åœ¨åˆ†ææˆ‘çš„HTTP POSTæ–¹æ³•ï¼Œå®ƒåˆ›å»ºäº†Mortgage è¿›ç¨‹çš„ä¸€ä¸ªæ–°å®ä¾‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="wireshark åˆ†æ" src="images/Screenshot-2019-02-20-at-09.45.47.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_3"&gt;æ€»ç»“&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨å®¹å™¨ç¯å¢ƒ(å¦‚Kuberneteså’Œ/æˆ–OpenShift)ä¸­åˆ†æpodä¹‹é—´çš„ç½‘ç»œé€šä¿¡å¯èƒ½æ¯”åœ¨éå®¹å™¨ç¯å¢ƒä¸­æ›´å›°éš¾ä¸€äº›ã€‚ç„¶è€Œï¼Œsidecarå®¹å™¨çš„æ¦‚å¿µä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§ç®€å•çš„å·¥å…·ï¼Œå¯ä»¥å°†å®¹å™¨è¿åŒæ‰€éœ€çš„å¼€å‘å·¥å…·å’Œå®ç”¨ç¨‹åºé™„åŠ åˆ°å¾®æœåŠ¡podä¸Šã€‚&lt;strong&gt;è¿™é¿å…äº†å¼€å‘äººå‘˜å¿…é¡»åœ¨åº”ç”¨ç¨‹åºå®¹å™¨æ˜ åƒæœ¬èº«ä¸­å®‰è£…è¿™äº›è°ƒè¯•å·¥å…·ï¼Œä»è€Œä¿æŒå®¹å™¨çš„è½»ä¾¿å’Œå¹²å‡€ã€‚&lt;/strong&gt;ä½¿ç”¨åƒ&lt;code&gt;oc rsh&lt;/code&gt;å’Œ&lt;code&gt;oc cp&lt;/code&gt;è¿™æ ·çš„OpenShiftå·¥å…·ï¼Œæˆ‘å±•ç¤ºäº†å¦‚ä½•è½»æ¾åœ°ä»podæ•è·ç½‘ç»œæµé‡æ•°æ®å¹¶å°†æ•°æ®å¸¦åˆ°å¼€å‘æœºå™¨è¿›è¡Œåˆ†æã€‚&lt;/p&gt;
&lt;h2 id="-netshoot"&gt;æ–¹æ³•äºŒ - ä½¿ç”¨ netshoot&lt;a class="headerlink" href="#-netshoot" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/nicolaka/netshoot"&gt;Netshoot&lt;/a&gt; - Docker + Kubernetesç½‘ç»œæ•…éšœæ’é™¤çš„ç‘å£«å†›åˆ€å®¹å™¨&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç‘å£«å†›åˆ€" src="images/403141.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_4"&gt;ç”¨é€”&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dockerå’ŒKubernetesç½‘ç»œæ•…éšœæ’é™¤å˜å¾—å¤æ‚ã€‚é€šè¿‡æ­£ç¡®ç†è§£Dockerå’ŒKubernetesç½‘ç»œçš„å·¥ä½œæ–¹å¼å’Œæ­£ç¡®çš„å·¥å…·é›†ï¼Œæ‚¨å¯ä»¥æ’é™¤æ•…éšœå¹¶è§£å†³è¿™äº›ç½‘ç»œé—®é¢˜ã€‚netshootå®¹å™¨æœ‰ä¸€ç»„å¼ºå¤§çš„ç½‘ç»œtroubleshootå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ’é™¤Dockerç½‘ç»œé—®é¢˜ã€‚ä¸è¿™äº›å·¥å…·ä¸€èµ·å‡ºç°çš„è¿˜æœ‰ä¸€ç»„ç”¨ä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨çœŸå®åœºæ™¯ä¸­ä½¿ç”¨è¿™ä¸ªå®¹å™¨ã€‚&lt;/p&gt;
&lt;h3 id="network-namespaces-"&gt;Network Namespaces - ç½‘ç»œåç§°ç©ºé—´&lt;a class="headerlink" href="#network-namespaces-" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨å¼€å§‹ä½¿ç”¨è¿™ä¸ªå·¥å…·ä¹‹å‰ï¼Œæœ‰ä¸€ç‚¹å¾ˆé‡è¦:ç½‘ç»œåç§°ç©ºé—´ã€‚ç½‘ç»œåç§°ç©ºé—´æä¾›ä¸ç½‘ç»œç›¸å…³çš„ç³»ç»Ÿèµ„æºçš„éš”ç¦»ã€‚Dockerä½¿ç”¨ç½‘ç»œå’Œå…¶ä»–ç±»å‹çš„åç§°ç©ºé—´(&lt;code&gt;pid&lt;/code&gt;ã€&lt;code&gt;mount&lt;/code&gt;ã€&lt;code&gt;user&lt;/code&gt;...)ä¸ºæ¯ä¸ªå®¹å™¨åˆ›å»ºä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒã€‚ä»æ¥å£ã€è·¯ç”±åˆ°ipçš„æ‰€æœ‰å†…å®¹éƒ½å®Œå…¨éš”ç¦»åœ¨å®¹å™¨çš„ç½‘ç»œåç§°ç©ºé—´ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;Kubernetesä¹Ÿä½¿ç”¨ç½‘ç»œåç§°ç©ºé—´ã€‚&lt;strong&gt;Kubeletsä¸ºæ¯ä¸ªpodåˆ›å»ºä¸€ä¸ªç½‘ç»œåç§°ç©ºé—´ï¼Œå…¶ä¸­è¯¥podä¸­çš„æ‰€æœ‰å®¹å™¨å…±äº«ç›¸åŒçš„ç½‘ç»œåç§°ç©ºé—´(ethsã€IPã€tcpå¥—æ¥å­—â€¦â€¦)ã€‚è¿™æ˜¯Dockerå®¹å™¨å’ŒKubernetes podä¹‹é—´çš„å…³é”®åŒºåˆ«ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åç§°ç©ºé—´å¾ˆé…·çš„ä¸€ç‚¹æ˜¯æ‚¨å¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚æ‚¨å¯ä»¥è¾“å…¥ä¸åŒå®¹å™¨çš„ç½‘ç»œåç§°ç©ºé—´ï¼Œä½¿ç”¨ç”šè‡³æ²¡æœ‰å®‰è£…åœ¨è¯¥å®¹å™¨ä¸Šçš„å·¥å…·åœ¨å…¶ç½‘ç»œå †æ ˆä¸Šæ‰§è¡Œä¸€äº›æ•…éšœæ’é™¤ã€‚æ­¤å¤–ï¼Œnetshootå¯ä»¥é€šè¿‡ä½¿ç”¨ä¸»æœºçš„ç½‘ç»œåç§°ç©ºé—´æ¥å¯¹ä¸»æœºæœ¬èº«è¿›è¡Œæ•…éšœæ’é™¤ã€‚è¿™å…è®¸æ‚¨åœ¨ä¸ç›´æ¥åœ¨ä¸»æœºæˆ–åº”ç”¨ç¨‹åºåŒ…ä¸Šå®‰è£…ä»»ä½•æ–°åŒ…çš„æƒ…å†µä¸‹æ‰§è¡Œä»»ä½•æ•…éšœæ’é™¤ã€‚&lt;/p&gt;
&lt;h3 id="_5"&gt;é’ˆå¯¹å®¹å™¨çš„ç”¨æ³•&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®¹å™¨çš„ç½‘ç»œåç§°ç©ºé—´&lt;/strong&gt;:å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºçš„å®¹å™¨å­˜åœ¨ç½‘ç»œé—®é¢˜ï¼Œæ‚¨å¯ä»¥åƒè¿™æ ·ä½¿ç”¨å®¹å™¨çš„ç½‘ç»œåç§°ç©ºé—´å¯åŠ¨netshoot: &lt;code&gt;$ docker run -it --net container:&amp;lt;container_name&amp;gt; nicolaka/netshoot&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æœºçš„ç½‘ç»œåç§°ç©ºé—´&lt;/strong&gt;:å¦‚æœæ‚¨è®¤ä¸ºç½‘ç»œé—®é¢˜åœ¨äºä¸»æœºæœ¬èº«ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è¯¥ä¸»æœºçš„ç½‘ç»œåç§°ç©ºé—´å¯åŠ¨netshootã€‚å‘½ä»¤: &lt;code&gt;$ docker run -it --net host nicolaka/netshoot&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œçš„ç½‘ç»œåç§°ç©ºé—´&lt;/strong&gt;:å¦‚æœè¦å¯¹Dockerç½‘ç»œè¿›è¡Œæ•…éšœæ’é™¤ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;nsenter&lt;/code&gt;è¾“å…¥ç½‘ç»œçš„åç§°ç©ºé—´ã€‚è¿™å°†åœ¨ä¸‹é¢çš„&lt;code&gt;nsenter&lt;/code&gt;éƒ¨åˆ†è¿›è¡Œè§£é‡Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="kubernetes"&gt;é’ˆå¯¹ Kubernetes çš„ç”¨æ³•&lt;a class="headerlink" href="#kubernetes" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Kubernetes&lt;/strong&gt;:å¦‚æœä½ æƒ³æ‰“å¼€ä¸€ä¸ªä¸´æ—¶çš„å®¹å™¨æ¥è°ƒè¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ kubectl run --generator=run-pod/v1 tmp-shell --rm -i --tty --image nicolaka/netshoot -- /bin/bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨æƒ³åœ¨ä¸»æœºçš„ç½‘ç»œåç§°ç©ºé—´ä¸Šspin upä¸€ä¸ªå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ kubectl run tmp-shell --generator=run-pod/v1 --rm -i --tty --overrides='{"spec": {"hostNetwork": true}}' --image nicolaka/netshoot -- /bin/bash&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„åŸç†, &lt;code&gt;netshoot&lt;/code&gt;ä¹Ÿå¯ä»¥é€šè¿‡sidecarçš„æ–¹å¼è¿›è¡Œä½¿ç”¨.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_6"&gt;ç½‘ç»œé—®é¢˜&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è®¸å¤šç½‘ç»œé—®é¢˜å¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºæ€§èƒ½ä¸‹é™ã€‚å…¶ä¸­ä¸€äº›é—®é¢˜å¯èƒ½ä¸åº•å±‚ç½‘ç»œåŸºç¡€è®¾æ–½æœ‰å…³ã€‚å…¶ä»–é—®é¢˜å¯èƒ½ä¸ä¸»æœºæˆ–Dockerçº§åˆ«çš„é…ç½®é”™è¯¯æœ‰å…³ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¸¸è§çš„ç½‘ç»œé—®é¢˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å»¶è¿Ÿ(latency)&lt;/li&gt;
&lt;li&gt;è·¯ç”±(routing)&lt;/li&gt;
&lt;li&gt;DNSè§£æ(DNS resolution)&lt;/li&gt;
&lt;li&gt;é˜²ç«å¢™(firewall)&lt;/li&gt;
&lt;li&gt;ä¸å®Œæ•´çš„ARP(incomplete ARPs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œ&lt;code&gt;netshoot&lt;/code&gt;åŒ…å«äº†ä¸€ç»„å¼ºå¤§çš„å·¥å…·ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="netshoot å·¥å…·é›†" src="images/netshoot-all-tools.png"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;è¢«åŒ…å«çš„åŒ…&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹åŒ…è¢«åŒ…å«åœ¨&lt;code&gt;netshoot&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;apache2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;
&lt;span class="n"&gt;bash&lt;/span&gt;
&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;
&lt;span class="n"&gt;bird&lt;/span&gt;
&lt;span class="n"&gt;bridge&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;
&lt;span class="n"&gt;busybox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;extras&lt;/span&gt;
&lt;span class="n"&gt;calicoctl&lt;/span&gt;
&lt;span class="n"&gt;conntrack&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;
&lt;span class="n"&gt;ctop&lt;/span&gt;
&lt;span class="n"&gt;curl&lt;/span&gt;
&lt;span class="n"&gt;dhcping&lt;/span&gt;
&lt;span class="n"&gt;drill&lt;/span&gt;
&lt;span class="n"&gt;ethtool&lt;/span&gt;
&lt;span class="n"&gt;file&lt;/span&gt;
&lt;span class="n"&gt;fping&lt;/span&gt;
&lt;span class="n"&gt;iftop&lt;/span&gt;
&lt;span class="n"&gt;iperf&lt;/span&gt;
&lt;span class="n"&gt;iproute2&lt;/span&gt;
&lt;span class="n"&gt;ipset&lt;/span&gt;
&lt;span class="n"&gt;iptables&lt;/span&gt;
&lt;span class="n"&gt;iptraf&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ng&lt;/span&gt;
&lt;span class="n"&gt;iputils&lt;/span&gt;
&lt;span class="n"&gt;ipvsadm&lt;/span&gt;
&lt;span class="n"&gt;libc6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;compat&lt;/span&gt;
&lt;span class="n"&gt;liboping&lt;/span&gt;
&lt;span class="n"&gt;mtr&lt;/span&gt;
&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;snmp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;
&lt;span class="n"&gt;netcat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;openbsd&lt;/span&gt;
&lt;span class="n"&gt;netgen&lt;/span&gt;
&lt;span class="n"&gt;nftables&lt;/span&gt;
&lt;span class="n"&gt;ngrep&lt;/span&gt;
&lt;span class="n"&gt;nmap&lt;/span&gt;
&lt;span class="n"&gt;nmap&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nping&lt;/span&gt;
&lt;span class="n"&gt;openssl&lt;/span&gt;
&lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;crypto&lt;/span&gt;
&lt;span class="n"&gt;py2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;virtualenv&lt;/span&gt;
&lt;span class="n"&gt;python2&lt;/span&gt;
&lt;span class="n"&gt;scapy&lt;/span&gt;
&lt;span class="n"&gt;socat&lt;/span&gt;
&lt;span class="n"&gt;strace&lt;/span&gt;
&lt;span class="n"&gt;tcpdump&lt;/span&gt;
&lt;span class="n"&gt;tcptraceroute&lt;/span&gt;
&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;
&lt;span class="n"&gt;vim&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="-network-namespace"&gt;æ–¹æ³•ä¸‰ - åˆ©ç”¨Network Namespace&lt;a class="headerlink" href="#-network-namespace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ­£å¦‚&lt;a href="#Network Namespaces - ç½‘ç»œåç§°ç©ºé—´"&gt;æ–¹æ³•äºŒä¸­æåˆ°çš„Network Namespace&lt;/a&gt;æ¦‚å¿µ, å®é™…ä¸Š, ä¸åŒçš„å®¹å™¨, &lt;strong&gt;åªæ˜¯åœ¨å®¿ä¸»æœºä¸Šä¸åŒ namespace è¿è¡Œçš„è¿›ç¨‹è€Œå·²&lt;/strong&gt;. å› æ­¤è¦åœ¨ä¸åŒçš„å®¹å™¨æŠ“åŒ…å¯ä»¥ç®€å•åœ°ä½¿ç”¨å‘½ä»¤åˆ‡æ¢ network namespace å³å¯ï¼Œå¯ä»¥ä½¿ç”¨åœ¨å®¿ä¸»æœºä¸Šçš„ &lt;code&gt;tcpdump&lt;/code&gt; ç­‰åº”ç”¨è¿›è¡ŒæŠ“åŒ…ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å‰ææ¡ä»¶: å®¿ä¸»æœºä¸Šå·²å®‰è£…&lt;code&gt;tcpdump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥: &lt;a href="https://ruofeng.me/2018/09/19/capture-packets-in-kubernetes/"&gt;åœ¨ k8s ä¸­å¯¹æŒ‡å®š Pod è¿›è¡ŒæŠ“åŒ…&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹æŒ‡å®š pod è¿è¡Œåœ¨å“ªä¸ªå®¿ä¸»æœºä¸Š: &lt;code&gt;kubctl describe pod &amp;lt;pod&amp;gt; -n mservice&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è·å¾—å®¹å™¨çš„ pid: &lt;code&gt;docker inspect -f {{.State.Pid}} &amp;lt;container&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿›å…¥è¯¥å®¹å™¨çš„ network namespace: &lt;code&gt;nsenter --target &amp;lt;PID&amp;gt; -n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å®¿ä¸»æœºçš„&lt;code&gt;tcpdump&lt;/code&gt; æŠ“åŒ…, æŒ‡å®š eth0 ç½‘å¡: &lt;code&gt;tcpdump -i eth0 tcp and port 80 -vvv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æˆ–è€…ç›´æ¥æŠ“åŒ…å¹¶å¯¼å‡ºåˆ°æ–‡ä»¶: &lt;code&gt;tcpdump -i eth0 -w /tmp/out.cap&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»è¿œç¨‹ &lt;code&gt;scp&lt;/code&gt; åˆ°æœ¬åœ°: &lt;code&gt;scp ipaddr:/tmp/out.cap ./&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¹‹ååœ¨ Wireshark ä¸­å¯ä»¥æ‰“å¼€æ–‡ä»¶éå¸¸ç›´è§‚å¾—æŸ¥çœ‹è¿‡æ»¤æŠ“åˆ°çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="-kubectl-ksniff"&gt;æ–¹æ³•å›› - ä½¿ç”¨ kubectl æ’ä»¶&lt;code&gt;ksniff&lt;/code&gt;&lt;a class="headerlink" href="#-kubectl-ksniff" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/eldadru/ksniff"&gt;Github: ksniff&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ksniffè¿˜æ²¡æœ‰ä¸ºç”Ÿäº§åšå¥½å‡†å¤‡ï¼Œç›®å‰ä¸å»ºè®®ä¸ºç”Ÿäº§å·¥ä½œè´Ÿè½½è¿è¡ŒKsniffã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="krew-kubectl"&gt;é¢˜å¤–è¯: krew - kubectl æ’ä»¶åŒ…ç®¡ç†å™¨&lt;img align="absmiddle" alt="ğŸ“¦" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4e6.png" title=":package:" width="20px"&gt;&lt;a class="headerlink" href="#krew-kubectl" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å‰ææ¡ä»¶: kubectl v1.12æˆ–æ›´é«˜.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/kubernetes-sigs/krew/"&gt;Github: krew&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Krewæ˜¯kubectlæ’ä»¶çš„åŒ…ç®¡ç†å™¨ã€‚(åç»­ä¼šä½¿ç”¨krewæ¥å®‰è£…&lt;code&gt;ksniff&lt;/code&gt;, æ–¹ä¾¿å¾ˆå¤š)&lt;/p&gt;
&lt;h4&gt;ä»€ä¹ˆæ˜¯ &lt;code&gt;krew&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ“¦" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4e6.png" title=":package:" width="20px"&gt; â€‹krewæ˜¯ä¸€ä¸ªä½¿&lt;a href="https://kubernetes.io/docs/tasks/extend-kubectl/kubectl-plugins/"&gt;kubectlæ’ä»¶&lt;/a&gt;æ˜“äºä½¿ç”¨çš„å·¥å…·ã€‚krewå¸®åŠ©æ‚¨å‘ç°æ’ä»¶ï¼Œå¹¶åœ¨æ‚¨çš„æœºå™¨ä¸Šå®‰è£…å’Œç®¡ç†å®ƒä»¬ã€‚å®ƒç±»ä¼¼äºaptã€dnfæˆ–brewç­‰å·¥å…·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯¹äº kubectl ç”¨æˆ·&lt;/strong&gt;: krewå¸®åŠ©æ‚¨ä»¥ä¸€è‡´çš„æ–¹å¼æŸ¥æ‰¾ã€å®‰è£…å’Œç®¡ç†kubectlæ’ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;krew æ˜“äºä½¿ç”¨:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kubectl krew search                 &lt;span class="c1"&gt;# show all plugins&lt;/span&gt;
kubectl krew install view-secret    &lt;span class="c1"&gt;# install a plugin named &amp;quot;view-secret&amp;quot;&lt;/span&gt;
kubectl view-secret                 &lt;span class="c1"&gt;# use the plugin&lt;/span&gt;
kubectl krew upgrade                &lt;span class="c1"&gt;# upgrade installed plugins&lt;/span&gt;
kubectl krew uninstall view-secret  &lt;span class="c1"&gt;# uninstall a plugin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¦ç»†æ–‡æ¡£è¯·å‚é˜…&lt;a href="https://github.com/kubernetes-sigs/krew/blob/master/docs/USER_GUIDE.md"&gt;ç”¨æˆ·æŒ‡å—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹åœ¨krewä¸Š&lt;a href="http://sigs.k8s.io/krew-index/plugins.md"&gt;å¯ç”¨çš„kubectlæ’ä»¶åˆ—è¡¨&lt;/a&gt;ï¼Œæˆ–è€…è¿è¡Œ&lt;code&gt;kubectl krew search&lt;/code&gt;æ¥å‘ç°å¯ç”¨çš„æ’ä»¶ã€‚&lt;/p&gt;
&lt;h4&gt;å®‰è£… krew&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Bash å’Œ ZSH&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡®ä¿&lt;code&gt;git&lt;/code&gt; å·²å®‰è£…;&lt;/li&gt;
&lt;li&gt;è¿è¡Œå¦‚ä¸‹å‘½ä»¤, ä¸‹è½½å¹¶å®‰è£…&lt;code&gt;krew&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;
  &lt;span class="nb"&gt;set&lt;/span&gt; -x&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;mktemp -d&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
  curl -fsSLO &lt;span class="s2"&gt;&amp;quot;https://github.com/kubernetes-sigs/krew/releases/download/v0.3.1/krew.{tar.gz,yaml}&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
  tar zxvf krew.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
  ./krew-&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;uname &lt;span class="p"&gt;|&lt;/span&gt; tr &lt;span class="s1"&gt;&amp;#39;[:upper:]&amp;#39;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[:lower:]&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_amd64&amp;quot;&lt;/span&gt; install &lt;span class="se"&gt;\&lt;/span&gt;
    --manifest&lt;span class="o"&gt;=&lt;/span&gt;krew.yaml --archive&lt;span class="o"&gt;=&lt;/span&gt;krew.tar.gz
&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;æ·»åŠ &lt;code&gt;$HOME/.krew/bin&lt;/code&gt; ç›®å½•åˆ°&lt;code&gt;PATH&lt;/code&gt;ç¯å¢ƒå˜é‡. å¦‚ä¸‹: &lt;code&gt;export PATH="${KREW_ROOT:-$HOME/.krew}/bin:$PATH"&lt;/code&gt; å¹¶é‡å¯ä¸‹shellç”Ÿæ•ˆ.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="ksniff"&gt;å®‰è£…&lt;code&gt;ksniff&lt;/code&gt;&lt;a class="headerlink" href="#ksniff" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;krew&lt;/code&gt;: &lt;code&gt;kubectl krew install sniff&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;ä½¿ç”¨æ–¹æ³•&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;kubectl&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;:
&lt;span class="nv"&gt;kubectl&lt;/span&gt; &lt;span class="nv"&gt;plugin&lt;/span&gt; &lt;span class="nv"&gt;sniff&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;POD_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;n&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;NAMESPACE_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;CONTAINER_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;INTERFACE_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;f&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;CAPTURE_FILTER&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;o&lt;/span&gt; &lt;span class="nv"&gt;OUTPUT_FILE&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;l&lt;/span&gt; &lt;span class="nv"&gt;LOCAL_TCPDUMP_FILE&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;r&lt;/span&gt; &lt;span class="nv"&gt;REMOTE_TCPDUMP_FILE&lt;/span&gt;]

&lt;span class="nv"&gt;kubectl&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;:
&lt;span class="nv"&gt;kubectl&lt;/span&gt; &lt;span class="nv"&gt;sniff&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;POD_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;n&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;NAMESPACE_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;CONTAINER_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;INTERFACE_NAME&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;f&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;CAPTURE_FILTER&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;o&lt;/span&gt; &lt;span class="nv"&gt;OUTPUT_FILE&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;l&lt;/span&gt; &lt;span class="nv"&gt;LOCAL_TCPDUMP_FILE&lt;/span&gt;] [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;r&lt;/span&gt; &lt;span class="nv"&gt;REMOTE_TCPDUMP_FILE&lt;/span&gt;]

&lt;span class="nv"&gt;POD_NAME&lt;/span&gt;: &lt;span class="nv"&gt;Required&lt;/span&gt;. &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;kubernetes&lt;/span&gt; &lt;span class="nv"&gt;pod&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="nv"&gt;capture&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;s traffic.&lt;/span&gt;
&lt;span class="nv"&gt;NAMESPACE_NAME&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="nv"&gt;Namespace&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt;. &lt;span class="nv"&gt;used&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;specify&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;target&lt;/span&gt; &lt;span class="nv"&gt;namespace&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;operate&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt;.
&lt;span class="nv"&gt;CONTAINER_NAME&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="k"&gt;If&lt;/span&gt; &lt;span class="nv"&gt;omitted&lt;/span&gt;, &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;first&lt;/span&gt; &lt;span class="nv"&gt;container&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;pod&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;chosen&lt;/span&gt;.
&lt;span class="nv"&gt;INTERFACE_NAME&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="nv"&gt;Pod&lt;/span&gt; &lt;span class="nv"&gt;Interface&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;capture&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt;. &lt;span class="k"&gt;If&lt;/span&gt; &lt;span class="nv"&gt;omited&lt;/span&gt;, &lt;span class="nv"&gt;all&lt;/span&gt; &lt;span class="nv"&gt;Pod&lt;/span&gt; &lt;span class="nv"&gt;interfaces&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;captured&lt;/span&gt;.
&lt;span class="nv"&gt;CAPTURE_FILTER&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="nv"&gt;specify&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;specific&lt;/span&gt; &lt;span class="nv"&gt;tcpdump&lt;/span&gt; &lt;span class="nv"&gt;capture&lt;/span&gt; &lt;span class="nv"&gt;filter&lt;/span&gt;. &lt;span class="k"&gt;If&lt;/span&gt; &lt;span class="nv"&gt;omitted&lt;/span&gt; &lt;span class="nv"&gt;no&lt;/span&gt; &lt;span class="nv"&gt;filter&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;used&lt;/span&gt;.
&lt;span class="nv"&gt;OUTPUT_FILE&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;specified&lt;/span&gt;, &lt;span class="nv"&gt;ksniff&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;redirect&lt;/span&gt; &lt;span class="nv"&gt;tcpdump&lt;/span&gt; &lt;span class="nv"&gt;output&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;local&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt; &lt;span class="nv"&gt;instead&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;wireshark&lt;/span&gt;.
&lt;span class="nv"&gt;LOCAL_TCPDUMP_FILE&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;specified&lt;/span&gt;, &lt;span class="nv"&gt;ksniff&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;this&lt;/span&gt; &lt;span class="nv"&gt;path&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;local&lt;/span&gt; &lt;span class="nv"&gt;path&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;static&lt;/span&gt; &lt;span class="nv"&gt;tcpdump&lt;/span&gt; &lt;span class="nv"&gt;binary&lt;/span&gt;.
&lt;span class="nv"&gt;REMOTE_TCPDUMP_FILE&lt;/span&gt;: &lt;span class="nv"&gt;Optional&lt;/span&gt;. &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;specified&lt;/span&gt;, &lt;span class="nv"&gt;ksniff&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;specified&lt;/span&gt; &lt;span class="nv"&gt;path&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;remote&lt;/span&gt; &lt;span class="nv"&gt;path&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;upload&lt;/span&gt; &lt;span class="nv"&gt;static&lt;/span&gt; &lt;span class="nv"&gt;tcpdump&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt;.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸¾ä¾‹:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;kubectl sniff mypod -n myproject -o /tmp/mypod.pcap&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_9"&gt;æ€»ç»“&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†åœ¨å®¹å™¨æˆ–K8Sä¸­è¿›è¡Œç½‘ç»œè°ƒè¯•å’Œåˆ†æ, æœ¬æ–‡åˆ—ä¸¾äº†4ç§æ–¹æ³•, ç°åœ¨è¿›è¡Œæ€»ç»“å½’çº³:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ sidecar - sidecar å®¹å™¨æ‰€åœ¨çš„&lt;strong&gt;podä¸­çš„å¤šä¸ªå®¹å™¨å…±äº«ç›¸åŒçš„ç½‘ç»œå±‚&lt;/strong&gt;, ä¸”sidecarå®¹å™¨å¯ä»¥åŒ…å«&lt;code&gt;tcpdump&lt;/code&gt;ç­‰å·¥å…·;&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨Network Namespace -  ä¸åŒçš„å®¹å™¨, &lt;strong&gt;åªæ˜¯åœ¨å®¿ä¸»æœºä¸Šä¸åŒ namespace è¿è¡Œçš„è¿›ç¨‹è€Œå·²&lt;/strong&gt;. å®¹å™¨çš„ç½‘ç»œä¹Ÿæ˜¯å¦‚æ­¤.&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;netshoot&lt;/code&gt; - &lt;code&gt;netshoot&lt;/code&gt; å…¶å®æ˜¯åŒ…å«ä¸€ç³»åˆ—çš„å¸¸ç”¨ç½‘ç»œåˆ†æè°ƒè¯•å·¥å…·é›†çš„å®¹å™¨, çœŸæ­£çš„ä½¿ç”¨æ–¹æ³•å…¶å®è¿˜æ˜¯ä»¥ä¸Š2ç§:&lt;ol&gt;
&lt;li&gt;é€šè¿‡ sidecaræŒ‚è½½&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨Network Namespaceåˆ†æè°ƒè¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ kubectl æ’ä»¶ - &lt;code&gt;ksniff&lt;/code&gt;. &lt;em&gt;ä¸ªäººçŒœæƒ³, è¿™ä¸ªåªæ˜¯ä¸€ä¸ªé€šè¿‡ kubectl æ’ä»¶çš„å°è£…, åº•å±‚åŸç†åº”è¯¥è¿˜æ˜¯ Network Namespace.&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šè¿™äº›æ–¹æ³•, æœ‰ä¸åŒçš„å‰ææ¡ä»¶å’Œä½¿ç”¨åœºæ™¯, å¸Œæœ›æœ¬æ–‡è¯»å®Œä¼šè®©ä½ çš„K8Sè°ƒè¯•æŠ€èƒ½æœ‰æ‰€æå‡. &lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 04 Oct 2019 14:50:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-04:/how-to-tcpdump-in-k8s.html</guid><category>k8s</category><category>openshift</category><category>containers</category><category>æ€§èƒ½è°ƒä¼˜</category><category>ç½‘ç»œ</category><category>è¯‘æ–‡</category></item><item><title>å¦‚ä½•åœ¨ OpenShift ä¸­è¿è¡Œ Collabora Office</title><link>https://www.EWhisper.cn/how-to-run-container-with-su-in-openshift.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å‰è¨€&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#collabora-office"&gt;Collabora Office ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#-"&gt;åˆ†æ - éœ€è¦å“ªäº›ç‰¹æƒ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;éœ€è¦çš„ç‰¹æƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#openshift-root"&gt;åœ¨ OpenShift ä¸­å¯ç”¨å®¹å™¨çš„ ROOT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#openshift-capabilities"&gt;åœ¨ OpenShift ä¸­ä¸ºå®¹å™¨æä¾›å…¶ä»– Capabilities&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿‘æœŸåœ¨å°è¯• office æ–‡æ¡£åœ¨çº¿ç¼–è¾‘å’Œé¢„è§ˆçš„ä¸€äº›è§£å†³æ–¹æ¡ˆ, ç›®å‰åœ¨ä½¿ç”¨Collabora Office, ä½†æ˜¯&lt;a href="https://hub.docker.com/r/collabora/code"&gt;Collaboraçš„dockeré•œåƒ&lt;/a&gt;åœ¨OpenShiftä¸­è¿è¡Œä¸èµ·æ¥, ä¸€ç›´æç¤º&lt;code&gt;Operation not permitted&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="collabora-office"&gt;Collabora Office ç®€ä»‹&lt;a class="headerlink" href="#collabora-office" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://www.collaboraoffice.com/"&gt;Collabora Office&lt;/a&gt; æä¾›å¼ºå¤§çš„Office å¥—ä»¶, ä½¿æ‚¨èƒ½å¤Ÿè®¿é—®æ–‡æ¡£ã€ç¼–å†™æ–°å†…å®¹å¹¶ååŒå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="Collabora Office" src="./images/Collabora-Office.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå®‰è£…å¥—ä»¶&lt;/li&gt;
&lt;li&gt;å¯ä»¥å’Œå…¶ä»–åº”ç”¨ï¼ˆå¦‚ï¼šnextcloud owncloudç­‰ï¼‰æˆ–ä½ è‡ªå·±çš„åº”ç”¨è¿›è¡Œæ•´åˆ&lt;/li&gt;
&lt;li&gt;i18nçº§åˆ«çš„å…¼å®¹æ€§&lt;/li&gt;
&lt;li&gt;ååŒç¼–è¾‘&lt;/li&gt;
&lt;li&gt;å¯ä»¥å®Œç¾èå…¥è¿›è‡ªå·±çš„è§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="-"&gt;åˆ†æ - éœ€è¦å“ªäº›ç‰¹æƒ&lt;a class="headerlink" href="#-" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/collabora/code"&gt;Collaboraçš„dockeré•œåƒ&lt;/a&gt;åœ¨OpenShiftä¸­è¿è¡Œä¸èµ·æ¥, ä¸€ç›´æç¤º&lt;code&gt;Operation not permitted&lt;/code&gt;. å…¶å®åŸå› æƒé™ä¸å…è®¸, å®ƒéœ€è¦åšçš„ä¸€äº›æ“ä½œåœ¨OpenShiftä¸­æ˜¯è¢«ç¦æ­¢çš„(å‡ºäºä¼ä¸šçº§å®‰å…¨çš„è€ƒè™‘). æ‰€ä»¥æˆ‘ä»¬å°†å®ƒéœ€è¦çš„æƒé™ä¸€é¡¹ä¸€é¡¹åŠ ä¸Šå°±å¥½äº†.&lt;/p&gt;
&lt;p&gt;è¦ææ¸…æ¥šå®ƒéœ€è¦å“ªäº›æƒé™, æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„&lt;a href="https://github.com/CollaboraOnline/Docker-CODE"&gt;&lt;code&gt;Dockerfile&lt;/code&gt;&lt;/a&gt;åŠå…¶ç›¸å…³å†…å®¹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; ubuntu:16.04&lt;/span&gt;

&lt;span class="c"&gt;# Environment variables&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; domain localhost
&lt;span class="k"&gt;ENV&lt;/span&gt; LC_CTYPE en_US.UTF-8

&lt;span class="c"&gt;# Setup scripts for LibreOffice Online&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; /scripts/install-libreoffice.sh /
&lt;span class="k"&gt;ADD&lt;/span&gt; /scripts/start-libreoffice.sh /
&lt;span class="k"&gt;RUN&lt;/span&gt; bash install-libreoffice.sh

&lt;span class="k"&gt;EXPOSE&lt;/span&gt;&lt;span class="s"&gt; 9980&lt;/span&gt;

&lt;span class="c"&gt;# Entry point&lt;/span&gt;
&lt;span class="k"&gt;CMD&lt;/span&gt; bash start-libreoffice.sh
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;dockerfile&lt;/code&gt;ä¸­å¦‚ä¸Šæ‰€ç¤º, è¿™ä¸ªæ–‡ä»¶è™½ç„¶ç®€å•, ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°2ä¸ªä¿¡æ¯:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ²¡æœ‰&lt;code&gt;USER&lt;/code&gt; æŒ‡ä»¤, é‚£ä¹ˆè¿™ä¸ªé•œåƒå¯èƒ½æ˜¯éœ€è¦&lt;code&gt;root&lt;/code&gt;æƒé™æ‰èƒ½è¿è¡Œçš„.&lt;/li&gt;
&lt;li&gt;åŠ å…¥äº†2ä¸ªè„šæœ¬. å…¶ä¸­ &lt;code&gt;start-libreoffice.sh&lt;/code&gt;æ˜¯åœ¨å®¹å™¨å¯åŠ¨çš„æ—¶å€™è¿è¡Œçš„, æ‰€ä»¥ä¸»è¦æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªè„šæœ¬çš„å†…å®¹:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="c1"&gt;# Fix domain name resolution from jails&lt;/span&gt;
cp /etc/resolv.conf /etc/hosts /opt/lool/systemplate/etc/

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;test&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DONT_GEN_SSL_CERT&lt;/span&gt;&lt;span class="p"&gt;-set&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; set&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="c1"&gt;# Generate new SSL certificate instead of using the default&lt;/span&gt;
mkdir -p /opt/ssl/
&lt;span class="nb"&gt;cd&lt;/span&gt; /opt/ssl/
mkdir -p certs/ca
openssl genrsa -out certs/ca/root.key.pem &lt;span class="m"&gt;2048&lt;/span&gt;
openssl req -x509 -new -nodes -key certs/ca/root.key.pem -days &lt;span class="m"&gt;9131&lt;/span&gt; -out certs/ca/root.crt.pem -subj &lt;span class="s2"&gt;&amp;quot;/C=DE/ST=BW/L=Stuttgart/O=Dummy Authority/CN=Dummy Authority&amp;quot;&lt;/span&gt;
mkdir -p certs/&lt;span class="o"&gt;{&lt;/span&gt;servers,tmp&lt;span class="o"&gt;}&lt;/span&gt;
mkdir -p &lt;span class="s2"&gt;&amp;quot;certs/servers/localhost&amp;quot;&lt;/span&gt;
openssl genrsa -out &lt;span class="s2"&gt;&amp;quot;certs/servers/localhost/privkey.pem&amp;quot;&lt;/span&gt; &lt;span class="m"&gt;2048&lt;/span&gt; -key &lt;span class="s2"&gt;&amp;quot;certs/servers/localhost/privkey.pem&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;test&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;cert_domain&lt;/span&gt;&lt;span class="p"&gt;-set&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; set&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
openssl req -key &lt;span class="s2"&gt;&amp;quot;certs/servers/localhost/privkey.pem&amp;quot;&lt;/span&gt; -new -sha256 -out &lt;span class="s2"&gt;&amp;quot;certs/tmp/localhost.csr.pem&amp;quot;&lt;/span&gt; -subj &lt;span class="s2"&gt;&amp;quot;/C=DE/ST=BW/L=Stuttgart/O=Dummy Authority/CN=localhost&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
openssl req -key &lt;span class="s2"&gt;&amp;quot;certs/servers/localhost/privkey.pem&amp;quot;&lt;/span&gt; -new -sha256 -out &lt;span class="s2"&gt;&amp;quot;certs/tmp/localhost.csr.pem&amp;quot;&lt;/span&gt; -subj &lt;span class="s2"&gt;&amp;quot;/C=DE/ST=BW/L=Stuttgart/O=Dummy Authority/CN=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;cert_domain&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
openssl x509 -req -in certs/tmp/localhost.csr.pem -CA certs/ca/root.crt.pem -CAkey certs/ca/root.key.pem -CAcreateserial -out certs/servers/localhost/cert.pem -days &lt;span class="m"&gt;9131&lt;/span&gt;
mv certs/servers/localhost/privkey.pem /etc/loolwsd/key.pem
mv certs/servers/localhost/cert.pem /etc/loolwsd/cert.pem
mv certs/ca/root.crt.pem /etc/loolwsd/ca-chain.cert.pem
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="c1"&gt;# Replace trusted host and set admin username and password&lt;/span&gt;
perl -pi -e &lt;span class="s2"&gt;&amp;quot;s/localhost&amp;lt;\/host&amp;gt;/&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;domain&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;\/host&amp;gt;/g&amp;quot;&lt;/span&gt; /etc/loolwsd/loolwsd.xml
perl -pi -e &lt;span class="s2"&gt;&amp;quot;s/&amp;lt;username (.*)&amp;gt;.*&amp;lt;\/username&amp;gt;/&amp;lt;username \1&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;username&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;\/username&amp;gt;/&amp;quot;&lt;/span&gt; /etc/loolwsd/loolwsd.xml
perl -pi -e &lt;span class="s2"&gt;&amp;quot;s/&amp;lt;password (.*)&amp;gt;.*&amp;lt;\/password&amp;gt;/&amp;lt;password \1&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;\/password&amp;gt;/&amp;quot;&lt;/span&gt; /etc/loolwsd/loolwsd.xml
perl -pi -e &lt;span class="s2"&gt;&amp;quot;s/&amp;lt;server_name (.*)&amp;gt;.*&amp;lt;\/server_name&amp;gt;/&amp;lt;server_name \1&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;server_name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;\/server_name&amp;gt;/&amp;quot;&lt;/span&gt; /etc/loolwsd/loolwsd.xml
perl -pi -e &lt;span class="s2"&gt;&amp;quot;s/&amp;lt;allowed_languages (.*)&amp;gt;.*&amp;lt;\/allowed_languages&amp;gt;/&amp;lt;allowed_languages \1&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;dictionaries&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;de_DE&lt;/span&gt;&lt;span class="p"&gt; en_GB en_US es_ES fr_FR it nl pt_BR pt_PT ru&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;\/allowed_languages&amp;gt;/&amp;quot;&lt;/span&gt; /etc/loolwsd/loolwsd.xml

&lt;span class="c1"&gt;# Restart when /etc/loolwsd/loolwsd.xml changes&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt; -x /usr/bin/inotifywait -a /usr/bin/killall &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;
    /usr/bin/inotifywait -e modify /etc/loolwsd/loolwsd.xml
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;ls -l /etc/loolwsd/loolwsd.xml&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt; modified --&amp;gt; restarting&amp;quot;&lt;/span&gt;
    /usr/bin/killall -1 loolwsd
&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;

&lt;span class="c1"&gt;# Start loolwsd&lt;/span&gt;
su -c &lt;span class="s2"&gt;&amp;quot;/usr/bin/loolwsd --version --o:sys_template_path=/opt/lool/systemplate --o:lo_template_path=/opt/collaboraoffice6.0 --o:child_root_path=/opt/lool/child-roots --o:file_server_root_path=/usr/share/loolwsd &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;extra_params&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; -s /bin/bash lool
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»”ç»†åˆ†æä¸‹è„šæœ¬:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€å¥&lt;code&gt;cp /etc/resolv.conf /etc/hosts /opt/lool/systemplate/etc/&lt;/code&gt; å¾ˆæ˜æ˜¾å°±æ˜¯éœ€è¦&lt;code&gt;root&lt;/code&gt;æƒé™çš„.&lt;/li&gt;
&lt;li&gt;ä¹‹åä¼šè¿›è¡Œç”Ÿæˆè¯ä¹¦çš„æ“ä½œ&lt;/li&gt;
&lt;li&gt;ç„¶åä¼šè¿›è¡Œç›¸å…³çš„å˜é‡æ›¿æ¢æ“ä½œ&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥æ˜¯å½“&lt;code&gt;/etc/loolwsd/loolwsd.xml&lt;/code&gt;è¿™ä¸ªé…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œé‡å¯, æ³¨æ„è¿™è¾¹åˆæ¥äº†å¥½å‡ ä¸ªç‰¹æƒæ“ä½œ:&lt;ol&gt;
&lt;li&gt;&lt;code&gt;/usr/bin/inotifywait&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/bin/killall&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯åŠ¨&lt;code&gt;loolwsd&lt;/code&gt; åˆæ˜¯ä¸€ä¸ªç‰¹æƒæ“ä½œ: &lt;code&gt;su -c&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_2"&gt;éœ€è¦çš„ç‰¹æƒ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆæ­¥æ€»ç»“ä¸€ä¸‹éœ€è¦çš„ç‰¹æƒ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;root&lt;/code&gt; ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;inotifywait&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;killall&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;su -c&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;è§£å†³æ–¹æ¡ˆ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="openshift-root"&gt;åœ¨ OpenShift ä¸­å¯ç”¨å®¹å™¨çš„ ROOT&lt;a class="headerlink" href="#openshift-root" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.openshift.com/container-platform/3.9/admin_guide/manage_scc.html#enable-dockerhub-images-that-require-root"&gt;å®˜æ–¹OpenShiftæ–‡æ¡£: Enable Container Images that Require Root&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°±ä¸è¯¦ç»†çš„ä¸€æ­¥æ­¥ä»‹ç»äº†, å…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« : &lt;a href="https://www.EWhisper.cn/deploy-app-with-openshift-in-enterprise-env.html"&gt;OpenShiftä¼ä¸šæµ‹è¯•ç¯å¢ƒåº”ç”¨éƒ¨ç½²å®æˆ˜&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰äº›å®¹å™¨é•œåƒ(å¦‚: &lt;code&gt;postgres&lt;/code&gt;å’Œ&lt;code&gt;redis&lt;/code&gt;å’Œè¿™æ¬¡çš„&lt;code&gt;collabora&lt;/code&gt;)éœ€è¦rootæƒé™, å¹¶ä¸”å¯¹å·å±äºè°æœ‰æ˜ç¡®æœŸæœ›. å¯¹äºè¿™ç±»é•œåƒ, éœ€è¦ç»™å…¶å¯¹åº”çš„service account(æœåŠ¡è´¦æˆ·, ä¸€ç§ç‰¹æ®Šè´¦æˆ·, ç”¨äºç³»ç»Ÿæ‰§è¡ŒæŸäº›æ“ä½œ)åŠ ä¸Š&lt;code&gt;anyuid&lt;/code&gt; SCC(Security Context Constraints: å®‰å…¨ä¸Šä¸‹æ–‡çº¦æŸ):&lt;/p&gt;
&lt;p&gt;&lt;code&gt;oc adm policy add-scc-to-user anyuid system:serviceaccount:myproject:mysvcacct&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="openshift-capabilities"&gt;åœ¨ OpenShift ä¸­ä¸ºå®¹å™¨æä¾›å…¶ä»– Capabilities&lt;a class="headerlink" href="#openshift-capabilities" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹æ¥è‡ª&lt;a href="https://docs.docker.com/engine/reference/run/#runtime-privilege-and-linux-capabilities"&gt;Dockerå®˜æ–¹æ–‡æ¡£: Runtime privilege and Linux capabilities&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerå®¹å™¨æ˜¯â€œæ— ç‰¹æƒçš„â€(unprivileged)ï¼Œä¾‹å¦‚ï¼Œä¸èƒ½åœ¨Dockerå®¹å™¨å†…è¿è¡ŒDockerå®ˆæŠ¤è¿›ç¨‹ã€‚è¿™æ˜¯å› ä¸ºåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¸å…è®¸è®¿é—®ä»»ä½•è®¾å¤‡ï¼Œä½†æ˜¯ä¸€ä¸ª"privileged"(â€œç‰¹æƒâ€)å®¹å™¨å¯ä»¥è®¿é—®æ‰€æœ‰è®¾å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†"privileged"ä¹‹å¤–ï¼Œæ“ä½œå‘˜è¿˜å¯ä»¥ä½¿ç”¨&lt;code&gt;--cap-add&lt;/code&gt;å’Œ&lt;code&gt;--cap-drop&lt;/code&gt;å¯¹capabilities(åŠŸèƒ½)è¿›è¡Œç»†ç²’åº¦æ§åˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockeræœ‰ä¸€ä¸ªä¿ç•™çš„é»˜è®¤capabilitiesåˆ—è¡¨ã€‚ä¸‹è¡¨åˆ—å‡ºäº†Linux capabilitiesé€‰é¡¹ï¼Œè¿™äº›é€‰é¡¹æ˜¯é»˜è®¤å…è®¸çš„ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Capability Key&lt;/th&gt;
&lt;th align="left"&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SETPCAP&lt;/td&gt;
&lt;td align="left"&gt;ä¿®æ”¹è¿›ç¨‹çš„ capabilities.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MKNOD&lt;/td&gt;
&lt;td align="left"&gt;é€šè¿‡mknodåˆ›å»ºç‰¹æ®Š(å¦‚è®¾å¤‡)æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;AUDIT_WRITE&lt;/td&gt;
&lt;td align="left"&gt;å°†è®°å½•å†™å…¥å†…æ ¸å®¡è®¡æ—¥å¿—ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;CHOWN&lt;/td&gt;
&lt;td align="left"&gt;ä»»æ„æ›´æ”¹æ–‡ä»¶UIDå’ŒGID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NET_RAW&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨RAW å’ŒPACKETçš„ sockets.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;DAC_OVERRIDE&lt;/td&gt;
&lt;td align="left"&gt;ç»•è¿‡æ–‡ä»¶çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™æ£€æŸ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FOWNER&lt;/td&gt;
&lt;td align="left"&gt;Bypass permission checks on operations that normally require the file system UID of the process to match the UID of the file.å¯¹é€šå¸¸éœ€è¦è¿›ç¨‹çš„æ–‡ä»¶ç³»ç»ŸUIDä¸æ–‡ä»¶çš„UIDåŒ¹é…çš„æ“ä½œè¿›è¡Œç»•è¿‡æƒé™æ£€æŸ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FSETID&lt;/td&gt;
&lt;td align="left"&gt;Donâ€™t clear set-user-ID and set-group-ID permission bits when a file is modified.å½“æ–‡ä»¶è¢«ä¿®æ”¹æ—¶ï¼Œä¸æ¸…é™¤set-user-IDå’Œset-group-IDæƒé™ä½ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;KILL&lt;/td&gt;
&lt;td align="left"&gt;Bypass permission checks for sending signals.ç»•è¿‡å‘é€ä¿¡å·çš„æƒé™æ£€æŸ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SETGID&lt;/td&gt;
&lt;td align="left"&gt;å¯¹è¿›ç¨‹GIDè¿›è¡Œä»»æ„æ“ä½œ; å‘ç”¨æˆ·çš„å‘½åç©ºé—´ä¸­å†™å…¥GIDæ˜ å°„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SETUID&lt;/td&gt;
&lt;td align="left"&gt;å¯¹è¿›ç¨‹UIDè¿›è¡Œä»»æ„æ“ä½œ; å‘ç”¨æˆ·çš„å‘½åç©ºé—´ä¸­å†™å…¥UIDæ˜ å°„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NET_BIND_SERVICE&lt;/td&gt;
&lt;td align="left"&gt;ä¸ºä½äº1024ä»¥ä¸‹çš„ç«¯å£ç»‘å®šsockets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_CHROOT&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨chroot, ä¿®æ”¹rootç›®å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SETFCAP&lt;/td&gt;
&lt;td align="left"&gt;ä¸ºæ–‡ä»¶è®¾ç½®ä»»æ„çš„capabilities.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä¸‹è¡¨æ˜¾ç¤ºäº†é»˜è®¤æƒ…å†µä¸‹æœªæˆäºˆçš„åŠŸèƒ½ï¼Œå¯ä»¥æ·»åŠ è¿™äº›åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Capability Key&lt;/th&gt;
&lt;th align="left"&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_MODULE&lt;/td&gt;
&lt;td align="left"&gt;åŠ è½½å’Œå¸è½½å†…æ ¸modules.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_RAWIO&lt;/td&gt;
&lt;td align="left"&gt;æ‰§è¡ŒI/O portæ“ä½œ(ioplå’Œioperm).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_PACCT&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨ acct, å¼€å¯æˆ–å…³é—­è¿›ç¨‹accounting&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_ADMIN&lt;/td&gt;
&lt;td align="left"&gt;Perform a range of system administration operations. æ‰§è¡Œä¸€ç³»åˆ—ç³»ç»Ÿç®¡ç†å‘˜æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_NICE&lt;/td&gt;
&lt;td align="left"&gt;æé«˜è¿›ç¨‹çš„nice value(niceï¼Œ setpriorityï¼Œå¹¶æ”¹å˜ä»»æ„è¿›ç¨‹çš„nice valueã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_RESOURCE&lt;/td&gt;
&lt;td align="left"&gt;è¦†ç›–èµ„æºæ•°é™åˆ¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_TIME&lt;/td&gt;
&lt;td align="left"&gt;è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿ (settimeofday, stime, adjtimex; è®¾ç½®real-time (ç¡¬ä»¶) clock.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_TTY_CONFIG&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨vhangup ;åœ¨è™šæ‹Ÿç»ˆç«¯ä¸Šä½¿ç”¨å„ç§ç‰¹æƒioctlæ“ä½œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;AUDIT_CONTROL&lt;/td&gt;
&lt;td align="left"&gt;å¯ç”¨å’Œç¦ç”¨å†…æ ¸å®¡è®¡;æ›´æ”¹å®¡è®¡è¿‡æ»¤è§„åˆ™;æ£€ç´¢å®¡è®¡çŠ¶æ€å’Œè¿‡æ»¤è§„åˆ™ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MAC_ADMIN&lt;/td&gt;
&lt;td align="left"&gt;Allow MAC configuration or state changes. Implemented for the Smack LSM.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MAC_OVERRIDE&lt;/td&gt;
&lt;td align="left"&gt;Override Mandatory Access Control (MAC). Implemented for the Smack Linux Security Module (LSM).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NET_ADMIN&lt;/td&gt;
&lt;td align="left"&gt;æ‰§è¡Œå„ç§ç½‘ç»œç›¸å…³çš„æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYSLOG&lt;/td&gt;
&lt;td align="left"&gt;æ‰§è¡Œprivileged syslogæ“ä½œ.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;DAC_READ_SEARCH&lt;/td&gt;
&lt;td align="left"&gt;ç»•è¿‡æ–‡ä»¶è¯»æƒé™æ£€æŸ¥å’Œç›®å½•è¯»å’Œæ‰§è¡Œæƒé™æ£€æŸ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LINUX_IMMUTABLE&lt;/td&gt;
&lt;td align="left"&gt;Set the FS_APPEND_FL and FS_IMMUTABLE_FL i-node flags.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NET_BROADCAST&lt;/td&gt;
&lt;td align="left"&gt;å¯ç”¨å¥—æ¥å­—å¹¿æ’­ï¼Œç›‘å¬å¤šæ’­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IPC_LOCK&lt;/td&gt;
&lt;td align="left"&gt;é”å†…å­˜ (mlock, mlockall, mmap, shmctl).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IPC_OWNER&lt;/td&gt;
&lt;td align="left"&gt;å¯¹System V IPCå¯¹è±¡ä¸Šçš„æ“ä½œè¿›è¡Œç»•è¿‡æƒé™æ£€æŸ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_PTRACE&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨ptraceè·Ÿè¸ªä»»æ„è¿›ç¨‹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYS_BOOT&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨rebootå’Œkexec_loadï¼Œé‡æ–°å¯åŠ¨å¹¶åŠ è½½ä¸€ä¸ªæ–°çš„å†…æ ¸ä¾›ä»¥åæ‰§è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LEASE&lt;/td&gt;
&lt;td align="left"&gt;å¯¹ä»»æ„æ–‡ä»¶å»ºç«‹ç§Ÿçº¦(å‚è§fcntl)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WAKE_ALARM&lt;/td&gt;
&lt;td align="left"&gt;è§¦å‘å”¤é†’ç³»ç»Ÿã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;BLOCK_SUSPEND&lt;/td&gt;
&lt;td align="left"&gt;ä½¿ç”¨å¯ä»¥é˜»æ­¢ç³»ç»ŸæŒ‚èµ·çš„ç‰¹æ€§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ›´å¤šå‚è€ƒèµ„æ–™è§: &lt;a href="http://man7.org/linux/man-pages/man7/capabilities.7.html"&gt;capabilities(7) - Linux man page&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹æ¥è‡ª&lt;a href="https://docs.openshift.com/container-platform/3.9/admin_guide/manage_scc.html#provide-additional-capabilities"&gt;OpenShiftå®˜æ–¹æ–‡æ¡£: Provide Additional Capabilities&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰æ—¶å€™, é•œåƒä¼šéœ€è¦Dockeré»˜è®¤æ²¡æœ‰æä¾›çš„capabilities(åŠŸèƒ½). é‚£ä¹ˆä½ å¯ä»¥åœ¨podçš„æè¿°æ–‡ä»¶ specificationä¸­è¯·æ±‚è¿™äº›é¢å¤–çš„capabilities, è¿™äº›capabilitieså°†æ ¹æ®SCCè¿›è¡ŒéªŒè¯.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;è¿™å…è®¸é•œåƒä»¥ææƒåçš„åŠŸèƒ½è¿è¡Œï¼Œ&lt;strong&gt;åº”è¯¥ä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨&lt;/strong&gt;ã€‚ä¸åº”ç¼–è¾‘é»˜è®¤çš„å—é™SCCä»¥å¯ç”¨å…¶ä»–åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ä¸éæ ¹ç”¨æˆ·ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¿˜å¿…é¡»ç¡®ä¿ä½¿ç”¨&lt;code&gt;setcap&lt;/code&gt;å‘½ä»¤ä¸ºéœ€è¦é™„åŠ åŠŸèƒ½çš„æ–‡ä»¶æˆäºˆcapabilitiesã€‚ä¾‹å¦‚ï¼Œåœ¨é•œåƒçš„Dockerfileä¸­:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;setcap cap_net_raw,cap_net_admin+p /usr/bin/ping&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œå¦‚æœDockerä¸­é»˜è®¤æä¾›äº†åŠŸèƒ½ï¼Œåˆ™ä¸éœ€è¦ä¿®æ”¹pod specificationæ¥è¯·æ±‚å®ƒã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;NET_RAW&lt;/code&gt;æ˜¯é»˜è®¤æä¾›çš„ï¼Œåº”è¯¥å·²ç»åœ¨pingä¸Šè®¾ç½®äº†æ­¤åŠŸèƒ½ï¼Œå› æ­¤è¿è¡Œpingä¸éœ€è¦ç‰¹æ®Šçš„æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;è¦æä¾›é¢å¤–çš„åŠŸèƒ½:&lt;/p&gt;
&lt;p&gt;æä¾›é¢å¤–åŠŸèƒ½:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„SCC&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;allowedabilities&lt;/code&gt;å­—æ®µæ·»åŠ å…è®¸çš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;åˆ›å»ºpodæ—¶ï¼Œåœ¨&lt;code&gt;securityContext.capabilities.add&lt;/code&gt;ä¸­æ·»åŠ è¯·æ±‚è¯¥åŠŸèƒ½çš„å­—æ®µã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;ä¸ºCollabora æä¾›éœ€è¦çš„Capabilities&lt;/h4&gt;
&lt;p&gt;é’ˆå¯¹è¿™ä¸ªCollaboraé•œåƒ, ä»”ç»†åˆ†æå, è¦å¿«é€Ÿè§£å†³, å…¶å®åœ¨å®¹å™¨çš„specä¸­ç»™å®ƒæˆäºˆ"privileged" å°±å¯ä»¥äº†. &lt;strong&gt;æ³¨æ„: ä¹‹å‰å…³äºrootçš„æƒé™æ˜¯åœ¨&lt;code&gt;deployment&lt;/code&gt;ä¸‹é…ç½®çš„. è¿™ä¸ªæ˜¯åœ¨&lt;code&gt;containers&lt;/code&gt;ä¸‹é…ç½®çš„.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“é…ç½®å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="container spec cap" src="./images/container_spec_scc.png"&gt;&lt;/p&gt;
&lt;p&gt;è¯´æ˜å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;allowPrivilegeEscalation: true&lt;/code&gt; - å…è®¸æƒé™æå‡. å…¶å®å°±æ˜¯ç»™äº†è¿™ä¸ªå®¹å™¨"privileged".&lt;/li&gt;
&lt;li&gt;ç”¨privilegedçš„sccï¼Œéœ€è¦ç›¸åº”çš„capabilities. æ‰€ä»¥åˆæ·»åŠ äº†&lt;code&gt;MKNOD&lt;/code&gt;è¿™ä¸ªcapability.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_4"&gt;æ€»ç»“&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨OpenShiftä¸­:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¹å™¨éœ€è¦rootç”¨æˆ·, ç»™å®ƒå¯¹åº”çš„deploymentæ·»åŠ Service Account, å¹¶æ·»åŠ &lt;code&gt;anyuid&lt;/code&gt;çš„SCC.&lt;/li&gt;
&lt;li&gt;å®¹å™¨éœ€è¦å…¶ä»–capabilities, ç®€å•çš„æ–¹å¼å°±æ˜¯ç»™å®ƒ"privileged" è¿™ä¸ªç‰¹æƒ.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;æœ€åé¡ºä¾¿åæ§½ä¸€ä¸‹, SCCå’Œlinux capabilitieså®åœ¨æ˜¯å¤ªéš¾äº†, å¯¹å®‰å…¨ä¸€çŸ¥åŠè§£çš„æˆ‘ä¸€è„¸æ‡µé€¼. &lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;/em&gt; &lt;/p&gt;
&lt;p&gt;&lt;img alt="å¤ªéš¾äº†" src="./images/too-hard.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 03 Oct 2019 18:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-03:/how-to-run-container-with-su-in-openshift.html</guid><category>k8s</category><category>openshift</category><category>containers</category><category>å®‰å…¨</category></item><item><title>æ€è€ƒ - ä»ä¼ ç»Ÿé›ªå´©åˆ°K8S</title><link>https://www.EWhisper.cn/think-from-broken-to-k8s.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å­—æ¯è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#k8s"&gt;K8Sçš„è®¾è®¡ç†å¿µä¸åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#api"&gt;APIè®¾è®¡åŸåˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ§åˆ¶æœºåˆ¶è®¾è®¡åŸåˆ™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;å¯¹ä¼ ç»Ÿé›ªå´©æ•…éšœçš„æ€è€ƒ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;åº”ç”¨è§†è§’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å¿«é€Ÿæ¢å¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;åº”ç”¨ç›‘æ§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;ä¿¡æ¯å‡†ç¡®æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;å­˜å‚¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;æ€»ç»“å’Œåæ€&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_10"&gt;åæ€ä¸€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;åæ€äºŒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt="é¢˜å›¾" src="./images/BDR1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿç¯å¢ƒå‘ç”Ÿåº•å±‚æ•…éšœ, å¾€å¾€ä¼šäº§ç”Ÿé›ªå´©èˆ¬çš„æ•ˆåº”, éœ€è¦äººä¸ºå¹²é¢„æ¶‰åŠåˆ°å„ä¸ªç¯èŠ‚, è€Œä¸”MTTRé•¿. æˆ‘ä¸€ç›´åœ¨æ€è€ƒ, å¦‚ä½•æ‰èƒ½åšçš„æ›´å¥½, æœ‰å“ªäº›å¯ä»¥å€Ÿé‰´çš„å…ˆè¿›ç»éªŒ.&lt;img align="absmiddle" alt="ğŸ¤”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f914.png" title=":thinking:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨å­¦ä¹ Kubernetes(ä»¥ä¸‹ç®€ç§°ä¸ºK8S), è¶Šäº†è§£è¶Šæ„Ÿåˆ°è°·æ­Œçš„ç†å¿µå…ˆè¿›, K8Sçš„åšå¤§ç²¾æ·±. K8Sæ˜¯è°·æ­Œå¼€æºçš„å®¹å™¨é›†ç¾¤ç¼–æ’ç®¡ç†ç³»ç»Ÿ, æ˜¯è°·æ­Œå¤šå¹´å¤§è§„æ¨¡å®¹å™¨ç®¡ç†æŠ€æœ¯ Borg çš„å¼€æºç‰ˆæœ¬, ä¸»è¦åŠŸèƒ½åŒ…æ‹¬:&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºå®¹å™¨çš„åº”ç”¨éƒ¨ç½²ã€ç»´æŠ¤å’Œæ»šåŠ¨å‡çº§&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡å’Œåœ°å€å‘ç°&lt;/li&gt;
&lt;li&gt;è·¨æœºå™¨å’Œè·¨åœ°åŒºçš„é›†ç¾¤è°ƒåº¦&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ä¼¸ç¼©&lt;/li&gt;
&lt;li&gt;æ— çŠ¶æ€æœåŠ¡å’Œæœ‰çŠ¶æ€æœåŠ¡&lt;/li&gt;
&lt;li&gt;å¹¿å‘çš„ Volume æ”¯æŒ&lt;/li&gt;
&lt;li&gt;æ’ä»¶æœºåˆ¶ä¿è¯æ‰©å±•æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_1"&gt;å­—æ¯è¡¨&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;è‹±æ–‡å&lt;/th&gt;
&lt;th&gt;ä¸­æ–‡å&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;namespace&lt;/td&gt;
&lt;td&gt;å‘½åç©ºé—´&lt;/td&gt;
&lt;td&gt;K8Såè¯, ç”¨ä½œéš”ç¦».&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;deployment&lt;/td&gt;
&lt;td&gt;éƒ¨ç½²&lt;/td&gt;
&lt;td&gt;K8Såè¯, ç”¨ä½œé•¿æœŸä¸šåŠ¡çš„ç®¡ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MTTR&lt;/td&gt;
&lt;td&gt;å¹³å‡æ•…éšœæ¢å¤æ—¶é—´&lt;/td&gt;
&lt;td&gt;è¶ŠçŸ­è¶Šå¥½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Replication Controller&lt;/td&gt;
&lt;td&gt;å¤åˆ¶æ§åˆ¶å™¨&lt;/td&gt;
&lt;td&gt;ç®€ç§°RC, ä¿è¯podé«˜å¯ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;POD&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;K8Sé›†ç¾¤è¿è¡Œéƒ¨ç½²åº”ç”¨æˆ–æœåŠ¡çš„æœ€å°å•å…ƒ, å¯ä»¥æ˜¯å¤šå®¹å™¨çš„.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LivenessProbe&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;æ¢æµ‹åº”ç”¨æ˜¯å¦å¤„äºå¥åº·çŠ¶æ€. ä¸å¥åº·å°±åˆ é™¤é‡å»ºè¯¥å®¹å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ReadinessProbe&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;æ¢æµ‹æ˜¯å¦å¯åŠ¨å®Œæˆå¹¶å¤„äºæ­£å¸¸æœåŠ¡çŠ¶æ€.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Volume&lt;/td&gt;
&lt;td&gt;å­˜å‚¨å·&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Service&lt;/td&gt;
&lt;td&gt;æœåŠ¡&lt;/td&gt;
&lt;td&gt;ç®€ç§°SVC, ä¸ºæœåŠ¡æä¾›æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡èƒ½åŠ›.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Ingress&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;æä¾›å¤–éƒ¨è®¿é—®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="k8s"&gt;K8Sçš„è®¾è®¡ç†å¿µä¸åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;a class="headerlink" href="#k8s" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="api"&gt;APIè®¾è®¡åŸåˆ™&lt;a class="headerlink" href="#api" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰çš„APIåº”è¯¥æ˜¯&lt;strong&gt;å£°æ˜å¼çš„&lt;/strong&gt;. å¯¹äºé‡å¤æ“ä½œçš„æ•ˆæœæ›´ç¨³å®š. åŒæ—¶è¿™äº›åè¯ä¹Ÿæè¿°äº†ç”¨æˆ·æœŸæœ›å¾—åˆ°çš„ä¸€ä¸ªç›®æ ‡.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_2"&gt;æ§åˆ¶æœºåˆ¶è®¾è®¡åŸåˆ™&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ§åˆ¶é€»è¾‘åº”è¯¥åªä¾èµ–äº&lt;strong&gt;å½“å‰çŠ¶æ€&lt;/strong&gt;. ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç¨³å®šå¯é .&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‡è®¾ä»»ä½•é”™è¯¯çš„å¯èƒ½, å¹¶ä½œå®¹é”™å¤„ç†&lt;/strong&gt;. åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­, å‡ºç°å±€éƒ¨å’Œä¸´æ—¶é”™è¯¯æ˜¯&lt;strong&gt;å¤§æ¦‚ç‡äº‹ä»¶&lt;/strong&gt;. é”™è¯¯å¯èƒ½æ¥è‡ªäºç‰©ç†ç³»ç»Ÿæ•…éšœ, å¤–éƒ¨ç³»ç»Ÿæ•…éšœä¹Ÿå¯èƒ½æ¥è‡ªäºç³»ç»Ÿè‡ªèº«, å› æ­¤è¦è®¾è®¡å¯¹ä»»ä½•å¯èƒ½é”™è¯¯çš„å®¹é”™å¤„ç†.&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥åœ¨å‡ºé”™å&lt;strong&gt;è‡ªåŠ¨æ¢å¤&lt;/strong&gt;: æ¯ä¸ªæ¨¡å—éƒ½è¦æœ‰è‡ªæˆ‘ä¿®å¤çš„èƒ½åŠ›, ä¿è¯ä¸ä¼šå› ä¸ºè¿æ¥ä¸åˆ°å…¶ä»–æ¨¡å—è€Œè‡ªæˆ‘å´©æºƒ. &lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥åœ¨å¿…è¦æ—¶ä¼˜é›…åœ°&lt;strong&gt;é™çº§&lt;/strong&gt;æœåŠ¡. è¿™æ˜¯å¯¹ç³»ç»Ÿé²æ£’æ€§çš„è¦æ±‚, ä¿è¯åŸºæœ¬åŠŸèƒ½ä¸ä¼šä¾èµ–é«˜çº§åŠŸèƒ½.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;å¯¹ä¼ ç»Ÿé›ªå´©æ•…éšœçš„æ€è€ƒ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¯¹äºä¼ ç»Ÿæ•…éšœçš„æ€è€ƒ, ä¹Ÿè®©æˆ‘æ„ˆå‘è§‰å¾—K8Sçš„è®¾è®¡ä¹‹ç²¾å¦™. ä»¥ä¸‹ç½—åˆ—ä¸€äº›è‡ªå·±çš„å„ä¸­æ•£ä¹±çš„å¯¹æ¯”:&lt;/p&gt;
&lt;h3 id="_4"&gt;åº”ç”¨è§†è§’&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç°åœ¨éƒ½æ˜¯ä»¥&lt;strong&gt;åº”ç”¨&lt;/strong&gt;ä¸ºæ ¸å¿ƒ, ä»¥&lt;strong&gt;ç”¨æˆ·ä½“éªŒ&lt;/strong&gt;ä¸ºæ ¸å¿ƒ. é‚£ä¹ˆå‡ºäº†æ•…éšœå, æœ€é‡è¦çš„æ˜¯å¦‚ä½•åšåˆ°ä»&lt;strong&gt;åº”ç”¨&lt;/strong&gt;è§’åº¦æ¥æ¢³ç†ã€æ’æŸ¥ã€å¿«é€Ÿå›å¤å’ŒéªŒè¯ã€‚&lt;/p&gt;
&lt;p&gt;è€Œåœ¨K8Sä¸­, æ˜¯é€šè¿‡å‘½åç©ºé—´&lt;code&gt;namespace&lt;/code&gt;æ¥æä¾›éš”ç¦». è€Œæˆ‘ä»¬ä¹Ÿå¾€å¾€é€šè¿‡&lt;code&gt;namespace&lt;/code&gt;æ¥æ‹†åˆ†åº”ç”¨: ä¸€ä¸ª&lt;code&gt;namespace&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªç³»ç»Ÿ, 1ä¸ª&lt;code&gt;deployment&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨. é€šè¿‡è¿›å…¥åˆ°&lt;code&gt;namespace&lt;/code&gt;, å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å„é¡¹èµ„æºå’Œåº”ç”¨çš„è¿è¡Œæƒ…å†µæ˜¯å¦æ­£å¸¸. æ˜¯å¦éœ€è¦è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ.&lt;/p&gt;
&lt;h3 id="_5"&gt;å¿«é€Ÿæ¢å¤&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å½“ä»Š, å‡ºäº†æ•…éšœ, æœ€é‡è¦çš„æŒ‡æ ‡å°±æ˜¯: MTTR. MTTRè¶ŠçŸ­, æ•…éšœå¯¹ç³»ç»Ÿçš„å½±å“è¶Šå°, å¯¹å¯ç”¨æ€§(é€šå¸¸ä¸ºxä¸ª9)çš„å½±å“ä¹Ÿè¶Šå°.&lt;/p&gt;
&lt;p&gt;å¦‚ä½•åšåˆ°&lt;strong&gt;å¿«é€Ÿæ¢å¤&lt;/strong&gt;? è¶Šè‡ªåŠ¨åŒ–, è‡ªæˆ‘ä¿®å¤èƒ½åŠ›è¶Šå¼º. æ¢å¤è¶Šå¿«. å¾ˆç®€å•çš„é“ç†: å¦‚æœè¿™ä¸ªæ¢å¤éœ€è¦ç”¨åˆ°äºº, è€Œä»–/å¥¹æ­£å¥½åœ¨è¿›è¡Œäººç”Ÿå¤§äº‹æ²¡æ³•ç«‹å³å¤„ç†. é‚£ä¹ˆå°±å¿«ä¸äº†.&lt;/p&gt;
&lt;p&gt;è€Œåœ¨K8Sä¸­, å…³äºå¿«é€Ÿæ¢å¤, å¦‚&lt;a href="#æ§åˆ¶æœºåˆ¶è®¾è®¡åŸåˆ™"&gt;ä¸Šæ–‡&lt;/a&gt;æ‰€è¿°, K8Sè®¾è®¡ä¹‹åˆå°±è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹. å¦å¤–, ä¸ºäº†åšåˆ°éƒ¨ç½²åœ¨å…¶ä¸Šçš„åº”ç”¨çš„å¿«é€Ÿæ¢å¤, è‡³å°‘æœ‰ä»¥ä¸‹å‡ é¡¹æªæ–½:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²åœ¨K8Sä¸Šçš„åº”ç”¨(&lt;code&gt;deployment&lt;/code&gt;)åˆšå¼€å§‹ä¼šé…ç½®ä¸€ä¸ªæœŸæœ›çš„å‰¯æœ¬æ•°(é€šè¿‡&lt;code&gt;RC&lt;/code&gt;æ§åˆ¶) â€“ å‡ºç°æ•…éšœå¯¼è‡´å‰¯æœ¬æ•°é™ä½, &lt;code&gt;RC&lt;/code&gt;ä¼šè‡ªåŠ¨å¯åŠ¨è¿è¡Œæ–°çš„PODå‰¯æœ¬ä»¥è¾¾åˆ°æœŸæœ›çš„å‰¯æœ¬æ•°. å¤šäºæŒ‡å®šæ•°ç›®, RCå°±ä¼šæ€æ­»å¤šä½™çš„podå‰¯æœ¬. å³ä½¿æŒ‡å®šæ•°ä¸º1, RCä¹Ÿèƒ½å‘æŒ¥å®ƒçš„é«˜å¯ç”¨, ä¿è¯æ°¸è¿œæœ‰1ä¸ªpodåœ¨è¿è¡Œ. å¦‚æœåœ¨ä¼ ç»Ÿç¯å¢ƒ, å¯èƒ½ä¼šå‘ç”Ÿ: å°‘å¯åŠ¨, ç”šè‡³å¤šå¯åŠ¨è€Œå¯¼è‡´çš„å„ä¸­æ¬¡ç”Ÿç¾å®³.&lt;/li&gt;
&lt;li&gt;å¦‚æœæ•…éšœå¯¼è‡´æŸå‡ å°ä¸»æœºä¸å¯ç”¨ - K8Sä¼šè‡ªåŠ¨å°†è¿™äº›ä¸»æœºä¸Šçš„podè°ƒåº¦åˆ°å…¶ä»–å¯ç”¨ä¸»æœºã€‚è€Œè¿™ä¸ªè°ƒåº¦æ˜¯æ— éœ€å¹²é¢„, æ— æ„ŸçŸ¥çš„.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_6"&gt;åº”ç”¨ç›‘æ§&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…³äºåº”ç”¨ç›‘æ§, æ‹†å¼€ç»†è¯´åˆæ˜¯ä¸€ä¸ªåºå¤§çš„è¯é¢˜. è¿™é‡Œåªè®¨è®ºç®€å•çš„å®ç°.&lt;/p&gt;
&lt;p&gt;å½“ä»Š, å‡ºäº†æ•…éšœ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆ, æˆ‘å¸Œæœ›é€šè¿‡ç›‘æ§å‘ç°åº”ç”¨æˆ–æœåŠ¡æ˜¯å¦å¯ç”¨?&lt;/li&gt;
&lt;li&gt;å¯åŠ¨å¥½ä¹‹å, æˆ‘å¸Œæœ›é€šè¿‡ç›‘æ§çŸ¥é“è¿™äº›åº”ç”¨æ˜¯å¦å·²ç»å‡†å¤‡å¥½å¯¹å¤–æä¾›æœåŠ¡.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¼ ç»Ÿç¯å¢ƒä¸‹, è¿ç»´äººå‘˜æˆ–ç›‘æ§å¯èƒ½çŸ¥é“&lt;strong&gt;æ‰€æœ‰&lt;/strong&gt;åº”ç”¨æˆ–æœåŠ¡çš„å¯ç”¨æ€§. åº•å±‚å‡ºæ•…éšœ:ä¸æ¸…æ¥šè¯¥ç³»ç»Ÿ, è¯¥æœåŠ¡, è¯¥èŠ‚ç‚¹æ˜¯å¦ä¸å¯ç”¨; å¯åŠ¨äº†ä¹‹å, ä¸æ¸…æ¥šè¯¥ç³»ç»Ÿ, è¯¥æœåŠ¡, è¯¥èŠ‚ç‚¹æ˜¯å¦æ¢å¤æ­£å¸¸.&lt;/p&gt;
&lt;p&gt;è€Œåœ¨K8Sä¸­, å…³äºåº”ç”¨å¯ç”¨æ€§ç›‘æ§. K8Sæä¾›äº†2ä¸ªæ ‡å‡†çš„Probe: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LivenessProbe&lt;/li&gt;
&lt;li&gt;ReadinessProbe&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯ä¸ªpodéƒ½ä¼šé…ç½®2ä¸ªæ¢é’ˆï¼ŒReadinesså’Œlivenessã€‚ ä»¥åº”ç”¨å®ä¾‹ä¸¾ä¾‹æ¥è¯´ï¼Œ livenesså°±æ˜¯åˆšå¯åŠ¨ï¼Œç«¯å£ç›‘å¬äº†å°±æ˜¯livenessï¼›readinesså°±æ˜¯å®ä¾‹ä¸ºrunningçŠ¶æ€ï¼Œ åº”ç”¨çš„æŸä¸ªé¡µé¢å¯ä»¥è®¿é—®äº†å°±æ˜¯readinessã€‚ä»¥æ•°æ®åº“ä¸¾ä¾‹æ¥è¯´, livenesså°±æ˜¯ç«¯å£å·²ç›‘å¬; readinesså°±æ˜¯æ‰§è¡Œäº†&lt;code&gt;SELECT 1 FROM DUAL&lt;/code&gt;ä¸”è¿”å›æ­£å¸¸. ä¸ºreadinessæµé‡æ‰ä¼šåˆ†å‘è¿›æ¥ã€‚è¿™å°±ä¿è¯äº†åŸºæœ¬çš„å¯ç”¨æ€§æ£€æµ‹å…¨è¦†ç›–.&lt;/p&gt;
&lt;h3 id="_7"&gt;ä¿¡æ¯å‡†ç¡®æ€§&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å½“ä»Š, å‡ºäº†æ•…éšœ, ç½‘ç»œæ‹‰å–äº†ä¸€ä¸ªè¡¨, ä¸»æœºæ‹‰å–äº†ä¸€ä¸ªè¡¨, æ•°æ®åº“æ‹‰å–äº†ä¸€ä¸ªè¡¨, åº”ç”¨è¿ç»´æ‹‰å–äº†ä¸€ä¸ªè¡¨. ç»“æœè¿™äº›è¡¨å¯èƒ½å­˜åœ¨:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿¡æ¯ä¸å‡†ç¡®(å·²ç»ä¸‹çº¿çš„è¿˜æ˜¾ç¤ºä¸ºè¿è¡Œä¸­çŠ¶æ€)&lt;/li&gt;
&lt;li&gt;å…³é”®ä¿¡æ¯å¯¹ä¸ä¸Š(ä¸»æœºçš„è¡¨é‡Œ, å«Aç³»ç»Ÿ; åº”ç”¨è¿ç»´çš„è¡¨é‡Œ, å°±å«&lt;code&gt;A'&lt;/code&gt;ç³»ç»Ÿäº†.)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è€Œåœ¨K8Sä¸­,  é€šè¿‡K8Sçš„ä¸€å¥—å®Œæ•´çš„ä½“ç³». ä¿¡æ¯æ˜¯è¿™æ ·è¿›è¡Œç»´æŠ¤çš„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Namespace â€“ å¯¹åº”ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;Deployment â€“ å¯¹åº”å…·ä½“åº”ç”¨æˆ–å¾®æœåŠ¡&lt;/li&gt;
&lt;li&gt;Pod â€“ å¯¹åº”å…·ä½“åº”ç”¨å®ä¾‹&lt;/li&gt;
&lt;li&gt;Volume â€“ å¯¹åº”å­˜å‚¨å·.&lt;/li&gt;
&lt;li&gt;SVC â€“ å¯¹åº”å†…éƒ¨è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°&lt;/li&gt;
&lt;li&gt;Ingress â€“ å¯¹åº”å¤–éƒ¨è®¿é—®URL&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸åº”ç”¨ç›¸å…³çš„æ¯ä¸ªèµ„æºéƒ½é€šè¿‡yamlå®šä¹‰, å¹¶å­˜å‚¨åœ¨K8Sçš„etcdå­˜å‚¨ä¸­. ä¿è¯ä¿¡æ¯ç¯ç¯ç›¸æ‰£ä¸”æ— é—æ¼. å‡ºç°æ•…éšœ, å¯ä»¥è¿…é€Ÿåˆ†æ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•´ä¸ªç³»ç»Ÿæ˜¯å¦æ­£å¸¸;&lt;/li&gt;
&lt;li&gt;å…·ä½“çš„æŸä¸€ä¸ªåº”ç”¨æˆ–å¾®æœåŠ¡æ˜¯å¦æ­£å¸¸&lt;/li&gt;
&lt;li&gt;å…·ä½“çš„åº”ç”¨å®ä¾‹æ˜¯å¦æ­£å¸¸&lt;/li&gt;
&lt;li&gt;å…·ä½“çš„å­˜å‚¨å·æ˜¯å¦æ­£å¸¸&lt;/li&gt;
&lt;li&gt;å…·ä½“çš„å†…éƒ¨è´Ÿè½½å‡è¡¡æ˜¯å¦æ­£å¸¸, æœåŠ¡æ˜¯å¦å¯ä»¥å†…éƒ¨è®¿é—®å’Œåˆ†å‘&lt;/li&gt;
&lt;li&gt;å¯¹å¤–æœåŠ¡URLæ˜¯å¦æ­£å¸¸&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_8"&gt;å­˜å‚¨&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å½“ä»Š, å‡å¦‚å‘ç”Ÿå­˜å‚¨æ•…éšœ, å¯èƒ½ä¼šå¯¼è‡´:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;OSå·å¼‚å¸¸;&lt;/li&gt;
&lt;li&gt;ä¸­é—´ä»¶/æ•°æ®åº“å·å¼‚å¸¸, è¿›è€ŒæœåŠ¡å¼‚å¸¸;&lt;/li&gt;
&lt;li&gt;åº”ç”¨å®ä¾‹/å¾®æœåŠ¡å®ä¾‹çš„æ—¥å¿—å­˜å‚¨å·\é…ç½®å­˜å‚¨å·\æŒä¹…åŒ–å­˜å‚¨å·å¼‚å¸¸, è¿›è€Œä¸šåŠ¡å¼‚å¸¸.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœä¸Šè¿°çš„å…¶ä¸­ä¸€é¡¹æœªä¿®å¤, é‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿå¯¹å¤–æœåŠ¡è¿˜æ˜¯ä¸å¯ç”¨çš„. è¿˜æ˜¯éœ€è¦æ·±å…¥æ’æŸ¥å’Œåˆ†æ. é‚£ä¹ˆåº•å±‚çš„ç±»ä¼¼å­˜å‚¨æ•…éšœå°±ä¼šå¦‚é›ªå´©ä¸€èˆ¬, å½±å“èŒƒå›´è¿…é€Ÿæ‰©æ•£.&lt;/p&gt;
&lt;p&gt;è€Œåœ¨K8Sä¸­, å…·æœ‰ä»¥ä¸‹2ä¸ªæ¦‚å¿µ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Persistent Volume - æŒä¹…å­˜å‚¨å·(PV)&lt;/li&gt;
&lt;li&gt;Persistent Volume Claim - æŒä¹…å­˜å‚¨å·å£°æ˜(PVC)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PVå’ŒPVCä½¿å¾—K8Sé›†ç¾¤å…·å¤‡äº†å­˜å‚¨çš„é€»è¾‘æŠ½è±¡èƒ½åŠ›, ä½¿å¾—åœ¨é…ç½®podçš„é€»è¾‘é‡Œå¯ä»¥å¿½ç•¥å¯¹å®é™…åå°å­˜å‚¨æŠ€æœ¯çš„é…ç½®, è€ŒæŠŠè¿™é¡¹é…ç½®çš„å·¥ä½œäº¤ç»™PVçš„é…åˆ¶è€…, å³é›†ç¾¤çš„ç®¡ç†è€…. PVæ˜¯èµ„æºçš„æä¾›è€…, æ ¹æ®é›†ç¾¤çš„åŸºç¡€è®¾æ–½å˜åŒ–è€Œå˜åŒ–, ç”±K8Sé›†ç¾¤ç®¡ç†å‘˜é…ç½®; è€ŒPVCæ˜¯èµ„æºçš„ä½¿ç”¨è€…, æ ¹æ®ä¸šåŠ¡æœåŠ¡çš„éœ€æ±‚å˜åŒ–è€Œå˜åŒ–, ç”±K8Sé›†ç¾¤çš„ä½¿ç”¨è€…å³æœåŠ¡çš„ç®¡ç†å‘˜æ¥é…ç½®.&lt;/p&gt;
&lt;p&gt;è¿™æ ·, PVå’ŒPVCå¯ä»¥å°†podå’Œæ•°æ®å·è§£è€¦, podä¸éœ€è¦çŸ¥é“ç¡®åˆ‡çš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…æ”¯æŒå®ƒçš„æŒä¹…åŒ–å¼•æ“.&lt;/p&gt;
&lt;p&gt;åœ¨å‘ç”Ÿæ•…éšœæ—¶, é¦–å…ˆå¯ä»¥é€šè¿‡æŸ¥çœ‹PVçŠ¶æ€, çŸ¥é“å­˜å‚¨æ•…éšœçš„èŒƒå›´. é€šè¿‡æŸ¥çœ‹PVCçŠ¶æ€, çŸ¥é“å­˜å‚¨æ•…éšœå¯¹æœåŠ¡çš„å½±å“èŒƒå›´. å¦‚æœå­˜å‚¨æ•…éšœæ— æ³•å¿«é€Ÿæ¢å¤, å¯ä»¥å°è¯•å°†PVCè§£ç»‘, å¹¶ç»‘å®šåˆ°å¦ä¸€ä¸ªæ­£å¸¸çš„PVä¸Š. &lt;/p&gt;
&lt;h2 id="_9"&gt;æ€»ç»“å’Œåæ€&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_10"&gt;åæ€ä¸€&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸Šçš„é›¶æ•£çš„æ€è€ƒ, K8Sçš„å‡ºç°ç¡®å®ä¼šç»™æ­£åœ¨ä¸ºåˆ°å¤„æ•‘ç«çš„è¿ç»´æä¾›ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆ. è™½ç„¶ä»»ä½•ä¸€é¡¹æ–°æŠ€æœ¯çš„å¼•å…¥, éƒ½ä¼šå¼•å…¥æ–°çš„é—®é¢˜. ä½†æ˜¯åœ¨å¦‚ä»Šåˆ†å¸ƒå¼ç³»ç»Ÿå¤§è¡Œå…¶é“çš„ä»Šå¤©, K8Sç¡®å®å€¼å¾—å¼•å…¥.&lt;/p&gt;
&lt;h3 id="_11"&gt;åæ€äºŒ&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;çŠ¹è±«, å°±ä¼šè´¥åŒ—&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="åªç‹¼-æ­»" src="./images/gamersky_01origin_01_201932317112C6.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šå±‚åº”ç”¨å·²ç»å‘ç”Ÿå·¨å¤§å˜åŒ–çš„ä»Šå¤©, åº•å±‚æŠ€æœ¯ä¹Ÿè¦æœæ–­è·Ÿè¿›;&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿˜æ˜¯"è‹¦ç»ƒåŠŸå¤«", åŠŸå¤«ç»ƒçš„å†é«˜, ä¹Ÿæ’‘ä¸è¿‡æ‰³æœºæ‰£åŠ¨çš„éœé‚£.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://www.infoq.cn/article/Kubernetes-handbook/"&gt;Kubernetes æŒ‡å—&lt;/a&gt;&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 02 Oct 2019 15:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-02:/think-from-broken-to-k8s.html</guid><category>k8s</category><category>é—®é¢˜åˆ†æ</category><category>å¯è§‚å¯Ÿæ€§</category><category>å¯ç”¨æ€§</category><category>Observability</category><category>æœ€ä½³å®è·µ</category></item><item><title>Kubernetes ç–‘éš¾é—®é¢˜æ’æŸ¥ - 10s å»¶è¿Ÿ</title><link>https://www.EWhisper.cn/analyze-k8s-difficult-problems-10s-delay.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ç°è±¡&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;èƒŒæ™¯æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;åˆ†æè¿‡ç¨‹&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ç¬¬ä¸€é˜¶æ®µ  æŠ“åŒ…å¹¶åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;ç¬¬äºŒé˜¶æ®µ  ç»†åŒ–åˆ†æå’Œæ’é™¤é˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;ç¬¬ä¸‰é˜¶æ®µ  ä¸šåŠ¡æµç¨‹æ¢³ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;ç¬¬å››é˜¶æ®µ  å®šä½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;åŸå› æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt="é¢˜å›¾" src="./images/navigating-the-container-management-storm.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;ç°è±¡&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é¦–æ¬¡é€šè¿‡&lt;strong&gt;å•ç‚¹ç™»å½•ç³»ç»Ÿ(ä¸‹ç§°CAS)&lt;/strong&gt;è®¿é—®&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;, ä¼šç­‰&lt;strong&gt;10s&lt;/strong&gt;æ‰èƒ½è¿›å…¥åˆ°&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;çš„é¡µé¢.&lt;/p&gt;
&lt;h3 id="_2"&gt;èƒŒæ™¯æ¦‚è¿°&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å•ç‚¹ç™»å½•ç³»ç»Ÿ&lt;/strong&gt;ä½äºå…¬å¸ä¼ ç»Ÿç¯å¢ƒ;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;ä½äºå…¬å¸K8Så®¹å™¨å¹³å°(openshift)ä¸Š;&lt;/li&gt;
&lt;li&gt;å…¬å¸K8Så®¹å™¨å¹³å°ä½äºå…¬å¸ç§æœ‰äº‘ç¯å¢ƒ(ç½‘ç»œä¸ºSDN);&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;åˆ†æè¿‡ç¨‹&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¯¥é—®é¢˜æ¯”è¾ƒå¤æ‚, ä¸»è¦æ˜¯åœ¨äºç½‘ç»œæ¶æ„çš„å¤æ‚. æ­£å¦‚&lt;a href="#èƒŒæ™¯æ¦‚è¿°"&gt;ä¸Šæ–‡&lt;/a&gt;æ‰€è¿°, è¿™ä¸¤ä¸ªç³»ç»Ÿçš„äº¤äº’, æ¶‰åŠåˆ°:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼ ç»Ÿç½‘ç»œæ¶æ„&lt;/li&gt;
&lt;li&gt;ç§æœ‰äº‘çš„SDNç½‘ç»œæ¶æ„&lt;/li&gt;
&lt;li&gt;ä»¥åŠæ¶æ„åœ¨ç§æœ‰äº‘ä¹‹ä¸Šçš„OpenShift OVS(OpenVSwitch) SDNç½‘ç»œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸¾ä¸ªç®€å•çš„ä¾‹å­, å¦‚æœå®¹å™¨Aè¦è®¿é—®å¤–éƒ¨ç³»ç»Ÿ, ç½‘ç»œæµåº”è¯¥æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;eth0&lt;/strong&gt;(å®¹å™¨Açš„ç½‘å¡) â†’ &lt;strong&gt;vethA&lt;/strong&gt; â†’ &lt;strong&gt;br0&lt;/strong&gt;â†’ &lt;strong&gt;tun0&lt;/strong&gt; â†’ (NAT) &lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt;â†’ (ç§æœ‰äº‘ç½‘ç»œ) â†’ (ä¼ ç»Ÿç½‘ç»œF5 -&amp;gt; ä¼ ç»Ÿç½‘ç»œç›¸å…³è™šæœº)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;br0&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;è¿æ¥åˆ°podå®¹å™¨çš„OVSæ¡¥è®¾å¤‡ã€‚OpenShift SDNè¿˜åœ¨è¿™ä¸ªæ¡¥ä¸Šé…ç½®ä¸€ç»„éå­ç½‘ç‰¹å®šçš„æµè§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tun0&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;OVSå†…éƒ¨ç«¯å£(br0ä¸Šçš„ç«¯å£2)ã€‚å®ƒè¢«åˆ†é…ç»™é›†ç¾¤å­ç½‘ç½‘å…³åœ°å€ï¼Œç”¨äºå¤–éƒ¨ç½‘ç»œè®¿é—®ã€‚OpenShift SDNé…ç½®netfilterå’Œè·¯ç”±è§„åˆ™ï¼Œå…è®¸ä»é›†ç¾¤å­ç½‘é€šè¿‡NATè®¿é—®å¤–éƒ¨ç½‘ç»œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NAT:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç½‘ç»œåœ°å€è½¬æ¢&lt;/p&gt;
&lt;p&gt;åè¾¹çš„ç§æœ‰äº‘ç½‘ç»œå’Œä¼ ç»Ÿç¯å¢ƒç½‘ç»œä¸å¤ªç†Ÿ, æ‰€ä»¥å°±æ²¡æœ‰è¯¦ç»†æè¿°, å®é™…ä¸Šç½‘ç»œèŠ‚ç‚¹ä¹Ÿä¸å°‘.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›®å‰é¦–å…ˆç¬¬ä¸€æ­¥è¦åšçš„å°±æ˜¯&lt;strong&gt;ç¼©å°èŒƒå›´&lt;/strong&gt; -- å°½å¯èƒ½çš„ç¼©å°æ€€ç–‘ç‚¹çš„èŒƒå›´. æ–¹ä¾¿è¿›ä¸€æ­¥å®šä½.&lt;/p&gt;
&lt;p&gt;å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹:&lt;/p&gt;
&lt;h3 id="_4"&gt;ç¬¬ä¸€é˜¶æ®µ  æŠ“åŒ…å¹¶åˆ†æ&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç»è¿‡åˆæ­¥åˆ†æï¼Œå¾—åˆ°å¦‚ä¸‹ç»“è®ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·é€šè¿‡&lt;strong&gt;CAS&lt;/strong&gt;çš„é¡µé¢ç‚¹å‡»&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;, è¿™æ—¶ä¼šå¸¦ç€Ticketè·³è½¬åˆ°&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;: &lt;code&gt;"GET http://itweb.cloud.example.com.cn/login.jsp?ticket=XX-1144737-F6gZZyxhe0IfKxBJS4zjuf9Csz4-cas2 HTTP/1.1"&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆé€šè¿‡Chromeçš„F12å¼€å‘å·¥å…·æ¥è¿›è¡ŒæŸ¥çœ‹ï¼Œå‘ç°æ­£æ˜¯ä¸Šè¾¹çš„è¿™ä¸ªè¯·æ±‚è€—æ—¶10sï¼Œä¸”10séƒ½æ˜¯åœ¨&lt;code&gt;Waitting(TTFR)&lt;/code&gt; å¦‚ä¸‹å›¾: (&lt;em&gt;TODO: å›¾å¤ªç³Š, éœ€è¦é‡æ–°æˆªä¸€ä¸ª&lt;/em&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="è¯·æ±‚è€—æ—¶10s" src="./images/chrome_f12_10s.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;ä»¥ä¸Šè¯·æ±‚æ˜¯åœ¨&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;å†…è¿›è¡Œå¤„ç†, ä¸”æˆ‘ä»¬ä¹‹å‰å·²ç»äº†è§£åˆ°æœªä¸Šå®¹å™¨ä¹‹å‰ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜, æ‰€ä»¥åŸºæœ¬æ’é™¤&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;åº”ç”¨é—®é¢˜çš„å¯èƒ½æ€§. é‚£ä¹ˆå°±éœ€è¦æŠ“å–&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;çš„APPæ‰€åœ¨å®¹å™¨(ä»¥ä¸‹ç®€ç§°pod a)çš„ç½‘ç»œåŒ…, ç¡®å®šæ˜¯ä¸æ˜¯ç½‘ç»œé—®é¢˜.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;tcpdump&lt;/code&gt;å‘½ä»¤æŠ“å–pod aç½‘å¡çš„æ‰€æœ‰æµé‡. å¹¶ä¸”åœ¨è¿™æœŸé—´å¤ç°è¯¥é—®é¢˜.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡&lt;a href="https://www.wireshark.org/"&gt;&lt;strong&gt;WireShark&lt;/strong&gt;&lt;/a&gt;æ‰“å¼€è¿›è¡Œåˆ†æ, ç”±äºçŸ¥é“æ˜¯ä¸Šè¾¹çš„è¯·æ±‚æœ‰é—®é¢˜, æ‰€ä»¥ä¸“é—¨çœ‹è¿™ä¸ªè¯·æ±‚çš„TCPæµ. ç»“æœå¦‚ä¸‹:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="wiresharkåˆ†æè¯·æ±‚" src="./images/10s_delay_cap_1.png"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ ‡çº¢å¤„çš„æ—¶é—´, å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°, pod a(IPä¸º: 10.131.0.244)æ”¶åˆ°ä¸Šè¿°çš„è¯·æ±‚å, è¿”å›äº†http code 302, ç„¶åè¿›è¡ŒTCPçš„3æ¬¡æ¡æ‰‹. ç„¶åå°±å‡ºé—®é¢˜äº†, &lt;code&gt;PSH+ACK&lt;/code&gt;çš„åŠ¨ä½œæ˜¯åœ¨&lt;strong&gt;10s&lt;/strong&gt;åæ‰å‘å‡ºçš„!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ä¸€æ¬¡, æ ¹æ®æºIP(pod A)å’Œç›®çš„IP(å¯ä»¥ç†è§£ä¸ºK8S Ingress çš„tun0çš„IP), åˆæ­¥åˆ¤å®šæ˜¯: &lt;strong&gt;å®¹å™¨ -&amp;gt; Ingressä¹‹é—´å‡ºç°äº†10sçš„å»¶è¿Ÿ.&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å…³äºK8Sä¸Šç½‘ç»œæŠ“åŒ…ï¼Œåç»­ä¼šå†å†™ä¸€ç¯‡æ–‡ç« : ã€ŠK8Sä¸Šç½‘ç»œæŠ“åŒ…çš„3ç§æ–¹å¼ã€‹. æ•¬è¯·æœŸå¾…~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;ç¬¬äºŒé˜¶æ®µ  ç»†åŒ–åˆ†æå’Œæ’é™¤é˜¶æ®µ&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸Šä¸€é˜¶æ®µ, åˆæ­¥ç¡®å®šäº†æ˜¯:  &lt;strong&gt;å®¹å™¨ -&amp;gt; Ingressä¹‹é—´å‡ºç°äº†10sçš„å»¶è¿Ÿ.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåç»­å°±è®¡åˆ’å¯¹è€…ä¹‹é—´çš„ç½‘ç»œè¿›ä¸€æ­¥çš„è¿›è¡Œåˆ†æ. ä¸ºæ­¤å‡†å¤‡äº†2å¥—æ–¹æ¡ˆ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ’é™¤æ³•, ç”±äºpod Aå’ŒIngressä¸åœ¨åŒä¸€å°è™šæœºä¸Š, è€Œè¿™ä¸¤å°è™šæœºä¹‹é—´çš„äº¤äº’å°±ä¼šç‰µæ‰¯åˆ°: OpenShiftçš„OVSç½‘ç»œä»¥åŠç§æœ‰äº‘çš„SDNç½‘ç»œ. æ‰€ä»¥å¸Œæœ›é€šè¿‡å°†pod Aè°ƒåº¦åˆ°Ingressæ‰€åœ¨çš„ä¸»æœºä¸Š, è§‚å¯Ÿç»“æœæ¥è¿›è¡Œæ’é™¤.&lt;ol&gt;
&lt;li&gt;å¦‚æœè°ƒåº¦åˆ°åŒä¸€å°ä¸»æœºå, ä»ç„¶å­˜åœ¨è¯¥é—®é¢˜, åˆ™æ’é™¤&lt;strong&gt;ç§æœ‰äº‘SDN&lt;/strong&gt;å‡ºé—®é¢˜çš„å¯èƒ½æ€§;&lt;/li&gt;
&lt;li&gt;å¦‚æœè°ƒåº¦åé—®é¢˜è§£å†³, é‚£ä¹ˆå°±å¯èƒ½æ˜¯: OpenShiftçš„OVSç½‘ç»œæˆ–ç§æœ‰äº‘çš„SDNç½‘ç»œçš„é—®é¢˜.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç»†åŒ–åˆ†æ. ä¹‹å‰åªæ˜¯ç®€å•æŠ“äº†pod Açš„åŒ…. åç»­è®¡åˆ’å°†æ¶‰åŠåˆ°çš„æ‰€æœ‰ç½‘ç»œèŠ‚ç‚¹è¿›è¡ŒæŠ“åŒ…, åŒ…æ‹¬:&lt;ol&gt;
&lt;li&gt;pod A&lt;/li&gt;
&lt;li&gt;pod Aæ‰€åœ¨ä¸»æœº&lt;/li&gt;
&lt;li&gt;ç§æœ‰äº‘SDNç›¸å…³ç½‘ç»œè®¾å¤‡&lt;/li&gt;
&lt;li&gt;Ingressæ‰€åœ¨ä¸»æœº&lt;/li&gt;
&lt;li&gt;Ingress pod&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½†æ˜¯åœ¨è¿™ä¸€é˜¶æ®µç¢°åˆ°äº†å„ç§å›°éš¾, ä½¿å¾—è¿™2ä¸ªæ–¹æ¡ˆéƒ½æ²¡æœ‰æœ€ç»ˆè¢«æ‰§è¡Œ.&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬ç»§ç»­å¸Œæœ›é€šè¿‡ä¹‹å‰çš„é‚£ä¸ªç½‘ç»œåŒ…, åˆ†æåˆ°æ›´å¤šç»†èŠ‚, æˆ‘ä»¬ä»2ä¸ªæ–¹é¢è¿›è¡Œ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¯·ç½‘ç»œç»„è€å¸ˆçœ‹ä¸€ä¸‹è¿™ä¸ªç½‘ç»œåŒ…, ç½‘ç»œç»„è€å¸ˆçš„åé¦ˆæ˜¯: &lt;strong&gt;åŸºæœ¬æ–­å®šæ˜¯pod Açš„é—®é¢˜&lt;/strong&gt;, ä¸éœ€è¦å†æŠ“å…¶ä»–åŒ…&lt;/li&gt;
&lt;li&gt;è”ç³»&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;å’Œ&lt;strong&gt;CAS&lt;/strong&gt;é¡¹ç›®ç»„è€å¸ˆ, è¿›ä¸€æ­¥äº†è§£ä¸šåŠ¡æµç¨‹ç»†èŠ‚. æœŸæœ›è·å–æ›´å¤šç»†èŠ‚.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è€Œè¿™2ä¸ªæ–¹é¢ä¹Ÿå–å¾—äº†æ¯”è¾ƒå¤§çš„æ”¶è·!&lt;/p&gt;
&lt;h3 id="_6"&gt;ç¬¬ä¸‰é˜¶æ®µ  ä¸šåŠ¡æµç¨‹æ¢³ç†&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;é‡ç‚¹å…³æ³¨&lt;strong&gt;é¦–æ¬¡ç™»å½•éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;è¿™ä¸ªä¸šåŠ¡æµç¨‹.&lt;/p&gt;
&lt;p&gt;æœ‰çš„ç”¨æˆ·æ˜¯å…ˆè®¿é—®CAS, ç™»å½•CAS, å†é€šè¿‡CASè·³è½¬è¿›å…¥éœ€æ±‚ç³»ç»Ÿ;&lt;/p&gt;
&lt;p&gt;æœ‰çš„ç”¨æˆ·æ˜¯å…ˆè®¿é—®CAS, ä¸ç™»é™†, é€šè¿‡CASè·³è½¬åˆ°éœ€æ±‚ç³»ç»Ÿ, å†åè¿‡æ¥ç™»å½•éªŒè¯å¹¶è¿›å…¥éœ€æ±‚ç³»ç»Ÿ;&lt;/p&gt;
&lt;p&gt;æœ‰çš„ç”¨æˆ·æ˜¯ç›´æ¥è®¿é—®éœ€æ±‚ç³»ç»Ÿ, è·³è½¬åˆ°å•ç‚¹ç™»å½•, ç™»å½•è®¤è¯åè¿›å…¥éœ€æ±‚ç³»ç»Ÿ.&lt;/p&gt;
&lt;p&gt;æœ‰ä»¥ä¸Šä¸‰ç§æƒ…å†µ, æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·çš„. å°±æ˜¯éœ€æ±‚ç³»ç»Ÿéœ€è¦å’ŒCASäº¤äº’.&lt;/p&gt;
&lt;p&gt;ä¸‹è¾¹é€‰æ‹©ä¸€ä¸ªæœ€å¸¸ç”¨çš„æµç¨‹åšè¯´æ˜.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·è®¿é—®å¹¶ç™»å½•&lt;strong&gt;å•ç‚¹ç™»å½•ç³»ç»Ÿ&lt;/strong&gt;;&lt;ol&gt;
&lt;li&gt;æ­¤æ—¶ç”¨æˆ·ä¼šè·å–åˆ°ä¸€ä¸ªTicket, æ ¼å¼å®ä¾‹å¦‚ä¸‹: &lt;code&gt;XX-1144737-F6gZZyxhe0IfKxBJS4zjuf9Csz4-&amp;lt;instancename&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿™æœŸé—´ç”¨æˆ·å¹¶ä¸ä¼šè®¿é—®&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡&lt;strong&gt;CAS&lt;/strong&gt;çš„é¡µé¢ç‚¹å‡»&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;, è¿™æ—¶ä¼šå¸¦ç€Ticketè·³è½¬åˆ°&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;: &lt;code&gt;"GET http://itweb.cloud.example.com.cn/login.jsp?ticket=XX-1144737-F6gZZyxhe0IfKxBJS4zjuf9Csz4-cas2 HTTP/1.1"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;æ”¶åˆ°è¯¥è¯·æ±‚, ä¼šå›è®¿&lt;strong&gt;CAS&lt;/strong&gt;éªŒè¯: &lt;code&gt;â€œGET http://10.1.XX.XX:XXXX/casserver/serviceValidate?hostnameVerifier=org.jasig.cas.client.ssl.AnyHostnameVerifier&amp;amp;ticket= XX-1144737-F6gZZyxhe0IfKxBJS4zjuf9Csz4-cas2&amp;amp;encoding=UTF-8&amp;amp;service=http%3A%2F%2Fitweb.cloud.example.com.cn%2Fâ€&lt;/code&gt; .&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CAS&lt;/strong&gt;éªŒè¯åè¿”å›ç»“æœç»™&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;:&lt;ol&gt;
&lt;li&gt;éªŒè¯&lt;strong&gt;é€šè¿‡&lt;/strong&gt;, æ­£å¸¸ç™»å½•, è¿›å…¥&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;ä¸»é¡µé¢;&lt;/li&gt;
&lt;li&gt;éªŒè¯&lt;strong&gt;ä¸é€šè¿‡&lt;/strong&gt;, æç¤º&lt;strong&gt;ä½ æ— æƒè®¿é—®è¯¥ç³»ç»Ÿ&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é¡¹ç›®ç»„è€å¸ˆé‡ç‚¹æåˆ°, æ ¹æ®ä»–ä»¬çš„æ—¥å¿—æ¥çœ‹, &lt;strong&gt;æ˜¯ç¬¬3æ­¥æ…¢äº†10s.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;ç¬¬å››é˜¶æ®µ  å®šä½&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å’Œç½‘ç»œç»„è€å¸ˆå’Œé¡¹ç›®ç»„è€å¸ˆæ²Ÿé€šå—ç›Šé¢‡å¤š:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œç»„è€å¸ˆ: &lt;strong&gt;åŸºæœ¬æ–­å®šæ˜¯pod Açš„é—®é¢˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é¡¹ç›®ç»„è€å¸ˆ: &lt;strong&gt;æ˜¯ç¬¬3æ­¥(éœ€æ±‚ç³»ç»Ÿå›è®¿CASéªŒè¯)æ…¢äº†10s.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å†³å®šå†æ¬¡æŸ¥çœ‹ä¹‹å‰æŠ“å–çš„ç½‘ç»œåŒ…, ä»”ç»†çœ‹ä¸€ä¸‹CASè®¿é—®å•ç‚¹ç™»å½•ç³»ç»Ÿå, ç½‘ç»œä¸Šéƒ½å‘ç”Ÿäº†ä»€ä¹ˆ. è€Œè¿™ä¸€æ¬¡, æˆ‘ä»¬ç»ˆäºæŠ“åˆ°äº†è››ä¸é©¬è¿¹!&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡ä¸å†å…³æ³¨æŸä¸€ä¸ª&lt;strong&gt;TCPæµ&lt;/strong&gt;, è€Œæ˜¯å…³æ³¨æ¥æ”¶åˆ°è¯·æ±‚å, éƒ½å‘ç”Ÿäº†ä»€ä¹ˆ.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ”¶åˆ°è¯·æ±‚å, pod Aè¦è®¿é—®&lt;strong&gt;CAS&lt;/strong&gt; 10.1.XX.XX, æ³¨æ„è¿™ä¸€æ¬¡: &lt;strong&gt;ä¸æ˜¯ç›´æ¥è®¿é—®CASçš„IP, è€Œæ˜¯å…ˆåšåå‘DNSè§£æ!!!&lt;/strong&gt;å¦‚ä¸‹å›¾:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="è¦è®¿é—®CAS" src="./images/10s_delay_cap_2.png"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡åå‘DNSè§£æ&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2" rel="footnote"&gt;2&lt;/a&gt;&lt;/sup&gt;, DNS serveræ²¡è¿”å›ä»»ä½•ä¿¡æ¯, &lt;strong&gt;5sè¶…æ—¶&lt;/strong&gt;. (ç½‘ç»œæµæ¯”è¾ƒé•¿, å°±ä¸é™„å›¾äº†, åæ­£æ¥ä¸‹æ¥5séƒ½æ²¡æœ‰çœ‹åˆ°DNS serveræœ‰è¿”å›ä¿¡æ¯). å¼€å§‹è¿›è¡Œç¬¬äºŒæ¬¡åå‘DNSè§£æ, å¦‚ä¸‹å›¾:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ä¸¤æ¬¡æ–¹å‘DNSè§£æ" src="./images/10s_delay_cap_3.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;2æ¬¡DNSåè§£æå¤±è´¥å, &lt;strong&gt;ç¬¬ä¸‰æ¬¡å°±ä¸åšåå‘DNSè§£æäº†, è€Œæ˜¯ç›´æ¥è®¿é—®&lt;/strong&gt;, å¹¶å¿«é€Ÿå¾—åˆ°ç»“æœ. æ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯ç­‰å¾…&lt;strong&gt;10s&lt;/strong&gt;æ‰è¿›å…¥ç³»ç»Ÿ. å¦‚ä¸‹å›¾:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ç¬¬ä¸‰æ¬¡ç›´æ¥è®¿é—®" src="./images/10s_delay_cap_4.png"&gt;&lt;/p&gt;
&lt;h2 id="_8"&gt;åŸå› æ€»ç»“&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;è®¿é—®&lt;strong&gt;å•ç‚¹ç™»å½•&lt;/strong&gt;10.1.XX.XX:XXXXèŠ±äº†10s, æ˜¯å› ä¸ºé‚£æ¬¡è¯·æ±‚ä¼šè¿›è¡Œåå‘dnsè§£æã€‚ç»“æœè§£æ2æ¬¡ä¸æˆåŠŸã€‚dnsä¸€æ¬¡è§£æè¶…æ—¶æ˜¯5s&lt;sup id="fnref:3"&gt;&lt;a class="footnote-ref" href="#fn:3" rel="footnote"&gt;3&lt;/a&gt;&lt;/sup&gt;â€¦ ç¬¬ä¸‰æ¬¡å°±ä¸è§£æäº†ç›´æ¥è®¿é—®. æ‰€ä»¥å°±æ˜¯æ¯æ¬¡ç­‰10s. &lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å…¶å®åº”è¯¥ä¸æ˜¯&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿ&lt;/strong&gt;ä¼šåšåå‘DNSè§£æ, è€Œæ˜¯å®ƒéƒ¨ç½²åœ¨WebLogicä¸­é—´ä»¶ä¸Š, WebLogicä¸­é—´ä»¶ä¼šè¿›è¡Œåå‘DNSè§£æ.&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹‹æ‰€ä»¥çŸ¥é“è¿™ä¸ªäº‹æƒ…, æ˜¯å› ä¸ºæœ‰æ¬¡æŸå¯¿é™©å…¬å¸æœ‰ä¸€æ¬¡ç”Ÿäº§DNSå‡ºæ•…éšœäº†, æ’æŸ¥çš„æ—¶å€™å‘ç°&lt;strong&gt;æµ·é‡çš„åå‘DNSè§£æ&lt;/strong&gt;æ¥è‡ªweblogic.&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶é—´å¯ä»¥å†æ¥ä¸€ç¯‡ç›¸å…³çš„å†…å®¹.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_9"&gt;è§£å†³æ–¹æ¡ˆ&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å°è¯•åœ¨éœ€æ±‚ç³»ç»Ÿå¯åŠ¨é¡¹ç§åŠ å…¥ç¦æ­¢åå‘è§£æçš„å‚æ•°, æµ‹è¯•ä¸ç”Ÿæ•ˆ.&lt;/li&gt;
&lt;li&gt;Openshiftæ¯å°èŠ‚ç‚¹éƒ½ä¼šå¯åŠ¨ä¸€ä¸ªdnsmasqè¿›ç¨‹ç”¨ä½œé›†ç¾¤å†…éƒ¨dnså¤„ç†, å°†workerèŠ‚ç‚¹çš„dnsmasqåŠ å…¥å¦‚ä¸‹é…ç½®å¹¶é‡å¯. ä½¿å¾—åå‘DNSè§£ææˆåŠŸ. åˆ™é—®é¢˜è§£å†³.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ptr-record=XX.XX.1.10.in-addr.arpa, 10.1.XX.XX
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_10"&gt;æ€»ç»“&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è‡³æ­¤, æˆ‘ä»¬å®Œæ•´çš„æ¢³ç†äº†&lt;strong&gt;éœ€æ±‚ç³»ç»Ÿé¦–æ¬¡ç™»å½•è¦ç­‰10s&lt;/strong&gt;çš„é—®é¢˜, åˆ†æè¿‡ç¨‹ä¿¡æ¯é‡æ¯”è¾ƒå¤§, ç‰µæ¶‰çš„ç¯èŠ‚ä¹Ÿæ¯”è¾ƒå¤š. å…¶å®æœ€åå®šä½çš„åŸå› , ä¹Ÿå’ŒK8Sçš„ç½‘ç»œ, ç§æœ‰äº‘çš„ç½‘ç»œç¯æ–°æŠ€æœ¯æ²¡å•¥å…³ç³». é—®é¢˜è¿˜æ˜¯è€é—®é¢˜.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼ºçƒˆä¸å»ºè®®å°†ä¼ ç»Ÿè½¯ä»¶ç¡¬å¡å…¥å®¹å™¨å†…, å‘ä¸æ­¢è¿™ä¸€ä¸ª; &lt;img align="absmiddle" alt="ğŸ˜­" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f62d.png" title=":sob:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜­" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f62d.png" title=":sob:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜­" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f62d.png" title=":sob:" width="20px"&gt;&lt;/li&gt;
&lt;li&gt;K8Sé‡‡ç”¨å, ç½‘ç»œå¤æ‚æ€§ä¼šå¤§å¹…ä¸Šå‡, åˆ†æK8Sä¸Šç½‘ç»œé—®é¢˜, ç½‘ç»œåˆ†ææ‰‹æ®µå¿…ä¸å¯å°‘;&lt;/li&gt;
&lt;li&gt;åˆ†æé—®é¢˜è¿‡ç¨‹ä¸­, &lt;em&gt;ä¸‰äººè¡Œ, å¿…æœ‰æˆ‘å¸ˆç„‰&lt;/em&gt;, å¤šä¸å…¶ä»–è€å¸ˆäº¤æµæ²Ÿé€š, å‘æ•£æ€ç»´, é¿å…èµ°å…¥æ­»èƒ¡åŒ.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://docs.openshift.com/container-platform/3.9/architecture/networking/sdn.html#sdn-packet-flow"&gt;OpenShift docs: SDN Package Flow&lt;/a&gt;&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Reverse_DNS_lookup"&gt;wiki: Reverse DNS lookup&lt;/a&gt;&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;&lt;a href="https://www.linuxquestions.org/questions/linux-server-73/how-to-set-dns-timeout-on-dnsmasq-747341/"&gt;How to set dns timeout on dnsmasq&lt;/a&gt;&amp;#160;&lt;a class="footnote-backref" href="#fnref:3" rev="footnote" title="Jump back to footnote 3 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 01 Oct 2019 18:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-10-01:/analyze-k8s-difficult-problems-10s-delay.html</guid><category>openshift</category><category>k8s</category><category>é—®é¢˜åˆ†æ</category><category>æ€§èƒ½è°ƒä¼˜</category></item><item><title>OpenShiftä¸Šç¦…é“å‡çº§æ–¹æ¡ˆ</title><link>https://www.EWhisper.cn/update-zentao-where-deployed-on-openshift.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;å¤‡ä»½&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;é…ç½®æ–‡ä»¶ã€ä»£ç å’Œé™„ä»¶çš„å¤‡ä»½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æ•°æ®åº“çš„å¤‡ä»½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å‡çº§&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#dockerfile"&gt;æ›´æ–°Dockerfileå’Œé•œåƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#docker"&gt;ä¸Šä¼ å¹¶å¯¼å…¥æ–°çš„dockeré•œåƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ–°éƒ¨ç½²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;æ‰§è¡Œå‡çº§ç¨‹åº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;å›é¡¾å’Œæ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨&lt;a href="https://www.EWhisper.cn/deploy-app-with-openshift-in-enterprise-env.html"&gt;ä¹‹å‰çš„æ–‡ç« &lt;/a&gt;ä¸­, ä»‹ç»äº†æŠŠç¦…é“éƒ¨ç½²åˆ°ä¼ä¸šæµ‹è¯•ç¯å¢ƒçš„è¿‡ç¨‹. è€Œè¿™æ¬¡æ˜¯è¦å¯¹ç¦…é“è¿›è¡Œä¸€ä¸‹å‡çº§, å…¶å®ä¸¥æ ¼è¯´æ¥ä¸ä»…ä»…å‡çº§, è€Œæ˜¯æŠŠ: å¼€æºç‰ˆç¦…é“11.5 å‡çº§ä¸º ä¼ä¸šç‰ˆç¦…é“3.3.  æœ¬æ–‡è®°å½•äº†å‡çº§çš„å…¨è¿‡ç¨‹.&lt;/p&gt;
&lt;p&gt;å…¶å®æ‰€æœ‰çš„å‡çº§ä¸­åŒ…å«çš„æœ€é‡è¦çš„æ˜¯ä»¥ä¸‹å‡ æ­¥:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤‡ä»½&lt;/li&gt;
&lt;li&gt;å‡çº§&lt;/li&gt;
&lt;li&gt;éªŒè¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_2"&gt;å¤‡ä»½&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å…¶å®å¯ä»¥ä¸€é”®è‡ªåŠ¨åŒ–å¤‡ä»½çš„. ä½äºç¦…é“ç½‘é¡µçš„: åå° -&amp;gt; æ•°æ® -&amp;gt; å¼€å§‹å¤‡ä»½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_3"&gt;é…ç½®æ–‡ä»¶ã€ä»£ç å’Œé™„ä»¶çš„å¤‡ä»½&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨zentao/config/my.php&lt;/li&gt;
&lt;li&gt;é™„ä»¶å­˜æ”¾åœ¨zentao/www/data/ç›®å½•ä¸‹é¢ã€‚&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹çš„ä»£ç ä¹Ÿéƒ½æ”¾åœ¨zentaoç›®å½•ä¸‹é¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤å¤‡ä»½é…ç½®æ–‡ä»¶ã€ä»£ç å’Œé™„ä»¶çš„æ–¹æ³•å°±æ˜¯å°†æ•´ä¸ªzentaoç›®å½•å¤‡ä»½å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæœ¬æ¬¡OpenShift, æ“ä½œå¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# æŸ¥çœ‹ç¦…é“podè¿è¡Œçš„èŠ‚ç‚¹&lt;/span&gt;
oc project zentao  &lt;span class="c1"&gt;# åˆ‡æ¢åˆ°zentaoé¡¹ç›®&lt;/span&gt;
oc get pod  &lt;span class="c1"&gt;# æŸ¥çœ‹zentao podçš„name&lt;/span&gt;
oc describe pod &amp;lt;pod_name&amp;gt;  &lt;span class="c1"&gt;# æŸ¥çœ‹zentao å¯¹åº”podçš„è¯¦ç»†ä¿¡æ¯&lt;/span&gt;
&lt;span class="c1"&gt;# è¾“å‡ºå¦‚ä¸‹:&lt;/span&gt;
&lt;span class="c1"&gt;# Node:  xxxxx-node02.xxxxx.com.cn/10.X.X.X&lt;/span&gt;
&lt;span class="c1"&gt;# Mounts:&lt;/span&gt;
&lt;span class="c1"&gt;#  /app/zentaopms from zentao-volume-1 (rw)&lt;/span&gt;
&lt;span class="c1"&gt;#  /var/lib/mysql from zentao-volume-2 (rw)&lt;/span&gt;
&lt;span class="c1"&gt;# Volumes:&lt;/span&gt;
&lt;span class="c1"&gt;#  zentao-volume-1:&lt;/span&gt;
&lt;span class="c1"&gt;#    ClaimName: zentao-pms&lt;/span&gt;
&lt;span class="c1"&gt;#  zentao-volume-2:&lt;/span&gt;
&lt;span class="c1"&gt;#    ClaimName: zentao-mysql-pvc&lt;/span&gt;
oc get pvc
&lt;span class="c1"&gt;# å¯ä»¥çœ‹åˆ°ç»‘å®šçš„PVæ˜¯: zentao-pms-volume å’Œzentao-mysql-volume&lt;/span&gt;
oc describe pv zentao-pms-volume zentao-mysql-volume
&lt;span class="c1"&gt;# å¯ä»¥çœ‹åˆ°å¯¹åº”çš„å…±äº«å­˜å‚¨:&lt;/span&gt;
&lt;span class="c1"&gt;# Server: 10.X.X.X&lt;/span&gt;
&lt;span class="c1"&gt;# Path: /vol/Thxxxxxx/zentao-pms&lt;/span&gt;
&lt;span class="c1"&gt;# Path: /vol/Thxxxxxx/zentao-mysql&lt;/span&gt;

&lt;span class="c1"&gt;# åœ¨node2ä¸Šæ‰§è¡Œ:&lt;/span&gt;
df -h &lt;span class="p"&gt;|&lt;/span&gt; grep zentao
&lt;span class="c1"&gt;# è¾“å‡ºå¦‚ä¸‹:&lt;/span&gt;
&lt;span class="c1"&gt;# 10.X.X.X://vol/Thxxxxxx/zentao-pms  50G  3.0G  48G  6%  /var/lib/origin/openshift.local.volumes/pods/6340...-...-97cd/volumes/kubernetes.io~nfs/zentao-pms-volume&lt;/span&gt;
&lt;span class="c1"&gt;# 10.X.X.X://vol/Thxxxxxx/zentao-mysql  50G  3.0G  48G  6%  /var/lib/origin/openshift.local.volumes/pods/6340...-...-97cd/volumes/kubernetes.io~nfs/zentao-mysql-volume&lt;/span&gt;
&lt;span class="c1"&gt;# å¤‡ä»½&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; /var/lib/origin/openshift.local.volumes/pods/6340...-...-97cd/volumes/kubernetes.io~nfs/zentao-pms-volume
tar -cvzf /root/zentao-pms-volume.tgz ./zentao-pms-volume/
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_4"&gt;æ•°æ®åº“çš„å¤‡ä»½&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨mysqlæä¾›çš„ç®¡ç†å·¥å…·ï¼Œå°†æ•°æ®åº“å¯¼å‡ºï¼š &lt;code&gt;mysqldump -u xxx -p zentao &amp;gt; zentao.sql&lt;/code&gt;ï¼Œå…¶ä¸­çš„useræ¢æˆå®é™…çš„ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;h2 id="_5"&gt;å‡çº§&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="dockerfile"&gt;æ›´æ–°Dockerfileå’Œé•œåƒ&lt;a class="headerlink" href="#dockerfile" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dockerfileæ›´æ–°å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; ubuntu:16.04&lt;/span&gt;
&lt;span class="k"&gt;MAINTAINER&lt;/span&gt;&lt;span class="s"&gt; yidong &amp;lt;yidong@cnezsoft.com&amp;gt;&lt;/span&gt;

&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get install -y apache2 mariadb-server php php-curl php-gd php-ldap php-mbstring php-mcrypt php-mysql php-xml php-zip php-cli php-json curl unzip libapache2-mod-php locales

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;en_US.UTF8&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;123456&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;LANG=\&amp;quot;en_US.UTF-8\&amp;quot;\nLANGUAGE=\&amp;quot;en_US:en\&amp;quot;&amp;quot;&lt;/span&gt; &amp;gt; /etc/default/locale &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; locale-gen en_US.UTF-8

&lt;span class="k"&gt;RUN&lt;/span&gt; mkdir -p /app/zentaopms
&lt;span class="k"&gt;COPY&lt;/span&gt; docker-entrypoint.sh /app
&lt;span class="c"&gt;#RUN random=`date +%s`; curl http://cdn.zentaopm.com/latest/zentao.zip?rand=$random -o /var/www/zentao.zip&lt;/span&gt;
&lt;span class="c"&gt;#RUN cd /var/www/ &amp;amp;&amp;amp; unzip -q zentao.zip &amp;amp;&amp;amp; rm zentao.zip&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; ./zentaopms/ /var/www/zentaopms/
&lt;span class="k"&gt;RUN&lt;/span&gt; a2enmod rewrite

&lt;span class="k"&gt;RUN&lt;/span&gt; rm -rf /etc/apache2/sites-enabled/000-default.conf /var/lib/mysql/*
&lt;span class="k"&gt;RUN&lt;/span&gt; sed -i &lt;span class="s1"&gt;&amp;#39;1i ServerName 127.0.0.1&amp;#39;&lt;/span&gt; /etc/apache2/apache2.conf
&lt;span class="k"&gt;COPY&lt;/span&gt; config/apache.conf /etc/apache2/sites-enabled/000-default.conf
&lt;span class="k"&gt;COPY&lt;/span&gt; config/ioncube_loader_lin_7.0.so /usr/lib/php/20151012/ioncube_loader_lin_7.0.so
&lt;span class="k"&gt;COPY&lt;/span&gt; config/00-ioncube.ini /etc/php/7.0/apache2/conf.d/
&lt;span class="k"&gt;COPY&lt;/span&gt; config/00-ioncube.ini /etc/php/7.0/cli/conf.d/

&lt;span class="k"&gt;VOLUME&lt;/span&gt;&lt;span class="s"&gt; /app/zentaopms /var/lib/mysql&lt;/span&gt;
&lt;span class="k"&gt;ENTRYPOINT&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/app/docker-entrypoint.sh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ä¼ä¸šç‰ˆ3.3çš„åŒ…å’Œå¯¹åº”çš„è¯•ç”¨license, ç¦…é“çš„æŠ€æœ¯æ”¯æŒå·²ç»æä¾›ç»™æˆ‘äº†.&lt;/p&gt;
&lt;p&gt;æˆ‘è§£å‹åç»Ÿä¸€æ”¾åˆ°äº†&lt;code&gt;./zentaopms/&lt;/code&gt;Â ä¸‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;Dockerfile&lt;/code&gt; æ„å»ºdockeré•œåƒå¹¶æµ‹è¯•:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; docker_zentao
docker build -t zentao:3.3-ent .

&lt;span class="c1"&gt;# æµ‹è¯•&lt;/span&gt;
docker run --name zentao-ent-test -p &lt;span class="m"&gt;8000&lt;/span&gt;:80 -e &lt;span class="nv"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;123456&lt;/span&gt; -d zentao:3.3-ent  &lt;span class="c1"&gt;# åå°è¿è¡Œè¯¥dockerå®¹å™¨&lt;/span&gt;
docker ps  &lt;span class="c1"&gt;# æŸ¥çœ‹å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ, æœ‰æ— crash&lt;/span&gt;
docker stop zentao-ent-test  &lt;span class="c1"&gt;# æµ‹è¯•å®Œæ¯•, åœæ­¢è¯¥å®¹å™¨&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°†é•œåƒå¯¼å‡ºä¸ºtaråŒ…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker save -o docker_zentao.tar zentao
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="docker"&gt;ä¸Šä¼ å¹¶å¯¼å…¥æ–°çš„dockeré•œåƒ&lt;a class="headerlink" href="#docker" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…ˆftpä¼ ä¸Šå». ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker load -i docker_ent_zentao.tar
docker push txocp-registry.example.com/ewhisper/zentao:3.3-ent
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æ— æ³•è¿æ¥å¤–ç½‘, ä¸”å†…ç½‘æ²¡æœ‰è¶³å¤Ÿå¤šçš„å¸¸ç”¨åŸºç¡€é•œåƒå¥½éš¾å—å•Š! &lt;img align="absmiddle" alt="ğŸ˜­" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f62d.png" title=":sob:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜­" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f62d.png" title=":sob:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜­" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f62d.png" title=":sob:" width="20px"&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_6"&gt;æ–°éƒ¨ç½²&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¯¥ç¦…é“dockeré•œåƒåŒ…æ‹¬æ•°æ®åº“ç»„ä»¶: mysql. ä¸ºæœ‰çŠ¶æ€. æ— æ³•å¹³æ»‘å‡çº§æˆ–å¯åŠ¨å¤šä¸ª.&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å‡çº§å‰ä¸€å®šè¦æ³¨æ„å‡çº§ç­–ç•¥è¦æ˜¯: &lt;code&gt;Recreate&lt;/code&gt;è€Œä¸èƒ½æ˜¯å…¶ä»–.  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;Strategy:  Recreate&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ¬æ¬¡å‡çº§ä½¿ç”¨åˆ°äº†OpenShiftçš„ImageStreamåŠŸèƒ½. è¯¥åŠŸèƒ½æ˜¯å¤šä¸ªé•œåƒçš„é“¾å¼ç»„åˆ. ImageStreamåªæ˜¯ä¸ªå…ƒæ•°æ®, ä¸åŒ…å«é•œåƒ.&lt;/p&gt;
&lt;p&gt;å‡çº§å‰, æˆ‘ä»¬å·²ç»ç¡®è®¤, ç¦…é“è¯¥APPçš„è§¦å‘è‡ªåŠ¨éƒ¨ç½²çš„ç­–ç•¥ä¸º: ImageStreamä¸º&lt;code&gt;zentao&lt;/code&gt;çš„æœ€æ–°ç‰ˆæœ¬, é•œåƒå‘ç”Ÿäº†å˜åŒ–å°±è‡ªåŠ¨è§¦å‘éƒ¨ç½². å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Triggers:  Image(zentao@latest, auto=true), Config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€šè¿‡å¦‚ä¸‹è®¾ç½®æ›´æ–°ImageStream:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å…¶å®æœ€ç®€å•å°±æ˜¯å°†ä¸Šè¾¹çš„é•œåƒç›´æ¥pushä¸ºæœ€æ–°, å³: &lt;code&gt;docker push txocp-registry.example.com/ewhisper/zentao:latest&lt;/code&gt;, ä¸€æ£€æµ‹åˆ°é•œåƒå‘ç”Ÿå˜åŒ–å°±ä¼šè‡ªåŠ¨éƒ¨ç½². ä½†æ˜¯è€ƒè™‘åˆ°ç¦…é“çš„2ä¸ªé•œåƒ: å¼€æºç‰ˆ11.5å’Œ ä¼ä¸šç‰ˆ3.3 ä¸æ˜¯è¿™ä¹ˆç®€å•çš„å…³ç³». æ‰€ä»¥ä¸ºäº†è€ƒè™‘å›æ»šæ–¹ä¾¿, å¹¶æ²¡æœ‰ç”¨è¿™ç§æ–¹å¼.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc tag zentao:latest zentao:11.5  &lt;span class="c1"&gt;# å°†ä¹‹å‰çš„å¼€æº11.5é•œåƒæ ‡è®°ä¸º: 11.5(ä¹‹å‰ç”±äºåªæœ‰è¿™ä¸€ä¸ªé•œåƒ, å°±ç›´æ¥ç”¨äº†latestæ ‡ç­¾)&lt;/span&gt;
oc tag txocp-registry.example.com/ewhisper/zentao:3.3-ent zentao:3.3-ent --insecure&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;  &lt;span class="c1"&gt;# å°†å•†ä¸šç‰ˆ3.3é•œåƒæ ‡è®°ä¸ºImageStreamä¸­çš„ä¸€ä¸ªæ–°æ ‡ç­¾: zentao:3.3-ent. `--insecure=true` æ˜¯å› ä¸ºæµ‹è¯•é•œåƒåº“æ²¡æœ‰ç”¨https&lt;/span&gt;
oc tag zentao:3.3-ent zentao:latest  &lt;span class="c1"&gt;# å°†å•†ä¸šç‰ˆ3.3é•œåƒæ ‡è®°ä¸ºæœ€æ–°&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ—¶ImageStreamçš„ä¿¡æ¯å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ImageStream" src="./images/zentao_openshift_update_4.png"&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶, ç”±äºlatesté•œåƒå‘ç”Ÿå˜åŒ–, ä¼šè‡ªåŠ¨è§¦å‘æ–°ä¸€æ¬¡çš„éƒ¨ç½², ç›¸å…³çš„Eventså¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Deployment Events" src="./images/zentao_openshift_update_5.png"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;æ‰§è¡Œå‡çº§ç¨‹åº&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±æ˜¯&lt;strong&gt;ç¦…é“&lt;/strong&gt; å‡çº§ä¼ä¸šç‰ˆçš„æ­¥éª¤äº†, å…·ä½“å‚è§ç¦…é“å®˜æ–¹æ–‡æ¡£ - &lt;a href="https://www.zentao.net/book/zentaobizhelp/282.html"&gt;å¼€æºç‰ˆå‡çº§åˆ°ä¼ä¸šç‰ˆ&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¿é—®å‡çº§URL: æˆ‘æœ¬åœ°è®¿é—®ç¦…é“çš„åœ°å€æ˜¯ &lt;a href="http://127.0.0.1:81/zentao"&gt;http://127.0.0.1:81/zentao&lt;/a&gt;ï¼Œé‚£ä¹ˆæµè§ˆå™¨è¾“å…¥  &lt;a href="http://127.0.0.1:81/zentao/upgrade.php"&gt;http://127.0.0.1:81/zentao/upgrade.php&lt;/a&gt;ï¼Œå³å¯è¿›å…¥å‡çº§æ­¥éª¤ã€‚&lt;/li&gt;
&lt;li&gt;è¯·æ ¹æ®æç¤ºåˆ›å»ºok.txt æ–‡ä»¶ã€‚åˆ›å»ºå®Œæˆåï¼Œè¯·ç‚¹å‡» ç»§ç»­æ›´æ–°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ok" src="./images/zentao_openshift_update_2.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;ä¸€æ­¥ä¸€æ­¥æŒ‰ç…§æå‡è¿›è¡Œ, æœ€åä¼šæç¤ºè¦&lt;strong&gt;åˆ›å»ºç´¢å¼•&lt;/strong&gt;, å¦‚ä¸‹å›¾:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºç´¢å¼•" src="./images/zentao_openshift_update_3.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;è‡³æ­¤å‡çº§å®Œæˆ, ç™»å½•è¿›è¡ŒåŠŸèƒ½å’Œæ•°æ®å®Œæ•´æ€§éªŒè¯. (è¿™ä¸€æ­¥å¾ˆé‡è¦, ä½†æ˜¯æˆ‘å°±ä¸è¯¦ç»†è¯´æ˜äº†. ) &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ä¼ä¸šç‰ˆä¿¡æ¯" src="./images/zentao_openshift_update_6.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å‡çº§æˆåŠŸå&lt;strong&gt;åƒä¸‡ä¸è¦&lt;/strong&gt;ç›´æ¥è¿›å…¥é¦–é¡µå¹¶æŒ‰ç…§é¦–é¡µæç¤ºæ“ä½œ, æœ¬äººè¡€çš„æ•™è®­!!! è°¨è®°!!! å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="å‡çº§åé¦–é¡µæç¤º" src="./images/zentao_openshift_update_1.png"&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_8"&gt;å›é¡¾å’Œæ€»ç»“&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å…¶å®å›é¡¾ä¸€ä¸‹è¿‡ç¨‹, è™½ç„¶å¾ˆå¤æ‚, ä½†è¿™ç§å¤æ‚æ˜¯ä¼ä¸šç¯å¢ƒçš„ç½‘ç»œå¤æ‚å¯¼è‡´çš„, æ˜¯å¯ä»¥åç»­è¿›ä¸€æ­¥ä¼˜åŒ–çš„. åŒ…æ‹¬:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤‡ä»½: åˆ›å»ºå¹¶ä½¿ç”¨ä¸€é”®è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬. (å…¶å®ç¦…é“æœ¬èº«æœ‰çš„, ä½äº: åå° -&amp;gt; æ•°æ® -&amp;gt; å¼€å§‹å¤‡ä»½)&lt;/li&gt;
&lt;li&gt;ä»£ç å‡çº§å¹¶ç¼–è¯‘ä¸ºé•œåƒ: å…¶å®&lt;strong&gt;å‡çº§&lt;/strong&gt;é‚£ä¸€ç« èŠ‚å¯ä»¥å¤§å¹…åº¦ç¼©å‡çš„, ç†æƒ³æƒ…å†µæ˜¯:&lt;ol&gt;
&lt;li&gt;ä»£ç æ”¾åœ¨gitä¸Š, gitä¸Šä»£ç æ›´æ–°åˆ°éœ€è¦éƒ¨ç½²çš„ç‰ˆæœ¬; (å¼€å‘çš„ç²¾åŠ›å®Œå…¨ä¸“æ³¨äºåˆ›é€ æ€§å·¥ä½œ)&lt;/li&gt;
&lt;li&gt;é…ç½®OpenShiftçš„webhook, è§¦å‘è‡ªåŠ¨æ„å»ºæ–°é•œåƒå¹¶pushåˆ°é•œåƒåº“;&lt;/li&gt;
&lt;li&gt;é•œåƒåº“æ£€æµ‹åˆ°é•œåƒå‘ç”Ÿå˜åŒ–, è§¦å‘è‡ªåŠ¨éƒ¨ç½²&lt;/li&gt;
&lt;li&gt;å‡çº§å®Œæˆ.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¦åšåˆ°ä¸Šè¾¹è¯´çš„è¿™ä¹ˆç¾å¥½, è¿˜æœ‰ä»¥ä¸‹åœ°æ–¹è¦æ”¹è¿›:&lt;ol&gt;
&lt;li&gt;æµ‹è¯•ç¯å¢ƒè¿æ¥å¤–ç½‘, æˆ–æµ‹è¯•ç¯å¢ƒæœ‰ä¸€ä¸ªå¯ä»¥å®šæœŸåŒæ­¥å¸¸ç”¨é•œåƒçš„é•œåƒåº“.&lt;/li&gt;
&lt;li&gt;å¼€å‘çš„ç”µè„‘è¦å®‰è£…dockerå’ŒOpenShift CLI å·¥å…·&lt;code&gt;oc&lt;/code&gt; , å¹¶ä¸”å¯ä»¥ç›´æ¥è®¿é—® æµ‹è¯•é•œåƒåº“å’Œæµ‹è¯•OpenShift.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœå¯ä»¥åšåˆ°, é‚£ä¹ˆç†æƒ³ä¸­çš„æƒ…å†µå°±æ˜¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼€å‘åªç®¡åˆ›é€ æ€§çš„å·¥ä½œ(å†™ä»£ç ), å…¶ä»–å…¨éƒ¨é€šè¿‡é¢„ç½®æ¡ä»¶è‡ªåŠ¨è§¦å‘, å®Œå…¨ä¸éœ€è¦äººå·¥å¹²é¢„.&lt;/li&gt;
&lt;li&gt;è¿ç»´åªè´Ÿè´£ç¬¬ä¸€æ¬¡ä¸Šçº¿çš„ç›¸å…³è„šæœ¬ç¼–å†™, èµ„æºåˆ†é…, ä»¥åŠå®¹å™¨å¹³å°, ç›‘æ§å‘Šè­¦å¹³å°ç­‰çš„å¼€å‘.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ˜" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f60d.png" title=":heart_eyes:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f60d.png" title=":heart_eyes:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f60d.png" title=":heart_eyes:" width="20px"&gt;æƒ³æƒ³éƒ½é†‰äº†&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Mon, 29 Jul 2019 18:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-07-29:/update-zentao-where-deployed-on-openshift.html</guid><category>é¡¹ç›®ç®¡ç†</category><category>openshift</category><category>docker</category></item><item><title>å®¹å™¨æœ€ä½³å®è·µ</title><link>https://www.EWhisper.cn/container-best-practices.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è¿°&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ç¿»è¯‘å¯¹ç…§è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;é€šç”¨å®¹å™¨é•œåƒæŒ‡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#label-maintainer"&gt;ä½¿ç”¨ LABEL maintainer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å¤ç”¨é•œåƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tags"&gt;ä¿æŒæ ‡ç­¾ TAGS çš„å…¼å®¹æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;é¿å…å¤šä¸ªè¿›ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#exec"&gt;åœ¨å°è£…è„šæœ¬ä¸­ä½¿ç”¨ EXEC æŒ‡ä»¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ¸…é™¤ä¸´æ—¶æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;æŒ‰æ­£ç¡®çš„é¡ºåºæ”¾ç½®æŒ‡ä»¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;æ ‡è®°é‡è¦ç«¯å£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;é¿å…é»˜è®¤å¯†ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sshd"&gt;ç¦ç”¨SSHD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#volumes"&gt;å°† VOLUMES ç”¨äºæŒä¹…æ•°æ®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#root"&gt;ä½¿ç”¨érootç”¨æˆ·è¿è¡Œå®¹å™¨è¿›ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºåˆ›å»ºç²¾ç›Šä¸”ç”Ÿäº§å°±ç»ªçš„é•œåƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;ç¦æ­¢åœ¨å®¹å™¨ä¸­å­˜å‚¨æœºå¯†ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tmp"&gt;é¿å…å°†æ–‡ä»¶æ”¾å…¥/tmpä¸­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#alpine-linux"&gt;~~ä½¿ç”¨ Alpine LinuxåŸºç¡€é•œåƒ(ä¸å»ºè®®é‡‡çº³)~~&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#red-hat"&gt;ä½¿ç”¨Red Hat å®˜æ–¹åŸºç¡€é•œåƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dockerignore"&gt;ä½¿ç”¨.dockerignoreæ’é™¤æ— å…³æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;ä¸è¦å®‰è£…ä¸å¿…è¦çš„åŒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;è§£è€¦åº”ç”¨ç¨‹åº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_15"&gt;å¯¹å¤šè¡Œå‚æ•°è¿›è¡Œæ’åº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#java"&gt;JAVA å®¹å™¨é•œåƒæŒ‡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#ide"&gt;IDEæ’ä»¶æ¨è&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_16"&gt;è®¾ç½®å†…å­˜é™åˆ¶ç›¸å…³å‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gc"&gt;è®¾ç½®GCç­–ç•¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#java_1"&gt;JAVAå¯åŠ¨é˜¶æ®µè°ƒä¼˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#java_2"&gt;JAVAå®¹å™¨å…¨å±€å»ºè®®èµ„æºè¯·æ±‚å’Œèµ„æºé™åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#nginx"&gt;NGINX å®¹å™¨é•œåƒæŒ‡å—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#python"&gt;Python å®¹å™¨é•œåƒæŒ‡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#ide_1"&gt;IDEæ’ä»¶æ¨è&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_17"&gt;å»ºè®®é…ç½®çš„ç¯å¢ƒå˜é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_18"&gt;å®‰è£…æ•°æ®åº“é©±åŠ¨åŒ…çš„æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#openshift"&gt;Openshift å®¹å™¨å¹³å°ç‰¹å®šæŒ‡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#s2i"&gt;å¯ç”¨æºåˆ°æ˜ åƒï¼ˆS2Iï¼‰åŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#id"&gt;æ”¯æŒä»»æ„ç”¨æˆ·ID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#service"&gt;ä½¿ç”¨æœåŠ¡ SERVICE è¿›è¡Œé•œåƒé—´é€šä¿¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_19"&gt;æä¾›å…¬å…±åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_20"&gt;ä½¿ç”¨ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_21"&gt;è€ƒè™‘é›†ç¾¤æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_22"&gt;è®°å½•æ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#livenessreadiness"&gt;LIVENESSæ´»æ€§æ¢é’ˆå’ŒREADINESS å°±ç»ªæ¢é’ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#-template"&gt;æ¨¡æ¿ - TEMPLATE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_23"&gt;åœ¨é•œåƒä¸­åŒ…æ‹¬å…ƒæ•°æ®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_24"&gt;å‚è€ƒé“¾æ¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å­¦ä¹ åˆ¶ä½œé•œåƒçš„æœ€ä½³å®è·µã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ç¿»è¯‘è‡ªOpenShiftå…³äºé•œåƒçš„æœ€ä½³å®è·µ, åŒæ—¶ç»“åˆæˆ‘çœ‹åˆ°çš„å…¶ä»–å…³äºé•œåƒæœ€ä½³å®è·µçš„æ–‡ç« , ä»¥åŠæˆ‘æ—¥å¸¸å·¥ä½œä¸­çš„ä½“ä¼šæ€»ç»“å‡ºæ¥çš„. åŒ…æ‹¬é€šç”¨çš„å®¹å™¨æœ€ä½³å®è·µ, java, nginx, pythonå®¹å™¨æœ€ä½³å®è·µä»¥åŠOpenShiftä¸Šå®¹å™¨æœ€ä½³å®è·µ. æœ€ä½³å®è·µçš„ç›®çš„ä¸€æ–¹é¢æ˜¯ä¸ºäº†æå‡DevOpsæ•ˆç‡, å¦ä¸€æ–¹é¢æ˜¯ä¸ºäº†æé«˜å®‰å…¨æ€§. å¸Œæœ›å¯¹å„ä½æœ‰æ‰€å¸®åŠ©.&lt;/p&gt;
&lt;p&gt;åœ¨åˆ›å»ºè¦åœ¨Docker, Kubernetes, æˆ–è€…Openshiftå®¹å™¨å¹³å°ä¸Šè¿è¡Œçš„å®¹å™¨é•œåƒæ—¶ï¼Œä½œä¸ºä¸€åé•œåƒä½œè€…å’Œç»´æŠ¤è€…ï¼Œéœ€è¦è€ƒè™‘è®¸å¤šæœ€ä½³å®è·µï¼Œä»¥ç¡®ä¿ä¸ºè¿™äº›é•œåƒçš„ä½¿ç”¨è€…æä¾›è‰¯å¥½çš„ä½“éªŒã€‚å› ä¸ºé•œåƒæ˜¯ä¸å¯å˜çš„å¹¶æŒ‰åŸæ ·ä½¿ç”¨ï¼Œä¸‹é¢çš„æŒ‡å¯¼åŸåˆ™æœ‰åŠ©äºç¡®ä¿æ‚¨çš„é•œåƒæ˜¯é«˜åº¦å¯å¤ç”¨çš„ï¼Œå¹¶ä¸”æ˜“äºåœ¨Docker, Kubernetes æˆ– Openshiftå®¹å™¨å¹³å°ä¸Šä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h3 id="_2"&gt;ç¿»è¯‘å¯¹ç…§è¡¨&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è‹±æ–‡&lt;/th&gt;
&lt;th&gt;ä¸­æ–‡&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;tag&lt;/td&gt;
&lt;td&gt;æ ‡ç­¾&lt;/td&gt;
&lt;td&gt;dockeré•œåƒç‰ˆæœ¬æ ‡ç­¾&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;image&lt;/td&gt;
&lt;td&gt;é•œåƒ&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;container&lt;/td&gt;
&lt;td&gt;å®¹å™¨&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pod&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Kubernetesçš„æœ€å°æ‰˜ç®¡å•ä½, ä¸€èˆ¬ä¸ºä¸€ä¸ªå®¹å™¨, ä¹Ÿå¯ä»¥ä¸ºå¤šä¸ªå®¹å™¨.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;namespace&lt;/td&gt;
&lt;td&gt;å‘½åç©ºé—´&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;image layer&lt;/td&gt;
&lt;td&gt;é•œåƒå±‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;metadata&lt;/td&gt;
&lt;td&gt;å…ƒæ•°æ®&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node&lt;/td&gt;
&lt;td&gt;èŠ‚ç‚¹&lt;/td&gt;
&lt;td&gt;Kubernetes æ¦‚å¿µ, æŒ‡ä¸»æœº.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OpenShift Container Platform&lt;/td&gt;
&lt;td&gt;OpenShiftå®¹å™¨å¹³å°&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SOURCE-TO-IMAGE&lt;/td&gt;
&lt;td&gt;æºåˆ°é•œåƒ&lt;/td&gt;
&lt;td&gt;OpenShiftå®¹å™¨å¹³å°çš„ä¸“æœ‰CI/CDæ–¹å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;root group&lt;/td&gt;
&lt;td&gt;æ ¹ç»„&lt;/td&gt;
&lt;td&gt;*NIXçš„æ¦‚å¿µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;service account&lt;/td&gt;
&lt;td&gt;æœåŠ¡å¸æˆ·&lt;/td&gt;
&lt;td&gt;Kubernetesæˆ– OpenShiftçš„æ¦‚å¿µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;security context constraint&lt;/td&gt;
&lt;td&gt;å®‰å…¨ä¸Šä¸‹æ–‡çº¦æŸ&lt;/td&gt;
&lt;td&gt;OpenShiftå®¹å™¨å¹³å°çš„æ¦‚å¿µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;service&lt;/td&gt;
&lt;td&gt;æœåŠ¡&lt;/td&gt;
&lt;td&gt;Kubernetes æ¦‚å¿µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;image registry&lt;/td&gt;
&lt;td&gt;é•œåƒæ³¨å†Œè¡¨&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;heap&lt;/td&gt;
&lt;td&gt;å †&lt;/td&gt;
&lt;td&gt;ä¸€ç§JVMå†…å­˜ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;out-of-memory&lt;/td&gt;
&lt;td&gt;å†…å­˜ä¸è¶³&lt;/td&gt;
&lt;td&gt;JVMæŠ¥é”™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;liveness probe&lt;/td&gt;
&lt;td&gt;æ´»æ€§æ¢é’ˆ&lt;/td&gt;
&lt;td&gt;Kubernetes æ¦‚å¿µ - ç”¨äºæ£€æŸ¥å®¹å™¨çŠ¶æ€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;readiness probe&lt;/td&gt;
&lt;td&gt;å°±ç»ªæ¢é’ˆ&lt;/td&gt;
&lt;td&gt;Kubernetes æ¦‚å¿µ - ç”¨äºæ£€æŸ¥å®¹å™¨çŠ¶æ€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;template&lt;/td&gt;
&lt;td&gt;æ¨¡æ¿&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;label&lt;/td&gt;
&lt;td&gt;æ ‡ç­¾&lt;/td&gt;
&lt;td&gt;dockerfileæ¦‚å¿µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;quota&lt;/td&gt;
&lt;td&gt;é…é¢&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="_3"&gt;é€šç”¨å®¹å™¨é•œåƒæŒ‡å—&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é€šå¸¸ï¼Œåœ¨åˆ›å»ºå®¹å™¨é•œåƒæ—¶ï¼Œä»¥ä¸‹å‡†åˆ™æ™®éé€‚ç”¨ï¼Œå¹¶ä¸”ä¸æ˜¯å¦åœ¨OpenShift Container Platformä¸Šä½¿ç”¨é•œåƒæ— å…³ã€‚&lt;/p&gt;
&lt;h3 id="label-maintainer"&gt;ä½¿ç”¨ &lt;code&gt;LABEL maintainer&lt;/code&gt;&lt;a class="headerlink" href="#label-maintainer" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;LABEL maintainer&lt;/code&gt;æŒ‡ä»¤è®¾ç½®é•œåƒçš„authorå­—æ®µã€‚å¦‚æœæ‚¨çš„ç”¨æˆ·æœ‰é—®é¢˜ï¼Œè¿™å¯¹äºå‘ä»–ä»¬æä¾›ç”µå­é‚®ä»¶è”ç³»éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;h3 id="_4"&gt;å¤ç”¨é•œåƒ&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åªè¦æœ‰å¯èƒ½ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨&lt;code&gt;FROM&lt;/code&gt;è¯­å¥å°†é•œåƒåŸºäºé€‚å½“çš„ä¸Šæ¸¸é•œåƒã€‚è¿™å¯ç¡®ä¿æ‚¨çš„é•œåƒåœ¨æ›´æ–°æ—¶å¯ä»¥è½»æ¾ä»ä¸Šæ¸¸æ˜ åƒä¸­è·å–å®‰å…¨ä¿®å¤ç¨‹åºï¼Œè€Œä¸å¿…ç›´æ¥æ›´æ–°ä¾èµ–é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨&lt;code&gt;FROM&lt;/code&gt;æŒ‡ä»¤ä¸­ä½¿ç”¨æ ‡ç­¾ tagï¼ˆä¾‹å¦‚ &lt;code&gt;rhel:rhel7&lt;/code&gt;ï¼‰ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿæ¸…æ¥šåœ°äº†è§£é•œåƒæ‰€åŸºäºçš„ä¸Šæ¸¸é•œåƒç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; &lt;strong&gt;ç¦æ­¢&lt;/strong&gt;ä½¿ç”¨&lt;code&gt;latest&lt;/code&gt; tagä»¥ç¡®ä¿æ‚¨çš„é•œåƒä¸ä¼šå—åˆ°&lt;code&gt;latest&lt;/code&gt;ä¸Šæ¸¸é•œåƒç‰ˆæœ¬çš„é‡å¤§æ›´æ”¹çš„å½±å“ã€‚&lt;/p&gt;
&lt;h3 id="tags"&gt;ä¿æŒæ ‡ç­¾ TAGS çš„å…¼å®¹æ€§&lt;a class="headerlink" href="#tags" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç»™è‡ªå·±çš„é•œåƒæ‰“æ ‡ç­¾æ—¶ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨å°è¯•åœ¨æ ‡ç­¾å†…ä¿æŒå‘åå…¼å®¹æ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æä¾›ä¸€ä¸ªåä¸º&lt;code&gt;foo&lt;/code&gt;çš„é•œåƒï¼Œå¹¶ä¸”å®ƒå½“å‰ä¸º1.0ç‰ˆï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥æä¾›ä¸€ä¸ª&lt;code&gt;foo:v1&lt;/code&gt;æ ‡ç­¾ã€‚å½“æ‚¨æ›´æ–°é•œåƒæ—¶ï¼Œåªè¦å®ƒç»§ç»­ä¸åŸå§‹é•œåƒå…¼å®¹ï¼Œå°±å¯ä»¥ç»§ç»­æ ‡è®°æ–°å›¾åƒä¸º&lt;code&gt;foo:v1&lt;/code&gt;ï¼Œå¹¶ä¸”è¯¥æ ‡è®°çš„ä¸‹æ¸¸æ¶ˆè´¹è€…å°†èƒ½å¤Ÿåœ¨ä¸ä¸­æ–­çš„æƒ…å†µä¸‹è·å¾—æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨ç¨åå‘å¸ƒäº†ä¸å…¼å®¹çš„æ›´æ–°ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°æ ‡ç­¾ï¼Œä¾‹å¦‚&lt;code&gt;foo:v2&lt;/code&gt;ã€‚è¿™å…è®¸ä¸‹æ¸¸æ¶ˆè´¹è€…å¯ä»¥æŒ‰ç…§è‡ªèº«æ„æ„¿å‡çº§åˆ°æ–°ç‰ˆæœ¬ï¼Œä½†ä¸ä¼šè¢«æ–°çš„ä¸å…¼å®¹é•œåƒæ— æ„ä¸­ç ´åã€‚ä½†æ˜¯ä»»ä½•ä½¿ç”¨&lt;code&gt;foo:latest&lt;/code&gt;çš„ä¸‹æ¸¸æ¶ˆè´¹è€…éƒ½ä¼šæ‰¿æ‹…å¼•å…¥ä¸å…¼å®¹æ›´æ”¹çš„é£é™©ã€‚&lt;/p&gt;
&lt;h3 id="_5"&gt;é¿å…å¤šä¸ªè¿›ç¨‹&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å»ºè®®æ‚¨&lt;strong&gt;ä¸è¦&lt;/strong&gt;åœ¨ä¸€ä¸ªå®¹å™¨å†…å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼Œä¾‹å¦‚æ•°æ®åº“å’Œsshdã€‚è¿™æ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºå®¹å™¨æ˜¯è½»é‡çº§çš„ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°é“¾æ¥åœ¨ä¸€èµ·ä»¥åè°ƒå¤šä¸ªè¿›ç¨‹ã€‚Kuberneteså’ŒOpenshiftå®¹å™¨å¹³å°å…è®¸æ‚¨é€šè¿‡å°†ç›¸å…³é•œåƒåˆ†ç»„åˆ°å•ä¸ªpodä¸­ï¼Œè½»æ¾åœ°å¯¹å®ƒä»¬è¿›è¡Œé›†ä¸­å’Œå…±åŒç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ‰˜ç®¡å•ä½(æŒ‡pod)ç¡®ä¿å•ä½å†…çš„å®¹å™¨é—´å…±äº«ç½‘ç»œåç§°ç©ºé—´å’Œé€šä¿¡å­˜å‚¨ã€‚æ›´æ–°çš„å¹²æ‰°ä¹Ÿè¾ƒå°ã€‚å•è¿›ç¨‹çš„ä¿¡å·å¤„ç†æµç¨‹ä¹Ÿæ›´æ¸…æ™°ï¼Œå› ä¸ºæ‚¨ä¸å¿…ç®¡ç†è·¯ç”±ä¿¡å·åˆ°ç”Ÿæˆçš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id="exec"&gt;åœ¨å°è£…è„šæœ¬ä¸­ä½¿ç”¨ &lt;code&gt;EXEC&lt;/code&gt; æŒ‡ä»¤&lt;a class="headerlink" href="#exec" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è®¸å¤šé•œåƒåœ¨ä¸ºæ­£åœ¨è¿è¡Œçš„è½¯ä»¶å¯åŠ¨è¿›ç¨‹ä¹‹å‰ä½¿ç”¨å°è£…è„šæœ¬è¿›è¡Œä¸€äº›è®¾ç½®ã€‚å¦‚æœæ‚¨çš„é•œåƒä½¿ç”¨è¿™æ ·çš„è„šæœ¬ï¼Œé‚£ä¹ˆè¯¥è„šæœ¬åº”è¯¥ä½¿ç”¨&lt;code&gt;exec&lt;/code&gt;ï¼Œä»¥ä¾¿ç”¨è½¯ä»¶æ›¿æ¢è¯¥è„šæœ¬çš„è¿›ç¨‹ã€‚å¦‚æœä¸ä½¿ç”¨&lt;code&gt;exec&lt;/code&gt;ï¼Œé‚£ä¹ˆå®¹å™¨è¿è¡Œæ—¶å‘é€çš„ä¿¡å·å°†è½¬åˆ°å°è£…è„šæœ¬ï¼Œè€Œä¸æ˜¯è½¯ä»¶çš„è¿›ç¨‹ã€‚è¿™ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="å‘é€ä¿¡å·é—®é¢˜" src="./images/bash_signal.png"&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾æ‚¨æœ‰ä¸€ä¸ªå°è£…è„šæœ¬æ¥å¯åŠ¨æŸä¸ªæœåŠ¡å™¨çš„è¿›ç¨‹ã€‚å¯åŠ¨å®¹å™¨ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨&lt;code&gt;docker run -i&lt;/code&gt;ï¼‰ï¼Œå®ƒè¿è¡Œå°è£…è„šæœ¬ï¼Œç„¶åå¯åŠ¨è¿›ç¨‹ã€‚ç°åœ¨å‡è®¾æ‚¨å¸Œæœ›ä½¿ç”¨&lt;code&gt;ctrl+c&lt;/code&gt;ç»ˆæ­¢å®¹å™¨ã€‚å¦‚æœå°è£…è„šæœ¬ä½¿ç”¨&lt;code&gt;exec&lt;/code&gt;å¯åŠ¨æœåŠ¡å™¨è¿›ç¨‹ï¼Œdockerå°†å‘æœåŠ¡å™¨è¿›ç¨‹å‘é€&lt;em&gt;sigint&lt;/em&gt;ï¼Œå¹¶ä¸”ä¸€åˆ‡éƒ½å°†æŒ‰é¢„æœŸå·¥ä½œã€‚å¦‚æœæ‚¨æ²¡æœ‰åœ¨å°è£…è„šæœ¬ä¸­ä½¿ç”¨&lt;code&gt;exec&lt;/code&gt;ï¼Œdockerä¼šå°†&lt;em&gt;sigint&lt;/em&gt;å‘é€åˆ°å°è£…è„šæœ¬çš„è¿›ç¨‹ï¼Œå¹¶ä¸”æ‚¨çš„æœåŠ¡å™¨è¿›ç¨‹å°†åƒä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿä¸€æ ·ç»§ç»­è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿˜è¦æ³¨æ„ï¼Œå½“åœ¨å®¹å™¨ä¸­è¿è¡Œæ—¶ï¼Œæ‚¨çš„è¿›ç¨‹ä½œä¸º&lt;strong&gt;pid 1&lt;/strong&gt;è¿è¡Œã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸»è¿›ç¨‹ç»ˆæ­¢ï¼Œæ•´ä¸ªå®¹å™¨å°†åœæ­¢ï¼Œä»è€Œæ€æ­»æ‚¨å¯èƒ½ä»&lt;strong&gt;PID 1&lt;/strong&gt;è¿›ç¨‹å¯åŠ¨çš„ä»»ä½•å­è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³å…¶ä»–å«ä¹‰ï¼Œè¯·å‚é˜… &lt;a href="http://blog.phusion.nl/2015/01/20/docker-and-the-pid-1-zombie-reaping-problem/"&gt;â€œDockerå’ŒPID 1 zombieæ”¶è·é—®é¢˜â€&lt;/a&gt;åšå®¢æ–‡ç« ã€‚å¦è¯·å‚é˜…&lt;a href="https://felipec.wordpress.com/2013/11/04/init/"&gt;â€œæ­å¼€initç³»ç»Ÿï¼ˆPID 1ï¼‰çš„ç¥ç§˜é¢çº±â€&lt;/a&gt;åšå®¢æ–‡ç« ï¼Œæ·±å…¥äº†è§£PID 1å’Œ&lt;strong&gt;init&lt;/strong&gt; ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h3 id="_6"&gt;æ¸…é™¤ä¸´æ—¶æ–‡ä»¶&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åº”åˆ é™¤åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­åˆ›å»ºçš„&lt;strong&gt;æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶&lt;/strong&gt;ã€‚è¿™è¿˜åŒ…æ‹¬ä½¿ç”¨&lt;code&gt;ADD&lt;/code&gt;æŒ‡ä»¤æ·»åŠ çš„ä»»ä½•æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼ŒğŸ‘ æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨åœ¨æ‰§è¡Œ&lt;code&gt;yum install&lt;/code&gt;æ“ä½œä¹‹åè¿è¡Œ&lt;code&gt;yum clean&lt;/code&gt;å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡å¦‚ä¸‹åˆ›å»º&lt;code&gt;RUN&lt;/code&gt;è¯­å¥ï¼Œå¯ä»¥é˜²æ­¢&lt;code&gt;yum&lt;/code&gt;ç¼“å­˜å­˜å‚¨åœ¨é•œåƒå±‚ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install mypackage &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; yum -y install myotherpackage &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; yum clean all -y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨æ”¹ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install mypackage
&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install myotherpackage &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; yum clean all -y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‚£ä¹ˆï¼Œç¬¬ä¸€ä¸ª&lt;code&gt;yum&lt;/code&gt;è°ƒç”¨ä¼šåœ¨è¯¥å±‚ä¸­ç•™ä¸‹é¢å¤–çš„æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨ç¨åè¿è¡Œ&lt;code&gt;yum clean&lt;/code&gt;æ“ä½œæ—¶ï¼Œæ— æ³•åˆ é™¤è¿™äº›æ–‡ä»¶ã€‚é¢å¤–çš„æ–‡ä»¶åœ¨æœ€ç»ˆé•œåƒä¸­ä¸å¯è§ï¼Œä½†å®ƒä»¬å­˜åœ¨äºåº•å±‚ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“å‰å®¹å™¨ç”Ÿæˆè¿‡ç¨‹ä¸å…è®¸åœ¨è¾ƒæ–°çš„å±‚ä¸­è¿è¡Œå‘½ä»¤ï¼Œä»¥ç¼©å°åœ¨è¾ƒæ—©çš„å±‚ä¸­åˆ é™¤æŸäº›å†…å®¹æ—¶å›¾åƒæ‰€ä½¿ç”¨çš„ç©ºé—´ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœåœ¨åé¢çš„å±‚ä¸­æ‰§è¡Œrmå‘½ä»¤ï¼Œå°½ç®¡æ–‡ä»¶æ˜¯éšè—çš„ï¼Œä½†å®ƒä¸ä¼šå‡å°‘è¦ä¸‹è½½çš„é•œåƒçš„æ€»ä½“å¤§å°ã€‚å› æ­¤ï¼Œä¸&lt;code&gt;yum clean&lt;/code&gt;ç¤ºä¾‹ä¸€æ ·ï¼Œæœ€å¥½åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨åˆ›å»ºæ–‡ä»¶çš„ç›¸åŒå‘½ä»¤åˆ é™¤æ–‡ä»¶ï¼Œè¿™æ ·å®ƒä»¬å°±ä¸ä¼šè¢«å†™å…¥æŸä¸ªå±‚ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨ä¸€æ¡&lt;code&gt;RUN&lt;/code&gt;è¯­å¥ä¸­æ‰§è¡Œå¤šä¸ªå‘½ä»¤å¯ä»¥å‡å°‘é•œåƒä¸­çš„å±‚æ•°ï¼Œä»è€Œç¼©çŸ­ä¸‹è½½å’Œæå–æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;apt-getä¾‹å­å¦‚ä¸‹: (æœ€åé€šè¿‡&lt;code&gt;rm -rf /var/lib/apt/lists/*&lt;/code&gt;åˆ é™¤)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get install -y &lt;span class="se"&gt;\&lt;/span&gt;
    aufs-tools &lt;span class="se"&gt;\&lt;/span&gt;
    automake &lt;span class="se"&gt;\&lt;/span&gt;
    build-essential &lt;span class="se"&gt;\&lt;/span&gt;
    curl &lt;span class="se"&gt;\&lt;/span&gt;
    dpkg-sig &lt;span class="se"&gt;\&lt;/span&gt;
    libcap-dev &lt;span class="se"&gt;\&lt;/span&gt;
    libsqlite3-dev &lt;span class="se"&gt;\&lt;/span&gt;
    mercurial &lt;span class="se"&gt;\&lt;/span&gt;
    reprepro &lt;span class="se"&gt;\&lt;/span&gt;
    ruby1.9.1 &lt;span class="se"&gt;\&lt;/span&gt;
    ruby1.9.1-dev &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="nv"&gt;s3cmd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.1.* &lt;span class="se"&gt;\&lt;/span&gt;
 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf /var/lib/apt/lists/*
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;RUN&lt;/code&gt;ã€&lt;code&gt;COPY&lt;/code&gt;å’Œ&lt;code&gt;ADD&lt;/code&gt;æ­¥éª¤å°†åˆ›å»ºå±‚ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå±‚åŒ…å«ä¸å‰ä¸€å±‚çš„å·®å¼‚é¡¹ã€‚&lt;/li&gt;
&lt;li&gt;å›¾å±‚ä¼šå¢åŠ æœ€ç»ˆé•œåƒçš„å¤§å°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; æç¤º:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†ç›¸å…³å‘½ä»¤ï¼ˆ&lt;code&gt;yum install&lt;/code&gt;ï¼‰æ”¾å…¥åŒä¸€&lt;code&gt;RUN&lt;/code&gt;æ­¥éª¤ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨åŒä¸€&lt;code&gt;RUN&lt;/code&gt;æ­¥éª¤ä¸­åˆ é™¤åˆ›å»ºçš„æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;é¿å…ä½¿ç”¨&lt;code&gt;apt-get upgrade&lt;/code&gt;æˆ–&lt;code&gt;yum upgrade all&lt;/code&gt;ï¼Œå› ä¸ºå®ƒå°†æ‰€æœ‰åŒ…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id="_7"&gt;æŒ‰æ­£ç¡®çš„é¡ºåºæ”¾ç½®æŒ‡ä»¤&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®¹å™¨æ„å»ºå™¨è¯»å–&lt;code&gt;dockerfile&lt;/code&gt;å¹¶ä»ä¸Šåˆ°ä¸‹è¿è¡ŒæŒ‡ä»¤ã€‚æˆåŠŸæ‰§è¡Œçš„æ¯ä¸€æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå±‚ï¼Œåœ¨ä¸‹æ¬¡æ„å»ºæ­¤é•œåƒæˆ–å¦ä¸€ä¸ªé•œåƒæ—¶å¯ä»¥é‡ç”¨è¯¥å±‚ã€‚åœ¨Dockerfileçš„é¡¶éƒ¨æ”¾ç½®å¾ˆå°‘æ›´æ”¹çš„æŒ‡ä»¤éå¸¸é‡è¦ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿åŒä¸€å›¾åƒçš„ä¸‹ä¸€ä¸ªæ„å»ºé€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºä¸Šå±‚æ›´æ”¹ä¸ä¼šä½¿ç¼“å­˜å¤±æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨å¤„ç†ä¸€ä¸ª&lt;code&gt;dockerfile&lt;/code&gt;ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªç”¨äºå®‰è£…æ­£åœ¨è¿­ä»£çš„æ–‡ä»¶çš„&lt;code&gt;ADD&lt;/code&gt;æŒ‡ä»¤ï¼Œä»¥åŠä¸€ä¸ªç”¨äº&lt;code&gt;yum install&lt;/code&gt;åŒ…çš„&lt;code&gt;RUN&lt;/code&gt;æŒ‡ä»¤ï¼Œé‚£ä¹ˆæœ€å¥½å°†&lt;code&gt;ADD&lt;/code&gt;å‘½ä»¤æ”¾åœ¨æœ€åï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; foo&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install mypackage &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; yum clean all -y
&lt;span class="k"&gt;ADD&lt;/span&gt; myfile /test/myfile
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ ·ï¼Œæ¯æ¬¡ç¼–è¾‘&lt;em&gt;myfile&lt;/em&gt;å¹¶é‡æ–°è¿è¡Œ&lt;code&gt;`docker build&lt;/code&gt;æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šä¸º&lt;code&gt;yum&lt;/code&gt;å‘½ä»¤é‡ç”¨ç¼“å­˜å±‚ï¼Œå¹¶ä¸”åªä¸º&lt;code&gt;ADD&lt;/code&gt;æ“ä½œç”Ÿæˆæ–°å±‚ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç›¸åï¼Œæ‚¨å°†dockerfileç¼–å†™ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; foo&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; myfile /test/myfile
&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install mypackage &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; yum clean all -y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç„¶åï¼Œæ¯æ¬¡æ›´æ”¹&lt;em&gt;myfile&lt;/em&gt;å’Œå†æ¬¡è¿è¡Œ&lt;code&gt;docker build&lt;/code&gt;æ—¶ï¼Œ&lt;code&gt;ADD&lt;/code&gt;æ“ä½œéƒ½ä¼šä½¿è¿è¡Œå±‚ç¼“å­˜å¤±æ•ˆï¼Œå› æ­¤å¿…é¡»é‡æ–°è¿è¡Œ&lt;code&gt;yum&lt;/code&gt;æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id="_8"&gt;æ ‡è®°é‡è¦ç«¯å£&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;EXPOSE&lt;/code&gt;æŒ‡ä»¤ä½¿å®¹å™¨ä¸­çš„ç«¯å£å¯¹ä¸»æœºç³»ç»Ÿå’Œå…¶ä»–å®¹å™¨å¯ç”¨ã€‚è™½ç„¶å¯ä»¥æŒ‡å®šä½¿ç”¨&lt;code&gt;docker run -p&lt;/code&gt;è°ƒç”¨å…¬å¼€ç«¯å£ï¼Œä½†åœ¨&lt;code&gt;dockerfile&lt;/code&gt;ä¸­ä½¿ç”¨&lt;code&gt;EXPOSE&lt;/code&gt;æŒ‡ä»¤å¯ä»¥é€šè¿‡æ˜¾å¼å£°æ˜è½¯ä»¶éœ€è¦è¿è¡Œçš„ç«¯å£ï¼Œä½¿äººå’Œè½¯ä»¶æ›´å®¹æ˜“ä½¿ç”¨æ‚¨çš„é•œåƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æš´éœ²çš„ç«¯å£å°†æ˜¾ç¤ºåœ¨ä¸ä»æ‚¨çš„é•œåƒåˆ›å»ºçš„å®¹å™¨ç›¸å…³è”çš„&lt;code&gt;docker ps&lt;/code&gt;ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;docker inspect&lt;/code&gt;è¿”å›çš„é•œåƒçš„å…ƒæ•°æ®ä¸­ä¹Ÿå°†å­˜åœ¨æš´éœ²çš„ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;å½“æ‚¨å°†ä¸€ä¸ªå®¹å™¨é“¾æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨æ—¶ï¼Œæš´éœ²çš„ç«¯å£å°†è¢«é“¾æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_9"&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ‘" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44d.png" title=":+1:" width="20px"&gt; ä½¿ç”¨&lt;code&gt;ENV&lt;/code&gt;æŒ‡ä»¤è®¾ç½®ç¯å¢ƒå˜é‡æ˜¯å¾ˆå¥½çš„å®è·µã€‚ä¸€ä¸ªä¾‹å­æ˜¯è®¾ç½®é¡¹ç›®çš„ç‰ˆæœ¬ã€‚è¿™ä½¿å¾—äººä»¬åœ¨ä¸æŸ¥çœ‹&lt;code&gt;dockerfile&lt;/code&gt;çš„æƒ…å†µä¸‹å¾ˆå®¹æ˜“æ‰¾åˆ°ç‰ˆæœ¬ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯åœ¨ç³»ç»Ÿä¸Šå…¬å¸ƒä¸€æ¡å¯ä»¥è¢«å¦ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„è·¯å¾„ï¼Œæ¯”å¦‚&lt;code&gt;JAVA_HOME&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="_10"&gt;é¿å…é»˜è®¤å¯†ç &lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æœ€å¥½&lt;strong&gt;é¿å…è®¾ç½®é»˜è®¤å¯†ç &lt;/strong&gt;ã€‚è®¸å¤šäººä¼šæ‰©å±•é•œåƒï¼Œå¿˜è®°åˆ é™¤æˆ–æ›´æ”¹é»˜è®¤å¯†ç ã€‚å¦‚æœä¸ºç”Ÿäº§ä¸­çš„ç”¨æˆ·åˆ†é…äº†ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„å¯†ç ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å®‰å…¨é—®é¢˜ã€‚&lt;img align="absmiddle" alt="ğŸ‘" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44d.png" title=":+1:" width="20px"&gt; &lt;strong&gt;åº”è¯¥ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥é…ç½®å¯†ç &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç¡®å®é€‰æ‹©è®¾ç½®é»˜è®¤å¯†ç ï¼Œè¯·ç¡®ä¿åœ¨å®¹å™¨å¯åŠ¨æ—¶æ˜¾ç¤ºé€‚å½“çš„è­¦å‘Šæ¶ˆæ¯ã€‚æ¶ˆæ¯åº”è¯¥é€šçŸ¥ç”¨æˆ·é»˜è®¤å¯†ç çš„å€¼ï¼Œå¹¶è§£é‡Šå¦‚ä½•æ›´æ”¹å®ƒï¼Œä¾‹å¦‚è®¾ç½®ä»€ä¹ˆç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;h3 id="sshd"&gt;ç¦ç”¨SSHD&lt;a class="headerlink" href="#sshd" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; ç¦æ­¢åœ¨é•œåƒä¸­è¿è¡Œsshdã€‚å¯ä»¥ä½¿ç”¨&lt;code&gt;docker exec&lt;/code&gt;å‘½ä»¤è®¿é—®æœ¬åœ°ä¸»æœºä¸Šè¿è¡Œçš„å®¹å™¨ã€‚æˆ–è€…ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;oc exec&lt;/code&gt;å‘½ä»¤æˆ–&lt;code&gt;oc rsh&lt;/code&gt;å‘½ä»¤æ¥è®¿é—®åœ¨Openshiftå®¹å™¨å¹³å°é›†ç¾¤ä¸Šè¿è¡Œçš„å®¹å™¨ã€‚åœ¨æ‚¨çš„é•œåƒä¸­å®‰è£…å’Œè¿è¡Œsshdä¼šé­å—æ½œåœ¨æ”»å‡», éœ€è¦é¢å¤–çš„å®‰å…¨è¡¥ä¸ä¿®å¤ã€‚&lt;/p&gt;
&lt;h3 id="volumes"&gt;å°† VOLUMES ç”¨äºæŒä¹…æ•°æ®&lt;a class="headerlink" href="#volumes" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é•œåƒåº”ä½¿ç”¨&lt;a href="https://docs.docker.com/reference/builder/#volume"&gt;å·&lt;/a&gt;æ¥å­˜å‚¨æŒä¹…æ•°æ®ã€‚è¿™æ ·ï¼ŒKubernetesæˆ–OpenShift Container Platformå°†ç½‘ç»œå­˜å‚¨æŒ‚è½½åˆ°è¿è¡Œå®¹å™¨çš„èŠ‚ç‚¹ï¼Œå¦‚æœå®¹å™¨ç§»åŠ¨åˆ°æ–°èŠ‚ç‚¹ï¼Œåˆ™å­˜å‚¨å°†é‡æ–°è¿æ¥åˆ°è¯¥èŠ‚ç‚¹ã€‚é€šè¿‡å°†å·ç”¨äºæ‰€æœ‰æŒä¹…å­˜å‚¨éœ€æ±‚ï¼Œå³ä½¿é‡æ–°å¯åŠ¨æˆ–ç§»åŠ¨å®¹å™¨ï¼Œä¹Ÿä¼šä¿ç•™å†…å®¹ã€‚å¦‚æœæ‚¨çš„é•œåƒå°†æ•°æ®å†™å…¥å®¹å™¨å†…çš„ä»»æ„ä½ç½®ï¼Œåˆ™å¯èƒ½ä¸ä¼šä¿ç•™è¯¥å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰éœ€è¦ä¿å­˜çš„æ•°æ®ï¼Œå³ä½¿åœ¨å®¹å™¨è¢«é”€æ¯åï¼Œä¹Ÿå¿…é¡»å†™å…¥å·ã€‚å®¹å™¨å¼•æ“æ”¯æŒå®¹å™¨çš„&lt;code&gt;readonly&lt;/code&gt;æ ‡å¿—ï¼Œå¯ç”¨äºä¸¥æ ¼æ‰§è¡Œæœ‰å…³ä¸å°†æ•°æ®å†™å…¥å®¹å™¨ä¸­çš„ä¸´æ—¶å­˜å‚¨çš„è‰¯å¥½å®è·µã€‚ç°åœ¨å›´ç»•è¿™ä¸ªåŠŸèƒ½è®¾è®¡æ‚¨çš„é•œåƒå°†ä½¿ä»¥åæ›´å®¹æ˜“åˆ©ç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨&lt;em&gt;Dockerfile&lt;/em&gt;ä¸­æ˜¾å¼å®šä¹‰å·ä½¿é•œåƒçš„æ¶ˆè´¹è€…å¾ˆå®¹æ˜“ç†è§£åœ¨è¿è¡Œé•œåƒæ—¶å¿…é¡»å®šä¹‰å“ªäº›å·ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³å¦‚ä½•åœ¨Openshiftå®¹å™¨å¹³å°ä¸­ä½¿ç”¨å·çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… &lt;a href="https://kubernetes.io/docs/concepts/storage/volumes/"&gt;Kubernetes documentation&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â•" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2755.png" title=":grey_exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å³ä½¿ä½¿ç”¨æŒä¹…å·ï¼Œé•œåƒçš„æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å·ï¼Œå¹¶ä¸”æ–‡ä»¶ç³»ç»Ÿåœ¨å®ä¾‹ä¹‹é—´ä¸å…±äº«ã€‚è¿™æ„å‘³ç€å·ä¸èƒ½ç”¨äºå…±äº«é›†ç¾¤ä¸­çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="root"&gt;ä½¿ç”¨érootç”¨æˆ·è¿è¡Œå®¹å™¨è¿›ç¨‹&lt;a class="headerlink" href="#root" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerç”¨å®¹å™¨å†…éƒ¨çš„rootè¿è¡Œå®¹å™¨è¿›ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„åšæ³•ï¼Œå› ä¸ºå¦‚æœæ”»å‡»è€…è®¾æ³•çªç ´å®¹å™¨ï¼Œä»–ä»¬å¯ä»¥è·å¾—å¯¹Dockerä¸»æœºçš„rootæƒé™ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨æ˜¯å®¹å™¨ä¸­çš„rootï¼Œé‚£ä¹ˆæ‚¨å°†æ˜¯ä¸»æœºä¸Šçš„rootã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_11"&gt;ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºåˆ›å»ºç²¾ç›Šä¸”ç”Ÿäº§å°±ç»ªçš„é•œåƒ&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨&lt;a href="https://docs.docker.com/develop/develop-images/multistage-build/"&gt;å¤šé˜¶æ®µæ„å»º&lt;/a&gt;æ¥åˆ›å»ºä¸€ä¸ªç”¨äºæ„å»ºå·¥ä»¶çš„ä¸´æ—¶é•œåƒï¼Œè¯¥å·¥ä»¶å°†è¢«å¤åˆ¶åˆ°ç”Ÿäº§é•œåƒä¸Šã€‚ä¸´æ—¶æ„å»ºé•œåƒå°†ä¸ä¸è¯¥æ˜ åƒå…³è”çš„åŸå§‹æ–‡ä»¶ã€æ–‡ä»¶å¤¹å’Œä¾èµ–é¡¹ä¸€èµ·ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¼šäº§ç”Ÿäº†ä¸€ä¸ªç²¾ç›Šï¼Œç”Ÿäº§å°±ç»ªçš„é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç”¨ä¾‹æ˜¯ä½¿ç”¨éAlpineåŸºç¡€é•œåƒæ¥å®‰è£…éœ€è¦ç¼–è¯‘çš„ä¾èµ–é¡¹ã€‚ç„¶åå¯ä»¥å°†wheelæ–‡ä»¶å¤åˆ¶åˆ°æœ€ç»ˆé•œåƒã€‚&lt;/p&gt;
&lt;p&gt;Python ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; python:3.6 as base&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; requirements.txt /
&lt;span class="k"&gt;RUN&lt;/span&gt; pip wheel --no-cache-dir --no-deps --wheel-dir /wheels -r requirements.txt

&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; python:3.6-alpine&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; --from&lt;span class="o"&gt;=&lt;/span&gt;base /wheels /wheels
&lt;span class="k"&gt;COPY&lt;/span&gt; --from&lt;span class="o"&gt;=&lt;/span&gt;base requirements.txt .
&lt;span class="k"&gt;RUN&lt;/span&gt; pip install --no-cache /wheels/* # flask, gunicorn, pycrypto
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /app&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; . /app
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½¿ç”¨å‰å¤§å°: 705MB, ä½¿ç”¨åå¤§å°: 103MB&lt;/p&gt;
&lt;h3 id="_12"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; ç¦æ­¢åœ¨å®¹å™¨ä¸­å­˜å‚¨æœºå¯†ä¿¡æ¯&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç¦æ­¢åœ¨å®¹å™¨ä¸­å­˜å‚¨æœºå¯†ä¿¡æ¯, åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•æ„Ÿä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“å‡­æ®ã€&lt;/li&gt;
&lt;li&gt;sshå¯†é’¥ã€&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·åå’Œå¯†ç ã€&lt;/li&gt;
&lt;li&gt;apiä»¤ç‰Œç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ä¸Šä¿¡æ¯å¯ä»¥é€šè¿‡: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡ ENV  ä¼ é€’&lt;/li&gt;
&lt;li&gt;å·VOLUME æŒ‚è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="tmp"&gt;é¿å…å°†æ–‡ä»¶æ”¾å…¥&lt;code&gt;/tmp&lt;/code&gt;ä¸­&lt;a class="headerlink" href="#tmp" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯¹äºä¸€äº›è½¯ä»¶(å¦‚: pythonçš„gunicorn), ä¼šå°†æŸäº›ç¼“å­˜ä¿¡æ¯æˆ–å¿ƒè·³æ£€æµ‹ä¿¡æ¯å†™å…¥&lt;code&gt;/tmp&lt;/code&gt;ä¸­, è¿™å¯¹&lt;code&gt;/tmp&lt;/code&gt;çš„è¯»å†™æ€§èƒ½æœ‰è¾ƒé«˜è¦æ±‚, å¦‚æœ&lt;code&gt;/tmp&lt;/code&gt;æŒ‚è½½çš„æ˜¯æ™®é€šç£ç›˜, å¯èƒ½å¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜.&lt;/p&gt;
&lt;p&gt;åœ¨æŸäº›Linuxå‘è¡Œç‰ˆä¸­ï¼Œ&lt;code&gt;/tmp&lt;/code&gt;é€šè¿‡&lt;code&gt;tmpfs&lt;/code&gt;æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ä½†æ˜¯ï¼ŒDockerå®¹å™¨é»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰&lt;code&gt;/tmp&lt;/code&gt;æ‰“å¼€&lt;code&gt;tmpfs&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker run --rm -it ubuntu:18.04 df
Filesystem       1K-blocks     Used Available Use% Mounted on
overlay           &lt;span class="m"&gt;31263648&lt;/span&gt; &lt;span class="m"&gt;25656756&lt;/span&gt;   &lt;span class="m"&gt;3995732&lt;/span&gt;  &lt;span class="m"&gt;87&lt;/span&gt;% /
tmpfs                &lt;span class="m"&gt;65536&lt;/span&gt;        &lt;span class="m"&gt;0&lt;/span&gt;     &lt;span class="m"&gt;65536&lt;/span&gt;   &lt;span class="m"&gt;0&lt;/span&gt;% /dev
tmpfs              &lt;span class="m"&gt;4026608&lt;/span&gt;        &lt;span class="m"&gt;0&lt;/span&gt;   &lt;span class="m"&gt;4026608&lt;/span&gt;   &lt;span class="m"&gt;0&lt;/span&gt;% /sys/fs/cgroup
/dev/mapper/root  &lt;span class="m"&gt;31263648&lt;/span&gt; &lt;span class="m"&gt;25656756&lt;/span&gt;   &lt;span class="m"&gt;3995732&lt;/span&gt;  &lt;span class="m"&gt;87&lt;/span&gt;% /etc/hosts
shm                  &lt;span class="m"&gt;65536&lt;/span&gt;        &lt;span class="m"&gt;0&lt;/span&gt;     &lt;span class="m"&gt;65536&lt;/span&gt;   &lt;span class="m"&gt;0&lt;/span&gt;% /dev/shm
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æ‚¨æ‰€è§ï¼Œ&lt;code&gt;/tmp&lt;/code&gt;æ­£åœ¨ä½¿ç”¨æ ‡å‡†çš„Docker overlayæ–‡ä»¶ç³»ç»Ÿï¼šå®ƒç”±æ™®é€šçš„å—è®¾å¤‡æˆ–è®¡ç®—æœºæ­£åœ¨ä½¿ç”¨çš„ç¡¬ç›˜é©±åŠ¨å™¨æ”¯æŒã€‚è¿™å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ .&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹è¿™ç±»è½¯ä»¶, é€šç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯å°†å…¶ä¸´æ—¶æ–‡ä»¶å­˜å‚¨åœ¨å…¶ä»–åœ°æ–¹ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœä½ çœ‹ä¸Šé¢ä½ ä¼šçœ‹åˆ°&lt;code&gt;/dev/shm&lt;/code&gt;ä½¿ç”¨&lt;code&gt;shm&lt;/code&gt;æ–‡ä»¶ç³»ç»Ÿå…±äº«å†…å­˜å’Œå†…å­˜æ–‡ä»¶ç³»ç»Ÿã€‚&lt;strong&gt;æ‰€ä»¥ä½ éœ€è¦åšçš„å°±æ˜¯ä½¿ç”¨/dev/shmè€Œä¸æ˜¯/tmp&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="alpine-linux"&gt;~~ä½¿ç”¨ Alpine LinuxåŸºç¡€é•œåƒ(ä¸å»ºè®®é‡‡çº³)~~&lt;a class="headerlink" href="#alpine-linux" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨åŸºäº&lt;a href="https://hub.docker.com/_/alpine/"&gt;Alpine Linux&lt;/a&gt;çš„é•œåƒï¼Œå› ä¸ºå®ƒä»¬åªæä¾›æ‚¨éœ€è¦çš„åŒ…ã€‚ç”Ÿæˆçš„å›¾åƒå°†æ›´å°ã€‚&lt;/p&gt;
&lt;p&gt;æ”¶ç›Šæœ‰:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‡å°‘äº†ä¸»æœºæˆæœ¬ï¼Œå› ä¸ºä½¿ç”¨çš„ç£ç›˜ç©ºé—´æ›´å°‘&lt;/li&gt;
&lt;li&gt;æ›´å¿«çš„æ„å»ºã€ä¸‹è½½å’Œè¿è¡Œæ—¶é—´&lt;/li&gt;
&lt;li&gt;æ›´å®‰å…¨ï¼ˆå› ä¸ºåŒ…å’Œåº“æ›´å°‘ï¼‰&lt;/li&gt;
&lt;li&gt;æ›´å¿«çš„éƒ¨ç½²&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; python:3.6-alpine&lt;/span&gt;
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /app&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; requirements.txt /
&lt;span class="k"&gt;RUN&lt;/span&gt; pip install -r /requirements.txt  # flask and gunicorn
&lt;span class="k"&gt;COPY&lt;/span&gt; . /app
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½¿ç”¨å‰å¤§å°: 702MB, ä½¿ç”¨åå¤§å°: 102MB&lt;/p&gt;
&lt;h3 id="red-hat"&gt;ä½¿ç”¨Red Hat å®˜æ–¹åŸºç¡€é•œåƒ&lt;a class="headerlink" href="#red-hat" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸Šè¾¹ä¸€æ¡å…¶å®æˆ‘è§‰å¾—è¿™æ˜¯ä¸å¥½çš„å»ºè®®ã€‚æˆ‘å·²ç»çœ‹åˆ°äº†ä½¿ç”¨Alpine Linuxçš„äººä»¬æŠ¥å‘Šçš„ä¸€å¤§å †é—®é¢˜ï¼Œå› ä¸ºå®ƒå»ºç«‹åœ¨musl libcä¹‹ä¸Šï¼Œè€Œä¸æ˜¯å¤§å¤šæ•°Linuxå‘è¡Œç‰ˆä½¿ç”¨çš„GNU libcï¼ˆglibcï¼‰ã€‚é—®é¢˜èŒƒå›´ä»æ—¥æœŸæ—¶é—´æ ¼å¼çš„é”™è¯¯åˆ°ç”±äºè¾ƒå°çš„å †æ ˆå¯¼è‡´çš„å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;å…¬å¹³åœ°è¯´ï¼Œè®¸å¤šæˆ–å¤§éƒ¨åˆ†é—®é¢˜å·²å¾—åˆ°è§£å†³ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ä¸­è°ƒè¯•è‡ªå·±çš„é”™è¯¯å·²ç»è¶³å¤Ÿç³Ÿç³•äº†ï¼Œä¸ºä»€ä¹ˆè¦å¢åŠ æ›´å¤šçš„æ½œåŠ›ä»¥è·å¾—æ›´å°çš„å›¾åƒå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘å»ºè®®ä½¿ç”¨åŸºäºRedHatå®˜æ–¹çš„é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://access.redhat.com/containers/#/explore"&gt;&lt;strong&gt;Red Hat Container Catalog&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="dockerignore"&gt;ä½¿ç”¨&lt;code&gt;.dockerignore&lt;/code&gt;æ’é™¤æ— å…³æ–‡ä»¶&lt;a class="headerlink" href="#dockerignore" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦æ’é™¤ä¸æ„å»ºæ— å…³çš„æ–‡ä»¶ï¼ˆä¸é‡æ„æºå­˜å‚¨åº“ï¼‰ï¼Œè¯·ä½¿ç”¨&lt;code&gt;.dockerignore&lt;/code&gt;æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶æ”¯æŒä¸&lt;code&gt;.gitignore&lt;/code&gt;æ–‡ä»¶ç±»ä¼¼çš„æ’é™¤æ¨¡å¼ã€‚å…·ä½“è¯·å‚é˜… &lt;a href="https://docs.docker.com/engine/reference/builder/#dockerignore-file"&gt;.dockerignoreæ–‡ä»¶&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id="_13"&gt;ä¸è¦å®‰è£…ä¸å¿…è¦çš„åŒ…&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†é™ä½å¤æ‚æ€§ï¼Œä¾èµ–æ€§ï¼Œæ–‡ä»¶å¤§å°å’Œæ„å»ºæ—¶é—´ï¼Œè¯·é¿å…å®‰è£…é¢å¤–çš„æˆ–ä¸å¿…è¦çš„è½¯ä»¶åŒ…ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½â€œå¾ˆå¥½â€ã€‚ä¾‹å¦‚ï¼Œæ‚¨ä¸éœ€è¦åœ¨æ•°æ®åº“æ˜ åƒä¸­åŒ…å«æ–‡æœ¬ç¼–è¾‘å™¨ã€‚&lt;/p&gt;
&lt;h3 id="_14"&gt;è§£è€¦åº”ç”¨ç¨‹åº&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¯ä¸ªå®¹å™¨åº”è¯¥åªæœ‰ä¸€ä¸ªè¿›ç¨‹ã€‚å°†åº”ç”¨ç¨‹åºåˆ†ç¦»åˆ°å¤šä¸ªå®¹å™¨ä¸­å¯ä»¥æ›´å®¹æ˜“åœ°æ°´å¹³æ‰©å±•å’Œé‡ç”¨å®¹å™¨ã€‚ä¾‹å¦‚ï¼ŒWebåº”ç”¨ç¨‹åºå †æ ˆå¯èƒ½åŒ…å«ä¸‰ä¸ªç‹¬ç«‹çš„å®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æ˜ åƒï¼Œä»¥åˆ†ç¦»çš„æ–¹å¼ç®¡ç†Webåº”ç”¨ç¨‹åºï¼Œæ•°æ®åº“å’Œå†…å­˜ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å°†æ¯ä¸ªå®¹å™¨é™åˆ¶ä¸ºä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»éªŒæ³•åˆ™ï¼Œä½†å®ƒä¸æ˜¯ä¸€ä¸ªç¡¬æ€§è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œä¸ä»…å¯ä»¥&lt;a href="https://docs.docker.com/engine/reference/run/#specify-an-init-process"&gt;ä½¿ç”¨initè¿›ç¨‹ç”Ÿæˆ&lt;/a&gt;å®¹å™¨ ï¼Œè€Œä¸”æŸäº›ç¨‹åºå¯èƒ½ä¼šè‡ªè¡Œç”Ÿæˆå…¶ä»–è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œ&lt;a href="http://www.celeryproject.org/"&gt;Celery&lt;/a&gt;å¯ä»¥ç”Ÿæˆå¤šä¸ªå·¥ä½œè¿›ç¨‹ï¼Œ&lt;a href="https://httpd.apache.org/"&gt;Apache&lt;/a&gt;å¯ä»¥ä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ‚¨çš„æœ€ä½³åˆ¤æ–­ï¼Œå°½å¯èƒ½ä¿æŒå®¹å™¨æ¸…æ´å’Œæ¨¡å—åŒ–ã€‚å¦‚æœå®¹å™¨å½¼æ­¤ä¾èµ–ï¼Œåˆ™å¯ä»¥ä½¿ç”¨&lt;a href="https://docs.docker.com/engine/userguide/networking/"&gt;Dockerå®¹å™¨ç½‘ç»œ&lt;/a&gt; æ¥ç¡®ä¿è¿™äº›å®¹å™¨å¯ä»¥è¿›è¡Œé€šä¿¡ã€‚&lt;/p&gt;
&lt;h3 id="_15"&gt;å¯¹å¤šè¡Œå‚æ•°è¿›è¡Œæ’åº&lt;a class="headerlink" href="#_15" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åªè¦æœ‰å¯èƒ½ï¼Œé€šè¿‡æŒ‰å­—æ¯é¡ºåºæ’åºå¤šè¡Œå‚æ•°æ¥ç¼“è§£ä»¥åçš„æ›´æ”¹ã€‚è¿™æœ‰åŠ©äºé¿å…é‡å¤åŒ…å¹¶ä½¿åˆ—è¡¨æ›´å®¹æ˜“æ›´æ–°ã€‚è¿™ä¹Ÿä½¿PRæ›´å®¹æ˜“é˜…è¯»å’Œå®¡æŸ¥ã€‚åœ¨åæ–œæ ï¼ˆ&lt;code&gt;\&lt;/code&gt;ï¼‰ä¹‹å‰æ·»åŠ ç©ºæ ¼ä¹Ÿæœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯æ¥è‡ªä¸€ä¸ªç¤ºä¾‹&lt;a href="https://github.com/docker-library/buildpack-deps"&gt;&lt;code&gt;buildpack-deps&lt;/code&gt;å›¾åƒ&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get install -y &lt;span class="se"&gt;\&lt;/span&gt;
  bzr &lt;span class="se"&gt;\&lt;/span&gt;
  cvs &lt;span class="se"&gt;\&lt;/span&gt;
  git &lt;span class="se"&gt;\&lt;/span&gt;
  mercurial &lt;span class="se"&gt;\&lt;/span&gt;
  subversion
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="java"&gt;JAVA å®¹å™¨é•œåƒæŒ‡å—&lt;a class="headerlink" href="#java" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="ide"&gt;IDEæ’ä»¶æ¨è&lt;a class="headerlink" href="#ide" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;idea - è½¬åˆ°â€œé¦–é€‰é¡¹â€ã€â€œæ’ä»¶â€ã€â€œå®‰è£…JetBrainsæ’ä»¶â€¦â€ï¼Œæœç´¢â€œDockerâ€å¹¶å•å‡»â€œå®‰è£…â€&lt;/li&gt;
&lt;li&gt;Eclipse - &lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/docker/labs/blob/master/developer-tools/java/chapters/ch07-intellij.adoc"&gt;Docker and IntelliJ IDEA&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/docker/labs/blob/master/developer-tools/java/chapters/ch07-eclipse.adoc#Docker_Eclipse"&gt;Docker and Eclipse&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_16"&gt;è®¾ç½®å†…å­˜é™åˆ¶ç›¸å…³å‚æ•°&lt;a class="headerlink" href="#_16" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æŒ‡å®š&lt;code&gt;-Xmx=1g&lt;/code&gt;å°†å‘Šè¯‰JVMåˆ†é…ä¸€ä¸ª1GBå †ã€‚å®ƒå¹¶æ²¡æœ‰å‘Šè¯‰JVMå°†å…¶æ•´ä¸ªå†…å­˜ä½¿ç”¨é‡é™åˆ¶ä¸º1GBã€‚è¿˜ä¼šæœ‰å¡card tablesã€ä»£ç ç¼“å­˜code cacheå’Œå„ç§å…¶ä»–å †å¤–æ•°æ®ç»“æ„ã€‚ç”¨äºæŒ‡å®šæ€»å†…å­˜ä½¿ç”¨é‡çš„å‚æ•°æ˜¯&lt;code&gt;-XX:MaxRAM&lt;/code&gt;ã€‚è¯·æ³¨æ„ï¼Œä½¿ç”¨&lt;code&gt;-XX:MaxRam=500m&lt;/code&gt;æ—¶ï¼Œå †å°†å¤§çº¦ä¸º250MBã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Jvmåœ¨å†å²ä¸ŠæŸ¥æ‰¾&lt;code&gt;/proc&lt;/code&gt;ä»¥ç¡®å®šæœ‰å¤šå°‘å¯ç”¨å†…å­˜ï¼Œç„¶åæ ¹æ®è¯¥å€¼è®¾ç½®å…¶å †å¤§å°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œåƒdockerè¿™æ ·çš„å®¹å™¨åœ¨&lt;code&gt;/proc&lt;/code&gt;ä¸­ä¸æä¾›ç‰¹å®šäºå®¹å™¨çš„ä¿¡æ¯ã€‚çº¢å¸½2017å¹´å·²ç»æå‡ºäº†ä¸€ä¸ªè¡¥ä¸ï¼Œå®ƒå·²ç»è¢«ä¸Šæ¸¸æ¥å—ï¼Œæä¾›äº†ä¸€ä¸ª&lt;code&gt;-XX:+UseCGroupMemoryLimitForHeap&lt;/code&gt;å‘½ä»¤è¡Œå‚æ•°ï¼Œå®ƒå‘Šè¯‰jvmæŸ¥æ‰¾&lt;code&gt;/sys/fs/cgroup/memory/memory.limit_in_bytes&lt;/code&gt;ï¼Œä»¥ç¡®å®šæœ‰å¤šå°‘å¯ç”¨å†…å­˜ã€‚å¦‚æœè¿™ä¸ªè¡¥ä¸åœ¨è¿è¡Œçš„OpenJDKç‰ˆæœ¬ä¸­ä¸å¯ç”¨ï¼Œå¯ä»¥é€šè¿‡æ˜¾å¼è®¾ç½®&lt;code&gt;-XX:MaxRAM=n&lt;/code&gt;æ¥æ¨¡æ‹Ÿå®ƒã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“, è®¾ç½®å†…å­˜é™åˆ¶ç›¸å…³å‚æ•°:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;openjdk 8 æ–°ç‰ˆæœ¬, æ·»åŠ : &lt;code&gt;-XX:+UseCGroupMemoryLimitForHeap&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰ä¸Šè¾¹çš„å‚æ•°, è®¾ç½®:&lt;code&gt;-XX:MaxRAM=n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å»ºè®®è®¾ç½®JVM Heapçº¦ä¸º memory limitçš„80%&lt;/li&gt;
&lt;li&gt;å»ºè®®è®¾ç½®JVM MaxRAMæ¥è¿‘memory limit&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="gc"&gt;è®¾ç½®GCç­–ç•¥&lt;a class="headerlink" href="#gc" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;OpenJDK8ä¸­æœ‰ä¸€ä¸ªè¡¥ä¸ï¼Œå®ƒå°†ä½¿ç”¨cgroupå¯ç”¨çš„ä¿¡æ¯æ¥è®¡ç®—é€‚å½“æ•°é‡çš„å¹¶è¡ŒGCçº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™ä¸ªè¡¥ä¸åœ¨æ‚¨çš„OpenJDKç‰ˆæœ¬ä¸­ä¸å¯ç”¨ï¼Œé‚£ä¹ˆæ‚¨æœ€ç»ˆå¯èƒ½ä¼šå¾—åˆ°8ä¸ªå¹¶è¡ŒGCçº¿ç¨‹ï¼Œå¹¶ä¸”å®¹å™¨ä¸­åªæœ‰2ä¸ªCPUã€‚è§£å†³æ–¹æ³•æ˜¯æ˜¾å¼æŒ‡å®šå¹¶è¡ŒGCçº¿ç¨‹çš„æ•°é‡ã€‚&lt;code&gt;-XX:ParallelGCThreads=2&lt;/code&gt; ã€‚~~å¦‚æœæ‚¨çš„å®¹å™¨ä¸­é™å®šåªæœ‰ä¸€ä¸ªCPUï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨ä½¿ç”¨&lt;code&gt;-XX:+UseSerialGC&lt;/code&gt;è¿è¡Œï¼Œå¹¶å®Œå…¨é¿å…å¹¶è¡ŒGCã€‚~~&lt;/p&gt;
&lt;h3 id="java_1"&gt;JAVAå¯åŠ¨é˜¶æ®µè°ƒä¼˜&lt;a class="headerlink" href="#java_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;JAVAç¨‹åºéƒ½æœ‰ä¸€ä¸ªå¯åŠ¨é˜¶æ®µï¼Œå®ƒéœ€è¦å¤§é‡çš„å †ï¼Œä½†ä¼šè¿›å…¥ä¸€ä¸ªå®‰é™çš„å¾ªç¯é˜¶æ®µï¼Œåœ¨è¿™ä¸ªé˜¶æ®µå®ƒä¸éœ€è¦å¤ªå¤šã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸²è¡ŒGCç­–ç•¥, ä½ å¯ä»¥è¦æ±‚å®ƒæ›´å…·ä¾µç•¥æ€§. &lt;code&gt;-XX:MinHeapFreeRatio=20&lt;/code&gt;(å½“å †å ç”¨ç‡å¤§äº80%æ—¶ï¼Œæ­¤å€¼é»˜è®¤å¢å¤§ã€‚)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;XX:MaxHeapFreeRatio=40&lt;/code&gt;(å †å ç”¨ç‡å°äº60%æ—¶æ”¶ç¼©)&lt;/p&gt;
&lt;p&gt;å¯¹äºå¹¶è¡Œ - parallel GCç­–ç•¥, æ¨èå¦‚ä¸‹é…ç½®:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="java_2"&gt;JAVAå®¹å™¨å…¨å±€å»ºè®®èµ„æºè¯·æ±‚å’Œèµ„æºé™åˆ¶&lt;a class="headerlink" href="#java_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;JAVAç¨‹åºéƒ½æœ‰ä¸€ä¸ªå¯åŠ¨é˜¶æ®µï¼Œå¯åŠ¨é˜¶æ®µä¹Ÿä¼šå¤§é‡æ¶ˆè€—CPU, CPUä½¿ç”¨è¶Šå¤š, å¯åŠ¨é˜¶æ®µè¶ŠçŸ­.&lt;br&gt;
ä¸‹é¢æ˜¯ä¸€ä¸ªè¡¨ï¼Œæ€»ç»“äº†ä¸åŒCPUé™åˆ¶ä¸‹çš„spring boot ç¤ºä¾‹åº”ç”¨å¯åŠ¨æ—¶é—´(åœ¨millicoreä¸­):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;500m â€” 80 seconds&lt;/li&gt;
&lt;li&gt;1000m â€” 35 seconds&lt;/li&gt;
&lt;li&gt;1500m â€” 22 seconds&lt;/li&gt;
&lt;li&gt;2500m â€” 17 seconds&lt;/li&gt;
&lt;li&gt;3000m â€” 12 seconds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸Šæƒ…å†µ, å®¹å™¨å¹³å°ç®¡ç†å‘˜è€ƒè™‘å¯¹JAVAå®¹å™¨åšå¦‚ä¸‹é™åˆ¶:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨CPU requests, ä¸è®¾ç½®cpu limit (KubernetesåŠŸèƒ½)&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨memory limitç­‰äºmemory request&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;requests&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1024Mi&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;cpu&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;500m&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;limits&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1024Mi&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="nginx"&gt;NGINX å®¹å™¨é•œåƒæŒ‡å—&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœæ‚¨ç›´æ¥åœ¨åŸºç¡€ç¡¬ä»¶æˆ–è™šæ‹Ÿæœºä¸Šè¿è¡ŒNGINXï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªNGINXå®ä¾‹æ¥ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUã€‚ç”±äºNGINXæ˜¯å¤šè¿›ç¨‹æ¨¡å¼ï¼Œé€šå¸¸ä½ ä¼šå¯åŠ¨å¤šä¸ªworker processesï¼Œæ¯ä¸ªå·¥ä½œè¿›ç¨‹éƒ½æ˜¯ä¸åŒçš„è¿›ç¨‹ï¼Œä»¥ä¾¿åˆ©ç”¨æ‰€æœ‰CPUã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œåœ¨å®¹å™¨ä¸­è¿è¡Œæ—¶ï¼Œé€šå¸¸ä¼šåœ¨é€šè¿‡è¿è¡Œæ›´å¤šå®¹å™¨æ¥æ‰©å±•çš„ç¯å¢ƒä¸­ã€‚Kubernetesï¼šæ‰€æœ‰è¿™äº›éƒ½éšè—äº†ç¡¬ä»¶ï¼Œå¹¶æœŸæœ›é€šè¿‡ç¼©æ”¾å¤šä¸ªå®¹å™¨æ¥åˆ©ç”¨å¤šä¸ªCPUã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;img align="absmiddle" alt="ğŸ‘" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44d.png" title=":+1:" width="20px"&gt;å»ºè®®åªéœ€ä¸€ä¸ªæˆ–ä¸¤ä¸ªå·¥ä½œè¿›ç¨‹å³å¯å¼€å§‹ä½¿ç”¨NGINXã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;worker_processes&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# æˆ–autoæˆ–2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="python"&gt;Python å®¹å™¨é•œåƒæŒ‡å—&lt;a class="headerlink" href="#python" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# pull official base image&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; python:3.7-alpine&lt;/span&gt;

&lt;span class="c"&gt;# set work directory&lt;/span&gt;
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /app&lt;/span&gt;

&lt;span class="c"&gt;# set environment variables&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; PYTHONDONTWRITEBYTECODE &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; PYTHONUNBUFFERED &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DEBUG &lt;span class="m"&gt;0&lt;/span&gt;

&lt;span class="c"&gt;# install psycopg2&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; apk update &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add --virtual build-deps gcc python3-dev musl-dev &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add postgresql-dev &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; pip install psycopg2 &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk del build-deps

&lt;span class="c"&gt;# install dependencies&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; ./requirements.txt .
&lt;span class="k"&gt;RUN&lt;/span&gt; pip install -r requirements.txt

&lt;span class="c"&gt;# copy project&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; . .

&lt;span class="c"&gt;# add and run as non-root user&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; adduser -D myuser
&lt;span class="k"&gt;USER&lt;/span&gt;&lt;span class="s"&gt; myuser&lt;/span&gt;

&lt;span class="c"&gt;# run gunicorn&lt;/span&gt;
&lt;span class="k"&gt;CMD&lt;/span&gt; gunicorn hello_django.wsgi:application --bind &lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:&lt;span class="nv"&gt;$PORT&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;â–³ ç¤ºä¾‹Dockerfile&lt;/p&gt;
&lt;h3 id="ide_1"&gt;IDEæ’ä»¶æ¨è&lt;a class="headerlink" href="#ide_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;PyCharm - åŒIdea&lt;/li&gt;
&lt;li&gt;VSCode - &lt;strong&gt;Visual Studio Code Remote - Containers&lt;/strong&gt; æ’ä»¶ &lt;ul&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/docs/remote/containers"&gt;Developing inside a Container&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_17"&gt;å»ºè®®é…ç½®çš„ç¯å¢ƒå˜é‡&lt;a class="headerlink" href="#_17" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# set environment variables&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; PYTHONDONTWRITEBYTECODE &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; PYTHONUNBUFFERED &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DEBUG &lt;span class="m"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;&lt;code&gt;PYTHONDONTWRITEBYTECODE&lt;/code&gt;: é˜²æ­¢pythonå°†pycæ–‡ä»¶å†™å…¥ç¡¬ç›˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PYTHONUNBUFFERED&lt;/code&gt;: é˜²æ­¢pythonç¼“å†²stdoutå’Œstderr&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DEBUG&lt;/code&gt;: æ–¹ä¾¿æ ¹æ®ç¯å¢ƒç±»å‹çš„ä¸åŒ(æµ‹è¯•/ç”Ÿäº§)è°ƒæ•´æ˜¯å¦å¼€å¯debug&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_18"&gt;å®‰è£…æ•°æ®åº“é©±åŠ¨åŒ…çš„æ–¹æ³•&lt;a class="headerlink" href="#_18" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä»¥postgredbçš„é©±åŠ¨psycopg2ä¸ºä¾‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# install psycopg2&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; apk update &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add --virtual build-deps gcc python3-dev musl-dev &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add postgresql-dev &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; pip install psycopg2 &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk del build-deps
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="openshift"&gt;Openshift å®¹å™¨å¹³å°ç‰¹å®šæŒ‡å—&lt;a class="headerlink" href="#openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯åˆ›å»ºä¸“é—¨ç”¨äºOpenshiftå®¹å™¨å¹³å°çš„å®¹å™¨é•œåƒæ—¶é€‚ç”¨çš„å‡†åˆ™ã€‚&lt;/p&gt;
&lt;h3 id="s2i"&gt;å¯ç”¨æºåˆ°æ˜ åƒï¼ˆS2Iï¼‰åŠŸèƒ½&lt;a class="headerlink" href="#s2i" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯¹äºæ‰“ç®—è¿è¡Œç”±ç¬¬ä¸‰æ–¹æä¾›çš„åº”ç”¨ç¨‹åºä»£ç çš„é•œåƒï¼Œä¾‹å¦‚ä¸ºè¿è¡Œå¼€å‘äººå‘˜æä¾›çš„javaä»£ç è€Œè®¾è®¡çš„javaé•œåƒï¼Œæ‚¨å¯ä»¥ä½¿æ‚¨çš„é•œåƒä¸&lt;a href="https://github.com/openshift/source-to-image"&gt;æºåˆ°æ˜ åƒï¼ˆS2Iï¼‰&lt;/a&gt;æ„å»ºå·¥å…·ä¸€èµ·å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ‘" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44d.png" title=":+1:" width="20px"&gt; S2I æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒä½¿å¾—ç¼–å†™&lt;strong&gt;ä»¥åº”ç”¨ç¨‹åºæºä»£ç ä¸ºè¾“å…¥&lt;/strong&gt;çš„é•œåƒå’Œç”Ÿæˆ&lt;strong&gt;ä»¥è¿è¡Œç»„åˆåº”ç”¨ç¨‹åºä¸ºè¾“å‡ºçš„æ–°é•œåƒ&lt;/strong&gt;å˜å¾—å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œè¿™ä¸ª&lt;a href="https://github.com/sclorg/s2i-python-container"&gt;pythoné•œåƒ&lt;/a&gt;å®šä¹‰äº†ç”¨äºæ„å»ºå„ç§ç‰ˆæœ¬çš„pythonåº”ç”¨ç¨‹åºçš„s2iè„šæœ¬ã€‚&lt;/p&gt;
&lt;h3 id&gt;æ”¯æŒä»»æ„ç”¨æˆ·ID&lt;a class="headerlink" href="#id" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œopenshiftå®¹å™¨å¹³å°ä½¿ç”¨ä»»æ„åˆ†é…çš„ç”¨æˆ·IDè¿è¡Œå®¹å™¨ã€‚è¿™æä¾›äº†é¢å¤–çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢å› å®¹å™¨å¼•æ“æ¼æ´è€Œé€ƒé€¸å®¹å™¨çš„è¿›ç¨‹ï¼Œä»è€Œåœ¨ä¸»æœºèŠ‚ç‚¹ä¸Šè·å–æ›´é«˜çº§çš„æƒé™ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ”¯æŒä»¥ä»»æ„ç”¨æˆ·èº«ä»½è¿è¡Œçš„é•œåƒï¼Œå¯ä»¥ç”±é•œåƒä¸­çš„è¿›ç¨‹å†™å…¥çš„ç›®å½•å’Œæ–‡ä»¶åº”å½’æ ¹ç»„æ‰€æœ‰ï¼Œå¹¶ç”±è¯¥ç»„è¯»/å†™ã€‚è¦æ‰§è¡Œçš„æ–‡ä»¶è¿˜åº”å…·æœ‰ç»„æ‰§è¡Œæƒé™ã€‚&lt;/p&gt;
&lt;p&gt;å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°Dockerfileå°†è®¾ç½®ç›®å½•å’Œæ–‡ä»¶æƒé™ï¼Œä»¥å…è®¸æ ¹ç»„ä¸­çš„ç”¨æˆ·åœ¨ç”Ÿæˆçš„é•œåƒä¸­è®¿é—®å®ƒä»¬ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; chgrp -R &lt;span class="m"&gt;0&lt;/span&gt; /some/directory &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    chmod -R &lt;span class="nv"&gt;g&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;u /some/directory
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å› ä¸ºå®¹å™¨ç”¨æˆ·å§‹ç»ˆæ˜¯æ ¹ç»„çš„æˆå‘˜ï¼Œæ‰€ä»¥å®¹å™¨ç”¨æˆ·å¯ä»¥è¯»å†™è¿™äº›æ–‡ä»¶ã€‚æ ¹ç»„æ²¡æœ‰ä»»ä½•ç‰¹æ®Šæƒé™ï¼ˆä¸æ ¹ç”¨æˆ·ä¸åŒï¼‰ï¼Œå› æ­¤è¿™ç§å®‰æ’ä¸å­˜åœ¨å®‰å…¨é—®é¢˜ã€‚æ­¤å¤–ï¼Œ&lt;strong&gt;åœ¨å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¸èƒ½ç›‘å¬ç‰¹æƒç«¯å£ï¼ˆä½äº1024çš„ç«¯å£ï¼‰&lt;/strong&gt;ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯ä½œä¸ºç‰¹æƒç”¨æˆ·è¿è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºå®¹å™¨çš„ç”¨æˆ·IDæ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œæ‰€ä»¥åœ¨&lt;code&gt;/etc/passwd&lt;/code&gt;ä¸­ä¸ä¼šæœ‰å…³è”çš„æ¡ç›®ã€‚è¿™å¯èƒ½ä¼šç»™å¸Œæœ›èƒ½å¤ŸæŸ¥æ‰¾å…¶ç”¨æˆ·IDçš„åº”ç”¨ç¨‹åºå¸¦æ¥é—®é¢˜ã€‚è§£å†³æ­¤é—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å®¹å™¨çš„ç”¨æˆ·IDåŠ¨æ€åˆ›å»ºä¸€ä¸ª&lt;code&gt;passwd&lt;/code&gt;æ–‡ä»¶æ¡ç›®ï¼Œä½œä¸ºé•œåƒçš„å¯åŠ¨è„šæœ¬çš„ä¸€éƒ¨åˆ†ã€‚è¿™å°±æ˜¯Dockerfileå¯èƒ½åŒ…å«çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; chmod &lt;span class="nv"&gt;g&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;u /etc/passwd
&lt;span class="k"&gt;ENTRYPOINT&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;uid_entrypoint&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;USER&lt;/span&gt;&lt;span class="s"&gt; 1001&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å…¶ä¸­&lt;code&gt;uid_entrypoint&lt;/code&gt;åŒ…å«ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; ! whoami &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -w /etc/passwd &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;USER_NAME&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;:x:&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -u&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;:0:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;USER_NAME&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; user:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;:/sbin/nologin&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; /etc/passwd
  &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æœ‰å…³æ­¤çš„å®Œæ•´ç¤ºä¾‹ï¼Œè¯·å‚è§&lt;a href="https://github.com/RHsyseng/container-rhel-examples/blob/master/starter-arbitrary-uid/Dockerfile"&gt;æ­¤dockerfile&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œ&lt;strong&gt;dockerfileä¸­çš„æœ€ç»ˆ&lt;code&gt;USER&lt;/code&gt;å£°æ˜åº”è¯¥æŒ‡å®šç”¨æˆ·IDï¼ˆæ•°å€¼ï¼‰ï¼Œè€Œä¸æ˜¯ç”¨æˆ·å&lt;/strong&gt;ã€‚è¿™å…è®¸openshiftå®¹å™¨å¹³å°éªŒè¯é•œåƒè¯•å›¾ä½¿ç”¨çš„æƒé™ï¼Œå¹¶é˜»æ­¢è¿è¡Œè¯•å›¾ä½œä¸ºrootè¿è¡Œçš„é•œåƒï¼Œå› ä¸ºä½œä¸ºç‰¹æƒç”¨æˆ·è¿è¡Œå®¹å™¨ä¼šæš´éœ²æ½œåœ¨çš„å®‰å…¨æ¼æ´ã€‚å¦‚æœé•œåƒæœªæŒ‡å®šç”¨æˆ·ï¼Œåˆ™å®ƒä»çˆ¶æ˜ åƒç»§æ‰¿&lt;code&gt;USER&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨çš„S2Ié•œåƒä¸åŒ…å«å¸¦æœ‰æ•°å­—ç”¨æˆ·çš„&lt;code&gt;USER&lt;/code&gt;å£°æ˜ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹ï¼Œæ„å»ºå°†å¤±è´¥ã€‚ä¸ºäº†å…è®¸ä½¿ç”¨å‘½åç”¨æˆ·æˆ–rootï¼ˆ0ï¼‰ç”¨æˆ·åœ¨Openshiftå®¹å™¨å¹³å°ä¸­æ„å»ºæ˜ åƒï¼Œå¯ä»¥æ·»åŠ é¡¹ç›®çš„builderæœåŠ¡å¸æˆ·ï¼ˆ&lt;code&gt;system:serviceaccount:&amp;lt;your-project&amp;gt;:builder&lt;/code&gt;ï¼‰æ·»åŠ åˆ°ç‰¹æƒå®‰å…¨ä¸Šä¸‹æ–‡çº¦æŸï¼ˆsccï¼‰ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å…è®¸æ‰€æœ‰é•œåƒä½œä¸ºä»»ä½•ç”¨æˆ·è¿è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="service"&gt;ä½¿ç”¨æœåŠ¡ SERVICE è¿›è¡Œé•œåƒé—´é€šä¿¡&lt;a class="headerlink" href="#service" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯¹äºæ‚¨çš„é•œåƒéœ€è¦ä¸å¦ä¸€ä¸ªé•œåƒæä¾›çš„æœåŠ¡é€šä¿¡çš„æƒ…å†µï¼Œä¾‹å¦‚éœ€è¦è®¿é—®æ•°æ®åº“é•œåƒä»¥å­˜å‚¨å’Œæ£€ç´¢æ•°æ®çš„Webå‰ç«¯é•œåƒï¼Œæ‚¨çš„é•œåƒåº”è¯¥ä½¿ç”¨Openshiftå®¹å™¨å¹³å°çš„æœåŠ¡ - serviceã€‚æœåŠ¡ - serviceä¸ºè®¿é—®æä¾›ä¸€ä¸ªé™æ€ç«¯ç‚¹ï¼Œè¯¥ç«¯ç‚¹ä¸ä¼šéšç€å®¹å™¨çš„åœæ­¢ã€å¯åŠ¨æˆ–ç§»åŠ¨è€Œæ›´æ”¹ã€‚æ­¤å¤–ï¼ŒæœåŠ¡è¿˜ä¸ºè¯·æ±‚æä¾›è´Ÿè½½å¹³è¡¡ã€‚&lt;/p&gt;
&lt;h3 id="_19"&gt;æä¾›å…¬å…±åº“&lt;a class="headerlink" href="#_19" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯¹äºæ‰“ç®—è¿è¡Œç”±ç¬¬ä¸‰æ–¹æä¾›çš„åº”ç”¨ç¨‹åºä»£ç çš„é•œåƒï¼Œè¯·ç¡®ä¿æ‚¨çš„é•œåƒåŒ…å«å¹³å°çš„å¸¸ç”¨åº“ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸ºä¸å¹³å°ä¸€èµ·ä½¿ç”¨çš„å…¬å…±æ•°æ®åº“æä¾›æ•°æ®åº“é©±åŠ¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨åˆ›å»ºJavaæ¡†æ¶é•œåƒï¼Œåˆ™ä¸ºMySQLå’ŒPostgreSQLæä¾›JDBCé©±åŠ¨ç¨‹åºã€‚è¿™æ ·åšå¯ä»¥é˜²æ­¢åœ¨åº”ç”¨ç¨‹åºè£…é…æœŸé—´ä¸‹è½½å…¬å…±ä¾èµ–é¡¹ï¼Œä»è€ŒåŠ å¿«åº”ç”¨ç¨‹åºé•œåƒçš„æ„å»ºã€‚å®ƒè¿˜ç®€åŒ–äº†åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜æ‰€éœ€çš„å·¥ä½œï¼Œä»¥ç¡®ä¿æ»¡è¶³å…¶æ‰€æœ‰ä¾èµ–é¡¹ã€‚&lt;/p&gt;
&lt;h3 id="_20"&gt;ä½¿ç”¨ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®&lt;a class="headerlink" href="#_20" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ‚¨çš„é•œåƒçš„ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿé…ç½®å®ƒï¼Œè€Œä¸å¿…æ ¹æ®æ‚¨çš„é•œåƒåˆ›å»ºä¸‹æ¸¸é•œåƒã€‚è¿™æ„å‘³ç€è¿è¡Œæ—¶é…ç½®åº”è¯¥ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥å¤„ç†ã€‚å¯¹äºä¸€ä¸ªç®€å•çš„é…ç½®ï¼Œæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å¯ä»¥ç›´æ¥ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚å¯¹äºæ›´å¤æ‚çš„é…ç½®æˆ–ä¸æ”¯æŒæ­¤é…ç½®çš„è¿è¡Œæ—¶ï¼Œé€šè¿‡å®šä¹‰åœ¨å¯åŠ¨æœŸé—´å¤„ç†çš„æ¨¡æ¿é…ç½®æ–‡ä»¶æ¥é…ç½®è¿è¡Œæ—¶ã€‚åœ¨æ­¤å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å°†ä½¿ç”¨ç¯å¢ƒå˜é‡æä¾›çš„å€¼æ›¿æ¢åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ç”¨äºå†³å®šåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å“ªäº›é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–&lt;strong&gt;å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡å°†è¯ä¹¦å’Œå¯†é’¥ç­‰æœºå¯†ä¿¡æ¯ä¼ é€’åˆ°å®¹å™¨ä¸­&lt;/strong&gt;ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æœºå¯†å€¼ä¸ä¼šæœ€ç»ˆæäº¤åˆ°é•œåƒä¸­å¹¶æ³„æ¼åˆ°å®¹å™¨é•œåƒæ³¨å†Œè¡¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æä¾›ç¯å¢ƒå˜é‡å…è®¸é•œåƒçš„ä½¿ç”¨è€…è‡ªå®šä¹‰è¡Œä¸ºï¼Œå¦‚æ•°æ®åº“è®¾ç½®ã€å¯†ç å’Œæ€§èƒ½è°ƒæ•´ï¼Œè€Œä¸å¿…åœ¨é•œåƒä¸Šå¼•å…¥æ–°çš„å±‚ã€‚ç›¸åï¼Œå®ƒä»¬å¯ä»¥åœ¨å®šä¹‰PODæ—¶ç®€å•åœ°å®šä¹‰ç¯å¢ƒå˜é‡å€¼ï¼Œå¹¶åœ¨ä¸é‡å»ºé•œåƒçš„æƒ…å†µä¸‹æ›´æ”¹è¿™äº›è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºéå¸¸å¤æ‚çš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„å·æ¥æä¾›é…ç½®ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨é€‰æ‹©è¿™æ ·åšï¼Œåˆ™å¿…é¡»ç¡®ä¿å½“ä¸å­˜åœ¨æ‰€éœ€çš„å·æˆ–é…ç½®æ—¶ï¼Œé•œåƒåœ¨å¯åŠ¨æ—¶æä¾›æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤ä¸»é¢˜ä¸åœ¨&lt;a href="#ä½¿ç”¨æœåŠ¡ SERVICE è¿›è¡Œé•œåƒé—´é€šä¿¡"&gt;ä½¿ç”¨æœåŠ¡ SERVICE è¿›è¡Œé•œåƒé—´é€šä¿¡&lt;/a&gt;ç›¸å…³ï¼Œä¾‹å¦‚ï¼Œåº”æ ¹æ®æä¾›æœåŠ¡ - service ç«¯ç‚¹ä¿¡æ¯çš„ç¯å¢ƒå˜é‡å®šä¹‰æ•°æ®æºã€‚è¿™å…è®¸åº”ç”¨ç¨‹åºåœ¨ä¸ä¿®æ”¹åº”ç”¨ç¨‹åºé•œåƒçš„æƒ…å†µä¸‹åŠ¨æ€ä½¿ç”¨Openshiftå®¹å™¨å¹³å°ç¯å¢ƒä¸­å®šä¹‰çš„æ•°æ®æºæœåŠ¡ - serviceã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåº”è¯¥é€šè¿‡æ£€æŸ¥å®¹å™¨çš„&lt;strong&gt;cgroups&lt;/strong&gt;è®¾ç½®æ¥è¿›è¡Œç›¸åº”è°ƒæ•´ã€‚è¿™å…è®¸é•œåƒå°†è‡ªå·±è°ƒåˆ°å¯ç”¨å†…å­˜ã€CPUå’Œå…¶ä»–èµ„æºã€‚ä¾‹å¦‚ï¼ŒåŸºäºJavaçš„é•œåƒåº”è¯¥æ ¹æ®&lt;strong&gt;cgroup&lt;/strong&gt;æœ€å¤§å†…å­˜å‚æ•°æ¥è°ƒæ•´å®ƒä»¬çš„å † - heapï¼Œä»¥ç¡®ä¿å®ƒä»¬ä¸è¶…è¿‡é™åˆ¶å¹¶è·å¾—å†…å­˜ä¸è¶³out-of-memoryçš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³å¦‚ä½•ç®¡ç†å®¹å™¨ä¸­çš„cgroupé…é¢çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä»¥ä¸‹å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Blog article - &lt;a href="https://goldmann.pl/blog/2014/09/11/resource-management-in-docker"&gt;Resource management in Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/engine/admin/runmetrics/"&gt;Runtime Metrics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Blog article - &lt;a href="http://fabiokung.com/2014/03/13/memory-inside-linux-containers"&gt;Memory inside Linux containers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_21"&gt;è€ƒè™‘é›†ç¾¤æ–¹æ¡ˆ&lt;a class="headerlink" href="#_21" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ‚¨å¿…é¡»å®Œå…¨ç†è§£è¿è¡Œé•œåƒçš„å¤šä¸ªå®ä¾‹æ„å‘³ç€ä»€ä¹ˆã€‚åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡çš„è´Ÿè½½å¹³è¡¡åŠŸèƒ½å¤„ç†å°†æµé‡è·¯ç”±åˆ°é•œåƒçš„æ‰€æœ‰å®ä¾‹ã€‚ä½†æ˜¯ï¼Œè®¸å¤šæ¡†æ¶å¿…é¡»å…±äº«ä¿¡æ¯æ‰èƒ½æ‰§è¡Œé¢†å¯¼äººé€‰ä¸¾æˆ–æ•…éšœè½¬ç§»çŠ¶æ€ï¼›ä¾‹å¦‚ï¼Œåœ¨ä¼šè¯å¤åˆ¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘åœ¨Openshiftå®¹å™¨å¹³å°ä¸­è¿è¡Œæ—¶ï¼Œæ‚¨çš„å®ä¾‹å¦‚ä½•å®Œæˆæ­¤é€šä¿¡ã€‚è™½ç„¶podå¯ä»¥ç›´æ¥ç›¸äº’é€šä¿¡ï¼Œä½†åªè¦podå¯åŠ¨ã€åœæ­¢æˆ–ç§»åŠ¨ï¼Œå®ƒä»¬çš„IPåœ°å€å°±ä¼šå‘ç”Ÿå˜åŒ–ã€‚å› æ­¤ï¼Œé›†ç¾¤æ–¹æ¡ˆå¿…é¡»æ˜¯åŠ¨æ€çš„ã€‚&lt;/p&gt;
&lt;h3 id="_22"&gt;è®°å½•æ—¥å¿—&lt;a class="headerlink" href="#_22" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ‘" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44d.png" title=":+1:" width="20px"&gt; æœ€å¥½å°†&lt;strong&gt;æ‰€æœ‰æ—¥å¿—å‘é€åˆ°æ ‡å‡†è¾“å‡º&lt;/strong&gt;ã€‚Openshiftå®¹å™¨å¹³å°ä»å®¹å™¨ä¸­æ”¶é›†æ ‡å‡†è¾“å‡ºï¼Œå¹¶å°†å…¶å‘é€åˆ°é›†ä¸­æ—¥å¿—è®°å½•æœåŠ¡(ELKæŠ€æœ¯æ ˆ)ï¼Œåœ¨é‚£é‡Œå¯ä»¥æŸ¥çœ‹ã€‚å¦‚æœå¿…é¡»åˆ†éš”æ—¥å¿—å†…å®¹ï¼Œè¯·åœ¨è¾“å‡ºå‰é¢åŠ ä¸Šé€‚å½“çš„å…³é”®å­—ï¼Œè¿™æ ·å¯ä»¥ç­›é€‰æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨çš„é•œåƒè®°å½•æ—¥å¿—åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆç”¨æˆ·å¿…é¡»ä½¿ç”¨æ‰‹åŠ¨æ“ä½œæ¥è¾“å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨å¹¶æ£€ç´¢æˆ–æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h3 id="livenessreadiness"&gt;LIVENESSæ´»æ€§æ¢é’ˆå’ŒREADINESS å°±ç»ªæ¢é’ˆ&lt;a class="headerlink" href="#livenessreadiness" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è®°å½•å¯ç”¨äºé•œåƒçš„æ´»æ€§å’Œå°±ç»ªæ¢é’ˆç¤ºä¾‹ã€‚è¿™äº›æ¢é’ˆå°†å…è®¸ç”¨æˆ·éƒ¨ç½²æ‚¨çš„é•œåƒï¼Œå¹¶ç¡®ä¿åœ¨æœªå°±ç»ªä¹‹å‰ä¸ä¼šå°†æµé‡è·¯ç”±åˆ°å®¹å™¨ï¼Œå¹¶ä¸”å¦‚æœè¿›ç¨‹è¿›å…¥ä¸å¥åº·çŠ¶æ€ï¼Œå°†é‡æ–°å¯åŠ¨å®¹å™¨ã€‚&lt;/p&gt;
&lt;h3 id="-template"&gt;æ¨¡æ¿ - TEMPLATE&lt;a class="headerlink" href="#-template" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è€ƒè™‘ä¸ºé•œåƒæä¾›ä¸€ä¸ªç¤ºä¾‹æ¨¡æ¿ã€‚æ¨¡æ¿å°†ä¸ºç”¨æˆ·æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Œä½¿æ‚¨å¯ä»¥ä½¿ç”¨æœ‰ç”¨çš„é…ç½®å¿«é€Ÿéƒ¨ç½²å›¾åƒã€‚ä¸ºäº†å®Œæ•´æ€§ï¼Œæ‚¨çš„æ¨¡æ¿åº”è¯¥åŒ…æ‹¬æ‚¨ç”¨é•œåƒè®°å½•çš„æ´»æ€§å’Œå°±ç»ªæ¢é’ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;é¢å¤–èµ„æº&lt;/em&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/docker-overview/"&gt;Docker basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/reference/builder/"&gt;Dockerfile reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.projectatomic.io/docs/docker-image-author-guidance"&gt;Project Atomic Guidance for Container Image Authors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_23"&gt;åœ¨é•œåƒä¸­åŒ…æ‹¬å…ƒæ•°æ®&lt;a class="headerlink" href="#_23" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®šä¹‰é•œåƒå…ƒæ•°æ®æœ‰åŠ©äºOpenshiftå®¹å™¨å¹³å°æ›´å¥½åœ°ä½¿ç”¨å®¹å™¨é•œåƒï¼Œå…è®¸Openshiftå®¹å™¨å¹³å°ä¸ºä½¿ç”¨æ‚¨çš„é•œåƒçš„å¼€å‘äººå‘˜åˆ›å»ºæ›´å¥½çš„ä½“éªŒã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æ·»åŠ å…ƒæ•°æ®æ¥æä¾›é•œåƒçš„æœ‰ç”¨æè¿°ï¼Œæˆ–è€…å¯¹å…¶ä»–å¯èƒ½éœ€è¦çš„é•œåƒæä¾›å»ºè®®ã€‚&lt;/p&gt;
&lt;p&gt;æ‚¨å¯ä»¥ä½¿ç”¨&lt;code&gt;dockerfile&lt;/code&gt;ä¸­çš„&lt;code&gt;label&lt;/code&gt;æŒ‡ä»¤æ¥å®šä¹‰é•œåƒå…ƒæ•°æ®ã€‚æ ‡ç­¾ - labelç±»ä¼¼äºç¯å¢ƒå˜é‡ï¼Œå› ä¸ºå®ƒä»¬æ˜¯é™„åŠ åˆ°é•œåƒæˆ–å®¹å™¨çš„é”®å€¼å¯¹ã€‚æ ‡ç­¾ä¸åŒäºç¯å¢ƒå˜é‡ï¼Œå› ä¸ºå®ƒä»¬å¯¹æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºä¸å¯è§ï¼Œä½†æ˜¯å¯ä»¥ç”¨äºå¿«é€ŸæŸ¥æ‰¾é•œåƒå’Œå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;æ ‡ç­¾åç§°é€šå¸¸åº”å…·æœ‰åç§°ç©ºé—´ã€‚åº”ç›¸åº”åœ°è®¾ç½®åç§°ç©ºé—´ï¼Œä»¥åæ˜ å°†è¦æ‹¾å–æ ‡ç­¾å¹¶ä½¿ç”¨å®ƒä»¬çš„é¡¹ç›®ã€‚å¯¹äºopenshiftå®¹å™¨å¹³å°ï¼Œå‘½åç©ºé—´åº”è®¾ç½®ä¸º&lt;code&gt;io.openshift&lt;/code&gt;ï¼Œå¯¹äºkubernetesï¼Œå‘½åç©ºé—´ä¸º&lt;code&gt;io.k8s&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³æ ¼å¼çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…&lt;a href="https://docs.docker.com/engine/userguide/labels-custom-metadata"&gt;Dockerè‡ªå®šä¹‰å…ƒæ•°æ®æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Variable&lt;/th&gt;
&lt;th align="left"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;io.openshift.tags&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;æ­¤æ ‡ç­¾ - labelåŒ…å«ä»¥é€—å·åˆ†éš”å­—ç¬¦ä¸²å€¼åˆ—è¡¨è¡¨ç¤ºçš„æ ‡ç­¾ - tagåˆ—è¡¨ã€‚æ ‡ç­¾ - tagæ˜¯å°†å®¹å™¨é•œåƒåˆ†ç±»ä¸ºå¹¿æ³›åŠŸèƒ½åŒºåŸŸçš„æ–¹æ³•ã€‚æ ‡ç­¾å¸®åŠ©ç”¨æˆ·ç•Œé¢å’Œç”Ÿæˆå·¥å…·åœ¨åº”ç”¨ç¨‹åºåˆ›å»ºè¿‡ç¨‹ä¸­å»ºè®®ç›¸å…³çš„å®¹å™¨å›¾åƒã€‚&lt;code&gt;LABEL io.openshift.tags   mongodb,mongodb24,nosql&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;io.openshift.wants&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;æŒ‡å®šç”Ÿæˆå·¥å…·å’Œç”¨æˆ·ç•Œé¢å¯èƒ½ç”¨äºæä¾›ç›¸å…³å»ºè®®çš„æ ‡ç­¾åˆ—è¡¨ï¼Œéœ€è¦å…·æœ‰ç»™å®šæ ‡è®°çš„å®¹å™¨é•œåƒã€‚ä¾‹å¦‚ï¼Œå¦‚æœå®¹å™¨é•œåƒéœ€è¦mysqlå’Œredisï¼Œè€Œæ‚¨æ²¡æœ‰å¸¦æœ‰redisæ ‡ç­¾çš„å®¹å™¨é•œåƒï¼Œé‚£ä¹ˆUIå¯èƒ½å»ºè®®æ‚¨å°†æ­¤é•œåƒæ·»åŠ åˆ°éƒ¨ç½²ä¸­ã€‚&lt;code&gt;LABEL io.openshift.wants   mongodb,redis&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;io.k8s.description&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;æ­¤æ ‡ç­¾å¯ç”¨äºå‘å®¹å™¨é•œåƒä½¿ç”¨è€…æä¾›æœ‰å…³æ­¤é•œåƒæä¾›çš„æœåŠ¡æˆ–åŠŸèƒ½çš„æ›´è¯¦ç»†ä¿¡æ¯ã€‚ç„¶åï¼ŒUIå¯ä»¥å°†æ­¤æè¿°ä¸å®¹å™¨é•œåƒåç§°ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å‘æœ€ç»ˆç”¨æˆ·æä¾›æ›´äººæ€§åŒ–çš„ä¿¡æ¯ã€‚&lt;code&gt;LABEL io.k8s.description The MySQL 5.5 Server with master-slave replication support&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;io.openshift.non-scalable&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;é•œåƒå¯èƒ½ä½¿ç”¨æ­¤å˜é‡æ¥è¡¨ç¤ºå®ƒä¸æ”¯æŒç¼©æ”¾ã€‚ç„¶åï¼Œç”¨æˆ·ç•Œé¢å°†æ­¤ä¿¡æ¯ä¼ è¾¾ç»™è¯¥å›¾åƒçš„æ¶ˆè´¹è€…ã€‚ä¸å¯ä¼¸ç¼©åŸºæœ¬ä¸Šæ„å‘³ç€å‰¯æœ¬çš„å€¼æœ€åˆä¸åº”è®¾ç½®ä¸ºå¤§äº1ã€‚&lt;code&gt;LABEL io.openshift.non-scalable     true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;io.openshift.min-memory&lt;/code&gt; å’Œ&lt;code&gt;io.openshift.min-cpu&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;æ­¤æ ‡ç­¾å»ºè®®å®¹å™¨é•œåƒå¯èƒ½éœ€è¦å¤šå°‘èµ„æºæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ç”¨æˆ·ç•Œé¢å¯èƒ½ä¼šè­¦å‘Šç”¨æˆ·éƒ¨ç½²æ­¤å®¹å™¨æ˜ åƒå¯èƒ½ä¼šè¶…å‡ºå…¶ç”¨æˆ·é…é¢ã€‚è¿™äº›å€¼å¿…é¡»ä¸kubernetesæ•°é‡å…¼å®¹ã€‚&lt;code&gt;LABEL io.openshift.min-memory 8Gi&lt;/code&gt;      &lt;code&gt;LABEL io.openshift.min-cpu 4&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;â–³ OpenShift å®¹å™¨å¹³å°æ”¯æŒçš„å…ƒæ•°æ®&lt;/p&gt;
&lt;h2 id="_24"&gt;å‚è€ƒé“¾æ¥&lt;a class="headerlink" href="#_24" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;OpenShift Container Platform Docs - &lt;a href="https://docs.openshift.com/container-platform/latest/openshift_images/create-images.html"&gt;Creating images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/articles/dockerfile_best-practices/"&gt;Best practices for writing Dockerfiles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Project Atomic documentation - &lt;a href="http://www.projectatomic.io/docs/docker-image-author-guidance/"&gt;Guidance for Container Image Authors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.phusion.nl/2015/01/20/docker-and-the-pid-1-zombie-reaping-problem/"&gt;â€œDockerå’ŒPID 1 zombie reapingé—®é¢˜â€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://felipec.wordpress.com/2013/11/04/init/"&gt;â€œæ­å¼€initç³»ç»Ÿï¼ˆPID 1ï¼‰çš„ç¥ç§˜é¢çº±â€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GITHUB - &lt;a href="https://github.com/sclorg/s2i-python-container"&gt;sclorg/s2i-python-container&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Blog article - &lt;a href="https://goldmann.pl/blog/2014/09/11/resource-management-in-docker"&gt;Resource management in Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/engine/admin/runmetrics/"&gt;Runtime Metrics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Blog article - &lt;a href="http://fabiokung.com/2014/03/13/memory-inside-linux-containers"&gt;Memory inside Linux containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/engine/docker-overview/"&gt;Docker basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/engine/reference/builder/"&gt;Dockerfile reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/engine/userguide/labels-custom-metadata"&gt;è‡ªå®šä¹‰å…ƒæ•°æ®&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;testdriven.io - &lt;a href="https://testdriven.io/blog/deploying-django-to-heroku-with-docker/?utm_source=realpython"&gt;Deploying Django to Heroku With Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;testdriven.io - &lt;a href="https://testdriven.io/blog/dockerizing-django-with-postgres-gunicorn-and-nginx/"&gt;Dockerizing Django with Postgres, Gunicorn, and Nginx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;dockercon-2018 - &lt;a href="https://mherman.org/presentations/dockercon-2018/"&gt;Docker for Python Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://docs.docker.com/develop/develop-images/multistage-build/"&gt;å¤šé˜¶æ®µæ„å»º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Red Hat Developer - &lt;a href="https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers/"&gt;OpenJDK and Containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.com/faun/java-application-optimization-on-kubernetes-on-the-example-of-a-spring-boot-microservice-cf3737a2219c"&gt;Java Application Optimization on Kubernetes on the Example of a Spring Boot Microservice&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python Speed - &lt;a href="https://pythonspeed.com/articles/pipenv-docker/"&gt;Faster Docker builds with pipenv, poetry, or pip-tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python Speed - &lt;a href="https://pythonspeed.com/articles/gunicorn-in-docker/"&gt;Configuring Gunicorn for Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://github.com/docker/labs/blob/master/developer-tools/java/chapters/ch07-eclipse.adoc#Docker_Eclipse"&gt;Docker and Eclipse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker documentation - &lt;a href="https://github.com/docker/labs/blob/master/developer-tools/java/chapters/ch07-intellij.adoc#Docker_IntelliJ"&gt;Docker and IntelliJ IDEA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/docs/remote/containers"&gt;Developing inside a Container&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 25 Jul 2019 17:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-07-25:/container-best-practices.html</guid><category>python</category><category>java</category><category>openshift</category><category>docker</category><category>æœ€ä½³å®è·µ</category><category>k8s</category><category>containers</category></item><item><title>æŠ“å–ç³»ç»Ÿä¸­çš„ä»»ä½•æ–¹æ³•çš„å‚æ•°å€¼</title><link>https://www.EWhisper.cn/capture-any-method-param-value.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace ä¹Ÿå¯ä»¥æŠ“å–è¿è¡Œçš„ç³»ç»Ÿä¸­çš„ä»»ä½•æ–¹æ³•çš„å‚æ•°å€¼. æŠ“å–è¿™ä¸ª, ä¸€æ–¹é¢æ˜¯è¯¥å‚æ•°å€¼å¯èƒ½ä¼šè¡¨æ˜ä¸€äº›å…³é”®ä¿¡æ¯(å¦‚: æœºæ„ä»£ç , ä¿å•å·, å…¥å‚ä¼ å‚...), ä¾¿äºé’ˆå¯¹æ€§åˆ†æé—®é¢˜; å¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥å¯¹ä¸šåŠ¡ç›¸å…³çš„å‚æ•°æŠ“å–åè¿›è¡Œæ•´åˆåˆ†æ, å¦‚å®æ—¶ä¿å•é‡‘é¢æ€»æ•°...&lt;/p&gt;
&lt;h2 id="_2"&gt;å…·ä½“æ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ““ å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« é“¾æ¥ &lt;a href="https://www.EWhisper.cn/howto-monitor-nonHTTP-or-batchjob-application.html"&gt;éHTTPåº”ç”¨æˆ–æ‰¹å¤„ç†åº”ç”¨å¦‚ä½•è¿›è¡Œå…¨é“¾è·¯ç›‘æ§&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¦æŠ“å–æŒ‡å®šæ–¹æ³•çš„å‚æ•°, é¦–å…ˆè‚¯å®šçŸ¥é“æ–¹æ³•æ˜¯ä»€ä¹ˆ; &lt;/p&gt;
&lt;p&gt;ç„¶åå°†è¯¥æ–¹æ³•æ·»åŠ åˆ°Dynatrace çš„ä¼ æ„Ÿå™¨è§„åˆ™. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/dt_edit_method_rule_2.png"&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾, Dynatraceä¼šè‡ªåŠ¨è·å–åˆ°è¯¥æ–¹æ³•æœ‰6ä¸ªå‚æ•°, å‰ä¸‰ä¸ªå‚æ•°æ˜¯Stringç±»å‹, ç¬¬4ä¸ªæ˜¯double, åè¾¹2ä¸ªæ˜¯stringç±»å‹. å¦‚æœè¦æ•è·å“ªä¸€ä¸ªå‚æ•°, å°±å‹¾é€‰ç¬¬äºŒåˆ—&lt;strong&gt;Capture&lt;/strong&gt; çš„å‹¾é€‰æ¡†å°±å¯ä»¥äº†. &lt;/p&gt;
&lt;p&gt;å‹¾é€‰ç¡®å®šå, è¿˜æ˜¯çƒ­éƒ¨ç½²æˆ–è€…é‡å¯ç”Ÿæ•ˆ.&lt;/p&gt;
&lt;p&gt;å‡å¦‚ç¬¬å››ä¸ªå‚æ•°æ˜¯ä¿å•é‡‘é¢, é‚£ä¹ˆæ¯ä¸€ç¬”äº‹åŠ¡, å°±èƒ½ç›´æ¥åœ¨Dynatrace ä¸Šçœ‹åˆ°è¯¥ç¬”äº‹åŠ¡çš„ä¿å•é‡‘é¢äº†. &lt;/p&gt;
&lt;p&gt;æœ€ç»ˆæ•ˆæœå¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿æ—…æ¸¸ç½‘ç«™çš„demo. å¯ä»¥å®æ—¶è·å–åˆ°è¯¥ç¬”äº‹åŠ¡&lt;code&gt;BookingService&lt;/code&gt; æ–¹æ³•çš„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿¡ç”¨å¡å·;&lt;/li&gt;
&lt;li&gt;é‚®ç®±;&lt;/li&gt;
&lt;li&gt;é¢„å®šé‡‘é¢;&lt;/li&gt;
&lt;li&gt;å‡ºå‘åœ°&lt;/li&gt;
&lt;li&gt;ç›®çš„åœ°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="./images/dt-method-parms.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¿™ä¹ˆç®€å•. &lt;img align="absmiddle" alt="ğŸ˜¸" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f638.png" title=":smile_cat:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜¸" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f638.png" title=":smile_cat:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜¸" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f638.png" title=":smile_cat:" width="20px"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 03 Jul 2019 22:48:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-07-03:/capture-any-method-param-value.html</guid><category>Dynatrace</category><category>Observability</category><category>æœ€ä½³å®è·µ</category></item><item><title>éHTTPåº”ç”¨æˆ–æ‰¹å¤„ç†åº”ç”¨å¦‚ä½•è¿›è¡Œå…¨é“¾è·¯ç›‘æ§</title><link>https://www.EWhisper.cn/howto-monitor-nonHTTP-or-batchjob-application.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨è¿‘æœŸçš„åº”ç”¨æ€§èƒ½é—®é¢˜åˆ†æä¸­, æœ‰æ—¶å€™ä¼šå‘ç°ä¸šåŠ¡å¼‚å¸¸, ä½†æ˜¯å´æ— æ³•åœ¨APMç›‘æ§ä¸­æ‰¾åˆ°ç›¸å…³çš„è¯·æ±‚, è¿™å¯èƒ½æ˜¯ç”±äºè¯·æ±‚å¹¶éHTTPè¯·æ±‚, è€Œå¯èƒ½æ˜¯æ‰¹å¤„ç†æˆ–å…¶ä»–éHTTPè¯·æ±‚å¯¼è‡´çš„. å› æ­¤æ— æ³•ç›‘æ§åˆ†æ. &lt;/p&gt;
&lt;p&gt;å¦å¤–, æœ‰äº›æ—¶å€™, æˆ‘ä»¬æƒ³è¦äº†è§£è¿™ç±»åº”ç”¨çš„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCPè§£æ å¤„ç†æ€§èƒ½;&lt;/li&gt;
&lt;li&gt;æ‰¹å¤„ç†ä¸­SQLæ€§èƒ½...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆå°±éœ€è¦å¯¹éHTTPåº”ç”¨æˆ–æ‰¹å¤„ç†åº”ç”¨å¦‚ä½•è¿›è¡Œå…¨é“¾è·¯ç›‘æ§. ä¸‹é¢ä»‹ç»å¦‚ä½•å®ç°.&lt;/p&gt;
&lt;h2 id="_2"&gt;å…·ä½“å®ç°&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ¥ä¸‹æ¥å…·ä½“æ˜¯é€šè¿‡Dynatrace AppMon æ¥å®ç°å¯¹éHTTPåº”ç”¨æˆ–æ‰¹å¤„ç†åº”ç”¨çš„å…¨é“¾è·¯ç›‘æ§.&lt;/p&gt;
&lt;p&gt;ç›‘æ§å‰åçš„æ•ˆæœå¯¹æ¯”å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/monitor-nonHTTP-APP-before-after.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœªç›‘æ§ä¹‹å‰: çœ‹ä¸åˆ°ä¸€æ¡äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;ç›‘æ§å: äº‹åŠ¡æ•°å·¨ç»†æ— é—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“çš„å®ç°æ˜¯åˆ©ç”¨äº†Dynatraceçš„&lt;strong&gt;Entry Points&lt;/strong&gt;(å…¥å£ç‚¹)åŠŸèƒ½.&lt;/p&gt;
&lt;h3 id="_3"&gt;å…¥å£ç‚¹æ¦‚å¿µ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ª &lt;em&gt;entry point&lt;/em&gt; å°±æ˜¯ä¸€ä¸ªæ–°çš„PurePath(Dynatrace é‡Œçš„åè¯, å¯ä»¥ç†è§£ä¸ºä¸€æ¡äº‹åŠ¡)çš„å¼€å§‹. é€šè¿‡é€‚å½“çš„é…ç½®, æ”¾ç½®ä¸€ä¸ªé€‚å½“ä½ç½®çš„, æ´»åŠ¨çš„sensor(ä¼ æ„Ÿå™¨, Dynatraceç›‘æ§çš„å¾®æ¢é’ˆ)æ¥å®ç°. å¯¹äºåŸºæœ¬ç”¨æˆ·, è‡ªå¸¦çš„Sensor Packs(ä¼ æ„Ÿå™¨åŒ…) (å¦‚: Servlet, WebService, ASP.NET... å®ƒé€šè¿‡è¿™äº›å®ç°å¯¹HTTPåè®®è¯·æ±‚çš„ç›‘æ§)å°±å·²ç»å¤Ÿç”¨äº†.&lt;/p&gt;
&lt;h3 id="_4"&gt;å…·ä½“å®ç°æ­¥éª¤&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªäº‹åŠ¡æ²¡æœ‰è¢«æŠ“å–åˆ°(æ¯”å¦‚: muleçš„tcpè¯·æ±‚, æ‰¹å¤„ç†..), é‚£ä¹ˆå°±éœ€è¦ä»¥ä¸‹æ“ä½œæ­¥éª¤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;(å¯é€‰)åšCPUé‡‡æ ·, æ‰¾åˆ°&lt;em&gt;å…¥å£ç‚¹&lt;/em&gt; æ–¹æ³•&lt;/li&gt;
&lt;li&gt;é…ç½®æŒ‡å®šæ–¹æ³•çš„ä¼ æ„Ÿå™¨&lt;/li&gt;
&lt;li&gt;å°†ä¼ æ„Ÿå™¨è®¾ç½®ä¸º: &lt;strong&gt;æ´»åŠ¨å¹¶ä¸”å¯åŠ¨PurePaths&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;çƒ­éƒ¨ç½²æˆ–é‡å¯Agentç”Ÿæ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;æ‰¾åˆ°å…¥å£ç‚¹æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ æ˜¯ä¸€åå¼€å‘, ä¸”å¯¹ä½ è¦ç›‘æ§çš„ç¨‹åºçš„ &lt;em&gt;å…¥å£ç‚¹&lt;/em&gt; æ–¹æ³•äº†å¦‚æŒ‡æŒ, é‚£ä¹ˆåªéœ€è¦æä¾›è¿™ä¸ªæ–¹æ³•çš„å®Œæ•´åç§°å°±å¯ä»¥äº†. æ¯”å¦‚: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCPè¯·æ±‚çš„å…¥å£ç‚¹å¯èƒ½æ˜¯è¿™æ ·çš„: &lt;code&gt;com.xxxx.ap26.getaway.transport.tcp.protocol.AbstractTcpHeader&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Batch Jobçš„å…¥å£ç‚¹å¯èƒ½æ˜¯è¿™æ ·çš„: &lt;code&gt;org.*spring*framework.batch.thread.run&lt;/code&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ ä¸æ¸…æ¥š&lt;em&gt;å…¥å£ç‚¹&lt;/em&gt;æ–¹æ³•, å¯ä»¥é€šè¿‡&lt;strong&gt;CPUé‡‡æ ·&lt;/strong&gt;çš„æ–¹å¼è¿›è¡Œåˆ†æ. &lt;/p&gt;
&lt;p&gt;CPUé‡‡æ ·å¯ä»¥åˆ†æå½“å‰è¿è¡Œçš„çš„Javaæˆ– .NETç¨‹åºçš„çº¿ç¨‹å †æ ˆ, å¹¶æ‰¾å‡ºæ˜¯å¦ä¸€æŸä¸€ä¸ªæ–¹æ³•é•¿æ—¶é—´è¿è¡Œæˆ–è¢«é¢‘ç¹è°ƒç”¨.&lt;/p&gt;
&lt;p&gt;åˆ†ææµç¨‹å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»Dynatraceä¸Šçš„&lt;strong&gt;CPU é‡‡æ ·ä»ªè¡¨å›¾&lt;/strong&gt;. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="CPU é‡‡æ ·ä»ªè¡¨å›¾" src="images/dt_cpu_sampling_dashlet_1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åé€‰æ‹©ä½ è¦ç›‘æ§çš„åº”ç”¨Agent, ç‚¹å‡»ç¡®å®šè¿›è¡Œé‡‡æ ·. å¤§çº¦2åˆ†é’Ÿååœæ­¢é‡‡æ ·. &lt;/p&gt;
&lt;p&gt;&lt;img alt="å¯åŠ¨CPUé‡‡æ ·" src="./images/dt_cpu_sampling_dashlet_2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡‡æ ·å®Œæˆå, å¯¹æ ·æœ¬è¿›è¡Œåˆ†æ. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="é‡‡æ ·åˆ†æ" src="./images/dt_cpu_sampling_dashlet_3.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä¸Šå›¾, åˆ†æèµ·æ¥å…¶å®æŒºç®€å•. æˆ‘ä»¬è¦æ‰¾çš„ &lt;em&gt;å…¥å£ç‚¹&lt;/em&gt; æ–¹æ³•ä¸€èˆ¬æ»¡è¶³è¿™ä¹ˆå‡ ä¸ªæ¡ä»¶:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½äºçº¿ç¨‹æ ˆçš„è¾ƒåº•å±‚, ä½†æ˜¯è‚¯å®šåœ¨çº¿ç¨‹å¯åŠ¨æ–¹æ³•(å¦‚: &lt;code&gt;Thread.run&lt;/code&gt;)ä¹‹å&lt;/li&gt;
&lt;li&gt;è¢«é¢‘ç¹è°ƒç”¨(å¦‚æœæ˜¯tcpè¯·æ±‚è¿™ç±»çš„è¯) &lt;/li&gt;
&lt;li&gt;æ•´ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶é—´è¾ƒé•¿æˆ–CPUæ—¶é—´è¾ƒé•¿ (å¦‚æ‰¹å¤„ç†, æˆ–tcpå¤„ç†æŠ¥æ–‡)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸Šæ¡ä»¶, æˆ‘ä»¬ä¼šæ‰¾åˆ°é‚£ä¸ª &lt;em&gt;å…¥å£ç‚¹æ–¹æ³•&lt;/em&gt;, è¿™ä¸ªæ–¹æ³•åº”è¯¥å’Œå¤§ç¥å¼€å‘ç»™å‡ºæ¥çš„æ˜¯ä¸€æ ·çš„, æ¯”å¦‚å°±æ˜¯: &lt;code&gt;com.xxxx.ap26.getaway.transport.tcp.protocol.AbstractTcpHeader&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;é…ç½®è¯¥æ–¹æ³•çš„ä¼ æ„Ÿå™¨&lt;/h4&gt;
&lt;p&gt;æ‰¾åˆ°è¯¥æ–¹æ³•å, ç›´æ¥åœ¨ä¸Šå›¾é‡Œé€‰ä¸­è¯¥æ–¹æ³•, ç‚¹å‡»å³é”®, ä¼šå¼¹å‡ºä¸€ç³»åˆ—èœå•, é€‰æ‹©: &lt;strong&gt;æ·»åŠ è¿™ä¸ªæ–¹æ³•ä¸ºä¼ æ„Ÿå™¨&lt;/strong&gt;. ç„¶åä¼šå¼¹å‡ºå¦‚ä¸‹å¯¹è¯æ¡†:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç¼–è¾‘æ–¹æ³•è§„åˆ™" src="./images/dt_edit_method_rule.png"&gt;&lt;/p&gt;
&lt;h4&gt;å°†ä¼ æ„Ÿå™¨è®¾ç½®ä¸º: æ´»åŠ¨å¹¶ä¸”å¯åŠ¨PurePaths&lt;/h4&gt;
&lt;p&gt;è¿˜æ˜¯ä¸Šå›¾, å‹¾é€‰çº¢æ¡†ä¸­çš„: &lt;strong&gt;Allow to start PurePaths from this method (Entry Point)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®å¥½ä¹‹åç‚¹å‡»ç¡®å®š. &lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆç”Ÿæ•ˆå, å°±ä¼šå¯¹è¯¥æ–¹æ³•è¿›è¡Œå­—èŠ‚ç æ³¨å…¥, å¹¶ä¸”, åªè¦æ•è·åˆ°è¯¥æ–¹æ³•, å°±ä¼šè®¤ä¸ºè¯¥æ–¹æ³•æ˜¯ä¸€æ¡äº‹åŠ¡çš„&lt;em&gt;å…¥å£ç‚¹&lt;/em&gt;, åç»­è¯¥äº‹åŠ¡å¯èƒ½ä¼š:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨å…¶ä»–ä»»ä½•æ–¹æ³•&lt;/li&gt;
&lt;li&gt;è°ƒç”¨Web Service&lt;/li&gt;
&lt;li&gt;æ‰§è¡ŒSQL&lt;/li&gt;
&lt;li&gt;æŠ›å‡º Exception&lt;/li&gt;
&lt;li&gt;è¾“å‡º Error log&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éƒ½ä¼šè¢«å®Œæ•´çš„è®°å½•, è®°å½•å“åº”æ—¶é—´, æˆåŠŸ/å¤±è´¥, ç›¸å…³å‚æ•°, web service è¯·æ±‚, sqlè¯­å¥, å¼‚å¸¸å †æ ˆ, logæ—¥å¿—...åº”æœ‰å°½æœ‰.&lt;/p&gt;
&lt;h4&gt;çƒ­éƒ¨ç½²æˆ–é‡å¯Agentç”Ÿæ•ˆ&lt;/h4&gt;
&lt;p&gt;å½“ç„¶, è¿˜æ˜¯è¦ä½¿åˆšåˆšæ·»åŠ çš„æ–¹æ³•ç›‘æ§è§„åˆ™ç”Ÿæ•ˆæ‰ä¼šæœ‰ä¸€åˆ‡. è¦ä½¿ä¹‹ç”Ÿæ•ˆ, æœ‰2ç§åŠæ³•:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Dynatrace Agent  çƒ­éƒ¨ç½² (SUN JDK 1.6+)&lt;/li&gt;
&lt;li&gt;é‡å¯Dynatrace Agent (IBM JDK 6)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_5"&gt;æ•ˆæœ&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç”Ÿæ•ˆå‰, å¯èƒ½çœ‹ä¸åˆ°ä¸€æ¡äº‹åŠ¡; ç”Ÿæ•ˆå, å¯ä»¥çœ‹åˆ°æ¯ä¸€æ¡äº‹åŠ¡çš„ç»†èŠ‚. &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.5/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤º:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/mule-for-N-success-request.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 03 Jul 2019 19:45:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-07-03:/howto-monitor-nonHTTP-or-batchjob-application.html</guid><category>Dynatrace</category><category>Observability</category><category>æœ€ä½³å®è·µ</category></item><item><title>MULE æ— æ³•æ¥æ”¶TCPæŠ¥æ–‡é—®é¢˜åˆ†æ</title><link>https://www.EWhisper.cn/mule-cannot-receive-TCP-messages-problem-analysis.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿‘æœŸæŸä½¿ç”¨muleçš„é¡¹ç›®åœ¨ä¸Nå…¬å¸è”è°ƒæ—¶å‘ç°å¯¹æ–¹çš„è¯·æ±‚å­˜åœ¨ä¸¥é‡å»¶è¿Ÿ. è¯·æ±‚æ˜¯åŸºäºTCPåè®®çš„. é€šè¿‡ä¸€æ­¥æ­¥åˆ†æ, æœ€ç»ˆå®šä½åˆ°é—®é¢˜çš„æ ¹æºå¹¶è§£å†³. ä¹Ÿé€šè¿‡æœ¬æ–‡å¯¹æ•´ä¸ªè¿‡ç¨‹è¿›è¡Œä¸‹æ¢³ç†å’Œæ€»ç»“.&lt;/p&gt;
&lt;h2 id="_2"&gt;é—®é¢˜æè¿°&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æˆ‘æ˜¯6æœˆ24æ—¥çªç„¶è¢«æ‹‰è¿›ä¸€ä¸ªå¾®ä¿¡ç¾¤çš„. å½“æ—¶çš„æƒ…å†µæ˜¯: è¯¥é¡¹ç›®ç¢°åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜, å¼€å‘æ‰¾ä¸åˆ°é—®é¢˜æ ¹æº, å·²ç»è”ç³»è¿‡ä¸»æœºå’Œç½‘ç»œ, ä¹Ÿæ²¡æœ‰ä»€ä¹ˆè¿›å±•.&lt;/p&gt;
&lt;h3 id="_3"&gt;å¼€å‘çš„è¯¦ç»†æè¿°&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; é—®é¢˜è¯¦ç»†æè¿°:&lt;/p&gt;
&lt;p&gt;è¿‘æœŸæˆ‘ä»¬åœ¨ä¸Nå…¬å¸æ¸ é“ç«¯è¿›è¡Œè”è°ƒï¼Œå¯¹æ–¹é€šè¿‡ä¸“çº¿æ¥å…¥(TCPåè®®ä¼ è¾“)ï¼Œè®¿é—®æˆ‘æ–¹çš„å†…éƒ¨è”è°ƒç¯å¢ƒã€‚åœ¨è”è°ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°å¯¹æ–¹çš„è¯·æ±‚ï¼Œå­˜åœ¨å¾ˆä¸¥é‡çš„å»¶è¿Ÿç°è±¡ï¼Œç»å¸¸æ€§çš„å‡ºç°è¶…æ—¶ï¼Œæˆ–è€…é—´éš”åå‡ åˆ†é’Ÿåï¼Œæˆ‘æ–¹æ‰æ”¶åˆ°å¯¹æ–¹è¯·æ±‚ã€‚ä¸¥é‡å½±å“äº†è”è°ƒã€‚èƒ½å¦å¸®å¿™çœ‹çœ‹ï¼Œæ˜¯å“ªé‡Œæœ‰é—®é¢˜å¯¼è‡´çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç»å¤šæ¬¡è·Ÿè¸ªï¼Œå‡æœªæ‰¾åˆ°é—®é¢˜ï¼Œç›®å‰&lt;strong&gt;mule-for-Nå…¬å¸çš„åº”ç”¨ç¨‹åº&lt;/strong&gt;(éƒ¨ç½²åœ¨8110ç«¯å£)å·²ç»å®Œå…¨å‚ç…§&lt;strong&gt;å·²ä¸Šçº¿æ¸ é“&lt;/strong&gt;(éƒ¨ç½²åœ¨6040ç«¯å£)çš„åº”ç”¨ä»£ç æ ¼å¼ç¼–å†™ã€‚ä½†æ˜¯é‡æ–°è”è°ƒæ—¶ï¼Œæ¸ é“æ–¹åé¦ˆä¸€ç›´è¶…æ—¶read timed outï¼Œè”ç³»ç½‘ç»œç»„é‡æ–°è¿›è¡ŒæŠ“åŒ…ç¡®è®¤ï¼ŒæœåŠ¡å™¨æ˜¯æ­£å¸¸æ¥æ”¶æ¸ é“æ–¹è¯·æ±‚ï¼Œä½†æ˜¯åº”ç”¨ç¨‹åºè¿™è¾¹å´éœ€è¦åœ¨åå‡ äºŒååˆ†é’Ÿä¹‹åæ‰èƒ½æ¥æ”¶åˆ°æ¸ é“è¯·æ±‚ï¼Œæ‰€ä»¥è¯·è€å¸ˆå¸®å¿™çœ‹ä¸‹ï¼Œèƒ½å¦é…åˆæ£€æµ‹ä¸‹ä»xxæœºå™¨ç¼“å­˜å­—æ®µæ¥æ”¶åŒºåˆ†å‘åˆ°åº”ç”¨æœåŠ¡ç«¯å£ä¹‹é—´çš„çŠ¶æ€æƒ…å†µã€‚&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_4"&gt;é—®é¢˜åˆ†ææµç¨‹&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¦åˆ†æé—®é¢˜, æœ€é‡è¦çš„æ˜¯2ä»¶äº‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å°½å¯èƒ½å¤šçš„ç»†èŠ‚&lt;/strong&gt;. å¹¶ä¸”åœ¨è¿™äº›ç»†èŠ‚ä¸­, åˆ†æ¸…æ¥š:&lt;ol&gt;
&lt;li&gt;å“ªäº›æ˜¯&lt;strong&gt;æ—¢å®šäº‹å®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å“ªäº›æ˜¯&lt;strong&gt;é˜è¿°è€…è‡ªå·±çš„åˆ¤æ–­&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯¹ä»»ä½•äº‹æƒ…éƒ½ä¿æŒæ€€ç–‘&lt;/strong&gt;. å“ªæ€•æ˜¯:&lt;ol&gt;
&lt;li&gt;æ—¢å®šäº‹å®.  æˆ–&lt;/li&gt;
&lt;li&gt;ä½ è®¤ä¸ºæ‰€æœ‰äººéƒ½ç»ä¸å¯èƒ½çŠ¯çš„ç®€å•é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_5"&gt;é—®é¢˜æ¢³ç†&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â“‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/24c2.png" title=":m:" width="20px"&gt; å†æ¬¡å›é¡¾ä¸€ä¸‹&lt;a href="#å¼€å‘çš„è¯¦ç»†æè¿°"&gt;å¼€å‘çš„è¯¦ç»†æè¿°&lt;/a&gt;, äº‹å®æœ‰:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸“çº¿æ¥å…¥&lt;/li&gt;
&lt;li&gt;TCPåè®®ä¼ è¾“&lt;/li&gt;
&lt;li&gt;è¯·æ±‚ç»å¸¸æ€§çš„å‡ºç°è¶…æ—¶&lt;/li&gt;
&lt;li&gt;æ¸ é“æ–¹åé¦ˆä¸€ç›´è¶…æ—¶read timed out&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æ˜¯æ­£å¸¸æ¥æ”¶æ¸ é“æ–¹è¯·æ±‚&lt;/li&gt;
&lt;li&gt;æ¢å¦ä¸€ä¸ªmule(6040) app, åº”ç”¨å¯ä»¥ç«‹é©¬æ”¶åˆ°. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â“‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/24c2.png" title=":m:" width="20px"&gt;å¼€å‘è‡ªå·±çš„åˆ¤æ–­æ˜¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜&lt;/li&gt;
&lt;li&gt;å¯èƒ½æ˜¯æ‰€åœ¨çš„æœºå™¨ç¼“å­˜å­—æ®µæ¥æ”¶åŒºåˆ†å‘åˆ°åº”ç”¨æœåŠ¡ç«¯å£ä¹‹é—´å¯èƒ½æœ‰é—®é¢˜. (ä¸»æœºé—®é¢˜)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="-624"&gt;ç¬¬ä¸€å¤© - 6æœˆ24æ—¥&lt;a class="headerlink" href="#-624" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;ä¸»æœºç½‘ç»œæƒ…å†µäº†è§£&lt;/h4&gt;
&lt;p&gt;å½“å‰çš„æƒ…å†µæ˜¯:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œç»„å·²ç»æŠ“åŒ…äº†, åŸºæœ¬å¯ä»¥ç¡®å®šä¸æ˜¯ç½‘ç»œé—®é¢˜. (ä½†æ˜¯è¯æ®ä¸å¤Ÿå¼ºæœ‰åŠ›)&lt;/li&gt;
&lt;li&gt;ä¸»æœºç»„æ— æ³•è‡ªè¯æ‰€è°“çš„: &lt;em&gt;æ‰€åœ¨çš„æœºå™¨ç¼“å­˜å­—æ®µæ¥æ”¶åŒºåˆ†å‘åˆ°åº”ç”¨æœåŠ¡ç«¯å£ä¹‹é—´çš„çŠ¶æ€&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‰ä¸€å¤©æ˜¯æ¢³ç†å¥½å¼€å‘çš„æè¿°, ä¸»æœºå’Œç½‘ç»œç»„ä¹Ÿåšäº†äº›æµ‹è¯•åˆ†æ, ä»Šå¤©é¦–å…ˆè¦åšçš„å°±æ˜¯è¯¢é—®ä»–ä»¬çš„æµ‹è¯•åˆ†ææƒ…å†µ.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; ä¸»æœºå’Œç½‘ç»œç»„çš„åé¦ˆ:&lt;/p&gt;
&lt;p&gt;"æˆ‘ä»æœåŠ¡å™¨æŠ“åŒ… èƒ½æ­£å¸¸æ¥æ”¶åˆ°å¯¹æ–¹çš„åŒ…, ä½†æ˜¯åº”ç”¨ä¸èƒ½åŠæ—¶æ”¶åˆ°" &lt;/p&gt;
&lt;p&gt;"æœåŠ¡å™¨ä¸Šé¢æŠ“åŒ…ï¼Œæ˜¾ç¤ºæ”¶åˆ°æŠ¥æ–‡äº†, ä¹Ÿå›å¤ackäº†. æ˜¯&lt;strong&gt;å®æ—¶&lt;/strong&gt;æ”¶åˆ°çš„."&lt;/p&gt;
&lt;p&gt;"ä»–æ¢äº†6040ç«¯å£ï¼Œåº”ç”¨å¯ä»¥ç«‹é©¬æ”¶åˆ°. 8110ç«¯å£å°±æœ‰é—®é¢˜, æœåŠ¡å™¨ä¸Šèƒ½æ”¶åˆ°ï¼Œå°±æ˜¯ä»–åº”ç”¨æ”¶ä¸åˆ°"&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯¹ä»¥ä¸Šçš„æè¿°æ¢³ç†å, äº‹å®æ²¡æœ‰æ›´æ–°, ä½†æˆ‘è‡ªå·±&lt;strong&gt;åŸºæœ¬ä¸Šæ–­å®šé—®é¢˜å’Œä¸»æœº/ç½‘ç»œæ— å…³, è€Œåº”è¯¥æ˜¯åº”ç”¨çš„é—®é¢˜&lt;/strong&gt;. æ–°å¢åˆ¤æ–­:&lt;/p&gt;
&lt;p&gt;â“‚ï¸ä¸»æœºç½‘ç»œçš„åˆ¤æ–­ä¹Ÿæ˜¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯èƒ½æ˜¯åº”ç”¨é—®é¢˜.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯å°½å¯èƒ½çš„&lt;strong&gt;å¢åŠ åº”ç”¨çš„å¯è§‚å¯Ÿæ€§&lt;/strong&gt;äº†, å‘ç”Ÿé—®é¢˜æœŸé—´, metricsæŒ‡æ ‡è‚¯å®šæ²¡é—®é¢˜, æ—¥å¿—ä¹Ÿæ‰¾ä¸åˆ°é—®é¢˜. é‚£ä¹ˆè¿™æ—¶å€™å°±åªèƒ½ç”¨åˆ°&lt;strong&gt;APMç›‘æ§&lt;/strong&gt;äº†.&lt;/p&gt;
&lt;h4&gt;è£…åº”ç”¨ç›‘æ§&lt;/h4&gt;
&lt;p&gt;è¿™è¾¹æœ‰ä¸ªå°æ’æ›², æˆ‘ä¹Ÿå¤§è‡´æè¿°ä¸€ä¸‹å§.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;APMç›‘æ§&lt;/strong&gt;, æˆ‘è¿™è¾¹æœ‰2å¥—:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼€æºAPM - pinpoint&lt;/li&gt;
&lt;li&gt;å•†ä¸šAPM - Dynatrace AppMon&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…ˆè£…pinpoint, è£…å®Œpinpoint agenté‡å¯å, å‘ç°æ‹¿ä¸åˆ°è¯·æ±‚æ•°æ®. æ‹¿ä¸åˆ°æ•°æ®2ä¸ªåŸå› :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mule è¿™ä¸ªç»„ä»¶æ¯”è¾ƒç‰¹æ®Š, æ²¡æœ‰å¯¹åº”çš„æ’ä»¶;&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡ç›´æ¥èµ°çš„4å±‚TCPåè®®, pinpointæ— æ³•æŠ“åˆ°4å±‚TCP.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥æœ€åè¿˜æ˜¯å®‰è£…Dynatraceäº†ç›‘æ§.&lt;/p&gt;
&lt;h3 id="-625"&gt;ç¬¬äºŒå¤© - 6æœˆ25æ—¥&lt;a class="headerlink" href="#-625" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Dynatraceå·²ç›‘æ§, ç»è¿‡é…ç½®å(é»˜è®¤ä¹ŸæŠ“ä¸åˆ°, å› ä¸º&lt;strong&gt;å…¥å£ç‚¹&lt;/strong&gt;ä¸æ˜¯å¸¸ç”¨çš„åº”ç”¨ä¼ è¾“åè®®. å¦å¤–åç»­ä¼šæœ‰å¦ä¸€ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•è¿›è¡Œè¿™äº›é«˜é˜¶ç›‘æ§é…ç½®)å¯ä»¥çœ‹åˆ°muleçš„æ‰€æœ‰&lt;strong&gt;Transaction&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”Ÿæ•ˆåå†è¿›è¡Œè”è°ƒ, å‘ç°æƒ…å†µ: &lt;strong&gt;mule-forNå…¬å¸&lt;/strong&gt;åº”ç”¨ &lt;strong&gt;ç«‹é©¬&lt;/strong&gt;å°±å¯ä»¥æ¥æ”¶åˆ°æŠ¥æ–‡çš„, åªæ˜¯æ¥æ”¶äº†ä¹‹åå¤„ç†å¿…è¶…æ—¶. å…¶å®è¿™é‡Œå°±å¯ä»¥æ–­å®šä¸æ˜¯ä¸»æœºå’Œç½‘ç»œçš„é—®é¢˜äº†. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="è¯·æ±‚è¶…æ—¶" src="./images/mule-for-N-timeout.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆæ­¥æ€€ç–‘æ˜¯"æ¥æ”¶æŠ¥æ–‡"çš„æ–¹æ³•å¯èƒ½æœ‰é—®é¢˜. é—®å¼€å‘, å¼€å‘ä¸çŸ¥é“æ˜¯å“ªä¸ªæ–¹æ³•. ä¸ªäººæ ¹æ®æ–¹æ³•æ ‘åˆ¤æ–­, å¯èƒ½æ˜¯: &lt;code&gt;com.xxxx.ap26.gateway.transport.tcp.protocol.TcpHeaderProtocol.readFully(byte[], int, int)&lt;/code&gt; (ç¿»åˆ°ç»“è®ºå¯ä»¥å‘ç°, æˆ‘ä¸ªäººåˆ¤æ–­çš„å¹¶ä¸æ˜¯å®Œå…¨å‡†ç¡®), é’ˆå¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡Œæ›´ç»†ç²’åº¦ç›‘æ§. (åŠ å…¥sensor, æŠ“å–ç¬¬ä¸‰ä¸ªå‚æ•°&lt;code&gt;int&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŠ å…¥å, å‘ç°ä¼šè°ƒç”¨4æ¬¡, å‰3æ¬¡éƒ½å¾ˆå¿«, ç¬¬4æ¬¡è¶…æ—¶. ç¬¬å››æ¬¡&lt;code&gt;int&lt;/code&gt;æ˜¯&lt;strong&gt;416&lt;/strong&gt;æŠ¥æ–‡é•¿åº¦. ä½†æ˜¯è¿™ä¸ªå´æ‰§è¡Œäº†è¿‘500s. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="è°ƒç”¨è¶…æ—¶" src="./images/mule-for-N-failed-request.png"&gt;&lt;/p&gt;
&lt;p&gt;ä½œä¸ºå¯¹æ¯”, æ­£å¸¸çš„è¯·æ±‚æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;p&gt;&lt;img alt="æ­£å¸¸çš„è¯·æ±‚" src="./images/mule-for-N-success-request.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;ç¬¬äºŒå¤©åˆæ­¥ç»“è®º&lt;/h4&gt;
&lt;p&gt;ç¬¬äºŒå¤©ä¸»è¦æ˜¯é…ç›‘æ§å’Œè”è°ƒ. ç›®å‰å¾—åˆ°çš„åˆæ­¥ç»“è®ºæœ‰: &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Nå…¬å¸å‘è¿‡æ¥çš„, ä¸è®ºæ˜¯å‘åˆ°mule-forNå…¬å¸ 8110ç«¯å£è¿˜æ˜¯å·²ä¸Šçº¿æ¸ é“6040ç«¯å£, éƒ½æ˜¯450-500s è¶…æ—¶. ä¸€ç›´åœ¨socketReadè¯»å–æ•°æ®. (ä¹Ÿæ˜¯é€šè¿‡ç›‘æ§çœ‹åˆ°çš„, æ‰€ä»¥ä¹‹å‰çš„&lt;a href="#é—®é¢˜æ¢³ç†"&gt;äº‹å®&lt;/a&gt;: &lt;em&gt;æ¢å¦ä¸€ä¸ªmule(6040) app, åº”ç”¨å¯ä»¥ç«‹é©¬æ”¶åˆ°&lt;/em&gt; å¹¶ä¸æ˜¯äº‹å®. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‚¯å®šä¸æ˜¯ç½‘ç»œå’Œä¸»æœºçš„é—®é¢˜&lt;/strong&gt;. å› ä¸ºmuleå·²ç»æ”¶åˆ°äº†.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‚¯å®šæ˜¯åº”ç”¨çš„é—®é¢˜&lt;/strong&gt;. å› ä¸ºmuleåœ¨å¤„ç†ä¸”åœ¨å¼€å‘è‡ªå·±å†™çš„ä»£ç å¤„è¶…æ—¶äº†. (å…·ä½“è§ä¸Šå›¾)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è‡³æ­¤, æˆ‘çš„æ€€ç–‘ç‚¹æœ‰3:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ€€ç–‘&lt;strong&gt;æŠ¥æ–‡ä¼ è¾“å¤„ç†è¿‡ç¨‹å‡ºé”™&lt;/strong&gt;: çœ‹ä¸€ä¸‹æŠ¥æ–‡ä¼ è¾“æˆ–è€…å¤„ç†è¿‡ç¨‹ä¸­æ˜¯ä¸æ˜¯å‡ºç°é—®é¢˜äº†, æŠ¥æ–‡é•¿åº¦416, ä½†æ˜¯è¯»å–äº†480å¤šsè¿˜åœ¨è¯»å–. &lt;/li&gt;
&lt;li&gt;æ€€ç–‘&lt;strong&gt;ç¼–ç é—®é¢˜&lt;/strong&gt;: æˆ‘è¿˜æ˜¯è§‰å¾—å¯èƒ½è·ŸæŠ¥æ–‡çš„ç¼–ç æ ¼å¼é—®é¢˜æœ‰å…³ç³». å»ºè®®å¯¹ä¸€ä¸‹æŠ¥æ–‡çš„ç¼–ç æ ¼å¼. (è¿™ä¸ªæ€€ç–‘åæ¥éªŒè¯ä¸æˆç«‹)&lt;/li&gt;
&lt;li&gt;æ€€ç–‘å¼€å‘çš„&lt;strong&gt;TCPç›¸å…³æ–¹æ³•å®ç°é—®é¢˜&lt;/strong&gt;: &lt;code&gt;com.xxxx.ap26.gateway.transport.tcp.protocol.TcpHeaderProtocol.readFully(java.io.InputStream, byte[], int, int)&lt;/code&gt;  è¿™ä¸ªæ–¹æ³•å®ç°å¯èƒ½æœ‰é—®é¢˜ (è¿™ä¸ªæ€€ç–‘å…¶å®åé¢ä¹Ÿè¢«è¯æ˜ä¸æ­£ç¡®)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="-628"&gt;ç¬¬äº”å¤© - 6æœˆ28æ—¥&lt;a class="headerlink" href="#-628" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä¸æ˜¯å¼€å‘, æˆ‘æœ€ç»ˆåªèƒ½å°†æ€€ç–‘èŒƒå›´ç¼©å°åˆ°åº”ç”¨ç›¸å…³çš„3ç‚¹. æˆ‘è¿™è¾¹æ ¹æ®ç›‘æ§å’Œåˆ¤æ–­, ç»™å‡ºäº†æˆ‘çš„å»ºè®®å’Œåç»­çš„è°ƒæŸ¥æ–¹å‘. å¼€å‘è€å¸ˆä¹Ÿæ˜¯ä¸è´Ÿä¼—æœ›, æœ€ç»ˆå®šä½åˆ°äº†é—®é¢˜çš„æ ¹æº. &lt;/p&gt;
&lt;h4&gt;é—®é¢˜æ ¹å› è¯¦ç»†è¯´æ˜&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¼€å‘è€å¸ˆçš„æ ¹å› è¯¦ç»†è¯´æ˜:&lt;/p&gt;
&lt;p&gt;é—®é¢˜å®šä½åˆ°äº†ï¼Œmuleçš„ä¸€ä¸ªgetwayæ–¹æ³•å¯¹æ¸ é“è¯·æ±‚åšTCPè§£æåå†æŠŠæ¶ˆæ¯è½¬ç»™mule-forNå…¬å¸ 8110ç«¯å£ï¼Œç°åœ¨æ˜¯æ¥æ”¶åˆ°æ¸ é“416ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯é‡æ–°readçš„æ—¶å€™åªreadåˆ°400ä¸ªå­—ç¬¦ï¼Œå‰©ä½™16ä¸ªreadä¸åˆ°ï¼Œç„¶åå°±ä¸€ç›´åœ¨ç­‰å¾…çŠ¶æ€(&lt;em&gt;ç­‰å¾…&lt;/em&gt;ä¸å‡†ç¡®, å…¶å®æ˜¯IOçŠ¶æ€, åœç•™çš„æ–¹æ³•ä¸º&lt;code&gt;java.net.SocketInputStream.socketRead0&lt;/code&gt;)äº†ï¼Œä»readfullyæ–¹æ³•é‡Œå‡ºä¸æ¥.&lt;/p&gt;
&lt;p&gt;çœŸæ­£æœ‰é—®é¢˜çš„, å®é™…ä¸Šæ˜¯ &lt;code&gt;com.xxxx.ap26.gateway.transport.tcp.protocol.TcpHeaderProtocol.readFully(java.io.InputStream, byte[], int, int)&lt;/code&gt;çš„ä¸Šä¸€ä¸ªæ–¹æ³•, åš&lt;strong&gt;TCPè§£æ&lt;/strong&gt;çš„æ–¹æ³•: &lt;code&gt;com.xxxx.ap26.getaway.transport.tcp.protocol.AbstractTcpHeader&lt;/code&gt;. (&lt;code&gt;xxx.TcpHeaderProtocol.readFully&lt;/code&gt; æ–¹æ³•è¯»å–tcp, è¯»å–tcpä¹‹å‰&lt;code&gt;xxx.tcp.protocol.AbstractTcpHeader&lt;/code&gt; åšè§£æ)&lt;/p&gt;
&lt;p&gt;å°±å¡åœ¨&lt;code&gt;int readLen = inputStream.read(buffer,bytesOffset,remain);&lt;/code&gt;è¿™ä¹ˆä¸€è¡Œä»£ç ä¸Šï¼Œ  bufferæ˜¯æ¯æ¬¡è¯»å–å­—èŠ‚æ•°ï¼Œæ¯”å¦‚1024ï¼ŒbytesOffsetæ˜¯å­—èŠ‚èµ·å§‹ç´¢å¼•ï¼Œremainæ˜¯éœ€è¦è¯»å–çš„å­—èŠ‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æ£€æµ‹æ¸ é“ä¼ è¿›æ¥çš„æŠ¥æ–‡ï¼Œæ˜¯416ä¸ªå­—èŠ‚ï¼Œ&lt;code&gt;remain=416&lt;/code&gt;ï¼Œä½†æ˜¯readçš„ç»“æœæ˜¯&lt;code&gt;readLen=400&lt;/code&gt;ï¼Œå°‘äº†16ä¸ªå­—èŠ‚ï¼Œä»–ä¼šå¾ªç¯å†è¯»ï¼Œè¯»ä¸åˆ°å°±ä¸€ç›´å¡åœ¨è¿™äº†&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_6"&gt;æ ¹å› åŠè§£å†³åŠæ³•&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_7"&gt;&lt;img align="absmiddle" alt="ğŸ›" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f41b.png" title=":bug:" width="20px"&gt; æ ¹å› :&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç¡®å®æ˜¯TCPç›¸å…³æ–¹æ³•å®ç°çš„é—®é¢˜, è§£æTCPçš„æ–¹æ³•æœ‰é—®é¢˜, å¯¼è‡´æŠ¥æ–‡å¤„ç†è¿‡ç¨‹å‡ºé”™, ä»è€Œå¯¼è‡´æŠ¥æ–‡å¤„ç†è¶…æ—¶&lt;/strong&gt;.&lt;/p&gt;
&lt;h3 id="_8"&gt;&lt;img align="absmiddle" alt="âœ”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; è§£å†³åŠæ³•&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¼€å‘åé¦ˆçš„è§£å†³åŠæ³•:&lt;/p&gt;
&lt;p&gt;è§£å†³äº†ï¼Œæ¢äº†ç§æ–¹å¼ï¼Œ&lt;code&gt;tcpheader&lt;/code&gt;æ˜¯æˆ‘ä»¬è‡ªå·±å°è£…çš„ï¼Œç°åœ¨ä¸ç”¨å®ƒäº†ï¼Œç›´æ¥ç”¨åŸç”ŸTCPå¯¹è±¡è§£æ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_9"&gt;æ„Ÿæ‚Ÿå’Œç»“è®º&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç°åœ¨å·²ç»9012å¹´äº†, ç½‘ç»œå‡ºé—®é¢˜çš„æ¦‚ç‡å¾ˆå°. ç¢°åˆ°é—®é¢˜, è¯·ä¸è¦æŠŠç½‘ç»œåˆ—ä¸ºç¬¬ä¸€æ€€ç–‘ç‚¹, è¿™ä¸ªä¼šå¸¦ååˆ†ææ–¹å‘;&lt;/li&gt;
&lt;li&gt;å‡ºé—®é¢˜, è‡ªå·±ä»£ç é—®é¢˜æ¦‚ç‡æœ€å¤§, å…¶æ¬¡æ‰æ˜¯: æ¡†æ¶, javaæºä»£ç , ä¸»æœº, ç½‘ç»œ...  æ‰€ä»¥é¦–å…ˆè¦åšçš„åº”è¯¥æ˜¯å¢åŠ è‡ªå·±åº”ç”¨çš„å¯è§‚å¯Ÿæ€§.&lt;/li&gt;
&lt;li&gt;å¼€å‘å¦‚ä½•å¢åŠ ä»£ç çš„å¯è§‚å¯Ÿæ€§? &lt;ol&gt;
&lt;li&gt;åšthreaddumpå’Œcpué‡‡æ ·&lt;/li&gt;
&lt;li&gt;åŠ debugæ—¥å¿—&lt;/li&gt;
&lt;li&gt;åštraceåˆ†æ. &lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;APMç›‘æ§çœŸæ˜¯ä¸ªåˆ†æé—®é¢˜çš„ç¥å™¨, åƒè¿™ç§æ—¢ä¸æ˜¯å¸¸ç”¨è½¯ä»¶(å¦‚tomcat, nginx...), åˆä¸æ˜¯é€šç”¨åè®®(å¦‚: HTTP/ web service...)çš„æƒ…å†µ, APMè¿˜æ˜¯èƒ½è¿½æ ¹æº¯æº. é¡ºä¾¿è¿˜èƒ½å¸®åŠ©ä¸»æœºç½‘ç»œç»„è€å¸ˆè‡ªè¯æ¸…ç™½. &lt;img align="absmiddle" alt="ğŸ˜œ" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f61c.png" title=":stuck_out_tongue_winking_eye:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜œ" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f61c.png" title=":stuck_out_tongue_winking_eye:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜œ" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f61c.png" title=":stuck_out_tongue_winking_eye:" width="20px"&gt;&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 02 Jul 2019 18:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-07-02:/mule-cannot-receive-TCP-messages-problem-analysis.html</guid><category>java</category><category>Dynatrace</category><category>é—®é¢˜åˆ†æ</category><category>Observability</category></item><item><title>æˆ‘çš„ä¸ªäººåšå®¢å¯ç”¨CDNå•¦:tada:</title><link>https://www.EWhisper.cn/my-blog-start-using-cdn.html</link><description>&lt;p&gt;2019å¹´6æœˆ28æ—¥èµ·, æˆ‘çš„ä¸ªäººåšå®¢ - https://www.EWhisper.cn æ­£å¼å¯ç”¨CDNäº†! &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;æ•°æ®æµå‘&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰çš„æ•°æ®æµé‡å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ· -&amp;gt; åŸŸå -&amp;gt; DNS -&amp;gt; è…¾è®¯äº‘ä¸»æœºå¤–ç½‘IP -&amp;gt; è…¾è®¯äº‘ä¸»æœºå†…ç½‘IP -&amp;gt; &lt;strong&gt;Docker SDNç«¯å£æ˜ å°„&lt;/strong&gt;(443æŒ‡å‘dockerçš„443, 80ä¹‹ä¸‹é‚£ä¸ªdockerçš„80) -&amp;gt; Dockerçš„NGINXå®¹å™¨çš„ 80å’Œ443ç«¯å£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç°åœ¨åŠ äº†ä¸€å±‚CDN, å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ· -&amp;gt; åŸŸå -&amp;gt; &lt;strong&gt;CDN&lt;/strong&gt; -&amp;gt; DNS -&amp;gt; è…¾è®¯äº‘ä¸»æœºå¤–ç½‘IP -&amp;gt; è…¾è®¯äº‘ä¸»æœºå†…ç½‘IP -&amp;gt; &lt;strong&gt;Docker SDNç«¯å£æ˜ å°„&lt;/strong&gt;(443æŒ‡å‘dockerçš„443, 80ä¹‹ä¸‹é‚£ä¸ªdockerçš„80) -&amp;gt; Dockerçš„NGINXå®¹å™¨çš„ 80å’Œ443ç«¯å£&lt;/p&gt;
&lt;p&gt;&lt;img alt="åŠ äº†CDNçš„ç½‘ç»œæ‹“æ‰‘" src="./images/my-blog-cdn-tuopu.png"&gt;&lt;/p&gt;
&lt;h2 id="cdn"&gt;ä¸ºä»€ä¹ˆéœ€è¦CDN&lt;a class="headerlink" href="#cdn" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;CDN: ä¸­æ–‡å å†…å®¹åˆ†å‘ç½‘ç»œ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_2"&gt;ç—›ç‚¹&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘ç°åœ¨çš„äº‘ä¸»æœºåªæœ‰5Må¸¦å®½, æœ‰æ—¶å°±ä¸€ä¸ªäººè®¿é—®é¡µé¢, ä¹Ÿä¼šè§¦å‘å¸¦å®½å‘Šè­¦. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="è…¾è®¯äº‘å¸¦å®½å‘Šè­¦" src="./images/bandwidth-alarm.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºæˆ‘çš„æœ‰äº›æ–‡ç« , å›¾ç‰‡å¤ªå¤š, ä¸€æ¬¡æ€§åŠ è½½å°±ä¼šå¯¼è‡´5Må¸¦å®½ç¬é—´å æ»¡.&lt;/p&gt;
&lt;p&gt;å¦å¤–, ç”±äºæˆ‘è´­ä¹°çš„æ˜¯ä¸€å°ä¸Šæµ·çš„è…¾è®¯äº‘ä¸»æœº, é‚£ä¹ˆå…¶ä»–åœ°åŸŸæˆ–è€…å®½å¸¦è®¿é—®æˆ‘çš„ç½‘ç«™æœ‰æ—¶å€™ä¼šæ¯”è¾ƒæ…¢.&lt;/p&gt;
&lt;h3 id="cdn_1"&gt;CDNä½œç”¨&lt;a class="headerlink" href="#cdn_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CDNé€šå¸¸ç”¨äºä»¥ä¸‹4ä¸ªåœºæ™¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é™æ€èµ„æºå­˜å‚¨(å¦‚å›¾ç‰‡ç­‰. æˆ‘æ˜¯è¿™ä¸ªåœºæ™¯.)&lt;/li&gt;
&lt;li&gt;è¶…å¤§æ–‡ä»¶åˆ†å‘(å¦‚å®‰è£…åŒ…ç­‰)&lt;/li&gt;
&lt;li&gt;è§†é¢‘ç‚¹æ’­&lt;/li&gt;
&lt;li&gt;è§†é¢‘ç›´æ’­&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†ç½‘ç«™å†…å®¹å‘å¸ƒåˆ°æœ€æ¥è¿‘ç”¨æˆ·çš„è¾¹ç¼˜èŠ‚ç‚¹ï¼Œä½¿ç½‘æ°‘å¯å°±è¿‘å–å¾—æ‰€éœ€å†…å®¹ï¼Œæé«˜ç½‘æ°‘è®¿é—®çš„å“åº”é€Ÿåº¦å’ŒæˆåŠŸç‡ï¼ŒåŒæ—¶èƒ½å¤Ÿä¿æŠ¤æºç«™ã€‚è§£å†³ç”±äºåœ°åŸŸã€å¸¦å®½ã€è¿è¥å•†æ¥å…¥ç­‰é—®é¢˜å¸¦æ¥çš„è®¿é—®å»¶è¿Ÿé«˜é—®é¢˜ï¼Œæœ‰æ•ˆå¸®åŠ©ç«™ç‚¹æå‡è®¿é—®é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—®åŠ é€Ÿ: æˆ‘çš„ç½‘ç«™å…¨ç«™éƒ½æ˜¯é™æ€é¡µé¢, å¯ä»¥å®ç°é™æ€èµ„æºå…¨ç«™åŠ é€Ÿ.&lt;/li&gt;
&lt;li&gt;èŠ‚æµ: ç”¨æˆ·å¤§éƒ¨åˆ†è®¿é—®ç›´æ¥å¯ä»¥é€šè¿‡CDNè·å–, æˆ‘çš„äº‘ä¸»æœºå¯ä»¥èŠ‚æµ.&lt;/li&gt;
&lt;li&gt;æ•°æ®ç›‘æ§/åˆ†æ: ç°åœ¨CDNå¾€å¾€ä¹Ÿä¼šå¯¹å…¨ç½‘æ•°æ®è¿›è¡ŒåŠ å†œ, æä¾›å¸¦å®½æµé‡ è¯·æ±‚æ¬¡æ•°ç­‰å…¨æ™¯æ•°æ®æŠ¥è¡¨åŠåˆ†æ.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="cdn_2"&gt;å¦‚ä½•é…ç½®CDN&lt;a class="headerlink" href="#cdn_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;æ­¤å¤„ä»¥ç™¾åº¦äº‘CDNä¸ºä¾‹, å…¶ä»–CDNè¦å¡«å†™çš„å†…å®¹å¤§åŒå°å¼‚.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="cdn_3"&gt;å¼€é€šCDNæœåŠ¡.&lt;a class="headerlink" href="#cdn_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨çš„æ˜¯&lt;a href="https://cloud.baidu.com/product/cdn.html"&gt;ç™¾åº¦çš„CDN&lt;/a&gt;. å¼€é€šå¾ˆç®€å•, å°±æ˜¯æ³¨å†Œè´¦å·, å®åè®¤è¯, å¼€é€š...&lt;/p&gt;
&lt;h3 id="cdn_4"&gt;æ¥å…¥CDNæœåŠ¡&lt;a class="headerlink" href="#cdn_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨CDNæ§åˆ¶å°ï¼Œç‚¹å‡»â€œåŸŸåç®¡ç†â€ï¼Œè¿›å…¥â€œæ·»åŠ æ–°åŸŸåâ€é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="ä½¿ç”¨cdn-1" src="./images/use-cdn-1.png"&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦å¡«å†™çš„å…³é”®ä¿¡æ¯: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸šåŠ¡åˆ†ç±»(å›¾ç‰‡å°æ–‡ä»¶åŠ é€Ÿ); &lt;/li&gt;
&lt;li&gt;æˆ‘çš„åšå®¢åŸŸå(&lt;www.ewhisper.cn&gt;);&lt;/li&gt;
&lt;li&gt;æºç«™ç±»å‹: IPåœ°å€(å› ä¸ºå°±1å°æœºå™¨, IPåœ°å€ä¸å˜); &lt;/li&gt;
&lt;li&gt;ä¸»æºç«™åœ°å€: æˆ‘çš„äº‘ä¸»æœºå…¬ç½‘IP.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œè¿›å…¥â€œç¼“å­˜è¿‡æœŸé…ç½®â€é¡µé¢ã€‚(é»˜è®¤é…ç½®å°±å¥½; æˆ–è€…æŠŠä½ çŸ¥é“çš„é™æ€ç›®å½•å’Œé™æ€æ–‡ä»¶å…¨ç¼“å­˜äº†)&lt;/p&gt;
&lt;p&gt;&lt;img alt="é…ç½®cdn-2" src="./images/use-cdn-2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(é€‰å¡«)å¡«å†™é…ç½®ä¿¡æ¯ï¼Œæ ¹æ®å®é™…éœ€æ±‚ï¼Œæ‚¨å¯åœ¨æ­¤æ­¥éª¤å®Œæˆâ€œç¼“å­˜è¿‡æœŸæ—¶é—´â€ã€â€œç¼“å­˜keyè®¡ç®—ç­–ç•¥â€ã€â€œé˜²ç›—é“¾â€ã€â€œå®‰å…¨é˜²æŠ¤â€å’Œâ€œè§†é¢‘æ‹–æ‹½â€çš„è®¾ç½®ï¼Œæ¥å…¥CDNæ—¶æ‚¨å¯ä»¥é€‰æ‹©ç¼ºçœé…ç½®ï¼Œå®Œæˆæ¥å…¥åï¼Œå¯ä»¥åœ¨æ§åˆ¶å°è¿›è¡Œé…ç½®ä¸ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¡®è®¤é…ç½®æ— è¯¯åè¯·ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œé¡µé¢æç¤ºâ€œæ·»åŠ æˆåŠŸâ€ã€‚æ‚¨å¯ä»¥ç‚¹å‡»â€œç®¡ç†æ§åˆ¶å°â€è¿›è¡Œç»‘å®šCNAMEã€åŸŸåç®¡ç†ã€åˆ·æ–°ç¼“å­˜å’Œèµ„æºç›‘æ§ç­‰æ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(é€‰å¡«)å› ä¸ºæˆ‘å¯ç”¨äº†å…¨ç«™HTTPSå’ŒHSTS, æ‰€ä»¥å¿…é¡»é…ç½®HTTPS, é…ç½®å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="é…ç½®cdn-3" src="./images/use-cdn-3.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯ä¹¦é€‰æ‹©: æŠŠç”³è¯·çš„è¯ä¹¦å…¬é’¥å’Œç§é’¥å¯¼å…¥å³å¯.&lt;/li&gt;
&lt;li&gt;HTTPè½¬æ¢ä¸ºHTTPS: 301è·³è½¬. (æ°¸ä¹…é‡å®šå‘)&lt;/li&gt;
&lt;li&gt;å›æºåè®®: HTTPS (å› ä¸ºæˆ‘äº‘ä¸»æœºçš„nginxå¼€å¯äº†HSTSåŠŸèƒ½, æ‰€ä»¥å›æºå°±é€‰æ‹©HTTPS)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½ åœ¨CDNé¡µé¢, ä¼šçœ‹åˆ°ä½ çš„CDNçš„CNAMEåŸŸå, è®°ä¸‹æ¥. å¦‚æˆ‘çš„:&lt;www.ewhisper.cn.a.bdydns.com&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨äº‘DNSè§£æé¡µé¢, æš‚åœæˆ–åˆ é™¤Aè®°å½•, å¢åŠ CNAMEè®°å½•, å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ä¿®æ”¹DNSè§£æ" src="./images/use-cdn-5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹CDNåŸŸåçš„çŠ¶æ€, å°±æ˜¯&lt;em&gt;è¿è¡Œä¸­&lt;/em&gt;. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="cdnçŠ¶æ€" src="./images/use-cdn-4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡³æ­¤, CDNå¯ç”¨æˆåŠŸ. å¯ä»¥å°è¯•è®¿é—®é¡µé¢çš„é™æ€èµ„æº, ä¼šå‘ç°å“åº”é€Ÿåº¦æ˜¯æœ‰æ‰€æå‡.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="cdn_5"&gt;å¦‚ä½•åˆ¤æ–­CDNæ˜¯å¦ç¼“å­˜æˆåŠŸäº†?&lt;a class="headerlink" href="#cdn_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ‚¨æƒ³è¦å¾—çŸ¥è®¿é—®é¡µé¢æ˜¯å¦ç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨F12ï¼Œå¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹æ‚¨è®¿é—®é¡µé¢çš„é™æ€èµ„æºçš„æºIPï¼Œåœ¨CDNå·¥å…·ä¸­æŸ¥çœ‹ä¸‹æ˜¯å¦ä¸ºcdnèŠ‚ç‚¹IPï¼Œè‹¥æ˜¯å°±æ˜¯èµ°çš„CDNï¼Œå¦å¤–å¦‚æœæ¶ˆæ¯å¤´ä¸­æœ‰Ageï¼Œé‚£ä¹ˆå°±è¯´æ˜è¢«ç¼“å­˜äº†.&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ¶ˆæ¯å¤´ä¸­æœ‰å¦‚ä¸‹å†…å®¹:&lt;code&gt;Ohc-Cache-HIT:&lt;/code&gt; åº”è¯¥ä¹Ÿæ˜¯ç¼“å­˜æˆåŠŸäº†(æˆ‘çŒœçš„&lt;img align="absmiddle" alt="ğŸ˜›" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f61b.png" title=":stuck_out_tongue:" width="20px"&gt;)&lt;/li&gt;
&lt;li&gt;æˆ–è€…æ˜¯çœ‹å“åº”å¤´ä¿¡æ¯ä¸­&lt;code&gt;X-Cache&lt;/code&gt;Â å­—æ®µ, æ˜¾ç¤º&lt;code&gt;HIT&lt;/code&gt;,Â å°±æ˜¯å‘½ä¸­äº†.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;ç»“è¯­&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¯ç”¨CDNå, é¦–å±åŠ è½½æ—¶é—´æ˜æ˜¾åŠ å¿«, ç”¨æˆ·ä½“éªŒæ˜æ˜¾å¾—åˆ°æå‡. å¿«æ¥è¯•ä¸€ä¸‹å§ &lt;img align="absmiddle" alt="ğŸ˜„" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f604.png" title=":smile:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜„" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f604.png" title=":smile:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜„" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f604.png" title=":smile:" width="20px"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 28 Jun 2019 19:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-28:/my-blog-start-using-cdn.html</guid><category>è…¾è®¯äº‘</category><category>äº‘</category><category>nginx</category><category>cdn</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-Gzipå‹ç¼©-`ngx_http_gunzip_module`</title><link>https://www.EWhisper.cn/nginx-notebook-3-3-gunzip-module.html</link><description>&lt;h2 id="3-ngx_http_gunzip_module"&gt;3 ngx_http_gunzip_module&lt;a class="headerlink" href="#3-ngx_http_gunzip_module" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœå®¢æˆ·ç«¯æœ¬èº«ä¸æ”¯æŒè§£å‹Gzip, å°±éœ€è¦NginxæœåŠ¡å™¨åœ¨å‘å…¶å‘é€æ•°æ®å‰å…ˆå°†è¯¥æ•°æ®è§£å‹. è¿™äº›å‹ç¼©æ•°æ®å¯èƒ½æ¥è‡ªäºåç«¯æœåŠ¡å™¨å‹ç¼©äº§ç”Ÿæˆ–NginxæœåŠ¡å™¨é¢„å‹ç¼©äº§ç”Ÿ.&lt;/p&gt;
&lt;p&gt;è¯¥æ¨¡å—ä¸æ˜¯é»˜è®¤æ„å»ºçš„ï¼Œåº”è¯¥ä½¿ç”¨ &lt;code&gt;--with-http_gunzip_module&lt;/code&gt; é…ç½®å‚æ•°å¯ç”¨ã€‚&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 17:08:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-3-3-gunzip-module.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-Gzipå‹ç¼©-Gzipå‹ç¼©åŠŸèƒ½çš„ä½¿ç”¨</title><link>https://www.EWhisper.cn/nginx-notebook-3-4-gzip-howto.html</link><description>&lt;h2 id="4-gzip"&gt;4 Gzipå‹ç¼©åŠŸèƒ½çš„ä½¿ç”¨&lt;a class="headerlink" href="#4-gzip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="gzip"&gt;Gzipå‹ç¼©åŠŸèƒ½ç»¼åˆé…ç½®ç¤ºä¾‹&lt;a class="headerlink" href="#gzip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;gzip&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;gzip_min_length&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;gzip_buffers&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="mi"&gt;4k&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;gzip_comp_level&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;gzip_types&lt;/span&gt; &lt;span class="s"&gt;text/plain&lt;/span&gt; &lt;span class="s"&gt;application/x-javascript&lt;/span&gt; &lt;span class="s"&gt;text/css&lt;/span&gt; &lt;span class="s"&gt;application/xml&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;gzip_vary&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;gunzip_static&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="gzip-ie6"&gt;Gzip å‹ç¼©åŠŸèƒ½ä¸IE6æµè§ˆå™¨è¿è¡Œè„šæœ¬çš„å…¼å®¹é—®é¢˜&lt;a class="headerlink" href="#gzip-ie6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;gzip_disable&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;MSIE&lt;/span&gt; &lt;span class="s"&gt;[1-6]\.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="nginxgzip"&gt;Nginxä¸å…¶ä»–æœåŠ¡å™¨äº¤äº’æ—¶äº§ç”Ÿçš„Gzipå‹ç¼©åŠŸèƒ½ç›¸å…³é—®é¢˜&lt;a class="headerlink" href="#nginxgzip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸¤ç±»é—®é¢˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤šå±‚æœåŠ¡å™¨åŒæ—¶å¼€å¯Gzipå‹ç¼©åŠŸèƒ½å¯¼è‡´;&lt;/li&gt;
&lt;li&gt;å¤šå±‚æœåŠ¡å™¨ä¹‹é—´å¯¹Gzipå‹ç¼©åŠŸèƒ½æ”¯æŒèƒ½åŠ›ä¸åŒå¯¼è‡´.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Nginxä¸åç«¯æœåŠ¡å™¨(å¦‚Tomcat)åŒæ—¶å¼€å¯Gzipå‹ç¼©åŠŸèƒ½å¯¹JavaScriptè„šæœ¬è¿›è¡Œå‹ç¼©, åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­åˆ·æ–°é¡µé¢ä¼šå¯¼è‡´è„šæœ¬è¿è¡Œå‘ç”Ÿå¼‚å¸¸, å”¯ä¸€å¯ä»¥è¿è¡Œçš„æµè§ˆå™¨æ˜¯Chrome.&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•:&lt;strong&gt;å¯¹äºåŒ…å«å¤šå±‚æœåŠ¡å™¨çš„ç³»ç»Ÿæ¥è¯´, NginxæœåŠ¡å™¨ä½œä¸ºå‰ç«¯æœåŠ¡å™¨å¦‚æœå¼€å¯äº†Gzipå‹ç¼©åŠŸèƒ½, åç«¯æœåŠ¡å™¨æœ€å¥½å°±ä¸è¦å†å¼€å¯äº†.&lt;/strong&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 17:08:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-3-4-gzip-howto.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-Gzipå‹ç¼©-`ngx_http_gzip_static_module`</title><link>https://www.EWhisper.cn/nginx-notebook-3-2-gzip-static-module.html</link><description>&lt;h2 id="2-ngx_http_gzip_static_module"&gt;2 ngx_http_gzip_static_module&lt;a class="headerlink" href="#2-ngx_http_gzip_static_module" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¯¥æ¨¡å—ä¸æ˜¯é»˜è®¤æ„å»ºçš„ï¼Œå®ƒåº”è¯¥ä½¿ç”¨ &lt;code&gt;--with-http_gzip_static_module&lt;/code&gt; é…ç½®å‚æ•°å¯ç”¨ã€‚&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 17:05:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-3-2-gzip-static-module.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-é«˜çº§é…ç½®-äº‹ä»¶é©±åŠ¨æ¨¡å‹ç›¸å…³çš„é…ç½®æŒ‡ä»¤</title><link>https://www.EWhisper.cn/nginx-notebook-2-4-events-directives.html</link><description>&lt;h2 id="4"&gt;4 äº‹ä»¶é©±åŠ¨æ¨¡å‹ç›¸å…³çš„é…ç½®æŒ‡ä»¤&lt;a class="headerlink" href="#4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;use&lt;/code&gt;(æŒ‡å®šäº‹ä»¶é©±åŠ¨æ¨¡å‹)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;worker_connections&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®¾ç½®NginxæœåŠ¡å™¨çš„&lt;strong&gt;æ¯ä¸ªå·¥ä½œè¿›ç¨‹&lt;/strong&gt;å…è®¸åŒæ—¶è¿æ¥å®¢æˆ·ç«¯çš„æœ€å¤§æ•°é‡(åŒ…æ‹¬å‰ç«¯ç”¨æˆ·è¿æ¥ä¹ŸåŒ…æ‹¬å…¶ä»–è¿æ¥)&lt;/p&gt;
&lt;p&gt;NginxæœåŠ¡å™¨å…è®¸åŒæ—¶è¿æ¥çš„å®¢æˆ·ç«¯æœ€å¤§æ•°é‡ &lt;code&gt;Client = worker_processes * worker_connections / 2&lt;/code&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;&lt;code&gt;worker_rlimit_sigpending&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;äº‹ä»¶é©±åŠ¨æ¨¡å‹rtsigå¯ä»¥ä¿å­˜çš„æœ€å¤§ä¿¡å·æ•°.&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;&lt;code&gt;devpoll_changes&lt;/code&gt; &lt;code&gt;devpoll_events&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®¾ç½®åœ¨&lt;code&gt;/dev/poll&lt;/code&gt;äº‹ä»¶é©±åŠ¨æ¨¡å¼ä¸‹NginxæœåŠ¡å™¨ä¸å†…æ ¸ä¹‹é—´ä¼ é€’äº‹ä»¶çš„æ•°é‡.å‰è€…è®¾ç½®ä¼ é€’ç»™å†…æ ¸çš„äº‹ä»¶æ•°é‡, åè€…è®¾ç½®ä»å†…æ ¸è·å–çš„äº‹ä»¶æ•°é‡.&lt;/p&gt;
&lt;p&gt;é»˜è®¤å€¼ä¸º32&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;&lt;code&gt;kqueue_changes&lt;/code&gt; å’Œ &lt;code&gt;kqueue_events&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;kqueueäº‹ä»¶æ¨¡å‹ä¸‹. é»˜è®¤å€¼å‡ä¸º512&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;&lt;code&gt;epoll_events&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;epolläº‹ä»¶æ¨¡å‹ä¸‹, ä»Nginxåˆ°å†…æ ¸, ä»å†…æ ¸åˆ°Nginxç›¸ç­‰. é»˜è®¤å€¼ä¸º512.&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;&lt;code&gt;rtsig_signo&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;rtsigæ¨¡å¼. é»˜è®¤ç¬¬ä¸€ä¸ªä¿¡å·è®¾ç½®ä¸ºSIGRTMIN+10&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;&lt;code&gt;rtsig_overflow_*&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ç°åœ¨çš„Linuxå‘è¡Œç‰ˆä¸€èˆ¬æ¨èä½¿ç”¨&lt;code&gt;epoll&lt;/code&gt;äº‹ä»¶é©±åŠ¨æ¨¡å‹&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 16:33:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-2-4-events-directives.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-Gzipå‹ç¼©-`ngx_http_gzip_module`</title><link>https://www.EWhisper.cn/nginx-notebook-3-1-gzip-module.html</link><description>&lt;p&gt;æœ¬ç³»åˆ—æ–‡ç« ä¸»è¦è®¨è®ºä¸gzip å‹ç¼©ç›¸å…³çš„Nginx æŒ‡ä»¤.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›¸å…³æ¨¡å—: &lt;code&gt;ngx_http_gzip_module ngx_http_gzip_static_module ngx_http_gunzip_module&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="1-ngx_http_gzip_module"&gt;1 ngx_http_gzip_module&lt;a class="headerlink" href="#1-ngx_http_gzip_module" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;gzip on | off&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gzip_buffers&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®¾ç½®Gzipå‹ç¼©æ–‡ä»¶ä½¿ç”¨ç¼“å­˜ç©ºé—´çš„å¤§å°.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gzip_buffers number size;    # number ç¼“å­˜ç©ºé—´ä¸ªæ•°; size æ¯ä¸ªç©ºé—´å¤§å°&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤&lt;em&gt;number Ã— size&lt;/em&gt; ä¸º128. sizeçš„å€¼æ¨èå–ç³»ç»Ÿå†…å­˜é¡µä¸€é¡µçš„å¤§å°, ä¸º4KB æˆ–è€…8KB. å³&lt;code&gt;gzip_buffers 32 4k | 16 8k&lt;/code&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;&lt;code&gt;gzip_comp_level&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è®¾å®šGzipå‹ç¼©ç¨‹åº¦, åŒ…æ‹¬1åˆ°9. 1å‹ç¼©ç¨‹åº¦æœ€ä½, 9æœ€é«˜. é»˜è®¤ä¸º1.&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;&lt;code&gt;gzip_disable&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹ä¸åŒç§ç±»å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚, å¯ä»¥é€‰æ‹©æ€§åœ°å¼€å¯å’Œå…³é—­gzipåŠŸèƒ½.&lt;/p&gt;
&lt;p&gt;PCç«¯ï¼š&lt;/p&gt;
&lt;p&gt;safari 5.1 â€“ MAC&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; en-us) AppleWebKit/534.50 &amp;gt; (KHTML, like Gecko) Version/5.1 Safari/534.50&lt;/p&gt;
&lt;p&gt;safari 5.1 â€“ Windows&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/534.50 (KHTML, &amp;gt; like Gecko) Version/5.1 Safari/534.50&lt;/p&gt;
&lt;p&gt;IE 9.0&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;&lt;/p&gt;
&lt;p&gt;IE 8.0&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)&lt;/p&gt;
&lt;p&gt;IE 7.0&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)&lt;/p&gt;
&lt;p&gt;IE 6.0&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)&lt;/p&gt;
&lt;p&gt;Firefox 4.0.1 â€“ MAC&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 &amp;gt; Firefox/4.0.1&lt;/p&gt;
&lt;p&gt;Firefox 4.0.1 â€“ Windows&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1&lt;/p&gt;
&lt;p&gt;Opera 11.11 â€“ MAC&lt;/p&gt;
&lt;p&gt;User-Agent:Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; en) Presto/2.8.131 Version/&amp;gt; 11.11&lt;/p&gt;
&lt;p&gt;Opera 11.11 â€“ Windows&lt;/p&gt;
&lt;p&gt;User-Agent:Opera/9.80 (Windows NT 6.1; U; en) Presto/2.8.131 Version/11.11&lt;/p&gt;
&lt;p&gt;Chrome 17.0 â€“ MAC&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, &amp;gt; like Gecko) Chrome/17.0.963.56 Safari/535.11&lt;/p&gt;
&lt;p&gt;å‚²æ¸¸ï¼ˆMaxthonï¼‰&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Maxthon 2.0)&lt;/p&gt;
&lt;p&gt;è…¾è®¯TT&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; TencentTraveler 4.0)&lt;/p&gt;
&lt;p&gt;ä¸–ç•Œä¹‹çª—ï¼ˆThe Worldï¼‰ 2.x&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)&lt;/p&gt;
&lt;p&gt;ä¸–ç•Œä¹‹çª—ï¼ˆThe Worldï¼‰ 3.x&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; The World)&lt;/p&gt;
&lt;p&gt;æœç‹—æµè§ˆå™¨ 1.x&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; SE 2.X &amp;gt; MetaSr 1.0; SE 2.X MetaSr 1.0; .NET CLR 2.0.50727; SE 2.X MetaSr 1.0)&lt;/p&gt;
&lt;p&gt;360æµè§ˆå™¨&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&lt;/p&gt;
&lt;p&gt;Avant&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Avant Browser)&lt;/p&gt;
&lt;p&gt;Green Browser&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)&lt;/p&gt;
&lt;p&gt;ç§»åŠ¨è®¾å¤‡ç«¯ï¼š&lt;/p&gt;
&lt;p&gt;safari iOS 4.33 â€“ iPhone&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_3_3 like Mac OS X; en-us) &amp;gt; AppleWebKit/533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8J2 Safari/6533.18.5&lt;/p&gt;
&lt;p&gt;safari iOS 4.33 â€“ iPod Touch&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (iPod; U; CPU iPhone OS 4_3_3 like Mac OS X; en-us) AppleWebKit/&amp;gt; 533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8J2 Safari/6533.18.5&lt;/p&gt;
&lt;p&gt;safari iOS 4.33 â€“ iPad&lt;/p&gt;
&lt;p&gt;User-Agent:Mozilla/5.0 (iPad; U; CPU OS 4_3_3 like Mac OS X; en-us) AppleWebKit/&amp;gt; 533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8J2 Safari/6533.18.5&lt;/p&gt;
&lt;p&gt;Android N1&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (Linux; U; Android 2.3.7; en-us; Nexus One Build/FRF91) &amp;gt; AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1&lt;/p&gt;
&lt;p&gt;Android QQæµè§ˆå™¨ For android&lt;/p&gt;
&lt;p&gt;User-Agent: MQQBrowser/26 Mozilla/5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build/&amp;gt; GRJ22; CyanogenMod-7) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/&amp;gt; 533.1&lt;/p&gt;
&lt;p&gt;Android Opera Mobile&lt;/p&gt;
&lt;p&gt;User-Agent: Opera/9.80 (Android 2.3.4; Linux; Opera Mobi/build-1107180945; U; en-GB) &amp;gt; Presto/2.8.149 Version/11.10&lt;/p&gt;
&lt;p&gt;Android Pad Moto Xoom&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (Linux; U; Android 3.0; en-us; Xoom Build/HRI39) AppleWebKit/&amp;gt; 534.13 (KHTML, like Gecko) Version/4.0 Safari/534.13&lt;/p&gt;
&lt;p&gt;BlackBerry&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (BlackBerry; U; BlackBerry 9800; en) AppleWebKit/534.1+ (KHTML, &amp;gt; like Gecko) Version/6.0.0.337 Mobile Safari/534.1+&lt;/p&gt;
&lt;p&gt;WebOS HP Touchpad&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (hp-tablet; Linux; hpwOS/3.0.0; U; en-US) AppleWebKit/534.6 &amp;gt; (KHTML, like Gecko) wOSBrowser/233.70 Safari/534.6 TouchPad/1.0&lt;/p&gt;
&lt;p&gt;Nokia N97&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (SymbianOS/9.4; Series60/5.0 NokiaN97-1/20.0.019; Profile/&amp;gt; MIDP-2.1 Configuration/CLDC-1.1) AppleWebKit/525 (KHTML, like Gecko) BrowserNG/7.1.18124&lt;/p&gt;
&lt;p&gt;Windows Phone Mango&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows Phone OS 7.5; Trident/5.0; &amp;gt; IEMobile/9.0; HTC; Titan)&lt;/p&gt;
&lt;p&gt;UCæ— &lt;/p&gt;
&lt;p&gt;User-Agent: UCWEB7.0.2.37/28/999&lt;/p&gt;
&lt;p&gt;UCæ ‡å‡†&lt;/p&gt;
&lt;p&gt;User-Agent: NOKIA5700/ UCWEB7.0.2.37/28/999&lt;/p&gt;
&lt;p&gt;UCOpenwave&lt;/p&gt;
&lt;p&gt;User-Agent: Openwave/ UCWEB7.0.2.37/28/999&lt;/p&gt;
&lt;p&gt;UC Opera&lt;/p&gt;
&lt;p&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; ) Opera/UCWEB7.0.2.37/28/999&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gzip_disable MSIE [4-6]\.&lt;/code&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;&lt;code&gt;gzip_http_version&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;gzip_http_version 1.0 | 1.1&lt;/code&gt; é»˜è®¤è®¾ç½®ä¸º1.1ç‰ˆæœ¬.å³åªæœ‰å®¢æˆ·ç«¯ä½¿ç”¨1.1åŠä»¥ä¸Šç‰ˆæœ¬çš„HTTPåè®®æ—¶, æ‰ä½¿ç”¨GzipåŠŸèƒ½. ä¸€èˆ¬ä½¿ç”¨é»˜è®¤å€¼.&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;&lt;code&gt;gzip_min_length&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœå‹ç¼©å¾ˆå°çš„æ•°æ®, å¯èƒ½å‡ºç°è¶Šå‹ç¼©æ•°æ®é‡è¶Šå¤§çš„æƒ…å†µ. å› æ­¤æ ¹æ®å“åº”é¡µé¢çš„å¤§å°, é€‰æ‹©æ€§åœ°å¼€å¯æˆ–è€…å…³é—­GzipåŠŸèƒ½. è¯¥æŒ‡ä»¤è®¾ç½®é¡µé¢çš„å­—èŠ‚æ•°. &lt;strong&gt;å“åº”é¡µé¢çš„å¤§å°é€šè¿‡HTTPå“åº”å¤´éƒ¨ä¸­çš„Content-LengthæŒ‡ä»¤è·å–, ä½†æ˜¯å¦‚æœä½¿ç”¨äº†Chunk ç¼–ç åŠ¨æ€å‹ç¼©, Content-Lengthæˆ–ä¸å­˜åœ¨æˆ–è¢«å¿½ç•¥, è¯¥æŒ‡ä»¤ä¸èµ·ä½œç”¨&lt;/strong&gt;. é»˜è®¤è®¾ç½®ä¸º20. è®¾ç½®ä¸º0æ—¶ç»Ÿç»Ÿå‹ç¼©. å»ºè®®è¯¥å€¼ä¸º&lt;strong&gt;1KBæˆ–ä»¥ä¸Š&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gzip_min_length 1024&lt;/code&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;&lt;code&gt;gzip_proxied&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤åœ¨ä½¿ç”¨NginxæœåŠ¡å™¨çš„åå‘ä»£ç†åŠŸèƒ½æ—¶æœ‰æ•ˆ, å‰ææ˜¯åœ¨åç«¯æœåŠ¡å™¨è¿”å›çš„å“åº”é¡µå¤´éƒ¨ä¸­, Requests éƒ¨åˆ†åŒ…å«ç”¨äºé€šçŸ¥ä»£ç†æœåŠ¡å™¨çš„Viaå¤´åŸŸ.  ä¸»è¦ç”¨äºè®¾ç½®NginxæœåŠ¡å™¨æ˜¯å¦å¯¹åç«¯æœåŠ¡å™¨è¿”å›çš„ç»“æœè¿›è¡ŒGzipå‹ç¼©.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Syntax&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;gzip_proxied&lt;/span&gt; &lt;span class="n"&gt;off&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;expired&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;no_last_modified&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;no_etag&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;auth&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;any&lt;/span&gt; &lt;span class="o"&gt;...;&lt;/span&gt;
&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;gzip_proxied&lt;/span&gt; &lt;span class="n"&gt;off&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;off å…³é—­, é»˜è®¤è®¾ç½®;&lt;/li&gt;
&lt;li&gt;expired å½“åç«¯æœåŠ¡å™¨å“åº”é¡µå¤´éƒ¨åŒ…å«ç”¨äºæ”¯æŒå“åº”æ•°æ®è¿‡æœŸäº‹ä»¶çš„expiredå¤´åŸŸæ—¶, å¯ç”¨Gzip.&lt;/li&gt;
&lt;li&gt;no-cache å½“åç«¯åŒ…å«Cache-Controlå¤´åŸŸ, ä¸”å…¶æŒ‡ä»¤å€¼ä¸ºno-cacheæ—¶, å¯ç”¨.&lt;/li&gt;
&lt;li&gt;no-store å½“åç«¯åŒ…å«Cache-Controlå¤´åŸŸ, ä¸”å…¶æŒ‡ä»¤å€¼ä¸ºno-storeæ—¶, å¯ç”¨.&lt;/li&gt;
&lt;li&gt;private å½“åç«¯åŒ…å«Cache-Controlå¤´åŸŸ, ä¸”å…¶æŒ‡ä»¤å€¼ä¸ºprivateæ—¶, å¯ç”¨.&lt;/li&gt;
&lt;li&gt;no_last_modified å½“åç«¯æœåŠ¡å™¨å“åº”å¤´ä¸åŒ…å«ç”¨äºæŒ‡æ˜éœ€è¦è·å–æ•°æ®æœ€åä¿®æ”¹æ—¶é—´çš„Last-Modified åŸŸæ—¶, å¯ç”¨.&lt;/li&gt;
&lt;li&gt;no_etag ä¸åŒ…å«ETagæ—¶, å¯ç”¨.&lt;/li&gt;
&lt;li&gt;auth åŒ…å«Authorization, å¯ç”¨&lt;/li&gt;
&lt;li&gt;any æ— æ¡ä»¶å¯ç”¨å‹ç¼©.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="8"&gt;
&lt;li&gt;&lt;code&gt;gzip_types&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ ¹æ®å“åº”é¡µçš„MIMEç±»å‹é€‰æ‹©æ€§åœ°å¼€å¯Gzipå‹ç¼©åŠŸèƒ½.  é»˜è®¤ä¸ºtext/html. è¿˜å¯ä»¥å–'*', è¡¨ç¤ºå¯¹æ‰€æœ‰MIMEç±»å‹è¿›è¡ŒGzipå‹ç¼©. æ¨èè®¾ç½®:(é€šå¸¸æ–‡æœ¬/å›¾ç‰‡/jséƒ½å¯ä»¥å‹ç¼©)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gzip_types       text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;&lt;/code&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;&lt;code&gt;gzip_vary&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é»˜è®¤ä¸ºoff. æ¨èå¼€å¯. å¼€å¯åçš„æ•ˆæœå®åœ¨å“åº”å¤´éƒ¨æ·»åŠ äº†Accept-Encoding: gzip, è¿™å¯¹äºæœ¬èº«ä¸æ”¯æŒGzipå‹ç¼©çš„å®¢æˆ·ç«¯æµè§ˆå™¨æ˜¯æœ‰ç”¨çš„.&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥é€šè¿‡add_headerè¾¾åˆ°ç›¸åŒçš„æ•ˆæœ:&lt;code&gt;add_header Vary Accept-Encoding gzip;&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;:heavy_exclamation_mark: è¯¥æŒ‡ä»¤åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å­˜åœ¨bug, ä¼šå¯¼è‡´IE4åŠä»¥ä¸Šçš„æµè§ˆå™¨çš„æ•°æ®ç¼“å­˜åŠŸèƒ½å¤±æ•ˆ.&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 16:33:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-3-1-gzip-module.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-é«˜çº§é…ç½®-ä¸ç½‘ç»œè¿æ¥ç›¸å…³çš„æŒ‡ä»¤</title><link>https://www.EWhisper.cn/nginx-notebook-2-3-network-directives.html</link><description>&lt;h2 id="3"&gt;3 ä¸ç½‘ç»œè¿æ¥ç›¸å…³çš„é…ç½®æŒ‡ä»¤&lt;a class="headerlink" href="#3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;keepalive_timeout&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;keepalive_timeout 60 50;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;NginxæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯è¿æ¥ä¿æŒæ´»åŠ¨çš„æ—¶é—´ä¸º60s, 60såæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ–­å¼€è¿æ¥; ä½¿ç”¨Keep-Alive æ¶ˆæ¯å¤´ä¿æŒä¸å®¢æˆ·ç«¯æŸäº›æµè§ˆå™¨(å¦‚ç«ç‹)çš„è¿æ¥æ—¶é—´ä¸º50s, 50såæµè§ˆå™¨ä¸»åŠ¨ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥.&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;send_timeout&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è®¾ç½®NginxæœåŠ¡å™¨å“åº”å®¢æˆ·ç«¯çš„è¶…æ—¶æ—¶é—´, è¿™ä¸ªè¶…æ—¶æ—¶é—´ä»…é’ˆå¯¹ä¸¤ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹è¿æ¥å, æŸæ¬¡æ´»åŠ¨ä¹‹é—´çš„æ—¶é—´. å¦‚æœè¿™ä¸ªæ—¶é—´åå®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•æ´»åŠ¨, NginxæœåŠ¡å™¨å°†ä¼šå…³é—­è¿æ¥. æ­¤æŒ‡ä»¤çš„è®¾ç½®éœ€è¦è€ƒè™‘æœåŠ¡å™¨è®¿é—®æ•°é‡å’Œç½‘ç»œçŠ¶å†µç­‰æ–¹é¢.&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;client_header_buffer_size&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è®¾ç½®NginxæœåŠ¡å™¨å…è®¸çš„å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°, é»˜è®¤ä¸º1KB. æ­¤æŒ‡ä»¤çš„èµ‹å€¼å¯ä»¥æ ¹æ®ç³»ç»Ÿåˆ†é¡µå¤§å°æ¥è®¾ç½®. åˆ†é¡µå¤§å°å¯ä»¥é€šè¿‡ä¸‹åˆ—å‘½ä»¤è·å¾—:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getconf PAGESIZE&lt;/code&gt; (ä¸€èˆ¬ä¸º4k)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Nginx 400ç±»é”™è¯¯, æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æƒ…å†µæ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚å¤´éƒ¨è¿‡å¤§é€ æˆçš„. è¯·æ±‚å¤´éƒ¨è¿‡å¤§, é€šå¸¸æ˜¯å®¢æˆ·ç«¯cookieä¸­å†™å…¥äº†è¾ƒå¤§çš„å€¼å¼•èµ·çš„.&lt;/p&gt;
&lt;p&gt;é€‚å½“å¢å¤§æ­¤æŒ‡ä»¤çš„èµ‹å€¼, å¯ä»¥æ”¹å–„è¯¥é—®é¢˜.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¨èé…ç½®:(ä¸ç³»ç»Ÿåˆ†é¡µå¤§å°ç›¸åŒ)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;client_header_buffer_size 4k;&lt;/code&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;multi_accept&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NginxæœåŠ¡å™¨æ˜¯å¦å°½å¯èƒ½å¤šåœ°æ¥æ”¶å®¢æˆ·ç«¯çš„ç½‘ç»œè¿æ¥è¯·æ±‚. é»˜è®¤ä¸ºoff.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 16:27:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-2-3-network-directives.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-é«˜çº§é…ç½®-é’ˆå¯¹CPUçš„è°ƒä¼˜æŒ‡ä»¤</title><link>https://www.EWhisper.cn/nginx-notebook-2-2-cpu-tuning.html</link><description>&lt;h2 id="2-cpu"&gt;2 é’ˆå¯¹CPUçš„ä¼˜åŒ–æŒ‡ä»¤&lt;a class="headerlink" href="#2-cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;worker_processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ€å¥½æ˜¯èµ‹å€¼ä¸ºæœºå™¨CPUçš„å€æ•°.&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;worker_cpu_affinity&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é»˜è®¤çš„&lt;code&gt;auto&lt;/code&gt;å°±è¡Œ.&lt;br&gt;
&lt;code&gt;worker_cpu_affinity 0001 0010 0100 1000;&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 16:22:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-2-2-cpu-tuning.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-é«˜çº§é…ç½®-IPv4 çš„å†…æ ¸7ä¸ªå‚æ•°çš„é…ç½®ä¼˜åŒ–</title><link>https://www.EWhisper.cn/nginx-notebook-2-1-kernel-tuning.html</link><description>&lt;h2 id="1-ipv4-7"&gt;1 IPv4 çš„å†…æ ¸7ä¸ªå‚æ•°çš„é…ç½®ä¼˜åŒ–&lt;a class="headerlink" href="#1-ipv4-7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Linux å†…æ ¸å‚æ•°. å¯ä»¥å°†è¿™äº›å†…æ ¸å‚æ•°å€¼è¿½åŠ åˆ°Linuxçš„/etc/sysctl.confæ–‡ä»¶ä¸­.å¹¶ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤ç”Ÿæ•ˆ:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# /sbin/sysctl -p&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;net.core.netdev_max_backlog&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¡¨ç¤ºå½“æ¯ä¸ªç½‘ç»œæ¥å£æ¥æ”¶æ•°æ®åŒ…çš„é€Ÿç‡æ¯”å†…æ ¸å¤„ç†è¿™äº›åŒ…çš„é€Ÿç‡å¿«æ—¶, å…è®¸å‘é€åˆ°é˜Ÿåˆ—çš„æ•°æ®åŒ…çš„æœ€å¤§æ•°ç›®. ä¸€èˆ¬é»˜è®¤ä¸º128. Nginxå®šä¹‰çš„NGX_LISTEN_BACKLOG é»˜è®¤ä¸º511. å°†è¯¥å‚æ•°è°ƒæ•´ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;net.core.netdev_max_backlog = 262144&lt;/code&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;net.core.somaxconn&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè°ƒèŠ‚ç³»ç»ŸåŒæ—¶å‘èµ·çš„TCPè¿æ¥æ•°, ä¸€èˆ¬é»˜è®¤ä¸º128. åœ¨å­˜åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹, è¯¥é»˜è®¤å€¼è¾ƒå°, å¯èƒ½å¯¼è‡´é“¾æ¥è¶…æ—¶æˆ–é‡ä¼ é—®é¢˜, å¯ä»¥æ ¹æ®å®é™…éœ€è¦ç»“åˆå¹¶å‘è¯·æ±‚æ•°æ¥è°ƒèŠ‚æ­¤å€¼. å¦‚:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;net.core.somaxconn = 262144&lt;/code&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;net.ipv4.tcp_max_orphans&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®¾å®šç³»ç»Ÿä¸­æœ€å¤šå…è®¸å­˜åœ¨å¤šå°‘TCPå¥—æ¥å­—ä¸è¢«å…³è”åˆ°ä»»ä½•ä¸€ä¸ªç”¨æˆ·æ–‡ä»¶å¥æŸ„ä¸Š. å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—, æ²¡æœ‰ä¸ç”¨æˆ·æ–‡ä»¶å¥æŸ„å…³è”çš„TCPå¥—æ¥å­—å°†ç«‹å³è¢«å¤ä½, åŒæ—¶ç»™å‡ºè­¦å‘Šä¿¡æ¯. è¿™ä¸ªé™åˆ¶åªæ˜¯ä¸ºäº†é˜²æ­¢ç®€å•çš„DoSæ”»å‡». ä¸€èˆ¬åœ¨ç³»ç»Ÿå†…å­˜å……è¶³çš„æƒ…å†µä¸‹, å¯ä»¥å¢å¤§è¯¥å€¼:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;net.ipv4.tcp_max_orphans = 262144&lt;/code&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;net.ipv4.tcp_max_syn_backlog&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®°å½•å°šæœªæ”¶åˆ°å®¢æˆ·ç«¯ç¡®è®¤ä¿¡æ¯çš„è¿æ¥è¯·æ±‚çš„æœ€å¤§å€¼. å¯¹äº128MBå†…å­˜çš„ç³»ç»Ÿ, é»˜è®¤å€¼ä¸º1024. åœ¨ç³»ç»Ÿå†…å­˜å……è¶³çš„æƒ…å†µä¸‹, å¯ä»¥å¢å¤§è¯¥å€¼.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;net.ipv4.tcp_max_syn_backlog = 262144&lt;/code&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;net.ipv4.tcp_timestamps&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®¾ç½®æ—¶é—´æˆ³, å¯ä»¥é¿å…åºåˆ—å·çš„å·ç»•. åœ¨ä¸€ä¸ª1Gb/sçš„é“¾è·¯ä¸Š, é‡åˆ°ä»¥å‰ç”¨è¿‡çš„åºåˆ—å·çš„æ¦‚ç‡å¾ˆå¤§. å½“æ­¤å€¼ä¸º0æ—¶, ç¦ç”¨å¯¹äºTCPæ—¶é—´æˆ³çš„æ”¯æŒ. åœ¨é»˜è®¤æƒ…å†µä¸‹, TCPä¼šæ¥å—è¿™ç§"å¼‚å¸¸"çš„æ•°æ®åŒ…. å»ºè®®å°†å…¶å…³é—­.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;net.ipv4.tcp_timestamps = 0&lt;/code&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;net.ipv4.tcp_synack_retries&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨äºè®¾ç½®å†…æ ¸æ”¾å¼ƒTCPè¿æ¥ä¹‹å‰å‘å®¢æˆ·ç«¯å‘é€SYN+ACKåŒ…çš„æ•°é‡.ä¸€èˆ¬èµ‹å€¼ä¸º1, å³å†…æ ¸æ”¾å¼ƒè¿æ¥ä¹‹å‰å‘é€ä¸€æ¬¡SYN+ACKåŒ….&lt;/p&gt;
&lt;p&gt;&lt;code&gt;net.ipv4.tcp_synack_retries = 1&lt;/code&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;net.ipv4.tcp_syn_retries&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;net.ipv4.tcp_syn_retries = 1&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 16:15:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-2-1-kernel-tuning.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-å®‰è£…éƒ¨ç½²-æœåŠ¡å™¨åŸºç¡€é…ç½®ç¤ºä¾‹</title><link>https://www.EWhisper.cn/nginx-notebook-1-4-nginx-conf-example.html</link><description>&lt;h2 id="4-nginx"&gt;4 NginxæœåŠ¡å™¨åŸºç¡€é…ç½®ç¤ºä¾‹&lt;a class="headerlink" href="#4-nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#### å…¨å±€å— å¼€å§‹ #####&lt;/span&gt;
&lt;span class="k"&gt;user&lt;/span&gt; &lt;span class="s"&gt;nobody&lt;/span&gt; &lt;span class="s"&gt;nobody&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®å…è®¸è¿è¡ŒNginxæœåŠ¡å™¨çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„&lt;/span&gt;

&lt;span class="k"&gt;worker_processes&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®å…è®¸Nginxè¿›ç¨‹ç”Ÿæˆçš„worker processæ•°&lt;/span&gt;

&lt;span class="k"&gt;error_log&lt;/span&gt; &lt;span class="s"&gt;logs/error.log&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# Nginxé”™è¯¯æ—¥å¿—è¾“å‡ºç›®å½•&lt;/span&gt;

&lt;span class="k"&gt;pid&lt;/span&gt; &lt;span class="s"&gt;nginx.pid&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®NginxæœåŠ¡å™¨è¿è¡Œæ—¶çš„pidæ–‡ä»¶å­˜æ”¾è·¯å¾„å’Œåç§°&lt;/span&gt;
&lt;span class="c1"&gt;#### å…¨å±€å— ç»“æŸ #####&lt;/span&gt;

&lt;span class="c1"&gt;#### eventså— å¼€å§‹ ####&lt;/span&gt;
&lt;span class="k"&gt;events&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;user&lt;/span&gt; &lt;span class="s"&gt;epoll&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®äº‹ä»¶é©±åŠ¨æ¨¡å‹&lt;/span&gt;
    &lt;span class="kn"&gt;worker_connections&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®æœ€å¤§è¿æ¥æ•°&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="c1"&gt;#### eventså— ç»“æŸ ####&lt;/span&gt;

&lt;span class="c1"&gt;#### httpå— å¼€å§‹ ####&lt;/span&gt;
&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;include&lt;/span&gt; &lt;span class="s"&gt;mime.types&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;# å®šä¹‰MIME-Type&lt;/span&gt;

    &lt;span class="kn"&gt;default_type&lt;/span&gt; &lt;span class="s"&gt;application/octet-stream&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kn"&gt;sendfile&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®å…è®¸ä½¿ç”¨sendfileæ–¹å¼ä¼ è¾“&lt;/span&gt;

    &lt;span class="kn"&gt;keepalive_timeout&lt;/span&gt; &lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®è¿æ¥è¶…æ—¶æ—¶é—´&lt;/span&gt;

    &lt;span class="kn"&gt;log_format&lt;/span&gt; &lt;span class="s"&gt;access.log&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$remote_addr-[$time_local]-&amp;quot;$request&amp;quot;-&amp;quot;$http_user_agent&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®è¯·æ±‚å¤„ç†æ—¥å¿—çš„æ ¼å¼&lt;/span&gt;

    &lt;span class="c1"&gt;#### serverå— å¼€å§‹ ####&lt;/span&gt;
    &lt;span class="c1"&gt;## é…ç½®è™šæ‹Ÿä¸»æœºmyServer1&lt;/span&gt;
    &lt;span class="kn"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;8081&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®ç›‘å¬ç«¯å£å’Œä¸»æœºåç§°&lt;/span&gt;
        &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;myServer1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;access_log&lt;/span&gt; &lt;span class="s"&gt;/myweb/server1/log/access.log&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®è¯·æ±‚å¤„ç†æ—¥å¿—å­˜æ”¾è·¯å¾„&lt;/span&gt;
        &lt;span class="kn"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="s"&gt;/404.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®é”™è¯¯é¡µé¢&lt;/span&gt;
        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/server1/location1&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®å¤„ç†/server1/location1è¯·æ±‚çš„location&lt;/span&gt;
            &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/myweb&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.svr1-loc1.htm&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/server1/location2&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®å¤„ç†/server1/location1è¯·æ±‚çš„location&lt;/span&gt;
            &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/myweb&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.svr1-loc2.htm&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kn"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;    &lt;span class="c1"&gt;## é…ç½®è™šæ‹Ÿä¸»æœº myServer2&lt;/span&gt;
        &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;8082&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.1.3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;access_log&lt;/span&gt; &lt;span class="s"&gt;/myweb/server2/log/access.log&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="s"&gt;/404.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/server2/location1&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/myweb&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.svr2-loc1.htm&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/svr2/loc2&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="kn"&gt;alias&lt;/span&gt; &lt;span class="s"&gt;/myweb/server2/location2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;# å¯¹locationçš„URIè¿›è¡Œæ›´æ”¹&lt;/span&gt;
          &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.svr2-loc2.htm&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;/404.html&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;    &lt;span class="c1"&gt;# é…ç½®é”™è¯¯é¡µé¢è½¬å‘&lt;/span&gt;
            &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/myweb/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt;&lt;span class="s"&gt;.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="c1"&gt;#### server å— ç»“æŸ ####&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="c1"&gt;#### httpå— ç»“æŸ ####&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é…ç½®åçš„ç›®å½•ç»“æ„&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;myweb
    404.html
    server1
        location1
            index.svr1-loc1.htm
        location2
            index.svr1-loc2.htm
        log
            access.log
    server2
        location1
            index.svr2-loc1.htm
        location2
            index.svr2-loc2.htm
        log
            access.log
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 16:07:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-1-4-nginx-conf-example.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-å®‰è£…éƒ¨ç½²-åŸºç¡€é…ç½®</title><link>https://www.EWhisper.cn/nginx-notebook-1-3-basic-config.html</link><description>&lt;h2 id="3-nginx"&gt;3 Nginx åŸºç¡€é…ç½®&lt;a class="headerlink" href="#3-nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#user  nobody;&lt;/span&gt;
&lt;span class="k"&gt;worker_processes&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                        &lt;span class="c1"&gt;# å…¨å±€å—&lt;/span&gt;

&lt;span class="c1"&gt;#error_log  logs/error.log;&lt;/span&gt;
&lt;span class="c1"&gt;#error_log  logs/error.log  notice;&lt;/span&gt;
&lt;span class="c1"&gt;#error_log  logs/error.log  info;&lt;/span&gt;

&lt;span class="c1"&gt;#pid        logs/nginx.pid;&lt;/span&gt;

&lt;span class="k"&gt;events&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;                                    &lt;span class="c1"&gt;# eventså—&lt;/span&gt;
    &lt;span class="kn"&gt;worker_connections&lt;/span&gt;  &lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;                                        &lt;span class="c1"&gt;# httpå—&lt;/span&gt;
    &lt;span class="kn"&gt;include&lt;/span&gt;       &lt;span class="s"&gt;mime.types&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                &lt;span class="c1"&gt;# å¼•ç”¨mime.typesè¿™ä¸ªæ–‡ä»¶&lt;/span&gt;

    &lt;span class="kn"&gt;default_type&lt;/span&gt;  &lt;span class="s"&gt;application/octet-stream&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;#log_format  main  &amp;#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &amp;#39;&lt;/span&gt;
    &lt;span class="c1"&gt;#                  &amp;#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &amp;#39;&lt;/span&gt;
    &lt;span class="c1"&gt;#                  &amp;#39;&amp;quot;$http_user_agent&amp;quot; &amp;quot;$http_x_forwarded_for&amp;quot;&amp;#39;;&lt;/span&gt;
    &lt;span class="c1"&gt;#access_log  logs/access.log  main;&lt;/span&gt;

    &lt;span class="kn"&gt;sendfile&lt;/span&gt;        &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;#tcp_nopush     on;&lt;/span&gt;
    &lt;span class="c1"&gt;#keepalive_timeout  0;&lt;/span&gt;
    &lt;span class="kn"&gt;keepalive_timeout&lt;/span&gt;  &lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# nginxå…è®¸çš„å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°&lt;/span&gt;
    &lt;span class="kn"&gt;client_header_buffer_size&lt;/span&gt; &lt;span class="mi"&gt;4k&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;#gzip  on;&lt;/span&gt;
    &lt;span class="c1"&gt;# proxy buffer&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_buffers&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="mi"&gt;4k&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_buffer_size&lt;/span&gt; &lt;span class="mi"&gt;4k&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_temp_file_write_size&lt;/span&gt; &lt;span class="mi"&gt;4k&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_temp_path&lt;/span&gt; &lt;span class="s"&gt;proxy_temp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;# proxy cache&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_cache_path&lt;/span&gt; &lt;span class="s"&gt;NGINX_cache/&lt;/span&gt; &lt;span class="s"&gt;keys_zone=cache_all:10m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# 128.236.160.5 CONF&lt;/span&gt;
    &lt;span class="kn"&gt;include&lt;/span&gt; &lt;span class="s"&gt;conf.d/128_236_160_5.conf&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;#server {                                # serverå—&lt;/span&gt;
    &lt;span class="c1"&gt;#   listen       80;&lt;/span&gt;
    &lt;span class="c1"&gt;#   server_name  localhost;&lt;/span&gt;
    &lt;span class="c1"&gt;#   charset koi8-r;&lt;/span&gt;
    &lt;span class="c1"&gt;#   access_log  logs/host.access.log  main;&lt;/span&gt;

    &lt;span class="c1"&gt;#   location / {                        # locationå—&lt;/span&gt;
    &lt;span class="c1"&gt;#        root   html;&lt;/span&gt;
    &lt;span class="c1"&gt;#        index  index.html index.htm;&lt;/span&gt;
    &lt;span class="c1"&gt;#   }&lt;/span&gt;

        &lt;span class="c1"&gt;#error_page  404              /404.html;&lt;/span&gt;
        &lt;span class="c1"&gt;# redirect server error pages to the static page /50x.html&lt;/span&gt;
    &lt;span class="c1"&gt;#    error_page   500 502 503 504  /50x.html;&lt;/span&gt;
    &lt;span class="c1"&gt;#    location = /50x.html {&lt;/span&gt;
    &lt;span class="c1"&gt;#        root   html;&lt;/span&gt;
    &lt;span class="c1"&gt;#    }&lt;/span&gt;

        &lt;span class="c1"&gt;# proxy the PHP scripts to Apache listening on 127.0.0.1:80&lt;/span&gt;
        &lt;span class="c1"&gt;#location ~ \.php$ {&lt;/span&gt;
        &lt;span class="c1"&gt;#    proxy_pass   http://127.0.0.1;&lt;/span&gt;
        &lt;span class="c1"&gt;#}&lt;/span&gt;

        &lt;span class="c1"&gt;# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000&lt;/span&gt;
        &lt;span class="c1"&gt;#location ~ \.php$ {&lt;/span&gt;
        &lt;span class="c1"&gt;#    root           html;&lt;/span&gt;
        &lt;span class="c1"&gt;#    fastcgi_pass   127.0.0.1:9000;&lt;/span&gt;
        &lt;span class="c1"&gt;#    fastcgi_index  index.php;&lt;/span&gt;
        &lt;span class="c1"&gt;#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;&lt;/span&gt;
        &lt;span class="c1"&gt;#    include        fastcgi_params;&lt;/span&gt;
        &lt;span class="c1"&gt;#}&lt;/span&gt;

        &lt;span class="c1"&gt;# deny access to .htaccess files, if Apache&amp;#39;s document root&lt;/span&gt;
        &lt;span class="c1"&gt;# concurs with nginx&amp;#39;s one&lt;/span&gt;
        &lt;span class="c1"&gt;#location ~ /\.ht {&lt;/span&gt;
        &lt;span class="c1"&gt;#    deny  all;&lt;/span&gt;
        &lt;span class="c1"&gt;#}&lt;/span&gt;
    &lt;span class="c1"&gt;#}&lt;/span&gt;

    &lt;span class="c1"&gt;# another virtual host using mix of IP-, name-, and port-based configuration&lt;/span&gt;
    &lt;span class="c1"&gt;#server {&lt;/span&gt;
    &lt;span class="c1"&gt;#    listen       8000;&lt;/span&gt;
    &lt;span class="c1"&gt;#    listen       somename:8080;&lt;/span&gt;
    &lt;span class="c1"&gt;#    server_name  somename  alias  another.alias;&lt;/span&gt;

    &lt;span class="c1"&gt;#    location / {&lt;/span&gt;
    &lt;span class="c1"&gt;#        root   html;&lt;/span&gt;
    &lt;span class="c1"&gt;#        index  index.html index.htm;&lt;/span&gt;
    &lt;span class="c1"&gt;#    }&lt;/span&gt;
    &lt;span class="c1"&gt;#}&lt;/span&gt;

    &lt;span class="c1"&gt;# HTTPS server&lt;/span&gt;
    &lt;span class="c1"&gt;#server {&lt;/span&gt;
    &lt;span class="c1"&gt;#    listen       443 ssl;&lt;/span&gt;
    &lt;span class="c1"&gt;#    server_name  localhost;&lt;/span&gt;
    &lt;span class="c1"&gt;#    ssl_certificate      cert.pem;&lt;/span&gt;
    &lt;span class="c1"&gt;#    ssl_certificate_key  cert.key;&lt;/span&gt;
    &lt;span class="c1"&gt;#    ssl_session_cache    shared:SSL:1m;&lt;/span&gt;
    &lt;span class="c1"&gt;#    ssl_session_timeout  5m;&lt;/span&gt;
    &lt;span class="c1"&gt;#    ssl_ciphers  HIGH:!aNULL:!MD5;&lt;/span&gt;
    &lt;span class="c1"&gt;#    ssl_prefer_server_ciphers  on;&lt;/span&gt;

    &lt;span class="c1"&gt;#    location / {&lt;/span&gt;
    &lt;span class="c1"&gt;#        root   html;&lt;/span&gt;
    &lt;span class="c1"&gt;#        index  index.html index.htm;&lt;/span&gt;
    &lt;span class="c1"&gt;#    }&lt;/span&gt;
    &lt;span class="c1"&gt;#}&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæŸä¸ªæŒ‡ä»¤åœ¨ä¸¤ä¸ªä¸åŒå±‚çº§çš„å—ä¸­åŒæ—¶å‡ºç°,åˆ™é‡‡ç”¨&lt;strong&gt;å°±è¿‘åŸåˆ™&lt;/strong&gt;,å³ä»¥è¾ƒä½å±‚çº§å—ä¸­çš„é…ç½®ä¸ºå‡†.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_1"&gt;é”™è¯¯æ—¥å¿—&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ—¥å¿—çº§åˆ«ç”±ä½åˆ°é«˜åˆ†ä¸ºdebug(éœ€è¦åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨--with-debugå¼€å¯debug)ã€infoã€noticeã€warnã€errorã€criticalã€alertã€emergã€‚&lt;/p&gt;
&lt;h3 id="_2"&gt;å¼•å…¥é…ç½®æ–‡ä»¶&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;include file&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="_3"&gt;äº‹ä»¶é©±åŠ¨æ¨¡å‹&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;use method&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;methodå†…å®¹æœ‰:select, poll, kqueue, epoll, rtsig, &lt;code&gt;/dev/poll&lt;/code&gt;, eventport&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_4"&gt;è‡ªå®šä¹‰æœåŠ¡æ—¥å¿—&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;log_format&lt;/span&gt; &lt;span class="s"&gt;exampleLog&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$remote_addr&lt;/span&gt; &lt;span class="s"&gt;-&lt;/span&gt; &lt;span class="s"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;$time_local]&lt;/span&gt; &lt;span class="nv"&gt;$request&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;
                &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$status&lt;/span&gt; &lt;span class="nv"&gt;$body_bytes_sent&lt;/span&gt; &lt;span class="nv"&gt;$http_referer&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;
                &lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$http_user_agent&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://nginx.org/en/docs/varindex.html"&gt;Nginxå†…ç½®å˜é‡&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºé…ç½®&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;server_name myserver.com www.myserver.com;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server_name *.myserver.com www.myserver.*;&lt;/code&gt;  (é€šé…ç¬¦'*'åªèƒ½ç”¨äºä¸‰æ®µå­—ç¬¦ä¸²çš„é¦–æ®µæˆ–å°¾æ®µ)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;server_name ~^www\d+\.myserver\.com$;&lt;/code&gt;  ("~"ä¸ºä½¿ç”¨æ­£åˆ™çš„æ ‡è®°)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒ¹é…ä¼˜å…ˆåº¦&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºåŒ¹é…æ–¹å¼ä¸åŒçš„,æŒ‰ç…§ä»¥ä¸‹ä¼˜å…ˆçº§:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‡†ç¡®åŒ¹é… server_name&lt;/li&gt;
&lt;li&gt;é€šé…ç¬¦åœ¨å¼€å§‹æ—¶åŒ¹é… server_nameæˆåŠŸ&lt;/li&gt;
&lt;li&gt;é€šé…ç¬¦åœ¨ç»“å°¾æ—¶åŒ¹é… server_nameæˆåŠŸ&lt;/li&gt;
&lt;li&gt;æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…server_nameæˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœserver_nameå¤„äºåŒä¸€ä¼˜å…ˆçº§çš„åŒ¹é…æ–¹å¼å¤šæ¬¡åŒ¹é…æˆåŠŸ,åˆ™é¦–æ¬¡åŒ¹é…æˆåŠŸçš„è™šæ‹Ÿä¸»æœºå¤„ç†è¯·æ±‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="location"&gt;é…ç½®location&lt;a class="headerlink" href="#location" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Syntax&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="o"&gt;~*&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="o"&gt;^~&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="n"&gt;uri&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="o"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="err"&gt;â€”&lt;/span&gt;

&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ ‡è¯†å«ä¹‰:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;=&lt;/code&gt; ç”¨äº&lt;strong&gt;æ ‡å‡†uri&lt;/strong&gt;å‰,è¦æ±‚è¯·æ±‚å­—ç¬¦ä¸²ä¸uri&lt;strong&gt;ä¸¥æ ¼åŒ¹é…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~&lt;/code&gt; ç”¨äºè¡¨ç¤ºuriåŒ…å«&lt;strong&gt;æ­£åˆ™è¡¨è¾¾å¼&lt;/strong&gt;, å¹¶ä¸”&lt;strong&gt;åŒºåˆ†å¤§å°å†™&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~*&lt;/code&gt; ç”¨äºè¡¨ç¤ºuriåŒ…å«&lt;strong&gt;æ­£åˆ™è¡¨è¾¾å¼&lt;/strong&gt;, å¹¶ä¸”&lt;strong&gt;ä¸åŒºåˆ†å¤§å°å†™&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^~&lt;/code&gt; ç”¨äº&lt;strong&gt;æ ‡å‡†uri&lt;/strong&gt;å‰, è¦æ±‚NginxæœåŠ¡å™¨æ‰¾åˆ°æ ‡è¯†uriå’Œè¯·æ±‚å­—ç¬¦ä¸²åŒ¹é…åº¦æœ€é«˜çš„locationå, ç«‹å³ä½¿ç”¨æ­¤locationå¤„ç†è¯·æ±‚, è€Œä¸å†ä½¿ç”¨locationå—ä¸­çš„æ­£åˆ™uriå’Œè¯·æ±‚å­—ç¬¦ä¸²åšåŒ¹é….&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_6"&gt;é…ç½®è¯·æ±‚çš„æ ¹ç›®å½•&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/data/&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/locationtest1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å½“locationå—æ¥æ”¶åˆ°&lt;code&gt;/data/index.htm&lt;/code&gt; çš„è¯·æ±‚æ—¶, å°†åœ¨&lt;code&gt;/locationtest1/data/&lt;/code&gt; ç›®å½•ä¸‹æ‰¾åˆ°index.htm å“åº”è¯·æ±‚.&lt;/p&gt;
&lt;h3 id="alias"&gt;aliasæŒ‡ä»¤&lt;a class="headerlink" href="#alias" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="p"&gt;~&lt;/span&gt; &lt;span class="sr"&gt;^/data/(.+\.(htm|html))$&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;alias&lt;/span&gt; &lt;span class="s"&gt;/locationtest1/other/&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å½“æ”¶åˆ°&lt;code&gt;/data/index.htm&lt;/code&gt;æ—¶, åŒ¹é…æˆåŠŸ, ä¹‹åæ ¹æ®aliasæŒ‡ä»¤çš„é…ç½®, å°†åˆ° &lt;code&gt;/locationtest1/other&lt;/code&gt; ç›®å½•ä¸‹æ‰¾åˆ°å¯¹åº”è¯·æ±‚. å¯ä»¥çœ‹åˆ°, é€šè¿‡aliasæŒ‡ä»¤çš„é…ç½®, è·Ÿè·¯å¾„å·²ç»ä»&lt;code&gt;/data&lt;/code&gt; æ›´æ”¹ä¸º &lt;code&gt;/locationtest1/other&lt;/code&gt; äº†.&lt;/p&gt;
&lt;h3 id="_7"&gt;è®¾ç½®ç½‘ç«™é»˜è®¤é¦–é¡µ&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="p"&gt;~&lt;/span&gt; &lt;span class="sr"&gt;^/data/(.+)/web/$&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index.&lt;/span&gt;&lt;span class="nv"&gt;$1.html&lt;/span&gt; &lt;span class="s"&gt;index.my1.html&lt;/span&gt; &lt;span class="s"&gt;index.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å½“locationå—æ¥æ”¶åˆ°&lt;code&gt;/data/locationtest/web/&lt;/code&gt; æ—¶, åŒ¹é…æˆåŠŸ, å®ƒé¦–å…ˆå°†é¢„ç½®å˜é‡$1ç½®ä¸º&lt;em&gt;locationtest&lt;/em&gt;, ç„¶ååœ¨&lt;code&gt;/data/locationtest/web/&lt;/code&gt; è·¯å¾„ä¸‹æŒ‰ç…§indexçš„é…ç½®æ¬¡åºä¾æ¬¡å¯»æ‰¾ index.locationtest.html index.my1.html å’Œ index.html , é¦–å…ˆæ‰¾åˆ°å“ªä¸ªé¡µé¢, å°±ä½¿ç”¨å“ªä¸ªé¡µé¢å“åº”è¯·æ±‚.&lt;/p&gt;
&lt;h3 id="_8"&gt;é”™è¯¯é¡µé¢&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´,HTTP &lt;strong&gt;2XX ä»£è¡¨è¯·æ±‚æ­£å¸¸å®Œæˆ&lt;/strong&gt;, &lt;strong&gt;3XX ä»£è¡¨ç½‘ç«™é‡å®šå‘&lt;/strong&gt;, &lt;strong&gt;4XXä»£è¡¨å®¢æˆ·ç«¯å‡ºç°é”™è¯¯&lt;/strong&gt;, &lt;strong&gt;5XXä»£è¡¨æœåŠ¡å™¨ç«¯å‡ºç°é”™è¯¯&lt;/strong&gt;.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;HTTPæ¶ˆæ¯&lt;/th&gt;
&lt;th&gt;ä»£ç &lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å·²ç§»åŠ¨&lt;/td&gt;
&lt;td&gt;301&lt;/td&gt;
&lt;td&gt;è¯·æ±‚çš„æ•°æ®å…·æœ‰æ–°çš„ä½ç½®, å¹¶ä¸”æ›´æ”¹æ˜¯&lt;strong&gt;æ°¸ä¹…&lt;/strong&gt;çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å·²æ‰¾åˆ°&lt;/td&gt;
&lt;td&gt;302&lt;/td&gt;
&lt;td&gt;è¯·æ±‚çš„æ•°æ®&lt;strong&gt;ä¸´æ—¶&lt;/strong&gt;å…·æœ‰ä¸åŒçš„URI&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¯·å‚é˜…å…¶ä»–&lt;/td&gt;
&lt;td&gt;303&lt;/td&gt;
&lt;td&gt;å¯åœ¨å¦ä¸€URIä¸‹æ‰¾åˆ°å¯¹è¯·æ±‚çš„å“åº”, å¹¶ä¸”åº”ä½¿ç”¨GETæ–¹æ³•æ£€ç´¢æ­¤å“åº”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœªä¿®æ”¹&lt;/td&gt;
&lt;td&gt;304&lt;/td&gt;
&lt;td&gt;æœªæŒ‰é¢„æœŸä¿®æ”¹æ–‡æ¡£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä½¿ç”¨ä»£ç†&lt;/td&gt;
&lt;td&gt;305&lt;/td&gt;
&lt;td&gt;å¿…é¡»é€šè¿‡ä½ç½®å­—æ®µä¸­æä¾›çš„ä»£ç†æ¥è®¿é—®è¯·æ±‚çš„èµ„æº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœªä½¿ç”¨&lt;/td&gt;
&lt;td&gt;306&lt;/td&gt;
&lt;td&gt;ä¸å†ä½¿ç”¨, ä½†ä¿ç•™æ­¤ä»£ç ä»¥ä¾¿å°†æ¥ä½¿ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ— æ³•æ‰¾åˆ°ç½‘é¡µ&lt;/td&gt;
&lt;td&gt;400&lt;/td&gt;
&lt;td&gt;å¯ä»¥è¿æ¥åˆ°WebæœåŠ¡å™¨, ä½†æ˜¯ç”±äºWebåœ°å€(URL) çš„é—®é¢˜, æ— æ³•æ‰¾åˆ°ç½‘é¡µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘ç«™æ‹’ç»æ˜¾ç¤ºæ­¤ç½‘é¡µ&lt;/td&gt;
&lt;td&gt;403&lt;/td&gt;
&lt;td&gt;å¯ä»¥è¿æ¥åˆ°ç½‘ç«™, ä½†æ²¡æœ‰æ˜¾ç¤ºç½‘é¡µçš„æƒé™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ— æ³•æ‰¾åˆ°ç½‘é¡µ&lt;/td&gt;
&lt;td&gt;404&lt;/td&gt;
&lt;td&gt;å¯ä»¥è¿æ¥åˆ°ç½‘ç«™, ä½†æ‰¾ä¸åˆ°ç½‘é¡µ. å¯¼è‡´æ­¤é”™è¯¯çš„åŸå› æœ‰æ—¶å¯èƒ½æ˜¯è¯¥ç½‘é¡µæš‚æ—¶ä¸å¯ç”¨æˆ–ç½‘é¡µå·²è¢«åˆ é™¤.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘ç«™æ— æ³•æ˜¾ç¤ºè¯¥é¡µé¢&lt;/td&gt;
&lt;td&gt;405&lt;/td&gt;
&lt;td&gt;å¯ä»¥è¿æ¥åˆ°ç½‘ç«™, ä½†ç½‘é¡µå†…å®¹æ— æ³•ä¸‹è½½åˆ°ç”¨æˆ·çš„è®¡ç®—æœº. è¿™é€šå¸¸æ˜¯ç”±ç½‘é¡µç¼–å†™æ–¹å¼é—®é¢˜å¼•èµ·çš„.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ— æ³•è¯»å–æ­¤ç½‘é¡µæ ¼å¼&lt;/td&gt;
&lt;td&gt;406&lt;/td&gt;
&lt;td&gt;èƒ½å¤Ÿä»ç½‘ç«™æ¥æ”¶ä¿¡æ¯, ä½†ä¸èƒ½è¯†åˆ«å…¶æ ¼å¼, å› è€Œæ— æ³•æ­£ç¡®åœ°æ˜¾ç¤ºæ¶ˆæ¯.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¯¥ç½‘ç«™å¤ªå¿™, æ— æ³•æ˜¾ç¤ºæ­¤ç½‘é¡µ&lt;/td&gt;
&lt;td&gt;408 409&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨æ˜¾ç¤ºè¯¥ç½‘é¡µçš„æ—¶é—´å¤ªé•¿, æˆ–å¯¹åŒä¸€ç½‘é¡µçš„è¯·æ±‚å¤ªå¤š&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘é¡µä¸å¤å­˜åœ¨&lt;/td&gt;
&lt;td&gt;410&lt;/td&gt;
&lt;td&gt;å¯ä»¥è¿æ¥åˆ°ç½‘ç«™, ä½†æ— æ³•æ‰¾åˆ°ç½‘é¡µ. ä¸404ä¸åŒ, æ­¤é”™è¯¯æ˜¯æ°¸ä¹…æ€§çš„, è€Œä¸”ç”±ç½‘ç«™ç®¡ç†å‘˜æ‰“å¼€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘ç«™æ— æ³•æ˜¾ç¤ºè¯¥é¡µé¢&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;æ­£åœ¨è®¿é—®çš„ç½‘ç«™å‡ºç°äº†æœåŠ¡å™¨é—®é¢˜. è¯¥é—®é¢˜é˜»æ­¢äº†æ­¤ç½‘é¡µçš„æ˜¾ç¤º. å¸¸è§çš„åŸå› æ˜¯ç½‘ç«™æ­£åœ¨ç»´æŠ¤æˆ–ä½¿ç”¨è„šæœ¬çš„äº¤äº’å¼ç½‘ç«™ä¸Šçš„ç¨‹åºå‡ºé”™.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æœªæ‰§è¡Œ&lt;/td&gt;
&lt;td&gt;501&lt;/td&gt;
&lt;td&gt;æ²¡æœ‰å°†æ­£åœ¨è®¿é—®çš„ç½‘ç«™è®¾ç½®ä¸ºæ˜¾ç¤ºæµè§ˆå™¨æ‰€è¯·æ±‚çš„å†…å®¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸æ”¯æŒçš„ç‰ˆæœ¬&lt;/td&gt;
&lt;td&gt;505&lt;/td&gt;
&lt;td&gt;è¯¥ç½‘ç«™ä¸æ”¯æŒæµè§ˆå™¨ç”¨äºè¯·æ±‚ç½‘é¡µçš„HTTPåè®®(å¦‚HTTP/1.1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Syntax&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;error_page&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="o"&gt;[=[&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="n"&gt;uri&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="err"&gt;â€”&lt;/span&gt;
&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt;             &lt;span class="s"&gt;/404.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt; &lt;span class="mi"&gt;502&lt;/span&gt; &lt;span class="mi"&gt;503&lt;/span&gt; &lt;span class="mi"&gt;504&lt;/span&gt; &lt;span class="s"&gt;/50x.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt; &lt;span class="s"&gt;/empty.gif&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;#If an error response is processed by a proxied server or a FastCGI/uwsgi/SCGI server, and the server may return different response codes (e.g., 200, 302, 401 or 404), it is possible to respond with the code it returns:&lt;/span&gt;
&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;/404.php&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;#If there is no need to change URI and method during internal redirection it is possible to pass error processing into a named location:&lt;/span&gt;
&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;@fallback&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;@fallback&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_pass&lt;/span&gt; &lt;span class="s"&gt;http://backend&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;#It is also possible to use URL redirects for error processing:&lt;/span&gt;
&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;403&lt;/span&gt;      &lt;span class="s"&gt;http://example.com/forbidden.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;301&lt;/span&gt; &lt;span class="s"&gt;http://example.com/notfound.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="ipnginx"&gt;åŸºäºIPé…ç½®Nginxçš„è®¿é—®æƒé™&lt;a class="headerlink" href="#ipnginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;deny&lt;/span&gt;  &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.1.1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.1.0/24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="s"&gt;.1.1.0/16&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;allow&lt;/span&gt; &lt;span class="n"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="s"&gt;db8::/32&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;deny&lt;/span&gt;  &lt;span class="s"&gt;all&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Syntax&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;allow&lt;/span&gt; &lt;span class="n"&gt;address&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;CIDR&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;unix&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="err"&gt;â€”&lt;/span&gt;
&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;limit_except&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;address: å®¢æˆ·ç«¯IP, ä¸æ”¯æŒåŒæ—¶è®¾ç½®å¤šä¸ª.å¦‚æœæœ‰å¤šä¸ªIPéœ€è¦è®¾ç½®, éœ€è¦é‡å¤ä½¿ç”¨allowæŒ‡ä»¤.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Nginxé…ç½®åœ¨è§£æçš„è¿‡ç¨‹ä¸­, é‡åˆ°denyæŒ‡ä»¤æˆ–è€…allowæŒ‡ä»¤æ˜¯æŒ‰ç…§é¡ºåºå¯¹å½“å‰å®¢æˆ·ç«¯çš„è¿æ¥è¿›è¡Œè®¿é—®æƒé™æ£€æŸ¥çš„. å¦‚æœé‡åˆ°åŒ¹é…çš„è®¾ç½®æ—¶, åˆ™åœæ­¢ç»§ç»­å‘ä¸‹æœç´¢ç›¸å…³é…ç½®.&lt;/p&gt;
&lt;h3 id="nginx"&gt;åŸºäºå¯†ç çš„Nginxè®¿é—®æƒé™&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Syntax&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;auth_basic&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;off&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;auth_basic&lt;/span&gt; &lt;span class="n"&gt;off&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;limit_except&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Syntax&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;auth_basic_user_file&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="err"&gt;â€”&lt;/span&gt;
&lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;    &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;limit_except&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ˜æ–‡å¯†ç æ ¼å¼:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;## comment
name1:password1
name2:password2:comment
name3:password3
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åŠ å¯†å¯†ç å¯ä»¥ä½¿ç”¨&lt;code&gt;crypt()&lt;/code&gt; å‡½æ•°è¿›è¡Œå¯†ç åŠ å¯†çš„æ ¼å¼, åœ¨Linuxå¹³å°ä¸Šå¯ä»¥ä½¿ç”¨ &lt;code&gt;htpasswd&lt;/code&gt; å‘½ä»¤ç”Ÿæˆ. åœ¨PHPå’ŒPerlç­‰è¯­è¨€ä¸­, ä¹Ÿæä¾›&lt;code&gt;crypt()&lt;/code&gt;å‡½æ•°. ä½¿ç”¨htpasswdå‘½ä»¤çš„ä¸€ä¸ªç¤ºä¾‹ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;htpasswd -c -d /nginx/conf/pass_file username&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿è¡Œåè¾“å…¥å¯†ç å³å¯.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 15:30:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-1-3-basic-config.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-å®‰è£…éƒ¨ç½²-å¯åœæ§åˆ¶</title><link>https://www.EWhisper.cn/nginx-notebook-1-2-start-stop.html</link><description>&lt;h2 id="nginx"&gt;Nginxå¯åœæ§åˆ¶&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;nginx -t&lt;/code&gt; æ£€æŸ¥NginxæœåŠ¡å™¨é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nginx&lt;/code&gt; å¯åŠ¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nginx -s stop&lt;/code&gt; åœæ­¢&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nginx -s reload&lt;/code&gt;  æˆ– &lt;code&gt;kill HUP `/Nginx/logs/nginx.pid`&lt;/code&gt;  å¹³æ»‘é‡å¯&lt;/li&gt;
&lt;li&gt;å¹³æ»‘å‡çº§: å…ˆæ‰§è¡Œ&lt;code&gt;kill USR2 `/Nginx/logs/nginx.pid`&lt;/code&gt;å®ç°NginxæœåŠ¡çš„å¹³æ»‘å‡çº§; å†ä½¿ç”¨&lt;code&gt;kill WINCH `/Nginx/logs/nginx.pid`&lt;/code&gt;å¹³æ»‘åœæ­¢æ—§æœåŠ¡ä¿¡å·&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 15:25:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-1-2-start-stop.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å­¦ä¹ ç¬”è®°-å®‰è£…éƒ¨ç½²-åŸºæœ¬é…ç½®</title><link>https://www.EWhisper.cn/nginx-notebook-1-1-basic-config.html</link><description>&lt;h1 id="_1"&gt;åŸºæœ¬é…ç½®&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id="_2"&gt;ä¾èµ–&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;GCCç¼–è¯‘å™¨&lt;/li&gt;
&lt;li&gt;Automakeå·¥å…·&lt;/li&gt;
&lt;li&gt;pcreåº“(æ”¯æŒrewriteæ¨¡å—)&lt;/li&gt;
&lt;li&gt;zlibåº“(æ”¯æŒgzipæ¨¡å—)&lt;/li&gt;
&lt;li&gt;opensslåº“(æ”¯æŒsslæ¨¡å—)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒæŒ‡ä»¤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum -y install gcc gcc-c++ automake pcre pcre-devel zlib zlib-devel openssl openssl-devel&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_3"&gt;ç›®å½•ç»“æ„&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="nginx"&gt;nginxè§£å‹åè½¯ä»¶åŒ…&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;src&lt;/strong&gt;: æºä»£ç &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;man&lt;/strong&gt;: å¸®åŠ©æ–‡ä»¶(å¯ä»¥é€šè¿‡&lt;code&gt;man nginx&lt;/code&gt;æŸ¥çœ‹)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;html&lt;/strong&gt;: htmlæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;conf&lt;/strong&gt;: é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;auto&lt;/strong&gt;: è„šæœ¬æ–‡ä»¶,å’Œconfigure&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;configure&lt;/strong&gt;: è‡ªåŠ¨è„šæœ¬ç¨‹åº&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;configure 2é¡¹å·¥ä½œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥ç¯å¢ƒ,æ ¹æ®ç¯å¢ƒæ£€æŸ¥ç»“æœç”ŸæˆCä»£ç ;&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆç¼–è¯‘ä»£ç éœ€è¦çš„Makefileæ–‡ä»¶.&lt;br&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id="nginx_1"&gt;nginxæœåŠ¡å™¨è½¯ä»¶ç›®å½•&lt;a class="headerlink" href="#nginx_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;conf&lt;/strong&gt;: Nginxçš„æ‰€æœ‰é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;html&lt;/strong&gt;: NginxæœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨çš„ä¸€äº›htmlç½‘é¡µæ–‡ä»¶.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;logs&lt;/strong&gt;: æ—¥å¿—&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sbin&lt;/strong&gt;: nginxä¸€ä¸ªæ–‡ä»¶,å³å¯åŠ¨çš„ä¸»ç¨‹åº&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¯ä»¥åœ¨htmlç›®å½•ä¸‹è‡ªå®šä¹‰ä¸€äº›ç½‘é¡µæ–‡ä»¶,å¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å‘ç”Ÿä»€ä¹ˆæƒ…å†µæ—¶è½¬åˆ°ç›¸åº”çš„æ–‡ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="configure"&gt;configure è„šæœ¬æ”¯æŒçš„å¸¸ç”¨é€‰é¡¹&lt;a class="headerlink" href="#configure" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;--prefix=&amp;lt;path&amp;gt;  æŒ‡å®šå®‰è£…è·¯å¾„,é»˜è®¤/usr/local/nginx

--user=&amp;lt;user&amp;gt;  æœªæŒ‡å®š,é»˜è®¤nobody

--with-debug  å¯ç”¨Nginxçš„è°ƒè¯•æ—¥å¿—

--add-module=&amp;lt;path&amp;gt;  å£°æ˜ç¬¬ä¸‰æ–¹æ¨¡å—çš„è·¯å¾„,ç”¨ä»¥ç¼–è¯‘åˆ€NginxæœåŠ¡å™¨ä¸­

--with-poll_module  å£°æ˜å¯ç”¨pollæ¨¡å—.pollæ¨¡å—æ˜¯ä¿¡å·å¤„ç†çš„ä¸€ç§æ–¹æ³•.

--with-http_ssl_module  å¯ç”¨HTTPçš„sslæ¨¡å—.

--with-http_stub_status_module  å¯ç”¨Server Statusé¡µ.é»˜è®¤ä¸å¯ç”¨

--http-proxy-temp-path=&amp;lt;path&amp;gt;  æŒ‡å®šå­˜æ”¾HTTPä»£ç†ä¸´æ—¶æ–‡ä»¶çš„è·¯å¾„

--without-http  å£°æ˜ç¦ç”¨HTTP Server

--with-pcre=&amp;lt;dir&amp;gt;  æŒ‡å®špcreåº“æºä»£ç çš„è·¯å¾„.è¿™æ ·å¯ä»¥åœ¨**ç¼–è¯‘Nginxæºä»£ç çš„åŒæ—¶ç¼–è¯‘pcreåº“**,ä¸éœ€è¦æå‰å®‰è£…pcreåº“

--with-zilb=&amp;lt;dir&amp;gt;  æŒ‡å®šzlibåº“æºä»£ç çš„è·¯å¾„.åŒpcre

--with-openssl=&amp;lt;dir&amp;gt;  æŒ‡å®šOpenSSLåº“æºä»£ç çš„è·¯å¾„.
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;æ¸…é™¤ä¸Šæ¬¡ç¼–è¯‘çš„é—ç•™æ–‡ä»¶ &lt;code&gt;make clean&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;./configure

    --sbin-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx/nginx

    --conf-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx/nginx.conf

    --pid-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx/nginx.pid

    --with-http_ssl_module

    --with-pcre&lt;span class="o"&gt;=&lt;/span&gt;../pcre-8.40

    --with-zlib&lt;span class="o"&gt;=&lt;/span&gt;../zlib-1.2.11
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 23 Jun 2019 15:10:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-23:/nginx-notebook-1-1-basic-config.html</guid><category>nginx</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-å®ç”¨è¿ç»´Tipså’Œæ€»ç»“</title><link>https://www.EWhisper.cn/nginx-handbook-3-11-operation-best-practices.html</link><description>&lt;h2 id="311-tips"&gt;3.11 å®ç”¨è¿ç»´Tipså’Œæ€»ç»“&lt;a class="headerlink" href="#311-tips" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="3110"&gt;3.11.0 ä»‹ç»&lt;a class="headerlink" href="#3110" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æœ€åç« èŠ‚ä¼šåŒ…æ‹¬ä½¿ç”¨è¿ç»´tipså’Œæœ¬ä¹¦çš„æ€»ç»“. é€šè¿‡è¿™ä¸‰ä¸ªå¤§éƒ¨åˆ†, æˆ‘ä»¬è®¨è®ºäº†ä¸è¿ç»´å·¥ç¨‹å¸ˆæœ‰å…³çš„å¾ˆå¤šæƒ³æ³•å’Œæ¦‚å¿µ. ç„¶è€Œ, æˆ‘è®¤ä¸ºå†å¤šè®²ä¸€ç‚¹ä¼šæœ‰åŠ©äºç†è§£çš„æ›´åŠ å…¨é¢. åœ¨æœ¬ç« , æˆ‘ä¼šç¡®ä¿ä½ çš„é…ç½®æ–‡ä»¶å¹²å‡€å’Œç®€æ´, ä»¥åŠå¦‚ä½•è°ƒè¯•é…ç½®æ–‡ä»¶.&lt;/p&gt;
&lt;h3 id="3111-includes"&gt;3.11.1 ä½¿ç”¨ Includes æ¥ç¼©å‡é…ç½®&lt;a class="headerlink" href="#3111-includes" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦æ¸…ç†å¤§é‡çš„é…ç½®æ–‡ä»¶æ¥ä¿è¯ä½ çš„é…ç½®æ–‡ä»¶ä»¥æ¨¡å—åŒ–çš„é…ç½®é›†åˆ†ç»„.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;include&lt;/code&gt;æŒ‡ä»¤æ¥å¼•ç”¨é…ç½®æ–‡ä»¶, ç›®å½•æˆ–é€šé…ç¬¦:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;include&lt;/span&gt; &lt;span class="s"&gt;config.d/compression.conf&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;include&lt;/span&gt; &lt;span class="s"&gt;sites-enabled/*.conf&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç•¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="3112"&gt;3.11.2 è°ƒè¯•é…ç½®&lt;a class="headerlink" href="#3112" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä»NGINX server , ä½ å¾—åˆ°çš„éé¢„æœŸçš„ç»“æœ.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;è°ƒè¯•é…ç½®, è®°ä½ä»¥ä¸‹å»ºè®®:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NGINXè¿›ç¨‹è¯·æ±‚æŸ¥æ‰¾æœ€åŒ¹é…çš„è§„åˆ™.&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥æ‰“å¼€è°ƒè¯•æ—¥å¿—. å¯¹äºè°ƒè¯•æ—¥å¿—, ä½ éœ€è¦ç¡®ä¿ä½ çš„NGINXåŒ…é…ç½®äº†&lt;code&gt;--with-debug&lt;/code&gt; flag. å¤§éƒ¨åˆ†å¸¸è§åŒ…éƒ½æœ‰; ä½†æ˜¯å¦‚æœä½ æ„å»ºä½ è‡ªå·±çš„åŒ…, æˆ–åœ¨è¿è¡Œä¸€ä¸ªæœ€å°åŒ–çš„åŒ…, ä½ å¯èƒ½è‡³å°‘éœ€è¦å†æ¬¡ä»”ç»†æ£€æŸ¥. ä¸€æ—¦ä½ ç¡®å®šäº†ä½ æœ‰debug, ä½ å¯ä»¥è®¾ç½®&lt;code&gt;error_log&lt;/code&gt;æŒ‡ä»¤çš„æ—¥å¿—çº§åˆ«ä¸º&lt;code&gt;debug&lt;/code&gt;: &lt;code&gt;error_log /var/log/nginx/error.log debug;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥ä¸ºç‰¹å®šçš„è¿æ¥å¯ç”¨è°ƒè¯•. &lt;code&gt;debug_connection&lt;/code&gt;æŒ‡ä»¤åœ¨&lt;code&gt;events&lt;/code&gt;ä¸Šä¸‹æ–‡æ˜¯åˆæ³•çš„, ä½¿ç”¨IPæˆ–CIDR rangeä½œä¸ºå‚æ•°. è¯¥æŒ‡ä»¤å¯ä»¥å£°æ˜å¤šæ¬¡æ¥æ·»åŠ å¤šä¸ªè¦è°ƒè¯•çš„IPåœ°å€æˆ–CIDR ranges. è¿™åœ¨ç”Ÿäº§ç¯å¢ƒ, ä½†æ˜¯è°ƒè¯•æ‰€æœ‰è¿æ¥ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™çš„æƒ…å†µä¸‹, è°ƒè¯•ä¸€ä¸ªé—®é¢˜ä¼šå¾ˆæœ‰ç”¨&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥è°ƒè¯•ç‰¹å®šçš„virtual servers. å› ä¸º&lt;code&gt;error_log&lt;/code&gt;åœ¨&lt;code&gt;main&lt;/code&gt; &lt;code&gt;http&lt;/code&gt; &lt;code&gt;mail&lt;/code&gt; &lt;code&gt;stream&lt;/code&gt; &lt;code&gt;server&lt;/code&gt; å’Œ&lt;code&gt;location&lt;/code&gt;ä¸Šä¸‹æ–‡éƒ½æœ‰æ•ˆ. ä½ å¯ä»¥åœ¨ä½ éœ€è¦è°ƒè¯•çš„ä¸Šä¸‹æ–‡è®¾ç½®&lt;code&gt;debug&lt;/code&gt;æ—¥å¿—çº§åˆ«.&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥å¯ç”¨core dumps, æ¥ä»ä¸­è·å–backtraces. Core dumpså¯ä»¥é€šè¿‡æ“ä½œç³»ç»Ÿå¯ç”¨, æˆ–é€šè¿‡NGINXé…ç½®æ–‡ä»¶.&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;rewrite_log&lt;/code&gt;è®°å½•rewrite å£°æ˜çš„æ—¥å¿—: &lt;code&gt;rewrite_log on;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;NGINXèƒ½åšå¾ˆå¤šç¥å¥‡çš„é…ç½®, ä½†æ˜¯ä¹Ÿæœ‰æ€§èƒ½ä¸‹é™çš„é£é™©. è°ƒè¯•æ—¶, ç¡®ä¿ä½ çŸ¥é“å¦‚ä½•é€šè¿‡ä½ çš„é…ç½®æ¥è¿½è¸ªä½ çš„è¯·æ±‚; å¦‚æœæœ‰é—®é¢˜, å¢åŠ è°ƒè¯•æ—¥å¿—çº§åˆ«æ¥å¸®åŠ©åˆ†æ. debugæ—¥å¿—æ—¶ç›¸å½“è¯¦ç»†, æ‰¾å‡ºNGINXå¯¹ä½ çš„è¯·æ±‚åšäº†ä»€ä¹ˆä»¥åŠä½ çš„é…ç½®åœ¨å“ªå„¿å‡ºé”™äº†å¾ˆæœ‰å¸®åŠ©.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2crNKVM"&gt;NGINXå¦‚ä½•å¤„ç†è¯·æ±‚&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2iQYNsZ"&gt;ç®¡ç†å‘˜è°ƒè¯•å‘å¯¼&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2j96jAH"&gt;Rewrite log&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="3113"&gt;3.11.3 æ€»ç»“&lt;a class="headerlink" href="#3113" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¿™æœ¬ä¹¦çš„ä¸‰ä¸ªéƒ¨åˆ†é›†ä¸­äºé«˜æ€§èƒ½è´Ÿè½½å‡è¡¡, å®‰å…¨, ä»¥åŠéƒ¨ç½²å’Œç»´æŠ¤NGINXå’ŒNGINX Plus servers. è¿™æœ¬ä¹¦å±•ç¤ºäº†NGINXåº”ç”¨äº¤ä»˜å¹³å°çš„ä¸€äº›æœ€å¼ºå¤§çš„åŠŸèƒ½. NGINXä¼šç»§ç»­å¼€å‘ç¥å¥‡çš„åŠŸèƒ½, ä¿æŒèµ›é“é¢†å…ˆ.&lt;/p&gt;
&lt;p&gt;è¿™æœ¬ä¹¦å±•ç¤ºäº†å¾ˆå¤š"ç®€çŸ­é£Ÿè°±", å…è®¸ä½ å¯¹æŒ‡ä»¤å’Œæ¨¡å—(è¿™äº›è®©NGINXæˆä¸ºå½“ä»Šç½‘ç»œä¹‹å¿ƒ)æœ‰æ›´å¥½çš„ç†è§£. NGINX serverä¸ä»…ä»…æ˜¯web server, ä¸ä»…ä»…æ—¶åå‘ä»£ç†, è€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨äº¤ä»˜å¹³å°, å®Œå…¨æœ‰èƒ½åŠ›é€šè¿‡è®¤è¯, å¹¶åœ¨æœªæ¥ç¯å¢ƒä¸­ä½¿ç”¨.  è¯·çŸ¥æ‚‰.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:39:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-11-operation-best-practices.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-ä½¿ç”¨`split_clients`è¿›è¡ŒA-Bæµ‹è¯•</title><link>https://www.EWhisper.cn/nginx-handbook-3-7-ab-test.html</link><description>&lt;h2 id="37-split_clientsa-b"&gt;3.7 ä½¿ç”¨&lt;code&gt;split_clients&lt;/code&gt;è¿›è¡ŒA-Bæµ‹è¯•&lt;a class="headerlink" href="#37-split_clientsa-b" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="370"&gt;3.7.0 ä»‹ç»&lt;a class="headerlink" href="#370" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;NGINXæœ‰ä¸€ä¸ªå«åš&lt;code&gt;split_clients&lt;/code&gt;çš„æ¨¡å—, å…è®¸ä½ æ¥ç³»ç»Ÿåœ°ç»™äºˆæŸä¸€ä¸ªå˜é‡keyæ¥æ‹†åˆ†ç”¨æˆ·. NGINXé€šè¿‡ä½¿ç”¨è½»é‡çš„å“ˆå¸Œç®—æ³•æ¥å“ˆå¸Œä¸€ä¸ªç»™å®šçš„å­—ç¬¦ä¸²æ¥æ‹†åˆ†ç”¨æˆ·. ç„¶åæ•°å­¦åœ°é€šè¿‡ç™¾åˆ†æ¯”æ‹†åˆ†, æ˜ å°„é¢„å®šä¹‰çš„å€¼åˆ°ä¸€ä¸ªå˜é‡, è¿™ä¸ªå€¼å¯ä»¥ç”¨æ¥æ”¹å˜æœåŠ¡å™¨çš„å“åº”ã€‚&lt;/p&gt;
&lt;h3 id="371-ab"&gt;3.7.1 A/B æµ‹è¯•&lt;a class="headerlink" href="#371-ab" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦æ‹†åˆ†ä¸¤ä¸ªæˆ–æ›´å¤šç‰ˆæœ¬çš„æ–‡ä»¶æˆ–ç¨‹åºçš„ç”¨æˆ·æ¥æµ‹è¯•æ¥å—åº¦.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;split_clients&lt;/code&gt;æ¨¡å—æ¥ç›´æ¥ä¸ºä½ çš„å®¢æˆ·ç«¯è®¾ç½®ä¸åŒçš„upstream pool:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;split_clients&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;${remote_addr}AAA&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;$variant&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;20.0%&lt;/span&gt;    &lt;span class="s"&gt;&amp;quot;backendv2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;*&lt;/span&gt;        &lt;span class="s"&gt;&amp;quot;backendv1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;split_clients&lt;/code&gt;æŒ‡ä»¤å“ˆå¸Œç”±ä½ æä¾›çš„å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°, å¹¶ä¸”å°†æ•£åˆ—çš„ç™¾åˆ†æ¯”æä¾›æ˜ å°„ä¸€ä¸ªå˜é‡çš„å€¼ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°æä¾›ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«key-valueå¯¹çš„å¯¹è±¡, keyæ˜¯ç™¾åˆ†æ¯”æƒé‡, å€¼æ˜¯è¦è¢«åˆ†é…çš„å€¼. keyå¯ä»¥æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”æˆ–ä¸€ä¸ªæ˜Ÿå·. æ˜Ÿå·å°±æ˜¯å‰©ä¸‹çš„ç™¾åˆ†æ¯”. å˜é‡&lt;code&gt;$variant&lt;/code&gt;çš„å€¼å°†æ˜¯20%çš„å®¢æˆ·ç«¯IPæ˜¯&lt;code&gt;backendv2&lt;/code&gt;, å‰©ä¸‹çš„80%æ˜¯&lt;code&gt;backendv1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­, &lt;code&gt;backendv1&lt;/code&gt;å’Œ&lt;code&gt;backendv2&lt;/code&gt;ä»£è¡¨upstream serveræ± , å¯ä»¥è¢«ç”¨äº&lt;code&gt;proxy_pass&lt;/code&gt;æŒ‡ä»¤, å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;proxy_pass&lt;/span&gt; &lt;span class="s"&gt;http://&lt;/span&gt;&lt;span class="nv"&gt;$variant&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½¿ç”¨å˜é‡&lt;code&gt;$variant&lt;/code&gt;, æˆ‘ä»¬çš„æµé‡ä¼šè¢«åˆ†ä¸º2ä¸ªä¸åŒçš„åº”ç”¨serveræ± .&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªæ¡ˆä¾‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
 &lt;span class="kn"&gt;split_clients&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;${remote_addr}AAA&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;$variant&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="kn"&gt;0.5%&lt;/span&gt;               &lt;span class="s"&gt;.one&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="kn"&gt;2.0%&lt;/span&gt;               &lt;span class="s"&gt;.two&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                   &lt;span class="kn"&gt;*&lt;/span&gt;                  &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="kn"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
         &lt;span class="kn"&gt;index&lt;/span&gt; &lt;span class="s"&gt;index&lt;/span&gt;&lt;span class="nv"&gt;${variant}.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;A/Bæµ‹è¯•çš„ç±»å‹å¾ˆæœ‰ç”¨, å¦‚æµ‹è¯•ä¸åŒç±»å‹çš„å¸‚åœºå’Œå‰ç«¯åŠŸèƒ½çš„ç”µå•†ç½‘ç«™è½¬åŒ–ç‡. å¯¹äºåº”ç”¨, ä½¿ç”¨é‡‘ä¸é›€å‘å¸ƒå¾ˆå¸¸è§. è¿™ç§éƒ¨ç½²ä¸­, æµé‡è¢«ç¼“æ…¢åœ°åˆ‡æ¢åˆ°æ–°çš„ç‰ˆæœ¬. æ‹†åˆ†ä¸åŒåº”ç”¨ç‰ˆæœ¬çš„å®¢æˆ·ç«¯æ˜¯å¾ˆæœ‰ç”¨çš„, å½“å›æ»šæ–°ç‰ˆæœ¬çš„ä»£ç , é™åˆ¶å› ä¸ºä¸€ä¸ªé”™è¯¯å¯¼è‡´çš„çˆ†ç‚¸åŠå¾„. ä¸è®ºæ˜¯å› ä¸ºä»€ä¹ˆåŸå› è¦æ‹†åˆ†ä¸¤ä¸ªä¸åŒåº”ç”¨é›†çš„å®¢æˆ·ç«¯, NGINXé€šè¿‡ä½¿ç”¨&lt;code&gt;split_client&lt;/code&gt;æ¨¡å—éƒ½èƒ½å¾ˆå®¹æ˜“å®ç°.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jsdkw4"&gt;split_client documentation&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:39:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-7-ab-test.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-ä½¿ç”¨GeoIPæ¨¡å—é€šè¿‡IPåœ°å€å®šä½ç”¨æˆ·</title><link>https://www.EWhisper.cn/nginx-handbook-3-8-use-geoip-to-get-users-location.html</link><description>&lt;h2 id="38-geoipip"&gt;3.8 ä½¿ç”¨GeoIPæ¨¡å—é€šè¿‡IPåœ°å€å®šä½ç”¨æˆ·&lt;a class="headerlink" href="#38-geoipip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="380"&gt;3.8.0 ä»‹ç»&lt;a class="headerlink" href="#380" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è·Ÿè¸ª, åˆ†æ, å’Œåˆ©ç”¨ä½ çš„åº”ç”¨æˆ–åº¦é‡çš„å®¢æˆ·ç«¯çš„ä½ç½®ä¿¡æ¯å¯ä»¥å¸®åŠ©ä½ åŠ æ·±å¯¹å®¢æˆ·çš„ç†è§£. æœ‰å¾ˆå¤šæ–¹æ³•è·å–ä½ çš„å®¢æˆ·çš„ä½ç½®ä¿¡æ¯, NGINXé€šè¿‡ä½¿ç”¨GeoIPæ¨¡å—å’Œå‡ ä¸ªæŒ‡ä»¤å¾ˆå®¹æ˜“åœ°å®šä½ä»–ä»¬. è¯¥æ¨¡å—è®©åŸºäºå®¢æˆ·ä½ç½®ä¿¡æ¯è®°å½•ä½ç½®, æ§åˆ¶è®¿é—®, æˆ–è€…åŸºäºå®¢æˆ·ä½ç½®åšå†³å®šå˜å¾—å¾ˆå®¹æ˜“.  å®ƒä¹Ÿå…è®¸å®¢æˆ·çš„ä½ç½®ä¿¡æ¯è¢«å†…éƒ¨æŸ¥æ‰¾åªè¦è¯·æ±‚è¢«ä¼ è¾“åˆ°upstreamåº”ç”¨, è€Œä¸éœ€è¦å†è¿›è¡ŒæŸ¥æ‰¾. è¯¥NGINXæ¨¡å—é»˜è®¤ä¸å®‰è£…, å¯ä»¥ä»æºç é™æ€ç¼–è¯‘, åŠ¨æ€å¯¼å…¥, æˆ–é€šè¿‡åœ¨Ubuntuå®‰è£…&lt;code&gt;nginx-full&lt;/code&gt;æˆ–&lt;code&gt;nginx-extras&lt;/code&gt;æ¥å®‰è£…. åœ¨RHELå‘è¡Œç‰ˆ, å¦‚CentOS, ä½ å¯ä»¥å®‰è£…&lt;code&gt;nginx-mod-http-geoip&lt;/code&gt;åŒ…å¹¶é€šè¿‡&lt;code&gt;load_module&lt;/code&gt;åŠ¨æ€å¯¼å…¥. æœ¬ç« ä¼šè¦†ç›–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¼å…¥GeoIPåŠ¨æ€æ¨¡å—,&lt;/li&gt;
&lt;li&gt;å®‰è£…GeoIPæ•°æ®åº“,&lt;/li&gt;
&lt;li&gt;è¯¥æ¨¡å—å¯ç”¨çš„å†…å»ºå˜é‡,&lt;/li&gt;
&lt;li&gt;æ§åˆ¶è®¿é—®,&lt;/li&gt;
&lt;li&gt;å’Œä»£ç†ä¸€èµ·ä½¿ç”¨.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="381-geoip"&gt;3.8.1 ä½¿ç”¨GeoIPæ¨¡å—å’Œæ•°æ®åº“&lt;a class="headerlink" href="#381-geoip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦å®‰è£…GeoIPæ•°æ®åº“, å¹¶å¯ç”¨åœ¨NGINXçš„å†…å»ºå‘½ä»¤, æ¥è®°å½•å’Œå‘Šè¯‰ä½ çš„åº”ç”¨ä½ çš„å®¢æˆ·ç«¯çš„åœ°ç†ä½ç½®.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä¸‹è½½GeoIPå›½å®¶å’ŒåŸå¸‚æ•°æ®åº“, å¹¶unzipå®ƒä»¬:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# mkdir /etc/nginx/geoip&lt;/span&gt;
&lt;span class="c1"&gt;# cd /etc/nginx/geoip&lt;/span&gt;
&lt;span class="c1"&gt;# wget &amp;quot;http://geolite.maxmind.com/\&lt;/span&gt;
download/geoip/database/GeoLiteCountry/GeoIP.dat.gz&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;# gunzip GeoIP.dat.gz&lt;/span&gt;
&lt;span class="s2"&gt;# wget &amp;quot;&lt;/span&gt;http://geolite.maxmind.com/&lt;span class="se"&gt;\&lt;/span&gt;
download/geoip/database/GeoLiteCity.dat.gz&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;# gunzip GeoLiteCity.dat.gz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™äº›å‘½ä»¤åœ¨&lt;em&gt;/etc/nginx&lt;/em&gt;ä¸‹åˆ›å»ºä¸€ä¸ª&lt;em&gt;geoip&lt;/em&gt;ç›®å½•, è·³è½¬åˆ°æ–°ç›®å½•, å¹¶ä¸‹è½½å’Œè§£å‹åŒ….&lt;/p&gt;
&lt;p&gt;é€šè¿‡åœ¨æœ¬åœ°ç£ç›˜ä¸Šçš„ å›½å®¶å’ŒåŸå¸‚çš„GeoIPæ•°æ®åº“, æˆ‘ä»¬å¯ä»¥æ„å»ºNGINX GeoIPæ¨¡å—å¹¶ä½¿ç”¨å®ƒä»¬æ¥æš´éœ²å‡ºç»™äºˆå®¢æˆ·ç«¯IPåœ°å€çš„å†…å»ºæŒ‡ä»¤:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;load_module&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/usr/lib64/nginx/modules/ngx_http_geoip_module.so&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;geoip_country&lt;/span&gt; &lt;span class="s"&gt;/etc/nginx/geoip/GeoIP.dat&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;geoip_city&lt;/span&gt; &lt;span class="s"&gt;/etc/nginx/geoip/GeoLiteCity.dat&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;...&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;geoip_country&lt;/code&gt;æŒ‡ä»¤æŒ‡å®šåˆ°&lt;em&gt;GeoIP.dat&lt;/em&gt;æ–‡ä»¶çš„è·¯å¾„, &lt;em&gt;GeoIP.dat&lt;/em&gt;åŒ…å«IPåœ°å€åˆ°å›½å®¶ä»£ç çš„æ˜ å°„, åªèƒ½åœ¨HTTPä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨.&lt;/p&gt;
&lt;h3 id="_1"&gt;è®¨è®º&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¨¡å—çš„&lt;code&gt;geoip_country&lt;/code&gt;å’Œ&lt;code&gt;geoip_city&lt;/code&gt;æš´éœ²ä¸€ç³»åˆ—å¯ç”¨å˜é‡. &lt;code&gt;geoip_country&lt;/code&gt;æŒ‡ä»¤å…è®¸ä½ å»æœ¬ä½ çš„å®¢æˆ·çš„å›½å®¶. è¿™äº›å˜é‡åŒ…æ‹¬&lt;code&gt;$geoip_country_code&lt;/code&gt;, &lt;code&gt;geoip_country_code3&lt;/code&gt;å’Œ&lt;code&gt;geoip_country_name&lt;/code&gt;. å›½å®¶ä»£ç å˜é‡è¿”å›ä¸€ä¸ª2ä½å›½å®¶å­—æ¯. &lt;code&gt;geoip_country_code3&lt;/code&gt;è¿”å›3ä½å›½å®¶å­—æ¯. å›½å®¶åå˜é‡è¿”å›å›½å®¶çš„å…¨å.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;geoip_city&lt;/code&gt;æŒ‡ä»¤ä¹Ÿä¼šå¯ç”¨å‡ ä¸ªå˜é‡. å’Œ&lt;code&gt;geoip_country&lt;/code&gt;ç±»ä¼¼. æœ‰&lt;code&gt;$geoip_city_country_code&lt;/code&gt; &lt;code&gt;geoip_city_country_code3&lt;/code&gt; &lt;code&gt;geoip_city_contry_name&lt;/code&gt;. å…¶ä»–å˜é‡æœ‰&lt;code&gt;$geoip_city&lt;/code&gt; &lt;code&gt;$geoip_city_continent_code&lt;/code&gt; &lt;code&gt;$geoip_latitude&lt;/code&gt; &lt;code&gt;$geoip_longitude&lt;/code&gt;å’Œ&lt;code&gt;$geoip_postal_code&lt;/code&gt;. &lt;code&gt;$geoip_region&lt;/code&gt; &lt;code&gt;$geoip_region_name&lt;/code&gt;æè¿°åŒºåŸŸ, é¢†åŸŸ, å·, çœ, è”é‚¦æ”¿åºœåœ°ç­‰. åŒºåŸŸæ˜¯ä¸€ä¸ªä¸¤å­—ç¬¦ä»£ç , åŒºåŸŸåæ˜¯å…¨å. &lt;code&gt;geoip_area_code&lt;/code&gt;, åªåœ¨ç¾å›½æœ‰æ•ˆ, è¿”å›3ä½æ•°å­—ç”µè¯åŒºåŸŸç .&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™äº›å˜é‡, ä½ èƒ½å¤Ÿè®°å½•ä½ çš„å®¢æˆ·ç«¯çš„ä¿¡æ¯. ä½ å¯ä»¥é€‰æ‹©ä¼ é€’ä¿¡æ¯åˆ°ä½ çš„åº”ç”¨ä½œä¸ºä¸€ä¸ªheaderæˆ–å˜é‡, æˆ–ä½¿ç”¨NGINXæ¥ä»¥ç‰¹å®šæ–¹å¼routeæµé‡.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://github.com/maxmind/geoipupdate"&gt;GeoIP å‡çº§&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="382"&gt;3.8.2 åŸºäºå›½å®¶é™åˆ¶è®¿é—®&lt;a class="headerlink" href="#382" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;æ ¹æ®åˆçº¦æˆ–åº”ç”¨éœ€æ±‚, ä½ éœ€è¦é™åˆ¶æ¥è‡ªç‰¹å®šå›½å®¶çš„è®¿é—®.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;æ˜ å°„ä½ æƒ³è¦å±è”½æˆ–å…è®¸çš„å›½å®¶ä»£ç åˆ°ä¸€ä¸ªå˜é‡&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;load_module&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;/usr/lib64/nginx/modules/ngx_http_geoip_module.so&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;map&lt;/span&gt; &lt;span class="nv"&gt;$geoip_country_code&lt;/span&gt; &lt;span class="nv"&gt;$country_access&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;&amp;quot;US&amp;quot;&lt;/span&gt;    &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;&amp;quot;RU&amp;quot;&lt;/span&gt;    &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;default&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªæ˜ å°„ä¼šè®¾ç½®æ–°çš„å˜é‡&lt;code&gt;$country_access&lt;/code&gt;ä¸º1æˆ–0. å¦‚æœå®¢æˆ·ç«¯IPåœ°å€æ¥è‡ªç¾å›½æˆ–ä¿„ç½—æ–¯, å˜é‡ä¼šè¢«è®¾ç½®ä¸º0, å…¶ä»–å›½å®¶ä¼šè®¾ç½®ä¸º1.&lt;/p&gt;
&lt;p&gt;ç„¶å, åœ¨&lt;code&gt;server&lt;/code&gt;å¿«, ä½¿ç”¨&lt;code&gt;if&lt;/code&gt;å£°æ˜æ¥æ‹’ç»ä¸æ˜¯æ¥è‡ªç¾å›½å’Œä¿„ç½—æ–¯çš„ç”¨æˆ·è®¿é—®:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$country_access&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;403&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å½“æ¡ä»¶åˆ¤æ–­ä¸ºTrueæ—¶, ä¼šè¿”å›403 æœªè®¤è¯. å¦åˆ™æ­£å¸¸è®¿é—®.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªç®€çŸ­çš„ä¾‹å­, æ¥è¯´æ˜å¦‚ä½•å…è®¸ç‰¹å®šå›½å®¶è®¿é—®. è¿™ä¸ªä¾‹å­å¯ä»¥è¢«æ‰©å±•, ä»¥ç¬¦åˆä½ çš„éœ€è¦.&lt;/p&gt;
&lt;h3 id="383"&gt;3.8.3 æ‰¾åˆ°æºå®¢æˆ·ç«¯&lt;a class="headerlink" href="#383" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦æ‰¾åˆ°å®¢æˆ·æºIP, å› ä¸ºåœ¨NGINX serverå‰è¾¹æœ‰ä»£ç†.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;geoip_proxy&lt;/code&gt;æŒ‡ä»¤æ¥å®šä¹‰ä½ çš„ä»£ç†IPåœ°å€èŒƒå›´, &lt;code&gt;geoip_proxy_recursive&lt;/code&gt;æŒ‡ä»¤æ¥æŸ¥æ‰¾æºIP:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;load_module&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/usr/lib64/nginx/modules/ngx_http_geoip_module.so&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;geoip_country&lt;/span&gt; &lt;span class="s"&gt;/etc/nginx/geoip/GeoIP.dat&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;geoip_city&lt;/span&gt; &lt;span class="s"&gt;/etc/nginx/geoip/GeoLiteCity.dat&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;geoip_proxy&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="s"&gt;.0.16.0/26&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;geoip_proxy_recursive&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;...&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;geoip_proxy&lt;/code&gt;æŒ‡ä»¤å®šä¹‰æˆ‘ä»¬çš„ä»£ç†æœåŠ¡å™¨çš„CIDRèŒƒå›´, æŒ‡ç¤ºNGINXåˆ©ç”¨&lt;code&gt;X-Forwarded-For&lt;/code&gt;å¤´æ¥æŸ¥æ‰¾å®¢æˆ·ç«¯IPåœ°å€. &lt;code&gt;geoip_proxy_recursive&lt;/code&gt;æŒ‡ä»¤æŒ‡ç¤ºNGINXæ¥é€’å½’åœ°æŸ¥æ‰¾ä¸Šä¸ªçŸ¥é“çš„å®¢æˆ·ç«¯IPçš„&lt;code&gt;X-Forwarded-For&lt;/code&gt; header.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;ä½ å¯èƒ½ä¼šå‘ç°ä½ åœ¨NGINXå‰è¾¹ä½¿ç”¨äº†ä»£ç†, NGINXä¼šé€‰æ‹©ä»£ç†çš„IPåœ°å€è€Œä¸æ˜¯å®¢æˆ·ç«¯çš„. å¯¹äºè¿™ç§æƒ…å†µä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;geoip_proxy&lt;/code&gt;æŒ‡ä»¤æ¥æŒ‡ç¤ºåœ¨ç»™å®šçš„èŒƒå›´å†…, NGINXä½¿ç”¨&lt;code&gt;X-Forwarded-For&lt;/code&gt; header. &lt;code&gt;geoip_proxy&lt;/code&gt;æŒ‡ä»¤é…ç½®ä¸€ä¸ªåœ°å€æˆ–CIDRèŒƒå›´. å½“NGINXå‰è¾¹æœ‰å¤šä¸ªä»£ç†, å¯ä»¥ä½¿ç”¨&lt;code&gt;geoip_proxy_recursive&lt;/code&gt;æŒ‡ä»¤æ¥é€’å½’åœ°æŸ¥æ‰¾&lt;code&gt;X-Forwarded-For&lt;/code&gt;æŒ‡ä»¤, æ¥æ‰¾åˆ°æºå®¢æˆ·ç«¯. ä½ å¯èƒ½ä¼šåœ¨å¦‚åœ¨NGINXå‰è¾¹ä½¿ç”¨AWS ELB, è°·æ­Œçš„è´Ÿè½½å‡è¡¡, æˆ–Azureçš„è´Ÿè½½å‡è¡¡æ—¶ç”¨åˆ°è¿™äº›.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:39:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-8-use-geoip-to-get-users-location.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-è‡ªåŠ¨åŒ–</title><link>https://www.EWhisper.cn/nginx-handbook-3-6-automatation.html</link><description>&lt;h2 id="36"&gt;3.6 è‡ªåŠ¨åŒ–&lt;a class="headerlink" href="#36" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="360"&gt;3.6.0 ä»‹ç»&lt;a class="headerlink" href="#360" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æœ‰å¾ˆå¤šæ–¹å¼æ¥è‡ªåŠ¨åŒ–NGINXå’ŒNGINX Plusçš„é…ç½®æ–‡ä»¶, å¦‚: ä½¿ç”¨é…ç½®ç®¡ç†å·¥å…·æˆ–å®šæ—¶ä»»åŠ¡æ¥ä»æ¨¡æ¿é…ç½®æ–‡ä»¶é…ç½®. éšç€åŠ¨æ€ç¯å¢ƒçš„å¢åŠ , è‡ªåŠ¨åŒ–é…ç½®çš„éœ€æ±‚å˜å¾—æ›´æ€¥éœ€. åœ¨ä¸Šä¸€ç« , æˆ‘ä»¬ç¡®ä¿¡NGINXé…ç½®æ–‡ä»¶è¢«é…ç½®åéœ€è¦reload.åœ¨æœ¬ç« , æˆ‘ä»¬ä¼šè®¨è®ºæ›´è¿›ä¸€æ­¥çš„ä½¿ç”¨NGINX Plus APIå’Œ&lt;strong&gt;Consul Template&lt;/strong&gt;çš„å®æ—¶(on-the-fly)NGINXé…ç½®æ–‡ä»¶é‡é…ç½®.&lt;/p&gt;
&lt;h3 id="361-nginx-plus"&gt;3.6.1 ä½¿ç”¨NGINX Plusè‡ªåŠ¨åŒ–&lt;a class="headerlink" href="#361-nginx-plus" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä¸ºåŠ¨æ€ç¯å¢ƒé‡å®æ—¶é…ç½®NGINX Plusçš„load balance.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨NGINX Plus APIæ¥é‡é…ç½®NGINX Plus upstream æ± :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ curl &lt;span class="s1"&gt;&amp;#39;http://nginx.local/upstream_conf?\&lt;/span&gt;
&lt;span class="s1"&gt;  add=&amp;amp;upstream=backend&amp;amp;server=10.0.0.42:8080&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;curl&lt;/code&gt;è°ƒç”¨åˆ°NGINX Plusçš„è¯·æ±‚, è¯·æ±‚ä¸€ä¸ªæŠŠä¸€ä¸ªæ–°çš„serveråŠ åˆ°&lt;code&gt;backend&lt;/code&gt; upstreamé…ç½®.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;æ›´å¤šç¬¬ä¸€æ¬¡å®‰è£…çš„ç»†èŠ‚è§ 3.8 ç« èŠ‚, NGINX Plusæä¾›ä¸€ä¸ªAPIæ¥é‡æ–°å®æ—¶é…ç½®NGINX Plus. NGINX Plus APIå…è®¸ä»upstream æ± ä¸­æ·»åŠ å’Œç§»é™¤server, åŒæ—¶draining è¿æ¥. ä½ å¯ä»¥ä½¿ç”¨è¯¥APIæ¥è‡ªåŠ¨åŒ–NGINX Plusçš„åº”ç”¨æœåŠ¡å™¨çš„åˆ›å»ºå’Œé‡Šæ”¾çš„é…ç½®.&lt;/p&gt;
&lt;h3 id="362-consul-templating"&gt;3.6.2 ä½¿ç”¨Consul Templating è‡ªåŠ¨åŒ–é…ç½®&lt;a class="headerlink" href="#362-consul-templating" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦è‡ªåŠ¨åŒ–NGINXé…ç½®æ¥é€šè¿‡ä½¿ç”¨Consulåœ¨ç¯å¢ƒä¸­åšå‡ºå˜æ›´.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;consul-template&lt;/code&gt; daemonå’Œä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶æ¥æ¨¡æ¿åŒ–NGINXé…ç½®æ–‡ä»¶:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;upstream backend { &lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="nv"&gt;range&lt;/span&gt; &lt;span class="nv"&gt;service&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;app.backend&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="x"&gt;    server &lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="nv"&gt;.Address&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;;&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="nv"&gt;end&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªä¾‹å­æ˜¯Consulæ¨¡æ¿æ–‡ä»¶çš„ä¸€ä¸ªupstreamé…ç½®å—æ¨¡æ¿. è¿™ä¸ªæ¨¡æ¿ä¼šéå†åœ¨Consulä¸Šæ ‡è®°ä¸º&lt;code&gt;app.backend&lt;/code&gt;çš„èŠ‚ç‚¹. å¯¹äºConsulä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹, è¿™ä¸ªæ¨¡æ¿ä¼šä½¿ç”¨é‚£ä¸ªèŠ‚ç‚¹çš„IPåœ°å€äº§ç”Ÿä¸€æ¡serveræŒ‡ä»¤.&lt;/p&gt;
&lt;p&gt;è¿™ä¸ª&lt;code&gt;consul-template&lt;/code&gt; daemoné€šè¿‡å‘½ä»¤è¡Œè¿è¡Œ, å¯ä»¥è¢«ç”¨äºåœ¨æ¯æ¬¡é…ç½®æ–‡ä»¶è¢«æ¨¡æ¿åŒ–å˜æ›´åreload NGINX:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# consul-template -consul consul.example.internal -template \&lt;/span&gt;
template:/etc/nginx/conf.d/upstream.conf:&lt;span class="s2"&gt;&amp;quot;nginx -s reload&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¥æŒ‡ä»¤æŒ‡ç¤º&lt;code&gt;consul-template&lt;/code&gt; daemon æ¥è¿æ¥åˆ°ä¸€ä¸ªä½äº&lt;code&gt;consul.example.internal&lt;/code&gt;çš„Consul é›†ç¾¤, å¹¶ä½¿ç”¨åœ¨å½“å‰å·¥ä½œç›®å½•çš„åä¸º&lt;code&gt;template&lt;/code&gt;çš„æ–‡ä»¶æ¥æ¨¡æ¿åŒ–è¯¥æ–‡ä»¶, å¹¶è¾“å‡ºç”Ÿæˆçš„å†…å®¹åˆ°&lt;code&gt;/etc/nginx/conf.d/upstream.conf&lt;/code&gt;ä¸­, ç„¶ååœ¨æ¯æ¬¡æ¨¡æ¿åŒ–æ–‡ä»¶å˜æ›´æ—¶reload NGINX. &lt;code&gt;-template&lt;/code&gt; æ ‡å¿—æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²,åŒ…æ‹¬: æ¨¡æ¿æ–‡ä»¶,è¾“å‡ºä½ç½®,å’Œè¿è¡Œæ¨¡æ¿è¿‡ç¨‹åæ‰§è¡Œçš„å‘½ä»¤; è¿™3ä¸ªå˜é‡ä»¥å†’å·åˆ†éš”. å¦‚æœè¿è¡Œçš„å‘½ä»¤ç”±ç©ºæ ¼, ç¡®ä¿ä½¿ç”¨åŒå¼•å·åŒ…è£¹. &lt;code&gt;-consul&lt;/code&gt;æ ‡å¿—æŒ‡ç¤ºè¦è¿æ¥çš„Consulé›†ç¾¤.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;Consulæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æœåŠ¡å‘ç°å·¥å…·å’Œé…ç½®ä»“åº“. Consulä»¥key-value å¯¹ä»¥ç±»ä¼¼ç›®å½•çš„ç»“æ„å­˜å‚¨èŠ‚ç‚¹ä¿¡æ¯, å…è®¸restful APIäº¤äº’.Consulä¹Ÿåœ¨æ¯ä¸ªå®¢æˆ·ç«¯ä¸Šæä¾›ä¸€ä¸ªDNSç•Œé¢, å…è®¸è¿›è¡Œè¿æ¥åˆ°é›†ç¾¤çš„èŠ‚ç‚¹çš„åŸŸåæŸ¥æ‰¾. ä¸€ä¸ªå•ç‹¬çš„, åˆ©ç”¨Consulé›†ç¾¤çš„é¡¹ç›®æ˜¯&lt;code&gt;consul-template&lt;/code&gt; daemon; è¿™ä¸ªå·¥å…·æ¨¡æ¿åŒ–åœ¨Consul èŠ‚ç‚¹, æœåŠ¡æˆ– key-valueå¯¹çš„æ–‡ä»¶å˜åŒ–. è¿™è®©Consulæˆä¸ºä¸€ä¸ªè‡ªåŠ¨åŒ–NGINXçš„éå¸¸å¼ºå¤§çš„é€‰æ‹©. ä½¿ç”¨&lt;code&gt;consul-template&lt;/code&gt;ä½ ä¹Ÿå¯ä»¥æŒ‡ç¤ºè¯¥daemonåœ¨æ¨¡æ¿æ›¿æ¢å˜æ›´åæ¥è¿è¡Œä¸€ä¸ªå‘½ä»¤. é€šè¿‡è¿™æ ·, å¯ä»¥reload NGINXé…ç½®, å¹¶å…è®¸NGINXé…ç½®åœ¨ç¯å¢ƒä¸­ç”Ÿæ•ˆ. é€šè¿‡Consul, ä½ å¯ä»¥åœ¨æ¯ä¸ªå®¢æˆ·ç«¯ä¸Šè®¾ç½®å¥åº·æ£€æŸ¥æ¥æ£€æŸ¥å…³æ³¨çš„æœåŠ¡çš„ç›‘æ§çŠ¶å†µ. é€šè¿‡å¤±è´¥æ£€æµ‹, ä½ èƒ½å¤Ÿé€šè¿‡æ¨¡æ¿åŒ–ä½ çš„NGINXé…ç½®æ¥åªç»™å¥åº·çš„ä¸»æœºå‘é€æµé‡.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://www.consul.io/"&gt;Consul home page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2iosmkV"&gt;Introduction to Consul Template&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/hashicorp/consul-template"&gt;Consul template GitHub&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:33:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-6-automatation.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-å‰è¨€å’Œä»‹ç»</title><link>https://www.EWhisper.cn/nginx-handbook-3-0-foreword.html</link><description>&lt;h2 id="30"&gt;3.0 å‰è¨€å’Œä»‹ç»&lt;a class="headerlink" href="#30" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨NGINX CookBookçš„ç¬¬ä¸€éƒ¨åˆ†, ä¸»é¢˜æ˜¯è´Ÿè½½å‡è¡¡å’Œç¼“å­˜. ç¬¬äºŒéƒ¨åˆ†æ˜¯NGINXçš„å®‰å…¨åŠŸèƒ½, å¦‚è®¤è¯å’ŒåŠ å¯†. ç¬¬ä¸‰éƒ¨åˆ†é›†ä¸­äºNGINXçš„è¿ç»´é—®ä½ , åŒ…æ‹¬éƒ¨ç½², æ€§èƒ½è°ƒä¼˜å’Œè§£å†³é—®é¢˜.&lt;/p&gt;
&lt;p&gt;åœ¨è¿™éƒ¨åˆ†, ä½ ä¼šçœ‹åˆ°åŸºäºä¸‰ä¸ªå¤§å‹å…¬æœ‰äº‘çš„NGINXéƒ¨ç½²å®è·µ: Amazon Web Services(AWS), Google Cloud Platform(GCP), å’Œå¾®è½¯Azure, åŒ…æ‹¬å¦‚ä½•è‡ªåŠ¨åŒ–åœ¨AWSä¸Šéƒ¨ç½². å¦‚æœä½ è®¡åˆ’ä½¿ç”¨Docker, ä¹Ÿæœ‰ç›¸å…³å†…å®¹.&lt;/p&gt;
&lt;p&gt;å®‰è£…ä¹Ÿä¼šæ·±å…¥è®¨è®ºä½¿ç”¨Puppet, Chef, Ansibleå’ŒSaltStackçš„è‡ªåŠ¨åŒ–é…ç½®ç®¡ç†. ä¹Ÿä»‹ç»äº†ä½¿ç”¨NGINX Plus APIæ¥å®æ–½é‡é…ç½®, ä½¿ç”¨Consulè¿›è¡ŒæœåŠ¡å‘ç°å’Œæ¨¡ç‰ˆé…ç½®.&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹, å¤§éƒ¨åˆ†ç³»ç»Ÿé…ç½®æ˜¯åŸºäºå…¼å®¹æ€§è€Œä¸æ˜¯æ€§èƒ½. ç„¶åä½ è¦æ ¹æ®ä½ çš„ç‰¹å®šéœ€æ±‚è¿›è¡Œæ€§èƒ½è°ƒä¼˜. åœ¨æœ¬ä¹¦ä¸­, ä½ ä¼šæ‰¾åˆ°åœ¨ä¿æŒå…¼å®¹æ€§çš„å‰æä¸‹, è¯¦ç»†çš„æœ€å¤§åŒ–NGINXæ€§èƒ½çš„æ–¹æ³•.&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ç¢°åˆ°éƒ¨ç½²é—®é¢˜, æˆ‘é¦–å…ˆä¼šçœ‹æ—¥å¿—æ–‡ä»¶, æ˜¯å¾ˆå¤šè°ƒè¯•ä¿¡æ¯çš„æ¥æº. NGINXæœ‰ç»´æŠ¤è¯¦ç»†çš„, é«˜åº¦é…ç½®åŒ–çš„æ—¥å¿—æ¥å¸®åŠ©ä½ å®šä½é—®é¢˜. æœ¬ä¹¦ä¸­åŒ…å«NGINXæ—¥å¿—çš„è¯¦ç»†å†…å®¹.&lt;/p&gt;
&lt;p&gt;å®ƒä¼šå¸®åŠ©ä½ å®‰è£…, ç›‘æ§, ç»´æŠ¤NGINXåº”ç”¨äº¤ä»˜å¹³å°.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:28:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-0-foreword.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-åœ¨Docker ä¸Šéƒ¨ç½²</title><link>https://www.EWhisper.cn/nginx-handbook-3-4-nginx-docker.html</link><description>&lt;h2 id="34-docker"&gt;3.4 åœ¨Dockerä¸Šéƒ¨ç½²&lt;a class="headerlink" href="#34-docker" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="340"&gt;3.4.0 ä»‹ç»&lt;a class="headerlink" href="#340" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dockeræ˜¯ä¸ªå¼€æºé¡¹ç›®, ä¼šè‡ªåŠ¨æŠŠLinuxåº”ç”¨éƒ¨ç½²åˆ°è½¯ä»¶å®¹å™¨ä¸­. Dockeræä¾›ä¸€ä¸ªé¢å¤–çš„æŠ½è±¡å±‚, åœ¨linuxä¸Šè‡ªåŠ¨åŒ–æ“ä½œç³»ç»Ÿçº§åˆ«çš„è™šæ‹ŸåŒ–. å®¹å™¨åŒ–ç¯å¢ƒå·²ç»å¯¹ç”Ÿäº§ä¸–ç•Œé€ æˆäº†å·¨å¤§çš„å˜é©. Dockerå’Œå…¶ä»–å®¹å™¨å¹³å°å…è®¸å¿«é€Ÿ, å¯é , è·¨å¹³å°çš„åº”ç”¨éƒ¨ç½². æœ¬ç« ä¸­, æˆ‘ä»¬ä¼šè®¨è®ºNGINXå®˜æ–¹NGINX Dockerjingxiang,åˆ›å»ºä½ è‡ªå·±çš„Dockeræ–‡ä»¶æ¥è¿è¡ŒNGINX, åœ¨NGINXä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡, é€šç”¨Dockerå®è·µ.&lt;/p&gt;
&lt;h3 id="341-nginx"&gt;3.4.1 ä½¿ç”¨NGINXé•œåƒå¿«é€Ÿè¿è¡Œ&lt;a class="headerlink" href="#341-nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä½¿ç”¨Docker Hubä¸­çš„NGINXé•œåƒå¿«é€Ÿå¯åŠ¨å’Œè¿è¡Œ.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker pull nginx:latest
$ docker run -it -p &lt;span class="m"&gt;80&lt;/span&gt;:80 -v &lt;span class="nv"&gt;$PWD&lt;/span&gt;/nginx-conf:/etc/nginx &lt;span class="se"&gt;\&lt;/span&gt;
                                   nginx:latest
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;NGINXå·²ç»åœ¨Docker Hubä¸Šåˆ¶ä½œäº†ä¸€ä¸ªå®˜æ–¹Dockeré•œåƒ. å®˜æ–¹Dockeré•œåƒå¾ˆå®¹æ˜“åœ¨Dockerä¸­å¯åŠ¨å’Œå¿«é€Ÿè¿è¡Œ. åœ¨æœ¬èŠ‚ä¸­æˆ‘ä»¬é€šè¿‡2ä¸ªå‘½ä»¤å°±èƒ½å¯åŠ¨å’Œè¿è¡ŒNGINX å®¹å™¨. å®˜æ–¹é•œåƒæ˜¯åŸºäºDebian Jessie Dockeré•œåƒ. ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥é€‰æ‹©åŸºäºAlpine Linuxæ„å»ºçš„å®˜æ–¹é•œåƒ. è¿™äº›å®˜æ–¹é•œåƒçš„Dockerfileå’Œæºç å¯ä»¥åœ¨GitHubä¸­æ‰¾åˆ°.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/_/nginx/"&gt;Official NGINX Docker image, NGINX&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/nginxinc/docker-nginx/"&gt;Docker repo on GitHub&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="342-nginx-dockerfile"&gt;3.4.2 åˆ›å»ºä¸€ä¸ªNGINX Dockerfile&lt;a class="headerlink" href="#342-nginx-dockerfile" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªNGINX Dockerfile, ç”¨Dockerfileåˆ›å»ºDockeré•œåƒ.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;CMD&lt;/code&gt;æ¥åœ¨é•œåƒå®ä¾‹åŒ–ä¸ºå®¹å™¨æ—¶å¯åŠ¨NGINX. ä½ éœ€è¦åœ¨å‰å°è¿è¡ŒNGINX. è¦è¿™ä¹ˆåš, éœ€è¦å¯åŠ¨NGINXä½¿ç”¨&lt;code&gt;-g "daemon off;"&lt;/code&gt;æˆ–å¢åŠ &lt;code&gt;daemon off;&lt;/code&gt;åˆ°é…ç½®. æœ¬ä¾‹ä¸­ç¨åä½¿ç”¨&lt;code&gt;daemon off;&lt;/code&gt;åŠ åˆ°main context. ä½ ä¹Ÿæƒ³è°ƒèŠ‚ä½ çš„accessæ—¥å¿—è¾“å‡ºåˆ°&lt;code&gt;/dev/stdout&lt;/code&gt;, é”™è¯¯æ—¥å¿—è¾“å‡ºåˆ°&lt;code&gt;/dev/stderr&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; centos:7&lt;/span&gt;
&lt;span class="c"&gt;# Install epel repo to get nginx and install nginx&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install epel-release &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    yum -y install nginx
&lt;span class="c"&gt;# add local configuration files into the image&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; /nginx-conf /etc/nginx
&lt;span class="k"&gt;EXPOSE&lt;/span&gt;&lt;span class="s"&gt; 80 443&lt;/span&gt;
&lt;span class="k"&gt;CMD&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;.
â”œâ”€â”€ Dockerfile
â””â”€â”€ nginx-conf
    â”œâ”€â”€ conf.d
    â”‚   â””â”€â”€ default.conf
    â”œâ”€â”€ fastcgi.conf
    â”œâ”€â”€ fastcgi_params
    â”œâ”€â”€ koi-utf
    â”œâ”€â”€ koi-win
    â”œâ”€â”€ mime.types
    â”œâ”€â”€ nginx.conf
    â”œâ”€â”€ scgi_params
    â”œâ”€â”€ uwsgi_params
    â””â”€â”€ win-utf
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­, æˆ‘é€‰æ‹©ç›´æ¥å§nginx-confç›®å½•ä¸‹æ‰€æœ‰æˆ‘çš„NGINXé…ç½®éƒ½æ·»åŠ åˆ°Dockerfileä¸­.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;å½“ä½ éœ€è¦å®Œå…¨æ§åˆ¶åŒ…çš„å®‰è£…å’Œå‡çº§, ä½ ä¼šå‘ç°åˆ›å»ºè‡ªå·±çš„Dockerfileå¾ˆæœ‰ç”¨. å¸¸è§æ“ä½œæ˜¯ä¿å­˜åœ¨ä½ è‡ªå·±çš„é•œåƒä»“åº“ä¸­, è¿™æ ·ä½ ä¼šçŸ¥é“ä½ çš„åŸºç¡€é•œåƒåœ¨ä¸Šç”Ÿäº§ä¹‹å‰æ˜¯å¯é çš„, ç»è¿‡å›¢é˜Ÿæµ‹è¯•çš„.&lt;/p&gt;
&lt;h3 id="343-nginx-plus"&gt;3.4.3 æ„å»ºNGINX Plusé•œåƒ&lt;a class="headerlink" href="#343-nginx-plus" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç•¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="344-nginx"&gt;3.4.4 åœ¨NGINXä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡&lt;a class="headerlink" href="#344-nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨ç›¸åŒçš„å®¹å™¨é•œåƒ, ä½ éœ€è¦åœ¨NGINXé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;ngx_http_perl_module&lt;/code&gt;æ¥ä»ä½ çš„ç¯å¢ƒçš„NGINXä¸­è®¾ç½®å˜é‡.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;daemon&lt;/span&gt; &lt;span class="no"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;env&lt;/span&gt; &lt;span class="s"&gt;APP_DNS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;include&lt;/span&gt; &lt;span class="n"&gt;/usr/share/nginx/modules/*.conf&lt;/span&gt;;
&lt;span class="k"&gt;...&lt;/span&gt;
&lt;span class="s"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kn"&gt;perl_set&lt;/span&gt; &lt;span class="nv"&gt;$upstream_app&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;sub&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$ENV{&amp;quot;APP_DNS&amp;quot;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="kn"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kn"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;
    &lt;span class="s"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="kn"&gt;proxy_pass&lt;/span&gt; &lt;span class="s"&gt;https://&lt;/span&gt;&lt;span class="nv"&gt;$upstream_app&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¦ä½¿ç”¨&lt;code&gt;perl_set&lt;/code&gt;, ä½ å¿…é¡»å®‰è£…&lt;code&gt;ngx_http_perl_module&lt;/code&gt;; ä½ å¯ä»¥é€šè¿‡åŠ¨æ€æ¨¡å—åŠ è½½æˆ–ä»æºç é™æ€æ„å»º. NGINXé»˜è®¤ä»ç¯å¢ƒä¸­æ“¦é™¤ç¯å¢ƒå˜é‡; ä½ éœ€è¦åœ¨&lt;code&gt;env&lt;/code&gt;æŒ‡ä»¤ä¸­å£°æ˜ä»»ä½•ä½ ä¸æƒ³ç§»é™¤çš„å˜é‡. &lt;code&gt;perl_set&lt;/code&gt;æŒ‡ä»¤æœ‰2ä¸ªå‚æ•°: ä½ æƒ³è¦è®¾ç½®çš„å˜é‡åå’Œæ¸²æŸ“ç»“æœçš„perlå­—ç¬¦ä¸².&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªDockerfile, ä¼šåŠ¨æ€åŠ è½½&lt;code&gt;ngx_http_perl_module&lt;/code&gt;, ä»åŒ…ç®¡ç†å·¥å…·å®‰è£…è¯¥æ¨¡å—. å½“ä»CentOSçš„åŒ…ç®¡ç†ä¸­å®‰è£…æ¨¡å—, ä»–ä»¬è¢«æ”¾åœ¨&lt;code&gt;/usr/lib64/nginx/modules/&lt;/code&gt;ç›®å½•, é…ç½®æ–‡ä»¶ä¼šåŠ¨æ€åŠ è½½åœ¨&lt;code&gt;/usr/share/nginx/modules/&lt;/code&gt;ç›®å½•çš„æ¨¡å—. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸Šé¢çš„é…ç½®å—ä¸­, è¦åŒ…å«å®Œæ•´çš„è·¯å¾„.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; centos:7&lt;/span&gt;
&lt;span class="c"&gt;# Install epel repo to get nginx and install nginx&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; yum -y install epel-release &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    yum -y install nginx nginx-mod-http-perl
&lt;span class="c"&gt;# add local configuration files into the image&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; /nginx-conf /etc/nginx
&lt;span class="k"&gt;EXPOSE&lt;/span&gt;&lt;span class="s"&gt; 80 443&lt;/span&gt;
&lt;span class="k"&gt;CMD&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;å½“ä½¿ç”¨Docker, å…¸å‹å®è·µå°±æ˜¯åˆ©ç”¨ç¯å¢ƒå˜é‡æ¥ä¿®æ”¹å®¹å™¨æ“ä½œçš„æ–¹å¼. ä½ å¯ä»¥åœ¨NGINXé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡, è¿™æ ·NGINXå¯ä»¥ç”¨äºå¤šä¸ª, ä¸åŒçš„ç¯å¢ƒ.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:28:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-4-nginx-docker.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category><category>docker</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-è¿ç»´-ä½¿ç”¨Puppet/Chef/Ansible/SaltStackéƒ¨ç½²</title><link>https://www.EWhisper.cn/nginx-handbook-3-5-nginx-autoconf-tools.html</link><description>&lt;h2 id="35-puppetchefansiblesaltstack"&gt;3.5 ä½¿ç”¨Puppet/Chef/Ansible/SaltStack&lt;a class="headerlink" href="#35-puppetchefansiblesaltstack" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="350"&gt;3.5.0 ä»‹ç»&lt;a class="headerlink" href="#350" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨äº‘çš„æ—¶ä»£, é…ç½®ç®¡ç†å·¥å…·æ˜¯æ— ä»·ä¹‹å®. å¤§è§„æ¨¡webåº”ç”¨çš„å·¥ç¨‹å¸ˆæ— æ³•é€šè¿‡ä»£ç æ‰‹æŠŠæ‰‹é…ç½®servers, ä½†æ˜¯ä½¿ç”¨å…¶ä¸­ä»»ä½•ä¸€ä¸ªé…ç½®ç®¡ç†å·¥å…·éƒ½å¯ä»¥åšåˆ°. é…ç½®ç®¡ç†å·¥å…·å…è®¸å·¥ç¨‹å¸ˆä¸€æ¬¡å†™å…¥é…ç½®å’Œä»£ç åˆ°å¾ˆå¤šæœ‰ç›¸åŒé…ç½®çš„server, é€šè¿‡ä½¿ç”¨ä¸€ç§å¯é‡å¤, å¯æµ‹è¯•, æ¨¡å—åŒ–çš„æ–¹å¼. æœ¬ç« è®¨è®ºå‡ ä¸ªæµè¡Œçš„é…ç½®ç®¡ç†å·¥å…·, ä»¥åŠå¦‚ä½•ä½¿ç”¨ä»–ä»¬å®‰è£…NIGINXå’Œä»æ¨¡ç‰ˆåˆ›å»ºä¸€ä¸ªåŸºæœ¬é…ç½®. è¿™äº›ä¾‹å­éå¸¸åŸºç¡€, ä½†æ˜¯å±•ç¤ºäº†å¦‚ä½•é€šè¿‡æ¯ä¸ªå¹³å°æ¥å¯åŠ¨NGINX.&lt;/p&gt;
&lt;h3 id="351-puppet"&gt;3.5.1 ä½¿ç”¨Puppetå®‰è£…&lt;a class="headerlink" href="#351-puppet" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦é€šè¿‡Puppetå®‰è£…å’Œé…ç½®NGINX, ä»¥ä»£ç å½¢å¼ç®¡ç†NGINXé…ç½®, å¹¶ç¡®è®¤ä½ çš„å…¶ä»–Puppeté…ç½®.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªæ¨¡å—, ç”¨äºå®‰è£…NGINX, ç®¡ç†ä½ éœ€è¦çš„æ–‡ä»¶, ç¡®ä¿NGINXåœ¨è¿è¡Œ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="n"&gt;nginx&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;ensure&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;installed&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,}&lt;/span&gt;
    &lt;span class="n"&gt;service&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;ensure&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;true&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;hasrestart&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;true&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;restart&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/etc/init.d/nginx reload&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nginx.conf&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;path&lt;/span&gt;    &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/etc/nginx/nginx.conf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="no"&gt;Package&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;nginx&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;notify&lt;/span&gt;  &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="no"&gt;Service&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;nginx&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;nginx/templates/nginx.conf.erb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;0644&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¥æ¨¡å—ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·æ¥ç¡®ä¿NGINXè¢«å®‰è£…. ä¹Ÿä¼šç¡®ä¿NGINXåœ¨å¯åŠ¨æ—¶åœ¨è¿è¡Œå’Œå¯ç”¨. è¯¥é…ç½®é€šçŸ¥Puppet, è¯¥æœåŠ¡æœ‰é‡å¯å‘½ä»¤, é€šè¿‡&lt;code&gt;hasrestart&lt;/code&gt;æŒ‡ä»¤, å¹¶ä¸”æˆ‘ä»¬ç”¨NGINX reloadå‘½ä»¤è¦†ç›–&lt;code&gt;restart&lt;/code&gt;å‘½ä»¤. å®ƒé€šè¿‡å†…ç½®Ruby(ERB)æ¨¡ç‰ˆè¯­è¨€æ¥ç®¡ç†å’Œæ¨¡æ¿åŒ–&lt;code&gt;nginx.conf&lt;/code&gt;æ–‡ä»¶. æ–‡ä»¶çš„æ¨¡æ¿åŒ–ä¼šå‘ç”Ÿåœ¨NGINXåŒ…è¢«å®‰è£…ä¹‹å(é€šè¿‡&lt;code&gt;require&lt;/code&gt;æŒ‡ä»¤). ä½†æ˜¯, å®ƒä¼šé€šè¿‡&lt;code&gt;notify&lt;/code&gt;æŒ‡ä»¤é€šçŸ¥NGINXæœåŠ¡æ¥reload. è¯¥æ¨¡ç‰ˆåŒ–é…ç½®æ–‡ä»¶æ²¡æœ‰åŒ…æ‹¬. å¦å¤–, å®ƒå¯ä»¥ç®€å•å®‰è£…ä¸€ä¸ªé»˜è®¤çš„NGINXé…ç½®æ–‡ä»¶, æˆ–æ˜¯ä½¿ç”¨å†…ç½®Ruby(ERB)æˆ–å†…ç½®Puppet(EPP)æ¨¡ç‰ˆè¯­è¨€çš„å¾ªç¯å’Œå˜é‡æ›¿æ¢.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;Puppetæ˜¯åŸºäºRubyè¯­è¨€çš„é…ç½®ç®¡ç†å·¥å…·. æ¨¡å—è¢«æ„å»ºè¿›ä¸€ä¸ªç‰¹å®šåŸŸçš„è¯­è¨€, å¹¶é€šè¿‡å®šä¹‰ç»™å®šserveré…ç½®çš„manifestæ–‡ä»¶è°ƒç”¨. Puppetå¯ä»¥ç”¨ä¸»ä»æˆ–masterlessæ¨¡å¼è¿è¡Œ. ä½¿ç”¨Puppet, manifestè¿è¡Œåœ¨masterä¸Š, ç„¶åå‘åˆ°slaveä¸Š. è¿™å¾ˆé‡è¦, å› ä¸ºå®ƒç¡®ä¿slaveåªæ˜¯è¢«äº¤ä»˜å¯¹å®ƒæœ‰ç”¨çš„é…ç½®, å¯¹å…¶ä»–serverçš„å…¶ä»–é…ç½®æ˜¯ä¸ä¼šç»™è¿™ä¸ªslaveçš„. Puppetæœ‰å¾ˆå¤šéå¸¸é«˜çº§çš„å…¬ç”¨æ¨¡å—. é€šè¿‡è¿™äº›æ¨¡å—, ä¼šåœ¨é…ç½®ä¸Šå¸®åŠ©ä½ é£èµ·. åœ¨GitHubä¸Šæ¥è‡ªvoxpupuliçš„å…¬å…±NGINXæ¨¡å—ä¼šä¸ºä½ æ¨¡æ¿åŒ–NGINXé…ç½®.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://docs.puppet.com/"&gt;Puppet documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jfgpm4"&gt;Puppet package documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jMq2cx"&gt;Puppet service documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jMz4q3"&gt;Puppet file documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2isqAlP"&gt;Puppet templating documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jMspMn"&gt;Voxpupuli NGINX module&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="352-chef"&gt;3.5.2 ä½¿ç”¨Chefå®‰è£…&lt;a class="headerlink" href="#352-chef" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç•¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="353-ansible"&gt;3.5.3 ä½¿ç”¨Ansibleå®‰è£…&lt;a class="headerlink" href="#353-ansible" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä½¿ç”¨Ansibleæ¥å®‰è£…å’Œé…ç½®NGINX, ä»¥ä»£ç å½¢å¼ç®¡ç†NGINXé…ç½®, å¹¶ç¡®è®¤ä½ çš„å…¶ä»–Ansibleé…ç½®.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå®‰è£…NGINXå’Œç®¡ç†&lt;em&gt;nginx.conf&lt;/em&gt;æ–‡ä»¶playbook. ä¸‹åˆ—æ˜¯ä¸€ä¸ªç¤ºä¾‹çš„ä»»åŠ¡æ–‡ä»¶.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;NGINX | Installing NGINX&lt;/span&gt;
  &lt;span class="nt"&gt;package&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;name=nginx state=present&lt;/span&gt;

&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;NGINX | Starting NGINX&lt;/span&gt;
  &lt;span class="nt"&gt;service&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
    &lt;span class="nt"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;started&lt;/span&gt;
    &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;yes&lt;/span&gt;
&lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Copy nginx configuration in place.&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;src&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx.conf.j2&lt;/span&gt;
    &lt;span class="nt"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/etc/nginx/nginx.conf&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;owner&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
    &lt;span class="nt"&gt;group&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
    &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0644&lt;/span&gt;
  &lt;span class="nt"&gt;notify&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;reload nginx&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;package&lt;/code&gt;å—å®‰è£…NGINX. &lt;code&gt;service&lt;/code&gt;å—ç¡®ä¿NGINXåœ¨å¯åŠ¨æ—¶è¢«å¯åŠ¨å’Œå¯ç”¨. &lt;code&gt;template&lt;/code&gt;å—æ¨¡æ¿åŒ–ä¸€ä¸ª&lt;em&gt;Jinja2&lt;/em&gt;æ–‡ä»¶, å¹¶æŠŠç»“æœä»¥rootç”¨æˆ·å’Œç»„æ”¾åˆ°&lt;code&gt;/etc/nginx.conf&lt;/code&gt;ä¸­. è¯¥æ¨¡ç‰ˆå—ä¹Ÿè®¾ç½®&lt;em&gt;mode&lt;/em&gt;ä¸º644, å¹¶é€šçŸ¥nginxæœåŠ¡reload. æ¨¡æ¿åŒ–é…ç½®æ–‡ä»¶æ²¡æœ‰åŒ…å«åœ¨å†…. ä½†æ˜¯, å¯ä»¥é€šè¿‡é»˜è®¤çš„NGINXé…ç½®æ–‡ä»¶æ¥ç®€å•, æˆ–è€…é€šè¿‡Jinja2æ¨¡ç‰ˆè¯­è¨€çš„å¾ªç¯å’Œå˜é‡æ›¿æ¢ç”Ÿæˆå¾ˆå¤æ‚çš„æ¨¡ç‰ˆ.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;Ansibleæ˜¯ç”¨Pythonç¼–å†™çš„å¹¿æ³›ä½¿ç”¨çš„å¼ºå¤§é…ç½®ç®¡ç†å·¥å…·. ä»»åŠ¡é…ç½®ä½¿ç”¨YAML, ä½¿ç”¨Jinja2æ¨¡ç‰ˆè¯­è¨€ç”Ÿæˆæ–‡ä»¶æ¨¡ç‰ˆ. Ansibleæä¾›ä¸€ä¸ªæœ‰masterçš„å«åšAnsible Towerçš„è®¢é˜…ç‰ˆ. ä½†æ˜¯, å®ƒç»å¸¸ç”¨äºæœ¬åœ°æœºå™¨æˆ–æ„å»ºæœåŠ¡å™¨ç›´æ¥åˆ°å®¢æˆ·ç«¯æˆ–è€…ä½¿ç”¨masterlessæ¨¡å¼. Ansibleæ‰“åŒ…SSHåˆ°å®ƒçš„serverå¹¶è¿è¡Œé…ç½®. å’Œå…¶ä»–é…ç½®å·¥å…·ç±»ä¼¼, æœ‰å¾ˆå¤šç¤¾åŒºæä¾›çš„å…¬å…±roles, AnsibleæŠŠå®ƒå«åšAnsible Galaxy. ä½ å¯ä»¥æ‰¾åˆ°å¯ä»¥ç”¨äºä½ çš„playbookçš„éå¸¸å¤æ‚çš„roles.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://docs.ansible.com/"&gt;Ansible documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jfiwGv"&gt;Ansible packages&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2jMGF7E"&gt;Ansible service&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2j8j526"&gt;Ansible template&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://galaxy.ansible.com/"&gt;Ansible Galaxy&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="354-saltstack"&gt;3.5.4 ä½¿ç”¨SaltStackå®‰è£…&lt;a class="headerlink" href="#354-saltstack" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä½¿ç”¨SaltStackæ¥å®‰è£…å’Œé…ç½®NGINX, ä»¥ä»£ç å½¢å¼ç®¡ç†NGINXé…ç½®, å¹¶ç¡®è®¤ä½ çš„å…¶ä»–SaltStacké…ç½®.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;nginx&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;pkg&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;installed&lt;/span&gt;
  &lt;span class="nt"&gt;service&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;running&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;enable&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;True&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;reload&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;True&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;watch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc/nginx/nginx.conf&lt;/span&gt;

&lt;span class="nt"&gt;/etc/nginx/nginx.conf&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;managed&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;source&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;salt://path/to/nginx.conf&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;user&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;group&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;root&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;jinja&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;644&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;require&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;pkg&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:28:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-3-5-nginx-autoconf-tools.html</guid><category>nginx</category><category>devops</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-å®ç”¨å®‰å…¨æŠ€å·§</title><link>https://www.EWhisper.cn/nginx-handbook-2-10-security-tips.html</link><description>&lt;h2 id="210"&gt;2.10 å®ç”¨å®‰å…¨æŠ€å·§&lt;a class="headerlink" href="#210" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="2100"&gt;2.10.0 ä»‹ç»&lt;a class="headerlink" href="#2100" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®‰å…¨æ˜¯åˆ†å±‚çš„, å°±åƒä¸€ä¸ªæ´‹è‘±, ä½ çš„å®‰å…¨æ¨¡å‹ç¡®å®è¦è¢«å¤šå±‚åŠ å›º. åœ¨è¿™éƒ¨åˆ†, æˆ‘ä»¬ä»‹ç»è®¸å¤šä¸åŒçš„æ–¹æ³•æ¥ç¡®ä¿webåº”ç”¨ç¨‹åºNGINXå’ŒNGINX Plus. å¾ˆå¤šçš„è¿™äº›å®‰å…¨æ–¹æ³•å¯ä»¥ç”¨æ¥åŠ å›ºå®‰å…¨. ä¸‹é¢æ˜¯ä¸€äº›å®ç”¨çš„å®‰å…¨æç¤º,ä»¥ç¡®ä¿æ‚¨çš„ç”¨æˆ·åœ¨ä½¿ç”¨HTTPSå’Œå‘Šè¯‰NGINXæ»¡è¶³ä¸€ä¸ªæˆ–å¤šä¸ªå®‰å…¨æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id="2101-https"&gt;2.10.1 HTTPS é‡å®šå‘&lt;a class="headerlink" href="#2101-https" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦é‡å®šå‘æœªåŠ å¯†çš„è¯·æ±‚åˆ°HTTPS.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;rewrite&lt;/code&gt;æ¥å‘é€æ‰€æœ‰HTTPæµé‡åˆ°HTTPS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="s"&gt;[::]:80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;301&lt;/span&gt; &lt;span class="s"&gt;https://&lt;/span&gt;&lt;span class="nv"&gt;$host$request_uri&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªé…ç½®ç›‘å¬æ‰€æœ‰hostnameçš„IPv4å’ŒIPv6çš„80ç«¯å£ä½œä¸ºé»˜è®¤çš„server. &lt;code&gt;return&lt;/code&gt;å£°æ˜è¿”å›301æ°¸ä¹…é‡å®šå‘åˆ°åŒæ ·çš„hostå’Œè¯·æ±‚URIçš„HTTPSä¸Š.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;æ€»æ˜¯æŠŠé€‚å½“çš„è¯·æ±‚é‡å®šå‘åˆ°HTTPSæ˜¯éå¸¸é‡è¦çš„. ä½ å¯èƒ½ä¼šå‘ç°ä½ ä¸éœ€è¦é‡å®šå‘æ‰€æœ‰çš„è¯·æ±‚, è€Œæ˜¯åœ¨å®¢æˆ·ç«¯å’Œserverä¹‹é—´ä¼ è¾“æ•æ„Ÿä¿¡æ¯çš„é‚£äº›è¯·æ±‚. åœ¨æœ¬ä¾‹ä¸­, ä½ å¯èƒ½æƒ³è¦æŠŠ&lt;code&gt;return&lt;/code&gt;å£°æ˜æ”¾åˆ°ç‰¹å®šçš„locationé‡Œ, å¦‚&lt;code&gt;/login&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="2102-ssltlsnginxhttps"&gt;2.10.2 é‡å®šå‘SSL/TLSåœ¨NGINXä¹‹å‰å·²ç»ç»“æŸçš„åˆ°HTTPS&lt;a class="headerlink" href="#2102-ssltlsnginxhttps" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦é‡å®šå‘åˆ°HTTPS, ç„¶è€Œ, åœ¨NGINXä¹‹å‰, ä½ å·²ç»ç»“æŸäº†SSL/TLS.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨æ ‡å‡†çš„&lt;code&gt;HTTP_X_Forwarded_Proto&lt;/code&gt; å¤´æ¥å†³å®šæ˜¯å¦ä½ éœ€è¦è¿›è¡Œé‡å®šå‘:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="s"&gt;[::]:80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$http_x_forwarded_proto&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;http&amp;#39;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;301&lt;/span&gt; &lt;span class="s"&gt;https://&lt;/span&gt;&lt;span class="nv"&gt;$host$request_uri&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªé…ç½®å’ŒHTTPSé‡å®šå‘å¾ˆåƒ. ä½†æ˜¯, åœ¨è¿™ä¸ªé…ç½®ä¸­, åªæœ‰å¤´&lt;code&gt;X_Forwarded_Proto&lt;/code&gt;ç­‰äºHTTPæ‰ä¼šé‡å®šå‘.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªåœ¨NGINXä¹‹å‰å°±ç»“æŸäº†SSL/TLSçš„å¸¸è§æ¡ˆä¾‹. ä½ å¯èƒ½è¦è¿™ä¹ˆåšçš„ä¸€ä¸ªåŸå› æ˜¯èŠ‚çœè®¡ç®—å¼€é”€. ä½†æ˜¯, ä½ éœ€è¦ç¡®ä¿æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯HTTPS, ä½†æ˜¯ç»“æŸäº†SSL/TLSçš„å±‚æ²¡æœ‰é‡å®šå‘çš„èƒ½åŠ›. ä½†æ˜¯, å¯ä»¥è®¾ç½®ä»£ç†å¤´éƒ¨. è¿™ä¸ªé…ç½®å¯ä»¥åœ¨Amazon Web Services Elastic Load Balancerä¸Šå·¥ä½œ, å› ä¸ºè¿™ä¸ªå¦‚æœæ²¡æœ‰é¢å¤–çš„èŠ±é’±çš„è¯å°±ä¼šå¸è½½æ‰SSL/TLS. è¿™æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„æŠ€å·§ä»¥ç¡®ä¿ä½ çš„HTTPæµé‡æ˜¯å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;h3 id="2103"&gt;2.10.3 æ»¡è¶³ä»»æ„æ•°é‡çš„å®‰å…¨æ–¹æ³•&lt;a class="headerlink" href="#2103" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦æä¾›å¤šç§æ–¹å¼æ¥ä¼ è¾“å®‰å…¨åˆ°ä¸€ä¸ªä¸å…¬å¼€çš„ç«™ç‚¹.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;satisfy&lt;/code&gt;æŒ‡ä»¤æ¥è¯´æ˜ä½ æƒ³è¦ä½¿ç”¨ä»»æ„æ•°é‡çš„å®‰å…¨æ–¹æ³•:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;satisfy&lt;/span&gt; &lt;span class="s"&gt;any&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;allow&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="s"&gt;.168.1.0/24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;deny&lt;/span&gt;  &lt;span class="s"&gt;all&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;auth_basic&lt;/span&gt;           &lt;span class="s"&gt;&amp;quot;closed&lt;/span&gt; &lt;span class="s"&gt;site&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;auth_basic_user_file&lt;/span&gt; &lt;span class="s"&gt;conf/htpasswd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¥é…ç½®å‘Šè¯‰NGINXç”¨æˆ·è¯·æ±‚&lt;code&gt;location /&lt;/code&gt;éœ€è¦æ»¡è¶³å…¶ä¸­çš„ä¸€ä¸ªå®‰å…¨æ–¹æ³•: æˆ–è€…è¯¥è¯·æ±‚éœ€è¦æ¥è‡ª&lt;em&gt;192.168.1.0/24&lt;/em&gt; CIDR block, æˆ–è€…èƒ½å¤Ÿæä¾›åœ¨å¯ä»¥åœ¨&lt;code&gt;conf/htpasswd&lt;/code&gt;ä¸­æ‰¾åˆ°çš„ç”¨æˆ·åå¯†ç . &lt;code&gt;satisfy&lt;/code&gt;æŒ‡ä»¤æœ‰2ä¸ªé€‰é¡¹: &lt;code&gt;any&lt;/code&gt;æˆ–&lt;code&gt;all&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;satifsy&lt;/code&gt;æŒ‡ä»¤æ˜¯ä¸€ä¸ªæä¾›å¤šç§è®¤è¯çš„å¾ˆå¥½çš„æ–¹å¼. é€šè¿‡æŒ‡å®š&lt;code&gt;any&lt;/code&gt;ç»™&lt;code&gt;satisfy&lt;/code&gt;æŒ‡ä»¤, ç”¨æˆ·å¿…é¡»æ»¡è¶³å…¶ä¸­ä¸€ä¸ªå®‰å…¨. æŒ‡å®š&lt;code&gt;all&lt;/code&gt;ç»™&lt;code&gt;satisfy&lt;/code&gt;æŒ‡ä»¤, ç”¨æˆ·å¿…é¡»æ»¡è¶³æ‰€æœ‰çš„å®‰å…¨è®¤è¯. è¯¥æŒ‡ä»¤å¯ä»¥å’Œ2.1çš„&lt;code&gt;http_access_module&lt;/code&gt;ç»“åˆ, 2.4çš„&lt;code&gt;http_auth_basic_module&lt;/code&gt;, 2.5çš„&lt;code&gt;http_auth_request_module&lt;/code&gt;, 2.7çš„&lt;code&gt;http_auth_jwt_module&lt;/code&gt;. åªæœ‰å„ä¸ªå±‚éƒ½å®‰å…¨, æ‰æ˜¯çœŸæ­£çš„å®‰å…¨. &lt;code&gt;satisfy&lt;/code&gt;æŒ‡ä»¤ä¼šå¸®åŠ©ä½ ä¸ºè¿™ä¸ªlocationæˆ–serverå®ç°éœ€è¦çš„æ·±åº¦å®‰å…¨è§„åˆ™.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:24:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-10-security-tips.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-ModSecurity Webåº”ç”¨é˜²ç«å¢™</title><link>https://www.EWhisper.cn/nginx-handbook-2-9-waf.html</link><description>&lt;h2 id="29-modsecurity-web"&gt;2.9 ModSecurity Webåº”ç”¨é˜²ç«å¢™&lt;a class="headerlink" href="#29-modsecurity-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="290"&gt;2.9.0 ä»‹ç»&lt;a class="headerlink" href="#290" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ModSecurity æ˜¯ä¸€ä¸ªå¼€æºçš„webåº”ç”¨é˜²ç«å¢™(WAF), é¦–æ¬¡è¢«æ„å»ºä»…Apache web server. åœ¨2012å¹´, å®ƒä½œä¸ºNGINXçš„ä¸€ä¸ªæ¨¡å—å¯ä¾›ä½¿ç”¨, 2016åŠ å…¥NGINX Plusä½œä¸ºä¸€ä¸ªå¯é€‰åŠŸèƒ½. æœ¬ç« å°†è¯¦ç»†ä»‹ç»ä½¿ç”¨NGINX Plusçš„åŠ¨æ€æ¨¡å—åŠŸèƒ½å®‰è£…ModSecurity 3.0, ä½¿ç”¨å¼€æºNGINXå®‰è£…ModeSecurity 2.9. ModSecurity 3.0æ¯”ModSecurity 2.xçš„å®‰å…¨å’Œæ€§èƒ½æ›´å‡ºä¼—. å½“ä»å¼€æºè¿è¡ŒModSecurity 2.9, å› ä¸ºå®ƒä»ç„¶æ˜¯åœ¨Apacheä¸Šæ„é€ , å› æ­¤éœ€è¦æ¯”3.0æ›´å¤šçš„å¼€é”€, è€Œ3.0æ˜¯åŸºäºNGINXåŸç”Ÿè®¾è®¡çš„.  ModSecurity 3.0 åªèƒ½ç”¨äºNGINX Plusè®¢é˜….&lt;/p&gt;
&lt;h3 id="291-nginx-plusmodesecurity"&gt;2.9.1 ä¸ºNGINX Pluså®‰è£…ModeSecurity&lt;a class="headerlink" href="#291-nginx-plusmodesecurity" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç•¥è¿‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="292-nginx-plusmodsecurity"&gt;2.9.2 åœ¨NGINX Plusä¸­é…ç½®ModSecurity&lt;a class="headerlink" href="#292-nginx-plusmodsecurity" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦é…ç½®NGINX Plusä½¿ç”¨ModSecurityæ¨¡å—.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åœ¨NGINX Plusé…ç½®ä¸­å¯ç”¨åŠ¨æ€æ¨¡å—, ä½¿ç”¨&lt;code&gt;modsecurity_rules_file&lt;/code&gt;æ¥æŒ‡å‘ä¸€ä¸ªModSecurityè§„åˆ™æ–‡ä»¶:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;load_module modules/ngx_http_modsecurity.so;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;load_module&lt;/code&gt;æŒ‡ä»¤é€‚ç”¨äºä¸»context, æ„å‘³ç€è¯¥æŒ‡ä»¤å¯ä»¥åœ¨æ‰“å¼€HTTPæˆ–Streamå—ä¹‹å‰ä½¿ç”¨.&lt;/p&gt;
&lt;p&gt;å¼€å¯ModeSecurity, ä½¿ç”¨æŒ‡å®šè§„åˆ™é›†:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;modsecurity&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;proxy_pass&lt;/span&gt; &lt;span class="s"&gt;http://backend&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;modsecurity_rules_file&lt;/span&gt; &lt;span class="s"&gt;rule-set-file&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
     &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;ModSecurityçš„è§„åˆ™å¯ä»¥é˜»æ­¢å¯¹å¸¸è§çš„web serverså’Œåº”ç”¨çš„æ¼æ´åˆ©ç”¨. ModSecurityå·²çŸ¥å¯ä»¥é˜²å¾¡åº”ç”¨å±‚çš„æ”»å‡», å¦‚HTTP violations, SQLæ³¨å…¥, è·¨ç«™è„šæœ¬, åº”ç”¨å±‚, DDoS, è¿œç¨‹å’Œæœ¬åœ°æ–‡ä»¶æ”»å‡». ä½¿ç”¨ModSecurity, ä½ å¯ä»¥è®¢é˜…æ¶æ„ç”¨äºçš„å®æ—¶çš„é»‘åå•, æ¥å¸®åŠ©åœ¨æœåŠ¡è¢«æ”»å‡»ä¹‹å‰é˜»æ­¢é—®é¢˜. ModSecurityæ¨¡å—ä¹Ÿå¯ä»¥å¯ç”¨æ—¥å¿—å¸®åŠ©è¯†åˆ«æ–°çš„æ”»å‡»æ¨¡å¼å’Œå¼‚å¸¸.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2fdZ7Dd"&gt;OWASP ModSecurity æ ¸å¿ƒè§„åˆ™é›†&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2eJYuAx"&gt;TrustWave ModSecurity ä»˜è´¹è§„åˆ™é›†&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="293-modsecurity"&gt;2.9.3 æºç å®‰è£…ModSecurity&lt;a class="headerlink" href="#293-modsecurity" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦åœ¨CentOSæˆ–RHELç³»ç»Ÿä¸Šä½¿ç”¨NGINXè¿è¡ŒModSecurity.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä»æºç ç¼–è¯‘ModSecurityå’ŒNGINXæ¥ä½¿ç”¨ModSecurityæ¨¡å—.&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå‡çº§securityå¹¶å®‰è£…ä¾èµ–:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ yum --security update -y &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    yum -y install automake &lt;span class="se"&gt;\&lt;/span&gt;
    autoconf &lt;span class="se"&gt;\&lt;/span&gt;
    curl &lt;span class="se"&gt;\&lt;/span&gt;
    curl-devel &lt;span class="se"&gt;\&lt;/span&gt;
    gcc &lt;span class="se"&gt;\&lt;/span&gt;
    gcc-c++ &lt;span class="se"&gt;\&lt;/span&gt;
    httpd-devel &lt;span class="se"&gt;\&lt;/span&gt;
    libxml2 &lt;span class="se"&gt;\&lt;/span&gt;
    libxml2-devel &lt;span class="se"&gt;\&lt;/span&gt;
    make &lt;span class="se"&gt;\&lt;/span&gt;
    openssl &lt;span class="se"&gt;\&lt;/span&gt;
    openssl-devel &lt;span class="se"&gt;\&lt;/span&gt;
    perl &lt;span class="se"&gt;\&lt;/span&gt;
    wget
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ¥ä¸‹æ¥, ä¸‹è½½å®‰è£…PCREåº“:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    wget http://ftp.exim.org/pub/pcre/pcre-8.39.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    tar -zxf pcre-8.39.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="nb"&gt;cd&lt;/span&gt; pcre-8.39 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    ./configure &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    make &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    make install
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸‹è½½zlibæºç å¹¶å®‰è£…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    wget http://zlib.net/zlib-1.2.8.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    tar -zxf zlib-1.2.8.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="nb"&gt;cd&lt;/span&gt; zlib-1.2.8 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    ./configure &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    make &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    make install
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸‹è½½ModSecurityæºç å¹¶å®‰è£…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  wget &lt;span class="se"&gt;\&lt;/span&gt;
  https://www.modsecurity.org/tarball/2.9.1/modsecurity-2.9.1.&lt;span class="se"&gt;\&lt;/span&gt;
tar.gz&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  tar -zxf modsecurity-2.9.1.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="nb"&gt;cd&lt;/span&gt; modsecurity-2.9.1 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  ./configure --enable-standalone-module &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  make
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»æºç ä¸‹è½½å®‰è£…NGINX, å¹¶åœ¨é…ç½®è„šæœ¬é‡ŒåŒ…å«ä½ éœ€è¦çš„æ‰€æœ‰æ¨¡å—. æœ¬æ¬¡æˆ‘ä»¬çš„å…³æ³¨ç‚¹æ˜¯ModSecurity:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    wget http://nginx.org/download/nginx-1.11.4.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    tar zxf nginx-1.11.4.tar.gz &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="nb"&gt;cd&lt;/span&gt; nginx-1.11.4 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    ./configure &lt;span class="se"&gt;\&lt;/span&gt;
        --sbin-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx/nginx &lt;span class="se"&gt;\&lt;/span&gt;
        --conf-path&lt;span class="o"&gt;=&lt;/span&gt;/etc/nginx/nginx.conf &lt;span class="se"&gt;\&lt;/span&gt;
        --pid-path&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx/nginx.pid &lt;span class="se"&gt;\&lt;/span&gt;
        --with-pcre&lt;span class="o"&gt;=&lt;/span&gt;../pcre-8.39 &lt;span class="se"&gt;\&lt;/span&gt;
        --with-zlib&lt;span class="o"&gt;=&lt;/span&gt;../zlib-1.2.8 &lt;span class="se"&gt;\&lt;/span&gt;
        --with-http_ssl_module &lt;span class="se"&gt;\&lt;/span&gt;
        --with-stream &lt;span class="se"&gt;\&lt;/span&gt;
        --with-http_ssl_module &lt;span class="se"&gt;\&lt;/span&gt;
        --with-http_secure_link_module &lt;span class="se"&gt;\&lt;/span&gt;
        --add-module&lt;span class="o"&gt;=&lt;/span&gt;../modsecurity-2.9.1/nginx/modsecurity &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    make &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    make install &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    ln -s /usr/local/nginx/nginx /usr/bin/nginx
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™å°†ä¼šæŠŠModSecurity 2.9.1 æ¨¡å—ç¼–è¯‘å¹¶å’ŒNGINXä¸€èµ·å®‰è£…. ä»ç°åœ¨å¼€å§‹, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code&gt;ModSecurityEnabled&lt;/code&gt;å’Œ&lt;code&gt;ModSecurityConfig&lt;/code&gt;æŒ‡ä»¤:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="s"&gt;[::]:80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;server_name&lt;/span&gt; &lt;span class="s"&gt;_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="kn"&gt;ModSecurityEnabled&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="kn"&gt;ModSecurityConfig&lt;/span&gt; &lt;span class="s"&gt;modsecurity.conf&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;NGINX serverçš„é…ç½®ä¼šä¸º&lt;code&gt;location /&lt;/code&gt;å¯ç”¨ModSecurity, å¹¶ä½¿ç”¨ä½äºNGINXé…ç½®ç›®å½•ä¸‹çš„ModSecurityé…ç½®æ–‡ä»¶.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;è¿™ä¸€èŠ‚ä»NGINXæºç ç¼–è¯‘, å¹¶æŠŠModSecurityç¼–è¯‘åˆ°NGINXä¸­. æ¨èä»æºç ç¼–è¯‘NGINXçš„æ—¶å€™, æ€»æ˜¯æ£€æŸ¥ä½ æ˜¯å¦ä½¿ç”¨äº†æœ€æ–°çš„ç¨³å®šç‰ˆçš„åŒ…. é€šè¿‡ä¹‹å‰çš„æ¡ˆä¾‹, ä½ å¯ä»¥ä½¿ç”¨æœ‰ModSecurityçš„å¼€æºç‰ˆæœ¬çš„NGINXæ¥æ„å»ºä½ çš„å¼€æºwebåº”ç”¨é˜²ç«å¢™.&lt;/p&gt;
&lt;h4&gt;å‚è§&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://github.com/SpiderLabs/ModSecurity"&gt;ModSecurityæºç &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bit.ly/2eJYuAx"&gt;Updated and maintained ModSecurity Rules from SpiderLabs&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:22:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-9-waf.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-å®‰å…¨é“¾æ¥</title><link>https://www.EWhisper.cn/nginx-handbook-2-6-secure-link.html</link><description>&lt;h2 id="26"&gt;2.6 å®‰å…¨é“¾æ¥&lt;a class="headerlink" href="#26" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="260"&gt;2.6.0 ä»‹ç»&lt;a class="headerlink" href="#260" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®‰å…¨é“¾æ¥(secure links)æ˜¯ä¸€ç§ä½¿ç”¨&lt;em&gt;md5&lt;/em&gt;å“ˆå¸Œç®—æ³•ä¿è¯é™æ€èµ„æºå®‰å…¨çš„æ–¹å¼. ä½¿ç”¨è¿™ä¸ªæ¨¡å—, ä½ ä¹Ÿå¯ä»¥é™åˆ¶è¯¥é“¾æ¥æ¥æ”¶è¯·æ±‚çš„æ—¶é•¿. ä½¿ç”¨å®‰å…¨é“¾æ¥ä½¿NGINXåº”ç”¨ç¨‹åºæœåŠ¡å™¨ç¡®ä¿é™æ€å†…å®¹å®‰å…¨è€Œæ— éœ€åº”ç”¨æœåŠ¡å™¨æ‰¿æ‹…è¿™ç§è´£ä»». è¿™ä¸ªæ¨¡å—åŒ…å«åœ¨å…è´¹å¼€æºçš„NGINXé‡Œ. ä½†æ˜¯, å®ƒæ²¡æœ‰æ‰“è¿›æ ‡å‡†çš„NGINXåŒ…, è€Œæ˜¯æ”¾åˆ°äº†&lt;code&gt;nginx-extras&lt;/code&gt;åŒ…é‡Œ. å½“ä»æºç æ„å»ºNGINXæ—¶, å¯ä»¥é€‰æ‹©ä½¿ç”¨é…ç½®å‚æ•°&lt;code&gt;--with-http_secure_link_module&lt;/code&gt;æ¥å¯ç”¨.&lt;/p&gt;
&lt;h3 id="261-location"&gt;2.6.1 åŠ å¯†Location&lt;a class="headerlink" href="#261-location" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä½¿ç”¨ä¸€ä¸ªå¯†é’¥æ¥åŠ å¯†ä¸€ä¸ªlocationå—.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨å®‰å…¨é“¾æ¥æ¨¡å—, &lt;code&gt;secure_link_secret&lt;/code&gt;æŒ‡ä»¤æ¥é™åˆ¶å¯¹èµ„æºçš„è®¿é—®çš„ç”¨æˆ·æœ‰ä¸€ä¸ªå®‰å…¨çš„é“¾æ¥:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/resources&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;secure_link_secret&lt;/span&gt; &lt;span class="s"&gt;mySecret&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$secure_link&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;403&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="kn"&gt;rewrite&lt;/span&gt; &lt;span class="s"&gt;^&lt;/span&gt; &lt;span class="s"&gt;/secured/&lt;/span&gt;&lt;span class="nv"&gt;$secure_link&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/secured&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;internal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/var/www&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¥é…ç½®åˆ›å»ºäº†ä¸€ä¸ªå†…éƒ¨å’Œä¸€ä¸ªå¤–éƒ¨çš„locationå—. å¤–éƒ¨çš„locationå—&lt;code&gt;/resources&lt;/code&gt;ä¼šè¿”å›403 Forbidden, é™¤éè¯·æ±‚URIåŒ…å«ä¸€ä¸ª&lt;em&gt;md5&lt;/em&gt;å“ˆå¸Œå­—ç¬¦ä¸², è¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥è¢«&lt;code&gt;secure_link_secret&lt;/code&gt;æŒ‡ä»¤æä¾›çš„secretéªŒè¯. &lt;code&gt;$secure_link&lt;/code&gt;å˜é‡æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸², é™¤éåœ¨URIçš„å“ˆå¸Œè¢«éªŒè¯.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨secretåŠ å¯†èµ„æºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç¡®ä¿ä½ çš„æ–‡ä»¶å—ä¿æŠ¤çš„æ–¹æ³•. è¯¥secretç”¨äºå’ŒURIä¸²è” . è¯¥å­—ç¬¦ä¸²ç„¶åä¼šè¢«&lt;code&gt;md5&lt;/code&gt;å“ˆå¸Œ, &lt;code&gt;md5&lt;/code&gt;å“ˆå¸Œåçš„16ç¦æ­¢æ•°å­—è¢«ç”¨åœ¨è¯¥URIä¸­. è¯¥å“ˆå¸Œè¢«æ”¾åˆ°é“¾æ¥ä¸­, ç”±NGINXè®¡ç®—. NGINXä¼šçŸ¥é“URIæƒ³è¦è®¿é—®çš„è·¯å¾„, å› ä¸ºå“ˆå¸Œåå°±åœ¨URIä¸­ . NGINXä¹Ÿä¼šç›´åˆ°ä½ çš„secret, å› ä¸ºæŒ‡ä»¤&lt;code&gt;secure_link_secret&lt;/code&gt;ä¼šæä¾›. NGINXèƒ½å¤Ÿè¿…é€ŸéªŒè¯&lt;code&gt;md5&lt;/code&gt;å“ˆå¸Œ, å¹¶å­˜å‚¨åœ¨URIçš„&lt;code&gt;$secure_link&lt;/code&gt;å˜é‡ä¸­. å¦‚æœå“ˆå¸Œæ— æ³•éªŒè¯, è¯¥å˜é‡å°±æ˜¯ç©ºå­—ç¬¦ä¸². éœ€è¦æ³¨æ„, ä¼ ç»™&lt;code&gt;secure_link_secret&lt;/code&gt;çš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªé™æ€å­—ç¬¦ä¸², ä¸èƒ½æ˜¯å˜é‡.&lt;/p&gt;
&lt;h3 id="262-secret"&gt;2.6.2 ä½¿ç”¨secretç”Ÿæˆä¸€ä¸ªå®‰å…¨é“¾æ¥&lt;a class="headerlink" href="#262-secret" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä½¿ç”¨secretä»ä½ çš„åº”ç”¨ç”Ÿæˆä¸€ä¸ªå®‰å…¨é“¾æ¥.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;NGINXçš„å®‰å…¨é“¾æ¥æ¨¡å—æ¥æ”¶ä¸€ä¸ªmd5å“ˆå¸Œ(URIè·¯å¾„å’Œsecretçš„è”æ¥)è¿‡çš„16è¿›åˆ¶å­—ç¬¦ä¸². åŸºäºä¸Šä¸€èŠ‚, æˆ‘ä»¬ä¼šåˆ›å»ºå®‰å…¨çš„è¿æ¥, å¯ä»¥å·¥ä½œåœ¨ä¸Šä¸ªé…ç½®, æ¯”å¦‚&lt;code&gt;/var/www/secured/index.html&lt;/code&gt;. è¦ç”Ÿæˆmd5å“ˆå¸Œçš„16è¿›åˆ¶å­—ç¬¦ä¸², æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Unix opensslå‘½ä»¤:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s1"&gt;&amp;#39;index.htmlmySecret&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; openssl md5 -hex
&lt;span class="o"&gt;(&lt;/span&gt;stdin&lt;span class="o"&gt;)=&lt;/span&gt; a53bee08a4bf0bbea978ddf736363a12
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¿æŠ¤çš„URI: &lt;em&gt;index.html&lt;/em&gt;; secret: &lt;em&gt;mySecret&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;ä¸‹è¾¹æ˜¯ä½¿ç”¨Python 2.7å’Œ&lt;em&gt;md5&lt;/em&gt;åº“ç”Ÿæˆçš„:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;md5&lt;/span&gt;
&lt;span class="n"&gt;md5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;index.htmlmySecret&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;a53bee08a4bf0bbea978ddf736363a12&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬è®¿é—®çš„åœ°å€åº”è¯¥æ˜¯å¦‚ä¸‹æ‰€ç¤º, è¦è®¿é—®&lt;code&gt;/var/www/secured/index.html&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;www.example.com/resources/a53bee08a4bf0bbea978ddf736363a12/\
index.html
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;è¦ç”Ÿæˆè¿™ä¸ªæ•°å­—å¯ä»¥ç”±å¾ˆå¤šç§æ–¹å¼, å¾ˆå¤šè¯­è¨€éƒ½å¯ä»¥å®ç°. è¦è®°ä½çš„æ˜¯: URIè·¯å¾„åœ¨secretä¹‹å‰, å­—ç¬¦ä¸²ä¸­æ²¡æœ‰å›è½¦, å¹¶ä¸”ä½¿ç”¨&lt;em&gt;md5&lt;/em&gt;å“ˆå¸Œçš„16è¿›åˆ¶æ•°å­—.&lt;/p&gt;
&lt;h3 id="263-expire-datelocation"&gt;2.6.3 ä½¿ç”¨Expire DateåŠ å¯†Location&lt;a class="headerlink" href="#263-expire-datelocation" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ç”Ÿæˆä¸€ä¸ªåœ¨ä¸€æ®µæ—¶é—´åè¿‡æœŸçš„é“¾æ¥.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åˆ©ç”¨åœ¨å®‰å…¨é“¾æ¥æ¨¡å—çš„å…¶ä»–æŒ‡ä»¤æ¥åœ¨ä½ çš„åŠ å¯†é“¾æ¥ä¸­è®¾ç½®è¿‡æœŸæ—¥å¿—å’Œä½¿ç”¨å˜é‡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;location&lt;/span&gt; &lt;span class="s"&gt;/resources&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;root&lt;/span&gt; &lt;span class="s"&gt;/var/www&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;secure_link&lt;/span&gt; &lt;span class="nv"&gt;$arg_md5,$arg_expires&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;secure_link_md5&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$secure_link_expires$uri$remote_addr&lt;/span&gt;
   &lt;span class="s"&gt;mySecret&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$secure_link&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;403&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kn"&gt;if&lt;/span&gt; &lt;span class="s"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$secure_link&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;0&amp;quot;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;410&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;secure_link&lt;/code&gt;æŒ‡ä»¤æœ‰2ä¸ªç”¨é€—å·éš”å¼€çš„å­—æ®µ. ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯&lt;em&gt;md5&lt;/em&gt;å“ˆå¸Œçš„å˜é‡. è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸ªHTTPå‚æ•°çš„md5ã€‚ç¬¬äºŒä¸ªå­—æ®µæ˜¯æ”¾ç½®ä»¥Unixå…ƒå¹´æ—¶é—´æ ¼å¼çš„é“¾æ¥è¿‡æœŸæ—¶é—´çš„å˜é‡. &lt;code&gt;secure_link_md5&lt;/code&gt;æŒ‡ä»¤å ç”¨ä¸€ä¸ªå•ç‹¬çš„å­—æ®µ, å£°æ˜ç”¨äºæ„é€ &lt;em&gt;md5&lt;/em&gt;å“ˆå¸Œçš„çš„æ ¼å¼çš„å­—ç¬¦ä¸². å’Œå…¶ä»–é…ç½®ä¸€æ ·, å¦‚æœhashæ²¡æœ‰é€šè¿‡éªŒè¯, &lt;code&gt;$secure_link&lt;/code&gt;å˜é‡è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸². æˆ–è€…, å¦‚æœå“ˆå¸ŒåŒ¹é…ä½†æ˜¯æ—¶é—´è¿‡æœŸ, &lt;code&gt;$secure_link&lt;/code&gt;å˜é‡è®¾ç½®ä¸º0.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;è¿™ç§ç”¨æ³•æ¯”ä¹‹å‰2.6.1ä¸­çš„æ›´çµæ´», çœ‹èµ·æ¥æ›´å¹²å‡€. ä½¿ç”¨è¿™äº›æŒ‡ä»¤, ä½ å¯ä»¥ä½¿ç”¨å¯ä»¥ç”¨åœ¨NGINXå“ˆå¸Œå­—ç¬¦ä¸²ä¸­çš„ä»»æ„æ•°é‡çš„å˜é‡. åœ¨å“ˆå¸Œå­—ç¬¦ä¸²ä¸­ä½¿ç”¨ç”¨æˆ·ç›¸å…³çš„å˜é‡ä¼šåŠ å¼ºå®‰å…¨æ€§, å› ä¸ºç”¨æˆ·ä¸èƒ½å¤Ÿå¾—åˆ°åŠ å¯†çš„èµ„æº. æ¨èä½¿ç”¨åƒæ˜¯&lt;code&gt;$remote_addr&lt;/code&gt;æˆ–&lt;code&gt;$http_x_forwarded_for&lt;/code&gt;æˆ–ç”±åº”ç”¨ç”Ÿæˆçš„ä¼šè¯cookieä½œä¸ºå˜é‡. &lt;code&gt;secure_link&lt;/code&gt;çš„å‚æ•°å¯ä»¥æ¥è‡ªä½ å–œæ¬¢çš„ä»»ä½•å˜é‡, ä»–ä»¬å¯ä»¥è¢«å‘½åä¸ºä»»æ„åˆé€‚çš„åå­—. åœ¨&lt;code&gt;$secure_link&lt;/code&gt;å˜é‡ä¸­çš„æ¡ä»¶å¯ä»¥è¢«è®¾ç½®è¿”å›å·²çŸ¥çš„Forbidderå’ŒGoneçš„HTTPä»£ç . HTTP 410, Gone, å¯¹äºè¿‡æœŸé“¾æ¥éå¸¸é€‚ç”¨, å› ä¸ºè¿™ä¸ªæ¡ä»¶è¢«è®¤ä¸ºæ˜¯æ°¸ä¹…çš„.&lt;/p&gt;
&lt;h3 id="264"&gt;2.6.4 ç”Ÿæˆä¸€ä¸ªæœ‰è¿‡æœŸæ—¶é—´çš„é“¾æ¥&lt;a class="headerlink" href="#264" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ç”Ÿæˆä¸€ä¸ªæœ‰è¿‡æœŸæ—¶é—´çš„é“¾æ¥.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ç”¨Unixæ—¶é—´æˆ³æ ¼å¼ç”Ÿæˆä¸€ä¸ªè¿‡æœŸæ—¶é—´æˆ³. åœ¨Unixç³»ç»Ÿä¸Š, ä½ å¯ä»¥è¿™æ ·æ“ä½œ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ date -d &lt;span class="s2"&gt;&amp;quot;2020-12-31 00:00&amp;quot;&lt;/span&gt; +%s
&lt;span class="m"&gt;1609390800&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ¥ä¸‹æ¥ä½ éœ€è¦è¿æ¥ç”¨åœ¨&lt;code&gt;secure_link_md5&lt;/code&gt;æŒ‡ä»¤ä¸­çš„å“ˆå¸Œå­—ç¬¦ä¸². åœ¨æœ¬ä¾‹ä¸­, ä½¿ç”¨&lt;code&gt;1293771600/resources/index.html127.0.0.1  mySecret&lt;/code&gt;. md5å“ˆå¸Œå’Œåˆšåˆšçš„16è¿›åˆ¶æ•°å­—æœ‰ä¸€äº›ä¸åŒ. å®ƒæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ ¼å¼çš„md5å“ˆå¸Œ, é‡‡ç”¨base64åŠ å¯†, ç”¨åŠ å·(+)è½¬æ¢ä¸ºè¿æ¥ç¬¦(-), æ–œæ (/)è½¬æ¢ä¸ºä¸‹åˆ’çº¿(_), ç­‰å·(=)è¢«ç§»é™¤. å¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s1"&gt;&amp;#39;1609390800/resources/index.html127.0.0.1 mySecret&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="p"&gt;|&lt;/span&gt; openssl md5 -binary &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="p"&gt;|&lt;/span&gt; openssl base64 &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="p"&gt;|&lt;/span&gt; tr +/ -_ &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="o"&gt;=&lt;/span&gt;
81CYyxXFADhLHaQD36_BK
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°±å¾—åˆ°äº†å“ˆå¸Œ, æˆ‘ä»¬å¯ä»¥ç”¨å®ƒåè¾¹è·Ÿç€è¿‡æœŸæ—¥æœŸä½œä¸ºå‚æ•°.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/resources/index.html?md5=81CYyxXFADhLHaQD36_BK&amp;amp;expires=1609390800'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä½¿ç”¨Python 2.7çš„æ ‡å‡†åº“çš„ä¾‹å­:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;base64&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;b64encode&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;md5&lt;/span&gt;
&lt;span class="n"&gt;resource&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/resources/index.html&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;remote_addr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;127.0.0.1&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;www.example.com&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;expire&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2020&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;31&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;uncoded&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;expire&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;resource&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;remote_addr&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39; mySecret&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;md5hashed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;md5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uncoded&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;digest&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;b64&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b64encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;md5hashed&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;hash&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b64&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;linkformat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;{}{}?md5={}?expires{}&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;securelink&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;linkformat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;hash&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;expire&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨è¿™ç§æ–¹å¼, æˆ‘ä»¬èƒ½ç”Ÿæˆç”¨äºURLä¸­çš„ç‰¹æ®Šæ ¼å¼çš„åŠ å¯†é“¾æ¥. æä¾›å®‰å…¨ä¿éšœçš„secretç»ä¸ä¼šå‘ç»™å®¢æˆ·ç«¯. ä½ å¯ä»¥ç”¨å°½å¯èƒ½çš„ä½ éœ€è¦çš„å…¶ä»–å˜é‡æ¥åŠ å¯†location. md5å“ˆå¸Œå’Œbase64åŠ å¯†å¾ˆå¸¸è§, è½»é‡, å‡ ä¹åœ¨æ‰€æœ‰è¯­è¨€ä¸­éƒ½å¯ç”¨.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:15:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-6-secure-link.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-ä½¿ç”¨JWT APIçš„å®‰å…¨è®¤è¯</title><link>https://www.EWhisper.cn/nginx-handbook-2-7-jwt-api-auth.html</link><description>&lt;h2 id="27-jwtapi"&gt;2.7 ä½¿ç”¨JWTçš„APIè®¤è¯&lt;a class="headerlink" href="#27-jwtapi" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="270"&gt;2.7.0 ä»‹ç»&lt;a class="headerlink" href="#270" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;JSON Web Tokens (JWTs)è¿…é€Ÿæˆä¸ºä¸€ç§å¹¿ä¸ºä½¿ç”¨å’Œå—æ¬¢è¿çš„è®¤è¯æ–¹å¼. è¿™äº›è®¤è¯tokensæœ‰èƒ½åŠ›å­˜å‚¨ä¸€äº›ç”¨æˆ·å’Œç”¨æˆ·çš„è®¤è¯ä¿¡æ¯åˆ°tokené‡Œ. è¿™äº›tokensä¹Ÿå¯ä»¥å¼‚æ­¥éªŒè¯, è¿™æ„å‘³ç€è´Ÿè½½å‡è¡¡å’Œä»£ç†å¯ä»¥ä½¿ç”¨å…¬é’¥æ¥éªŒè¯è¯¥token, è€Œä¸éœ€è¦ç”¨äºç­¾å‘tokençš„ç§é’¥, ä»¥æ­¤æé«˜å®‰å…¨å’Œçµæ´»æ€§.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NGINX Plusçš„åŠŸèƒ½, ç•¥è¿‡.&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:15:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-7-jwt-api-auth.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-HTTP å­è¯·æ±‚è®¤è¯</title><link>https://www.EWhisper.cn/nginx-handbook-2-5-http-subrequest-auth.html</link><description>&lt;h3 id="251"&gt;2.5.1 ä»‹ç»&lt;a class="headerlink" href="#251" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¼´éšç€å¾ˆå¤šä¸åŒçš„è®¤è¯æ–¹æ³•, NGINXé€šè¿‡å¯ç”¨è‡ªè¯·æ±‚mid-flight æ¥ä½¿éªŒè¯è®¤è¯å¹¿æ³›çš„è®¤è¯ç³»ç»Ÿå˜å¾—å®¹æ˜“. HTTPè®¤è¯è¯·æ±‚æ¨¡å—å¯ä»¥å¯ç”¨å¦‚LDAPæˆ–è‡ªå®šä¹‰è®¤è¯å¾®æœåŠ¡çš„è®¤è¯ç³»ç»Ÿ. åœ¨è¯·æ±‚è¢«æ‰§è¡Œä¹‹å‰, è®¤è¯æœºåˆ¶ä¼šä»£ç†è¯¥è¯·æ±‚åˆ°è®¤è¯æœåŠ¡. åœ¨è¿™ä¸ªä»£ç†ä¸­, é€šè¿‡NGINXçš„èƒ½åŠ›å¯ä»¥æ“çºµéœ€è¦èº«ä»½éªŒè¯æœåŠ¡çš„è¯·æ±‚ã€‚å› æ­¤,å®ƒéå¸¸çµæ´»ã€‚&lt;/p&gt;
&lt;h3 id="252"&gt;2.5.2 è®¤è¯å­è¯·æ±‚&lt;a class="headerlink" href="#252" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ æœ‰ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„è®¤è¯ç³»ç»Ÿ, è¯·æ±‚è®¤è¯éœ€è¦ç”¨åˆ°è¿™ä¸ªç³»ç»Ÿ.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;http_auth_request_module&lt;/code&gt;åœ¨è¯·æ±‚æ‰§è¡Œå‰, è®©è¯·æ±‚åˆ°å¯¹åº”çš„è®¤è¯æœåŠ¡æ¥è¿›è¡ŒéªŒè¯:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;private&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="err"&gt;auth_request&lt;/span&gt; &lt;span class="err"&gt;/auth&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;auth_request_set&lt;/span&gt; &lt;span class="err"&gt;$auth_status&lt;/span&gt; &lt;span class="err"&gt;$upstream_status&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nt"&gt;location&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;auth&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="err"&gt;internal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;proxy_pass&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;auth-server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;proxy_pass_request_body&lt;/span&gt; &lt;span class="err"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;proxy_set_header&lt;/span&gt; &lt;span class="err"&gt;Content-length&lt;/span&gt; &lt;span class="err"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;proxy_set_header&lt;/span&gt; &lt;span class="err"&gt;X-Original-URI&lt;/span&gt; &lt;span class="err"&gt;$request_uri&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;auth_request&lt;/code&gt;æŒ‡ä»¤ä½¿ç”¨å¿…é¡»æ˜¯local internal locationçš„URIå‚æ•°. &lt;code&gt;auth_request_set&lt;/code&gt;æŒ‡ä»¤å…è®¸ä½ ä»è®¤è¯è‡ªè¯·æ±‚æ¥è®¾ç½®å˜é‡.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;http_auth_request_module&lt;/code&gt;å…è®¸å¯¹æ¯ä¸ªNGINXå¤„ç†çš„è¯·æ±‚åšè®¤è¯. åœ¨å“åº”åŸæœåŠ¡ä¹‹å‰, ä¼šç”Ÿæˆä¸€ä¸ªå­è¯·æ±‚, æ¥å†³å®šè¿™ä¸ªè¯·æ±‚æ˜¯å¦å¯ä»¥è®¿é—®å®ƒè¯·æ±‚çš„èµ„æº.  æ•´ä¸ªè¯·æ±‚ä¼šè¢«ä»£ç†åˆ°è‡ªè¯·æ±‚å— location. é€šè¿‡è‡ªè¯·æ±‚çš„çŠ¶æ€ç æ¥ç¡®å®šæ˜¯å¦å¯ä»¥è®¿é—®èµ„æº. å¦‚æœè‡ªè¯·æ±‚è¿”å›200 HTTP çŠ¶æ€ç , è®¤è¯æˆåŠŸ, è¯·æ±‚è¢«å“åº”. å¦‚æœè¿”å›HTTP 401æˆ–403, ä¼šå‘åŸè¯·æ±‚è¿”å›åŒæ ·çš„ä»£ç .&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„è®¤è¯æœåŠ¡ä¸éœ€è¦è¯·æ±‚body, ä½ å¯ä»¥æŠ›å¼ƒæ‰è¯·æ±‚body, é€šè¿‡&lt;code&gt;proxy_pass_reqeust_body&lt;/code&gt;æŒ‡ä»¤(å¦‚ä¸Šä¾‹å­æ‰€ç¤º). è¿™ä¼šå‡å°‘è¯·æ±‚sizeå’Œæ—¶é—´. å› ä¸ºè¯·æ±‚ä½“è¢«å¿½ç•¥, &lt;code&gt;Content-Length&lt;/code&gt; headerå¯ä»¥è®¾ä¸ºç©ºå­—ç¬¦ä¸². å¦‚æœä½ çš„è®¤è¯æœåŠ¡éœ€è¦ç›´åˆ°åŸè¯·æ±‚çš„URI, ä½ å¯ä»¥æŠŠè¿™ä¸ªå€¼æ”¾åˆ°ä¸€ä¸ªè‡ªå®šä¹‰çš„header, è®©ä½ çš„è®¤è¯æœåŠ¡æ¥æ£€æŸ¥å’ŒéªŒè¯. å¦‚æœä»å­è¯·æ±‚åˆ°è®¤è¯æœåŠ¡è§ä½ æƒ³è¦ä¿ç•™ä¸€äº›ä¸œè¥¿, ä½ å¯ä»¥ä½¿ç”¨  &lt;code&gt;auth_request_set&lt;/code&gt;æŒ‡ä»¤æ¥åˆ›å»ºç›¸åº”æ•°æ®ä¹‹å¤–æ–°çš„å˜é‡.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:13:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-5-http-subrequest-auth.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-åŠ å¯†</title><link>https://www.EWhisper.cn/nginx-handbook-2-3-encrypt.html</link><description>&lt;h2 id="23"&gt;2.3 åŠ å¯†&lt;a class="headerlink" href="#23" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="230"&gt;2.3.0 ä»‹ç»&lt;a class="headerlink" href="#230" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç½‘ç»œæ˜¯ä¸ªå¾ˆå¯æ€•çš„åœ°æ–¹, ä½†ä¸éœ€å¤ªè¿‡æ‹…å¿ƒ. åŠ å¯†ä¼ è¾“ä¿¡æ¯å˜å¾—è¶Šæ¥è¶Šå®¹æ˜“, è¶Šæ¥è¶Šå”¾æ‰‹å¯å¾—, å› ä¸ºç­¾åè¯ä¹¦åœ¨&lt;em&gt;Let's Encrypt&lt;/em&gt;å’Œ&lt;em&gt;Amazon Web Services&lt;/em&gt;å˜å¾—è¶Šæ¥è¶Šä¾¿å®œ. äºŒè€…éƒ½æä¾›æœ‰é™ç”¨é€”çš„å…è´¹è¯ä¹¦. åœ¨æœ¬ç« , æˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•ç¡®ä¿NGINXå’Œå®¢æˆ·ç«¯ä¹‹é—´, ä»¥åŠNGINXå’Œupstreamä¹‹é—´çš„ä¿¡æ¯å®‰å…¨.&lt;/p&gt;
&lt;h3 id="231"&gt;2.3.1 å®¢æˆ·ç«¯åŠ å¯†&lt;a class="headerlink" href="#231" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;éœ€è¦åŠ å¯†NGINXå’Œå®¢æˆ·ç«¯ä¹‹é—´çš„æµé‡.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨SSLæ¨¡å—, å¦‚&lt;code&gt;ngx_http_ssl_module&lt;/code&gt;æˆ–&lt;code&gt;ngx_stream_ssl_module&lt;/code&gt;æ¥åŠ å¯†æµé‡.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;All&lt;/span&gt; &lt;span class="err"&gt;directives&lt;/span&gt; &lt;span class="err"&gt;used&lt;/span&gt; &lt;span class="err"&gt;below&lt;/span&gt; &lt;span class="err"&gt;are&lt;/span&gt; &lt;span class="err"&gt;also&lt;/span&gt; &lt;span class="err"&gt;valid&lt;/span&gt; &lt;span class="err"&gt;in&lt;/span&gt; &lt;span class="err"&gt;stream&lt;/span&gt;
    &lt;span class="err"&gt;server&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="err"&gt;listen&lt;/span&gt; &lt;span class="err"&gt;8083&lt;/span&gt; &lt;span class="err"&gt;ssl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;ssl_protocols&lt;/span&gt;       &lt;span class="err"&gt;TLSv1.2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;åè®®&lt;/span&gt;
        &lt;span class="err"&gt;ssl_ciphers&lt;/span&gt;         &lt;span class="n"&gt;AES128-SHA&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;AES256-SHA&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;å¯†ç å¥—ä»¶&lt;/span&gt;
        &lt;span class="err"&gt;ssl_certificate&lt;/span&gt;     &lt;span class="err"&gt;/usr/local/nginx/conf/cert.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;è¯ä¹¦&lt;/span&gt;
        &lt;span class="err"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="err"&gt;/usr/local/nginx/conf/cert.key&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;å¯†é’¥&lt;/span&gt;
        &lt;span class="err"&gt;ssl_session_cache&lt;/span&gt;   &lt;span class="n"&gt;shared&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;SSL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;sslä¼šè¯ç¼“å­˜&lt;/span&gt;
        &lt;span class="err"&gt;ssl_session_timeout&lt;/span&gt; &lt;span class="err"&gt;10m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;sslä¼šè¯è¶…æ—¶&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨SSL(Secure Socket Layer)åè®®, 1 - 3ç‰ˆéƒ½è¢«è®¤ä¸ºä¸å®‰å…¨&lt;/li&gt;
&lt;li&gt;TLSæ˜¯é»˜è®¤çš„åè®®(Transport Layer Security), TLSè¿˜ç®—å®‰å…¨.&lt;/li&gt;
&lt;li&gt;å½“ä½¿ç”¨ç­¾åè¯ä¹¦, ä½ éœ€è¦æŠŠè¯ä¹¦å’Œè¯ä¹¦è®¤è¯é“¾è¿æ¥åˆ°ä¸€å—. ä½ çš„è¯ä¹¦åº”è¯¥åœ¨è¯ä¹¦é“¾æ–‡ä»¶çš„ä¸Šæ–¹.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSLä¼šè¯ç¼“å­˜, ç¼“å­˜åæ— éœ€negotiate ç‰ˆæœ¬å’Œå¯†ç å¥—ä»¶, å¯ä»¥æå‡æ€§èƒ½.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="232-upstream"&gt;2.3.2 Upstream åŠ å¯†&lt;a class="headerlink" href="#232-upstream" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†åˆè§„, æˆ–è€…ä½ çš„upstreamåœ¨ä½ çš„å®‰å…¨ç½‘ç»œä¹‹å¤–, ä½ éœ€è¦åŠ å¯†NGINXå’Œupstreamä¹‹é—´çš„æµé‡.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨HTTP ä»£ç†æ¨¡å—çš„SSLæŒ‡ä»¤&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;proxy_pass&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;upstream&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;proxy_ssl_verify&lt;/span&gt; &lt;span class="err"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;proxy_ssl_verify_depth&lt;/span&gt; &lt;span class="err"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;proxy_ssl_protocols&lt;/span&gt; &lt;span class="err"&gt;TLSv1.2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é…ç½®çš„æŒ‡ä»¤ç¡®ä¿NGINXåœ¨upsteamä¸ŠéªŒè¯è¯ä¹¦å’Œè¯ä¹¦é“¾2å±‚è®¤è¯æ·±åº¦æ˜¯åˆæ³•çš„. é»˜è®¤NGINX&lt;strong&gt;ä¸éªŒè¯&lt;/strong&gt;upstreamè¯ä¹¦, æ¥æ”¶æ‰€æœ‰TLSç‰ˆæœ¬.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¦åŠ å¯†upstream æµé‡, ä½ è‡³å°‘åº”è¯¥å¼€å¯éªŒè¯.&lt;/li&gt;
&lt;li&gt;å…¶ä»–å¯ç”¨æŒ‡ä»¤, å¦‚&lt;code&gt;proxy_ssl_certificate&lt;/code&gt;å’Œ&lt;code&gt;proxy_ssl_certificate_key&lt;/code&gt;, å…è®¸ä½ é”å®šupstreamåŠ å¯†ä»¥å¢å¼ºå®‰å…¨æ€§.&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:08:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-3-encrypt.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-HTTP åŸºæœ¬è®¤è¯</title><link>https://www.EWhisper.cn/nginx-handbook-2-4-http-basic-auth.html</link><description>&lt;h2 id="24-http"&gt;2.4 HTTPåŸºæœ¬è®¤è¯&lt;a class="headerlink" href="#24-http" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="240"&gt;2.4.0 ä»‹ç»&lt;a class="headerlink" href="#240" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åŸºæœ¬è®¤è¯æ˜¯ä¸€ä¸ªä¿æŠ¤ç§æœ‰å†…å®¹çš„ç®€å•æ–¹æ³•. è¿™ä¸ªè®¤è¯æ–¹æ³•å¯ä»¥å¾ˆå®¹æ˜“çš„ç”¨äºéšè—&lt;strong&gt;å¼€å‘ç½‘ç«™&lt;/strong&gt;æˆ–è€…éšè—ç‰¹æƒçš„å†…å®¹. æ¨èåœ¨éœ€è¦åŸºæœ¬è®¤è¯çš„locationsæˆ–serversä¸Šè®¾ç½®ä¸€ä¸ªé€Ÿç‡é™åˆ¶æ¥ç»„ç»‡æš´åŠ›æ”»å‡». ä¹Ÿæ¨èå¦‚ä¸Šç« é‚£æ ·, ä½¿ç”¨HTTPS, å› ä¸ºæ¯ä¸ªè®¤è¯è¯·æ±‚, ç”¨æˆ·åå’Œå¯†ç æ˜¯é€šè¿‡base64åŠ å¯†å­—ç¬¦ä¸², ä½œä¸ºä¸€ä¸ªheaderå‘é€åˆ°serverçš„. å¦‚æœä½¿ç”¨HTTP, æ„å‘³ç€ç”¨æˆ·åå’Œå¯†ç éƒ½å¯ä»¥è¢«æ•è·.&lt;/p&gt;
&lt;h3 id="241-user-file"&gt;2.4.1 åˆ›å»ºä¸€ä¸ªUser File&lt;a class="headerlink" href="#241-user-file" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ä¸€ä¸ªHTTPåŸºæœ¬è®¤è¯ç”¨æˆ·æ–‡ä»¶æ¥å­˜å‚¨ç”¨æˆ·åå’Œå¯†ç .&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;ç”Ÿæˆä¸€ä¸ªä¸‹åˆ—æ ¼å¼çš„æ–‡ä»¶, å¯†ç å¯ä»¥é€šè¿‡ä»¥ä¸‹å…è®¸çš„æ ¼å¼æ¥åŠ å¯†æˆ–å“ˆå¸Œ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# comment
name1:password1
name2:password2:comment
name3:password3
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;NGINXå¯ä»¥ç†è§£å‡ ç§æ ¼å¼çš„å¯†ç , å…¶ä¸­ä¸€ç§åŠ å¯†æ˜¯ç”¨Cå‡½æ•°&lt;code&gt;crypt()&lt;/code&gt;. è¯¥å‡½æ•°è¢«æš´éœ²ç»™&lt;code&gt;openssl passwd&lt;/code&gt;å‘½ä»¤, å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼ç”ŸæˆåŠ å¯†å­—ç¬¦ä¸²:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ openssl passwd MyPassword1234&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¼šè¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸², NGINXå¯ä»¥ç”¨åœ¨å¯†ç æ–‡ä»¶é‡Œ.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ç”¨Apacheçš„&lt;code&gt;htpasswd&lt;/code&gt;æ¥ç”Ÿæˆå¯†ç . &lt;code&gt;htpasswd&lt;/code&gt;å’Œ&lt;code&gt;openssl&lt;/code&gt; éƒ½ä¼šç”Ÿæˆ&lt;em&gt;apr1&lt;/em&gt; ç®—æ³•çš„å¯†ç . å¯†ç ä¹Ÿå¯ä»¥ç”¨LDAPå’ŒDovecotä½¿ç”¨çš„åŠ ç›sha-1 æ ¼å¼. NGINXæ”¯æŒæ›´å¤šçš„æ ¼å¼å’Œå“ˆå¸Œç®—æ³•, ä½†æ˜¯, å¤§éƒ¨åˆ†éƒ½è¢«è®¤ä¸ºä¸å®‰å…¨, å› ä¸ºå¯ä»¥è¢«è½»æ˜“ç ´è§£.&lt;/p&gt;
&lt;h3 id="242"&gt;2.4.2 ä½¿ç”¨åŸºæœ¬è®¤è¯&lt;a class="headerlink" href="#242" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦ç”¨åŸºæœ¬è®¤è¯æ¥ä¿æŠ¤NGINX locationæˆ–server.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;location / {
    auth_basic          &amp;quot;Private site&amp;quot;;
    auth_basic_user_file conf.d/passwd;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;auth_basic&lt;/code&gt;æŒ‡ä»¤å¯ä»¥ç”¨äºHTTP, server, æˆ–locationå—é‡Œ. å½“æœªè®¤è¯ç”¨æˆ·è®¿é—®, &lt;code&gt;auth_basic&lt;/code&gt;æŒ‡ä»¤ä¼šæŠŠå­—ç¬¦ä¸²æ˜¾ç¤ºåˆ°åŸºæœ¬è®¤è¯çš„å¼¹å‡ºçª—å£.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;åŸºæœ¬è®¤è¯é€šè¿‡serverè¿”å›ä¸€ä¸ªå¸¦æœ‰&lt;code&gt;WWW-Authenticate&lt;/code&gt;çš„401æœªè®¤è¯HTTP code. è¯¥headerä¼šæœ‰ä¸€ä¸ªå€¼&lt;code&gt;Basic realm="your string."&lt;/code&gt;. è¯¥å“åº”ä¼šå¯¼è‡´æµè§ˆå™¨æç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç . è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ä¼šé€šè¿‡base64åŠ å¯†, é€šè¿‡ä¸€ä¸ªå«åš&lt;code&gt;Authorization&lt;/code&gt;çš„è¯·æ±‚å¤´å‘é€. Serverä¼šæœºå¯†å¯†ç , å¹¶æ ¹æ®&lt;code&gt;auth_basic_user_file&lt;/code&gt;æä¾›çš„å¯†ç åšéªŒè¯. å› ä¸ºç”¨æˆ·åå¯†ç ä»…ä»…æ˜¯é€šè¿‡base64åŠ å¯†. æ‰€ä»¥æ¨èä½¿ç”¨HTTPSä¼ è¾“.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:08:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-4-http-basic-auth.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-é™åˆ¶ä½¿ç”¨</title><link>https://www.EWhisper.cn/nginx-handbook-2-2-limit-usage.html</link><description>&lt;h2 id="22"&gt;2.2 é™åˆ¶ä½¿ç”¨&lt;a class="headerlink" href="#22" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="220"&gt;2.2.0 ä»‹ç»&lt;a class="headerlink" href="#220" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¯¥ç« èŠ‚å…³æ³¨äº: é™åˆ¶ä½¿ç”¨å’Œæ»¥ç”¨, è¿æ¥æ•°, è¯·æ±‚æœåŠ¡é€Ÿç‡, å¸¦å®½ä½¿ç”¨é‡. åŒºåˆ†å¼€è¿æ¥å’Œè¯·æ±‚æ˜¯å¾ˆé‡è¦çš„: è¿æ¥(TCPè¿æ¥)æ˜¯ç½‘ç»œå±‚, åœ¨è¿™å±‚ä¸Š, è¯·æ±‚è¢«æ‰§è¡Œ, å› æ­¤ä¸¤è€…å¹¶ä¸ä¸€æ ·.&lt;/p&gt;
&lt;p&gt;åœ¨HTTP/1å’ŒHTTP/1.1ä¸­, ä¸€ä¸ªè¿æ¥è¯·æ±‚åªèƒ½ä½¿ç”¨ä¸€æ¬¡; è€Œåœ¨HTTP/2ä¸­, å¤šä¸ªè¯·æ±‚å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªTCPè¿æ¥.&lt;/p&gt;
&lt;h3 id="221"&gt;2.2.1 é™åˆ¶è¿æ¥&lt;a class="headerlink" href="#221" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦åŸºäºé¢„å®šä¹‰çš„keyæ¥é™åˆ¶è¿æ¥æ•°, æ¯”å¦‚keyæ˜¯å®¢æˆ·ç«¯IPåœ°å€.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜åŒºåŸŸæ¥å­˜æ”¾è¿æ¥metrics, å¹¶ä½¿ç”¨&lt;code&gt;limit_conn&lt;/code&gt; æŒ‡ä»¤æ¥é™åˆ¶æ‰“å¼€çš„è¿æ¥æ•°:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kn"&gt;limit_conn_zone&lt;/span&gt; &lt;span class="nv"&gt;$binary_remote_addr&lt;/span&gt; &lt;span class="s"&gt;zone=limitbyaddr:10m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kn"&gt;limit_conn_status&lt;/span&gt; &lt;span class="mi"&gt;429&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kn"&gt;...&lt;/span&gt;
  &lt;span class="s"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;
      &lt;span class="s"&gt;limit_conn&lt;/span&gt; &lt;span class="s"&gt;limitbyaddr&lt;/span&gt; &lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;
  &lt;span class="err"&gt;}&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="âœ”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt;  &lt;/p&gt;
&lt;p&gt;429: Too Many Requests&lt;/p&gt;
&lt;p&gt;é¢„å®šä¹‰çš„keyç”¨çš„æ˜¯:äºŒè¿›åˆ¶æ ¼å¼çš„å®¢æˆ·ç«¯IPåœ°å€.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨IPåœ°å€, å°±åƒä¸Šä¸ªä¾‹å­ä¸­é‚£æ ·, å¦‚æœå¾ˆå¤šç”¨æˆ·éƒ½åœ¨åŒä¸€ä¸ªç½‘ç»œæ¥è‡ªåŒä¸€ä¸ªIPå¯èƒ½å¾ˆå±é™©, æ¯”å¦‚ç”¨çš„æ˜¯ä¸€ä¸ªNAT(ç½‘ç»œåœ°å€è½¬æ¢). æ•´ä¸ªç»„éƒ½ä¼šè¢«é™åˆ¶. &lt;code&gt;limit_conn_zone&lt;/code&gt;æŒ‡ä»¤åªé€‚ç”¨äºHTTPå—. å¯ä»¥åˆ©ç”¨åœ¨HTTPå—ä¸­çš„NGINXçš„ä»»ä½•å˜é‡æ¥æ„å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ¥é™åˆ¶. åˆ©ç”¨å˜é‡å¯ä»¥åœ¨åº”ç”¨çº§åˆ«è¯†åˆ«å…·ä½“çš„ç”¨æˆ·, åƒæ˜¯session cookie, åŸºäºä½¿ç”¨æ¡ˆä¾‹å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¹²å‡€çš„è§£å†³æ–¹æ¡ˆ. &lt;code&gt;limit_conn&lt;/code&gt;å’Œ&lt;code&gt;limit_conn_status&lt;/code&gt;æŒ‡ä»¤åœ¨HTTP, server, å’Œlocationå—ä¸­éƒ½èƒ½ç”¨. &lt;code&gt;limit_conn_status&lt;/code&gt;é»˜è®¤æ˜¯503, æœåŠ¡ä¸å¯ç”¨. 429ä¼šæ›´åˆé€‚, å› ä¸º500ç•Œåˆ«çš„æœåŠ¡ä¸å¯ç”¨æ„å‘³ç€é”™è¯¯.&lt;/p&gt;
&lt;h3 id="222"&gt;2.2.2 é™åˆ¶é€Ÿç‡&lt;a class="headerlink" href="#222" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä½ éœ€è¦åŸºäºé¢„å®šä¹‰çš„keyæ¥é™åˆ¶è¯·æ±‚é€Ÿç‡, æ¯”å¦‚å®¢æˆ·ç«¯IPåœ°å€.&lt;/p&gt;
&lt;h4&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åˆ©ç”¨é€Ÿç‡é™åˆ¶æ¨¡å—æ¥é™åˆ¶:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;http&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kn"&gt;limit_req_zone&lt;/span&gt; &lt;span class="nv"&gt;$binary_remote_addr&lt;/span&gt; &lt;span class="s"&gt;zone=limitbyaddr:10m&lt;/span&gt; &lt;span class="s"&gt;rate=1r/s&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kn"&gt;limit_req_status&lt;/span&gt; &lt;span class="mi"&gt;429&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kn"&gt;...&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kn"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;
      &lt;span class="s"&gt;limit_req&lt;/span&gt; &lt;span class="s"&gt;zone=limitbyaddr&lt;/span&gt; &lt;span class="s"&gt;burst=10&lt;/span&gt; &lt;span class="s"&gt;nodelay&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;...&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªzoneç”¨å…³é”®å­—å‚æ•°è®¾ç½®äº†é€Ÿç‡. &lt;code&gt;limit_req&lt;/code&gt;æŒ‡ä»¤æœ‰2ä¸ªå…³é”®å­—å‚æ•°: &lt;code&gt;zone&lt;/code&gt;å’Œ&lt;code&gt;burst&lt;/code&gt;. å½“ç»™å®šzoneçš„è¯·æ±‚é€Ÿç‡è¶…å‡ºäº†, è¯·æ±‚ä¼šå»¶è¿Ÿç›´åˆ°è¾¾åˆ°ä»–ä»¬çš„æœ€å¤§burst size, è¿™ä¸ªç”±&lt;code&gt;burst&lt;/code&gt;å…³é”®å­—å‚æ•°æä¾›. é»˜è®¤&lt;code&gt;burst&lt;/code&gt;å…³é”®å­—å‚æ•°ä¸º0. &lt;code&gt;limit_req&lt;/code&gt;ä¹Ÿæœ‰ç¬¬ä¸‰ä¸ªå¯é€‰çš„å‚æ•°, &lt;code&gt;nodelay&lt;/code&gt;. è¿™ä¸ªå‚æ•°å…è®¸å®¢æˆ·ç«¯åœ¨è¢«é™åˆ¶ä¹‹å‰ä½¿ç”¨å®ƒçš„&lt;code&gt;burst&lt;/code&gt;è€Œä¸ç”¨å»¶è¿Ÿ. &lt;code&gt;limit_req_status&lt;/code&gt; å’Œ&lt;code&gt;limit_req&lt;/code&gt; å¯ä»¥ç”¨åœ¨HTTP, server, å’Œlocation. &lt;code&gt;limit_req_zone&lt;/code&gt;åªé€‚ç”¨äºHTTPå—.&lt;/p&gt;
&lt;h4&gt;è®¨è®º&lt;/h4&gt;
&lt;p&gt;é€Ÿç‡é™åˆ¶æ¨¡å—åœ¨ç»„ç»‡æ¶æ„è¯·æ±‚, åŒæ—¶ä»ä¸ºæ¯ä¸ªäººæä¾›ä¸€å®šè´¨é‡çš„æœåŠ¡æ—¶éå¸¸æœ‰ç”¨. æœ‰å¾ˆå¤šé™åˆ¶è¯·æ±‚é€Ÿç‡çš„åŸå› , å…¶ä¸­ä¹‹ä¸€å°±æ˜¯å®‰å…¨. ä½ å¯ä»¥é€šè¿‡åœ¨ä½ çš„ç™»é™†é¡µé¢è®¾ç½®éå¸¸ä¸¥æ ¼çš„é™åˆ¶æ¥é˜²æ­¢æ¶æ„æ”»å‡». ä½ å¯ä»¥é€šè¿‡è®¾ç½®å¯¹æ‰€æœ‰è¯·æ±‚çš„å®Œå–„çš„é™åˆ¶æ¥é˜»æ­¢æ¶æ„ç”¨æˆ·å°è¯•å¯¹ä½ çš„åº”ç”¨ä½¿ç”¨æ‹’ç»å¼æœåŠ¡æ”»å‡»æˆ–æµªè´¹èµ„æºçš„è®¡åˆ’. é€Ÿç‡é™åˆ¶æ¨¡å—çš„é…ç½®å’Œ2.2.1ä¸­çš„å¾ˆç±»ä¼¼. é€Ÿç‡å¯ä»¥è¢«è®¾ç½®ä¸ºæ¯ç§’å¤šå°‘è¯·æ±‚æˆ–æ¯åˆ†é’Ÿå¤šå°‘è¯·æ±‚. å½“è¶…è¿‡é™åˆ¶, ä¼šè®°å½•äº‹ä»¶æ—¥å¿—. ä¾‹å­ä¸­æ²¡æœ‰æåˆ°è¿™ä¸ªæŒ‡ä»¤&lt;code&gt;limit_req_log_level&lt;/code&gt; , é»˜è®¤æ˜¯&lt;code&gt;error&lt;/code&gt;, ä½†æ˜¯ä¹Ÿå¯ä»¥è®¾ç½®ä¸º&lt;code&gt;info&lt;/code&gt; , &lt;code&gt;notice&lt;/code&gt;, &lt;code&gt;warn&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="223"&gt;2.2.3 é™åˆ¶å¸¦å®½&lt;a class="headerlink" href="#223" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾…è¡¥å……&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:05:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-2-limit-usage.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX å®æˆ˜æ‰‹å†Œ-å®‰å…¨-è®¿é—®æ§åˆ¶</title><link>https://www.EWhisper.cn/nginx-handbook-2-1-control-access.html</link><description>&lt;h2 id="211"&gt;2.1.1 ä»‹ç»&lt;a class="headerlink" href="#211" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ§åˆ¶ä½ çš„webåº”ç”¨æˆ–ä½ çš„webåº”ç”¨çš„å­ç½‘çš„è®¿é—®æ˜¯å¾ˆé‡è¦çš„ä¸šåŠ¡. åœ¨NGINXä¸­, è®¿é—®æ§åˆ¶æœ‰å¤šç§å½¢å¼, åƒæ˜¯åœ¨ç½‘ç»œå±‚æ‹’ç»æ‰, åŸºäºè®¤è¯ç­–ç•¥çš„å…è®¸, æˆ– HTTPæŒ‡ä»¤æµè§ˆå™¨å¦‚ä½•å“åº”. æœ¬ç« æˆ‘ä»¬å°†è®¨è®ºåŸºäºç½‘ç»œå±æ€§, è®¤è¯å’Œå¦‚ä½•é˜²æ­¢&lt;em&gt;è·¨åŸŸèµ„æºå…±äº«(Cross-Origin Resource Sharing(CORS))&lt;/em&gt;çš„è®¿é—®æ§åˆ¶.&lt;/p&gt;
&lt;h2 id="212-ip"&gt;2.1.2 åŸºäºIPåœ°å€çš„è®¿é—®&lt;a class="headerlink" href="#212-ip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_1"&gt;é—®é¢˜&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä½ éœ€è¦åŸºäºå®¢æˆ·ç«¯çš„IPåœ°å€çš„æ§åˆ¶.&lt;/p&gt;
&lt;h3 id="_2"&gt;è§£å†³æ–¹æ¡ˆ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨HTTPè®¿é—®æ¨¡å—æ¥æ§åˆ¶å¯¹å—ä¿æŠ¤èµ„æºçš„è®¿é—®:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="err"&gt;deny&lt;/span&gt; &lt;span class="err"&gt;10.0.0.1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;allow&lt;/span&gt; &lt;span class="err"&gt;10.0.0.0/20&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;allow&lt;/span&gt; &lt;span class="err"&gt;2001:0&lt;/span&gt;&lt;span class="n"&gt;db8&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;:/&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;deny&lt;/span&gt; &lt;span class="err"&gt;all&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨HTTP, server, å’Œlocationä¸Šä¸‹æ–‡ä¸­, &lt;code&gt;allow&lt;/code&gt;å’Œ&lt;code&gt;deny&lt;/code&gt;æŒ‡ä»¤æä¾›å¯¹ç»™å‡ºçš„client, IP, CIDR range, Unix socket, æˆ–all å…³é”®å­—çš„å…è®¸å’Œç¦æ­¢è®¿é—®çš„èƒ½åŠ›. è§„åˆ™è¢«ä¾æ¬¡æ£€æŸ¥, ç›´åˆ°å‘ç°åŒ¹é…çš„åœ°å€.&lt;/p&gt;
&lt;h3 id="_3"&gt;è®¨è®º&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¿æŠ¤åœ¨äº’è”ç½‘ä¸Šçš„æœ‰ä»·å€¼çš„èµ„æºå’ŒæœåŠ¡å¿…é¡»åœ¨å¯¹åº”çš„å±‚ä¸Šåš. NGINXæä¾›å¯¹å…¶ä¸­ä¸€äº›å±‚çš„èƒ½åŠ›. &lt;code&gt;deny&lt;/code&gt; æŒ‡ä»¤ç»„ç»‡è®¿é—®ç»™å®šçš„ä¸Šä¸‹æ–‡, &lt;code&gt;allow&lt;/code&gt;æŒ‡ä»¤å¯ä»¥ç”¨äºé™åˆ¶è®¿é—®. ä½ å¯ä»¥ä½¿ç”¨IPåœ°å€, IPv4æˆ–IPv6, CIDR block ranges, å…³é”®å­—&lt;code&gt;all&lt;/code&gt;, å’ŒUnix socket. é€šå¸¸è¦ä¿æŠ¤æŸä¸ªèµ„æº, åº”è¯¥å…è®¸ç‰¹å®šåŒºåŸŸçš„å†…ç½‘IPåœ°å€, å¹¶æ‹’ç»æ‰€æœ‰.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 20:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-handbook-2-1-control-access.html</guid><category>nginx</category><category>å®‰å…¨</category><category>è¯‘æ–‡</category><category>æœ€ä½³å®è·µ</category></item><item><title>NGINX é…ç½®SSL æ”¯æŒ</title><link>https://www.EWhisper.cn/nginx-conf-add-ssl-support.html</link><description>&lt;p&gt;&lt;img alt="nginx+ssl" src="./images/nginx-ssl-certificate.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.EWhisper.cn/tencentyun-apply-ssl-certificate.html"&gt;ä¸Šç¯‡æ–‡ç« &lt;/a&gt;ä¸­, æˆ‘ä»¬å·²ç»ç”³è¯·å¥½äº†SSLè¯ä¹¦. é‚£ä¹ˆç°åœ¨, æˆ‘ä»¬å°±è¦é…ç½®å…¨ç«™SSLäº†! &lt;img align="absmiddle" alt="ğŸ’ª" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4aa.png" title=":muscle:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ’ª" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4aa.png" title=":muscle:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ’ª" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4aa.png" title=":muscle:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡çš„å·¥ä½œä¸»è¦æ˜¯NGINXçš„é…ç½®, åŒæ—¶ä¼šæœ‰ä¸€äº›æˆ‘çš„åšå®¢æœ¬èº«çš„é…ç½®.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åšå®¢æœ¬èº«é…ç½®æ›´æ”¹åŒ…æ‹¬: (è¿™ç¯‡æ–‡ç« å°±å…ˆä¸ç»†è¯´äº†)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘é¡µå†…é“¾æ¥å…¨éƒ¨ä»httpæ”¹ä¸ºhttps(å…¶å®é…ç½®ä¸‹SITEURL, å·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆå¥½) å¹¶é‡æ–°å‘å¸ƒ. (ç‰¹åˆ«è¦æ³¨æ„, å¦‚æœæœ‰çš„ç«™å†…css, jsç­‰æ²¡æœ‰ç”¨httpså°±å°´å°¬äº†, ä¼šè¢«å„ç±»æµè§ˆå™¨æ‹¦æˆªæ‰, å¹¶æç¤º"ä¸å®‰å…¨çš„è„šæœ¬")&lt;/li&gt;
&lt;li&gt;ç½‘ç«™æœ‰ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹å·¥å…·(å¦‚æ‹¨æµ‹), æŠŠç½‘ç«™çš„åœ°å€æ”¹ä¸º httpså¼€å¤´çš„.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="nginx"&gt;NGINXé…ç½®&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆ, åˆ›å»ºå¹¶ä¸Šä¼ å‡†å¤‡å¥½çš„è¯ä¹¦æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•: (crtå’Œkeyæ–‡ä»¶)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo mkdir -p /etc/pki/nginx/
&lt;span class="c1"&gt;# é€šè¿‡sftpä¸Šä¼ åˆ°è¯¥ç›®å½•&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿›è¡Œnginx.conf çš„sslé…ç½®, æœ¬æ¬¡ä¸»è¦æ¶‰åŠåˆ°serverå—çš„é…ç½®æ›´æ”¹, å¦‚ä¸‹: (å…·ä½“çš„æŒ‡ä»¤ä½œç”¨è§æ³¨é‡Š)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;listen&lt;/span&gt;       &lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;server_name&lt;/span&gt;  &lt;span class="s"&gt;www.ewhisper.cn&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;301&lt;/span&gt; &lt;span class="s"&gt;https://&lt;/span&gt;&lt;span class="nv"&gt;$host$request_uri&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kn"&gt;listen&lt;/span&gt;       &lt;span class="mi"&gt;443&lt;/span&gt; &lt;span class="s"&gt;ssl&lt;/span&gt; &lt;span class="s"&gt;http2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;server_name&lt;/span&gt;  &lt;span class="s"&gt;www.ewhisper.cn&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kn"&gt;root&lt;/span&gt;         &lt;span class="s"&gt;/usr/share/nginx/html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# é™æ€åšå®¢çš„å­˜æ”¾ä½ç½®&lt;/span&gt;

        &lt;span class="kn"&gt;ssl_certificate&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/etc/pki/nginx/1_www.ewhisper.cn_bundle.crt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# è¯ä¹¦è·¯å¾„&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/etc/pki/nginx/2_www.ewhisper.cn.key&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# è¯ä¹¦å¯†é’¥è·¯å¾„&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_session_cache&lt;/span&gt; &lt;span class="s"&gt;shared:SSL:50m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# ssl session cacheåˆ†é…50mç©ºé—´, ç¼“å­˜ssl session&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_session_timeout&lt;/span&gt;  &lt;span class="s"&gt;1d&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# ssl session è¶…æ—¶æ—¶é—´ä¸º1å¤©&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_session_tickets&lt;/span&gt; &lt;span class="no"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# ssl session ticket æœºåˆ¶, éƒ¨åˆ†ç‰ˆæœ¬æœ‰bug, è§†æƒ…å†µå¼€å¯.&lt;/span&gt;

        &lt;span class="kn"&gt;ssl_protocols&lt;/span&gt; &lt;span class="s"&gt;TLSv1.2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# ssl åè®®ç‰ˆæœ¬&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_ciphers&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# ssl ciphers&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# å€¾å‘äºä½¿ç”¨serverç«¯çš„ciphers&lt;/span&gt;

        &lt;span class="c1"&gt;# HSTS 6 months&lt;/span&gt;
        &lt;span class="kn"&gt;add_header&lt;/span&gt; &lt;span class="s"&gt;Strict-Transport-Security&lt;/span&gt; &lt;span class="s"&gt;max-age=15768000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  
        &lt;span class="c1"&gt;# æ·»åŠ ä¸ªhttp header, å‘Šè¯‰æµè§ˆå™¨ç›´æ¥è½¬åˆ°https, æ­¤åŠŸèƒ½æœ‰é£é™©, æ…é‡é€‰æ‹©. &lt;/span&gt;
        &lt;span class="c1"&gt;# (æ¯”å¦‚ä½ çš„è¯ä¹¦è¿‡æœŸå¿˜è®°ç»­äº†, é‚£ä¹ˆç”¨æˆ·æƒ³è½¬åˆ°httpéƒ½æ²¡åŠæ³•)&lt;/span&gt;

        &lt;span class="kn"&gt;ssl_stapling&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# å¯ç”¨ssl OCSP staplingåŠŸèƒ½, æœåŠ¡ç«¯ä¸»åŠ¨æŸ¥è¯¢OCSPç»“æœ, æé«˜TLSæ•ˆç‡&lt;/span&gt;
        &lt;span class="kn"&gt;ssl_stapling_verify&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# å¼€å¯OCSP stapling éªŒè¯&lt;/span&gt;

        &lt;span class="c1"&gt;# Load configuration files for the default server block.&lt;/span&gt;
        &lt;span class="kn"&gt;include&lt;/span&gt; &lt;span class="s"&gt;/etc/nginx/default.d/*.conf&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;# æˆ‘çš„åšå®¢çš„locationåœ¨è¿™é‡Œé…ç½®&lt;/span&gt;

        &lt;span class="c1"&gt;#location / {&lt;/span&gt;
        &lt;span class="c1"&gt;#}&lt;/span&gt;

        &lt;span class="kn"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt; &lt;span class="s"&gt;/404.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;/40x.html&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="kn"&gt;error_page&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt; &lt;span class="mi"&gt;502&lt;/span&gt; &lt;span class="mi"&gt;503&lt;/span&gt; &lt;span class="mi"&gt;504&lt;/span&gt; &lt;span class="s"&gt;/50X.html&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kn"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;/50X.html&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šçš„æŸäº›æŒ‡ä»¤, æˆ‘å…ˆå¤§æ¦‚ä»‹ç»ä¸‹, åç»­ä¼šæœ‰æ–‡ç« åšè¯¦ç»†ä»‹ç».&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;return 301 https://$host$request_uri;&lt;/code&gt;   HTTPçš„å…¨éƒ¨æ°¸ä¹…é‡å®šå‘åˆ°httpså¯¹åº”çš„URL&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/share/nginx/html&lt;/code&gt;  é™æ€åšå®¢çš„å­˜æ”¾ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssl_session_timeout  1d;&lt;/code&gt;  ssl session è¶…æ—¶æ—¶é—´ä¸º1å¤©&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssl_session_tickets off;  #&lt;/code&gt;  ssl session ticket æœºåˆ¶, éƒ¨åˆ†ç‰ˆæœ¬æœ‰bug, è§†æƒ…å†µå¼€å¯.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssl_prefer_server_ciphers on;&lt;/code&gt;  å€¾å‘äºä½¿ç”¨serverç«¯çš„ciphers&lt;/li&gt;
&lt;li&gt;HSTSåŠŸèƒ½:ã€€æ·»åŠ ä¸ªHTTP header, å‘Šè¯‰æµè§ˆå™¨ç›´æ¥è½¬åˆ°https, &lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;æ­¤åŠŸèƒ½æœ‰é£é™©, æ…é‡é€‰æ‹©.  (æ¯”å¦‚ä½ çš„è¯ä¹¦è¿‡æœŸå¿˜è®°ç»­äº†, é‚£ä¹ˆç”¨æˆ·æƒ³è½¬åˆ°HTTPéƒ½æ²¡åŠæ³•)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssl_stapling on;&lt;/code&gt;  å¯ç”¨ssl OCSP staplingåŠŸèƒ½, æœåŠ¡ç«¯ä¸»åŠ¨æŸ¥è¯¢OCSPç»“æœ, æé«˜TLSæ¡æ‰‹æ•ˆç‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/nginx/default.d/*.conf;&lt;/code&gt;  æˆ‘çš„åšå®¢&lt;code&gt;location&lt;/code&gt;é…ç½®&lt;br&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å°æŠ€å·§:&lt;/p&gt;
&lt;p&gt;ç«ç‹æµè§ˆå™¨èƒŒåçš„åŸºé‡‘ä¼š, å¼€æºäº†ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å·¥å…·: &lt;a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/"&gt;ssl-config-generator&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸Šè¾¹, ç‚¹ä¸€ç‚¹å°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ¨èçš„SSLé…ç½®äº†.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ssl-config-generator" src="./images/ssl-config-generator.png"&gt;&lt;/p&gt;
&lt;p&gt;æä¸€ç‚¹, å¦‚ä¸Šå›¾æ‰€ç¤º, ç¬¬äºŒåˆ—ä¸€å®šè¦æ ¹æ®ä½ çš„å®¢æˆ·æµè§ˆå™¨æˆ–å®¢æˆ·ç«¯çš„ç‰ˆæœ¬ä½¿ç”¨æƒ…å†µæ…é‡é€‰æ‹©. &lt;/p&gt;
&lt;p&gt;æ¯”å¦‚, ç”¨æˆ·è¿˜åœ¨ç”¨Windows XP, IE6, Java 6, é‚£ä¹ˆåªèƒ½é€‰æ‹©Old.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¥ä¸‹æ¥, å°±æ˜¯è¦é‡å¯nginxæ¥ç”Ÿæ•ˆäº†. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo nginx -t  &lt;span class="c1"&gt;# æµ‹è¯•é…ç½®, æ²¡é—®é¢˜å†é‡å¯&lt;/span&gt;
$ sudo systemctl reload nginx.service
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡å¯å, æµ‹è¯•å‘ç° css jséƒ½æ²¡æœ‰ç”Ÿæ•ˆ. &lt;img align="absmiddle" alt="ğŸ˜±" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f631.png" title=":scream:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜±" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f631.png" title=":scream:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜±" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f631.png" title=":scream:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¹‹å‰nginxåˆšé…ç½®è¿‡ç¼“å­˜. å½“æ—¶è„‘å­æ²¡è½¬è¿‡æ¥, æ²¡æœ‰ç¬¬ä¸€æ—¶é—´æ„è¯†åˆ°å¯èƒ½æ˜¯æµè§ˆå™¨ç¼“å­˜çš„é—®é¢˜. å°±ç›´æ¥nginx stop å†startäº†ä¸‹. ç»“æœæ‚²å‚¬çš„æˆ‘çš„ç½‘ç«™å¯ç”¨æ€§å°±ä»100%è·Œåˆ°99.81%äº†.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç½‘ç«™å¯ç”¨æ€§" src="images/index.png"&gt;&lt;/p&gt;
&lt;p&gt;åæ¥ç»ˆäºæ„è¯†åˆ°å¯èƒ½æ˜¯æµè§ˆå™¨ç¼“å­˜çš„é—®é¢˜äº†, æ¸…ç†äº†ç¼“å­˜å, å†å¯åŠ¨, ç»ˆäºé¡µé¢æ˜¾ç¤ºæ­£å¸¸, å›¾æ ‡ä¹Ÿä»"ä¸å®‰å…¨"å˜æˆäº†å°é”.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/ssl-ewhisper.png"&gt;&lt;/p&gt;
&lt;p&gt;æµ‹è¯•è®¿é—®http://www.ewhisper.cn, ä¹Ÿä¼šè¢«å¼ºåˆ¶è½¬åˆ° https://www.ewhisper.cn. å®Œç¾!&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;h2 id="ssl"&gt;æˆ‘çš„SSLè¯„çº§&lt;a class="headerlink" href="#ssl" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å†æ¥ä»‹ç»ä¸ªå¥½ä¸œè¥¿ - &lt;a href="https://www.ssllabs.com/ssltest/analyze.html"&gt;SSL Labs&lt;/a&gt;. å¯ä»¥å¯¹ä½ çš„ç½‘ç«™è¿›è¡ŒSSL å®‰å…¨è¯„çº§. &lt;/p&gt;
&lt;p&gt;ç‚¹å‡»é“¾æ¥, è¾“å…¥ç½‘ç«™åœ°å€, å–æ¯èŒ¶, ç»“æœå°±å‡ºæ¥äº† - &lt;strong&gt;A+&lt;/strong&gt; å“ˆå“ˆå“ˆå“ˆå“ˆ!!!!&lt;/p&gt;
&lt;p&gt;&lt;img alt="æˆ‘çš„ç½‘ç«™SSLè¯„åˆ†" src="./images/ewhisper-ssl-report.png"&gt;&lt;/p&gt;
&lt;p&gt;æœ€åé™„ä¸Šæˆ‘çš„&lt;a href="https://www.EWhisper.cn/assets/SSL_Server_Test_ www.ewhisper.cn.pdf"&gt;å®Œæ•´æŠ¥å‘Š&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 19 Jun 2019 19:26:20 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/nginx-conf-add-ssl-support.html</guid><category>nginx</category><category>ssl</category><category>æ‹¨æµ‹</category><category>å¯ç”¨æ€§</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 29.æŸä¿é™©å…¬å¸æ ¸å¿ƒç³»ç»Ÿå˜æ…¢é—®é¢˜åˆ†æ</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-29-analysis-a-app-slowdown-problem.html</link><description>&lt;h2 id="dynatrace-20151106"&gt;dynaTraceæœ€æ–°æ¡ˆä¾‹åˆ†äº«-20151106åº”ç”¨æ€§èƒ½ä¸‹é™é—®é¢˜&lt;a class="headerlink" href="#dynatrace-20151106" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå±•ç°&lt;strong&gt;dynaTraceå¼ºå¤§åŠŸèƒ½&lt;/strong&gt;çš„å…¸å‹æ¡ˆä¾‹ï¼å…·ä½“çš„æ•…éšœåŠç›¸å…³çš„åˆ†æå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id="_1"&gt;å…·ä½“æ•…éšœåˆ†ææµç¨‹&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;1.Â å…ˆç”¨&lt;strong&gt;äº‹åŠ¡æµæ‹“æ‰‘å›¾&lt;/strong&gt;æŸ¥çœ‹å…·ä½“æ…¢çš„ç‚¹åœ¨å“ªï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥å¤§ä½“çœ‹å‡ºæœ‰2æ®µä¸ºçº¢è‰²å‘Šè­¦ï¼Œä¸€ä¸ªæ˜¯weblogicå±‚é¢ï¼Œä¸€ä¸ªæ˜¯æ•°æ®åº“å±‚é¢ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ä¹Ÿè§‚å¯Ÿåˆ°æ•°æ®åº“å“åº”æ—¶é—´è¿‡é•¿ï¼Œè¾¾åˆ°äº†8sä¹‹ä¹…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-49-15.png"&gt;&lt;/p&gt;
&lt;p&gt;2.Â åˆ†æç¬¬ä¸€ä¸ªçº¢è‰²å‘Šè­¦ï¼Œä¸»è¦æ˜¯&lt;strong&gt;äº‹åŠ¡å¤±è´¥ç‡è¿‡é«˜&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-50-04.png"&gt;&lt;/p&gt;
&lt;p&gt;3.Â æŸ¥çœ‹ç›¸å…³çš„æŠ¥é”™ï¼Œå¯ä»¥çœ‹åˆ°ä¸»è¦æ˜¯&lt;strong&gt;æ•°æ®åº“ç›¸å…³&lt;/strong&gt;å¼‚å¸¸æŠ¥é”™ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä»æ—¥å¿—ä¸­åˆæ­¥åˆ¤æ–­ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¿æ¥æ± æ»¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;DBAå·²ç»åœ¨æ€SQLäº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-50-34.png"&gt;&lt;/p&gt;
&lt;p&gt;4.Â å†æŸ¥çœ‹ç¬¬äºŒä¸ªçº¢è‰²å‘Šè­¦ï¼Œå¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®åº“å“åº”æ—¶é—´è¿‡é•¿ï¼Œä¸º8så·¦å³&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿æ¥æ± æ»¡&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-51-02.png"&gt;&lt;/p&gt;
&lt;p&gt;5.Â æŸ¥çœ‹æ•°æ®åº“çš„ç›¸å…³æƒ…å†µï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ± å¤§å°160ï¼Œä½¿ç”¨é‡100%&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tpl2a&lt;/strong&gt;å¹³å‡è·å–æ—¶é—´12sã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-51-35.png"&gt;&lt;/p&gt;
&lt;p&gt;6.Â æ‰¾å‡ºç›¸å…³çš„&lt;strong&gt;æ‰§è¡Œæ¬¡æ•°å¤šã€å¹³å‡æ‰§è¡Œæ—¶é—´é•¿&lt;/strong&gt;çš„sqlè¯­å¥ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-51-55.png"&gt;&lt;/p&gt;
&lt;p&gt;7.Â ä»å¯¹åº”sqlç›´æ¥è½¬åˆ°ç›¸å…³è¯·æ±‚ï¼Œä»ä¸‹å›¾å¯ä»¥çœ‹å‡ºäº‹åŠ¡æ¥è‡ªå®¢æˆ·ç«¯ï¼š&lt;strong&gt;10.94.21.23&lt;/strong&gt;ã€‚ï¼ˆè¿™ä¸ªæ˜¯&lt;strong&gt;å¾®ä¿¡å¹³å°ç³»ç»Ÿ&lt;/strong&gt;çš„ä¸€ä¸ªserveråœ°å€ï¼‰ã€‚è”ç³»å¾®ä¿¡åï¼ŒçŸ¥é“å¯¹æ–¹åœ¨&lt;strong&gt;ææ´»åŠ¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-52-18.png"&gt;&lt;/p&gt;
&lt;p&gt;8.Â æœ€åä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹è¿™æ¡webè¯·æ±‚çš„ç›¸å…³ä¿¡æ¯ï¼šï¼ˆååé‡ä¸­&lt;strong&gt;ç»¿è‰²é¢ç§¯&lt;/strong&gt;æ˜¯æ ¹æ®å†å²æ•°æ®è®¡ç®—å‡ºæ¥çš„æ­£å¸¸ååé‡åŒºé—´èŒƒå›´ï¼Œå¯ä»¥çœ‹åˆ°å› ä¸ºåšæ´»åŠ¨ï¼Œ&lt;strong&gt;ååé‡é£™æ¶¨ï¼Œè¿œè¿œå¤§äºå†å²åŸºçº¿&lt;/strong&gt;ã€‚è€Œä¸”å¯ä»¥çœ‹å‡ºæ´»åŠ¨é«˜å³°æœŸæ˜¯åœ¨8:00-9:00ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-52-38.png"&gt;&lt;/p&gt;
&lt;p&gt;9.Â å†çœ‹ä¸€ä¸‹&lt;strong&gt;æœ€æ…¢å“åº”æ—¶é—´çš„åŸºçº¿&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;strong&gt;åŸºçº¿æ—¶é—´å‡†ç¡®åˆ°2669msï¼Œä½†æ˜¯æ´»åŠ¨é«˜å³°æœŸå“åº”æ—¶é—´é«˜å‡ºäº†è¿‘50sï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-52-57.png"&gt;&lt;/p&gt;
&lt;h3 id="_2"&gt;æ€»ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ç”±äºå…¶ä»–ç³»ç»Ÿè°ƒç”¨è€Œå¯¼è‡´æ ¸å¿ƒç³»ç»Ÿå‡ºé—®é¢˜çš„æ¡ˆä¾‹ï¼Œåœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­dynaTraceçš„å¼ºå¤§åŠŸèƒ½å±•ç°çš„æ·‹æ¼“å°½è‡´ã€‚&lt;br&gt;
ä»dynaTraceç»™å‡ºçš„ä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹å‡ºä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š&lt;br&gt;
-Â å¾ˆæ˜æ˜¾å¾®ä¿¡é¡¹ç›®ç»„å¯¹æ´»åŠ¨çš„å‡†å¤‡ä¸è¶³ï¼›&lt;br&gt;
-Â å„ä¸ªç³»ç»Ÿä¹‹é—´çš„ç›¸äº’è°ƒç”¨æ‹“æ‰‘å…³ç³»æ˜¯éå¸¸é‡è¦çš„ã€‚ï¼ˆè¿™æ¬¡dynaTraceçš„agentåªå®‰è£…åœ¨æ ¸å¿ƒçš„ä¸€å°æœºå™¨ä¸Šï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥å‘ç°å¾®ä¿¡çš„è°ƒç”¨ï¼›å¦‚æœå¾®ä¿¡ç³»ç»Ÿæœ‰å®‰è£…ï¼Œé‚£ä¹ˆæˆ‘çŒœæµ‹ç›´æ¥ä»æ‹“æ‰‘å›¾å°±èƒ½ä¸€çœ¼çœ‹å‡ºé—®é¢˜æ ¹æºï¼‰&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 19:15:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-29-analysis-a-app-slowdown-problem.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 28.Dynatrace 6.5å‡çº§å’Œè¿ç§»å‘å¯¼</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-28-update-migrate-guide.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å‰è¨€&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#1"&gt;1.å‡†å¤‡è¿ç§»ï¼ˆè§ç¬¬ä¸€ç« ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2"&gt;2.å®‰è£…æ–°ç»„ä»¶å¹¶è¿ç§»æ•°æ®ï¼ˆè§ç¬¬äºŒç« ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3agents"&gt;3.å¦‚æœéœ€è¦ï¼Œåˆ™å‡çº§Agentsï¼ˆè§ç¬¬ä¸‰ç« ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4"&gt;4.æœ€ç»ˆæ£€æŸ¥å’ŒéªŒè¯ï¼ˆè§ç¬¬å››ç« ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#1_1"&gt;1 å‡†å¤‡å‡çº§&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ­¥éª¤ä¸€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;æ­¥éª¤äºŒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æ­¥éª¤ä¸‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;æ­¥éª¤å››&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ­¥éª¤äº”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;æ­¥éª¤å…­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;æ­¥éª¤ä¸ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;æ­¥éª¤å…«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;æ­¥éª¤ä¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;æ­¥éª¤å&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;æ­¥éª¤åä¸€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;æ­¥éª¤åäºŒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;æ­¥éª¤åä¸‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_15"&gt;æ­¥éª¤åå››&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_16"&gt;æ­¥éª¤åäº”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_17"&gt;æ­¥éª¤åå…­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#11-agent"&gt;1.1 Agentå…¼å®¹çŸ©é˜µ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-servercollectors"&gt;2 å‡çº§Serverï¼ŒCollectorsï¼Œå®¢æˆ·ç«¯&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#21-servercollectors"&gt;2.1 å®‰è£…æ–°çš„Serverï¼ŒCollectorså’Œå®¢æˆ·ç«¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#22"&gt;2.2 å…³é—­è€ç‰ˆæœ¬&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#23"&gt;2.3 åˆ›å»ºå¤‡ä»½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#24-servercollector"&gt;2.4 æœåŠ¡è¿ç§»ï¼ˆServerï¼ŒCollectorå’Œå†…å­˜åˆ†ææœåŠ¡å™¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#25"&gt;2.5 è‡ªåŠ¨å¯åŠ¨æ–°æœåŠ¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#26"&gt;2.6 å®¢æˆ·ç«¯è¿ç§»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#27-server"&gt;2.7 å¯åŠ¨æ–°çš„Serverç»„ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#28"&gt;2.8 å¯åŠ¨æ–°çš„å®¢æˆ·ç«¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#29-serverlicenses"&gt;2.9 æ¿€æ´»æ–°çš„Serverçš„licenses&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#210-server-sizing"&gt;2.10 é€‰æ‹©Server Sizing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#211-dynatrace"&gt;2.11 å‡çº§æ–°çš„Dynatrace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#212"&gt;2.12 è¿æ¥æ€§èƒ½ä»“åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#213-session"&gt;2.13 é…ç½®Sessionå­˜å‚¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#214-collectors"&gt;2.14 å¯åŠ¨æ–°çš„Collectors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#215"&gt;2.15 æ‰‹åŠ¨æ–‡ä»¶è¿ç§»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-agents"&gt;3 å‡çº§Agents&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#31-agents"&gt;3.1 å‡çº§Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#32-agents"&gt;3.2 é‡å¯Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#33-bootstrap-agents"&gt;3.3 å‡çº§Bootstrap Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#34-zos-agents"&gt;3.4 å‡çº§zOS Agents&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#4_1"&gt;4 æœ€ç»ˆæ£€æŸ¥&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#41"&gt;4.1 æ£€æŸ¥é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#42-dynatrace-server"&gt;4.2 ç¡®è®¤æ–°çš„Dynatrace Serverçš„è¿è¡Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#5"&gt;5 æ•…éšœæ’é™¤&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#51"&gt;5.1 å¸¸è§é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#52-dynatrace"&gt;5.2 Dynatrace æ”¯æŒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;2017å¹´2æœˆ22æ—¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ¡£ç”¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡çº§ç°æœ‰çš„Dynatraceç¯å¢ƒåˆ°6.5ï¼Œæˆ–è€…&lt;/li&gt;
&lt;li&gt;è¿ç§»å·²å­˜åœ¨çš„Dynatrace 6.5 Server åˆ°å¦ä¸€å°ä¸»æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="1"&gt;1.å‡†å¤‡è¿ç§»ï¼ˆè§ç¬¬ä¸€ç« ï¼‰&lt;a class="headerlink" href="#1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¼€å§‹ä¹‹å‰ï¼Œæ£€æŸ¥å½“å‰å·²å®‰è£…ï¼ˆServers, Collectors, Agents)æ¥åˆ¤å®šå½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œä»¥åŠæ˜¯å¦æœ‰ç»„ä»¶å¯ä»¥ç›´æ¥å‡çº§åˆ°æ–°ç‰ˆæœ¬ã€‚å¦å¤–ï¼Œæ£€æŸ¥&lt;strong&gt;ç³»ç»Ÿéœ€æ±‚&lt;/strong&gt;æ¥ç¡®å®šä½ æ­£åœ¨ä½¿ç”¨å—æ”¯æŒçš„ç¡¬ä»¶å’Œå¹³å°ã€‚&lt;/p&gt;
&lt;h3 id="2"&gt;2.å®‰è£…æ–°ç»„ä»¶å¹¶è¿ç§»æ•°æ®ï¼ˆè§ç¬¬äºŒç« ï¼‰&lt;a class="headerlink" href="#2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®‰è£…æ–°ç»„ä»¶ï¼Œ&lt;strong&gt;ä½¿ç”¨æœ€æ–°&lt;/strong&gt;çš„&lt;a href="https://files.dynatrace.com/downloads/migrationtool/dynatrace-migration.jar"&gt;&lt;em&gt;dynatrace-migration Tool&lt;/em&gt;&lt;/a&gt;æ¥è½¬ç§»å½“å‰æ•°æ®å’Œé…ç½®è‡³æ–°ç‰ˆæœ¬ã€‚å½“ä½ ä»å‘½ä»¤è¡Œè¿è¡Œè¯¥å·¥å…·æ—¶è¯·æ£€æŸ¥æ‰€æ˜¾ç¤ºçš„ç‰ˆæœ¬ï¼&lt;/p&gt;
&lt;p&gt;ä½ éœ€è¦å‡ æ­¥æ‰‹å·¥çš„æ“ä½œå’Œç¼–è¾‘æ¥å®Œæˆè¿ç§»ã€‚&lt;/p&gt;
&lt;h3 id="3agents"&gt;3.å¦‚æœéœ€è¦ï¼Œåˆ™å‡çº§Agentsï¼ˆè§ç¬¬ä¸‰ç« ï¼‰&lt;a class="headerlink" href="#3agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¤§å¤šæ•°Agentsä¼šè‡ªåŠ¨å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨å‡çº§Agentsã€‚&lt;/p&gt;
&lt;h3 id="4"&gt;4.æœ€ç»ˆæ£€æŸ¥å’ŒéªŒè¯ï¼ˆè§ç¬¬å››ç« ï¼‰&lt;a class="headerlink" href="#4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯åŠ¨Dynatrace AppMonå¹¶ä¸”æŸ¥çœ‹æ˜¯å¦Agentsåœ¨å‘é€æ•°æ®ï¼ŒPurePathså’Œä»ªè¡¨æ¿æ­£ç¡®åœ°æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;h2 id="1_1"&gt;1 å‡†å¤‡å‡çº§&lt;a class="headerlink" href="#1_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ£€æŸ¥ä¸‹åˆ—checklistæ¥ç¡®ä¿ä½ å·²ç»åšå¥½è¿ç§»å‡†å¤‡ã€‚&lt;/p&gt;
&lt;h3 id="_2"&gt;æ­¥éª¤ä¸€&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ£€æŸ¥å·²å®‰è£…çš„Dynatraceçš„ç‰ˆæœ¬å’Œå®‰è£…ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äº5.6ä¹‹å‰ç‰ˆæœ¬ï¼Œä½ &lt;strong&gt;å¿…é¡»&lt;/strong&gt;å…ˆè¿ç§»åˆ°6.2ã€‚å…·ä½“è§&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Upgrade+and+Migration+Guide"&gt;ã€Š6.2å‡çº§å‘å¯¼ã€‹&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºPOCï¼Œéœ€è¦&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Installation+Overview"&gt;é‡æ–°å®‰è£…&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºç‹¬ç«‹è½¯ä»¶ä¾›åº”å•†ç‰ˆæœ¬ï¼ˆPTC Windchill),è¯·ä½¿ç”¨ä¾›åº”å•†æä¾›çš„æ–‡æ¡£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_3"&gt;æ­¥éª¤äºŒ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå·²å®‰è£…çš„Collectors, Agents, Clientsçš„è¯¦ç»†æ¸…å•ï¼Œæ¥å®¡å®šå‡çº§çš„èŒƒå›´ã€‚&lt;/p&gt;
&lt;h3 id="_4"&gt;æ­¥éª¤ä¸‰&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;éªŒè¯&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/System+Requirements"&gt;&lt;strong&gt;ç³»ç»Ÿéœ€æ±‚&lt;/strong&gt;&lt;/a&gt;æ˜¯å¦ç¬¦åˆã€‚ä¸€äº›è¦ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Servers&lt;strong&gt;åªå…¼å®¹&lt;/strong&gt;ä¸»ç‰ˆæœ¬ç›¸åŒï¼Œå°ç‰ˆæœ¬ç›¸åŒæˆ–æ›´å°çš„Collectorsã€‚ä¾‹å¦‚ï¼šä¸€å°6.1çš„Serverå¯ä»¥å’Œä¸€å°6.0çš„Collectoræ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯&lt;strong&gt;ä¸å…¼å®¹&lt;/strong&gt;5.6æˆ–6.2çš„Collector.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨è&lt;/strong&gt;ä½¿ç”¨&lt;strong&gt;64ä½å®¢æˆ·ç«¯&lt;/strong&gt;è€Œä¸æ˜¯32ä½çš„ã€‚æŸ¥çœ‹&lt;em&gt;å®¢æˆ·ç«¯é…ç½®&lt;/em&gt;å’Œ&lt;em&gt;Webstart å®¢æˆ·ç«¯&lt;/em&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;è¿ç§»&lt;strong&gt;ä¸æ”¯æŒ&lt;/strong&gt;Serverå†…ç½®çš„Collectorã€‚&lt;strong&gt;å‡çº§ä¹‹å‰&lt;/strong&gt;éœ€è¦ä¸ºå½“å‰ç‰ˆæœ¬å®‰è£…ä¸€ä¸ªstand-aloneæœåŠ¡ã€‚ç‰¹åˆ«æ˜¯å¯¹äºâ€œå¼€å‘å›¢é˜Ÿç‰ˆæœ¬â€ã€‚&lt;/li&gt;
&lt;li&gt;å†…ç½®æ€§èƒ½ä»“åº“&lt;strong&gt;ä¸æ”¯æŒ&lt;/strong&gt;è¿ç§»ã€‚é¦–å…ˆè¦åˆ‡æ¢åˆ°å¤–ç½®çš„ï¼Œå…·ä½“æè¿°è§&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Performance+Warehouse+Administration"&gt;é“¾æ¥&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå¯ç”¨LDAPè®¤è¯ï¼Œç”¨æˆ·éœ€è¦è‡³å°‘ç§°ä¸ºä¸€ä¸ªDynatrace LDAPç»„çš„ä¸€å‘˜ç”¨ä»¥ç™»é™†ã€‚æŸ¥çœ‹&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/User+Permissions+and+Authentication#UserPermissionsandAuthentication-LDAP"&gt;LDAP&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ çš„Dynatraceå’ŒDC RUMæ•´åˆï¼ŒDC RUMå¿…é¡»&amp;gt;= 12.0.2.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_5"&gt;æ­¥éª¤å››&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯¹äºæ¸…å•ä¸Šçš„æ¯ä¸ªAgentï¼Œæ£€æŸ¥&lt;em&gt;Agentå’Œæ–°çš„Serverså’ŒCollectorsçš„å…¼å®¹æ€§&lt;/em&gt;ï¼ˆè§1.1ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¨èå‡çº§æ‰€æœ‰Agentsï¼Œå¯èƒ½éœ€è¦æ–°åŠŸèƒ½æ¥æ­£å¸¸å·¥ä½œä»¥åŠè·å–æ”¯æŒï¼Œæ¥ç¡®ä¿å·²çŸ¥é—®é¢˜å·²ç»è¢«ä¿®å¤ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è®¡åˆ’å¥½åˆ©ç”¨å·²å®‰æ’å¥½çš„å‡çº§çª—å£æ¥è¿›è¡Œå‡çº§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿…é¡»èƒ½å¤Ÿé‡å¯Agent ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„é¡¹&lt;/strong&gt;ï¼š.NETå’ŒIIS Agentï¼š ç”±äºlicenseçš„å˜åŠ¨ï¼Œæ‰€æœ‰.NETå’ŒIIS Agentsåœ¨6.3ä¹‹å‰çš„éœ€è¦å‡çº§åé‡å¯åª6.3æˆ–æ›´é«˜ã€‚&lt;/p&gt;
&lt;h3 id="_6"&gt;æ­¥éª¤äº”&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„é¡¹&lt;/strong&gt;ï¼šå¦‚æœå½“å‰çš„Dynatrace serverå®‰è£…è·¯å¾„&lt;DT_HOME_OLD&gt;,å­˜åœ¨ä¸€ä¸ª&lt;em&gt;server/instances&lt;/em&gt;æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”ä½ æ­£åœ¨ä½¿ç”¨è¿™äº›&lt;strong&gt;Serverå®ä¾‹&lt;/strong&gt;ï¼šè¯¥åŠŸèƒ½ï¼Œdtserverå’Œdtfrontendserverçš„&lt;em&gt;- instance&lt;/em&gt;å‚æ•°6.3ç‰ˆæœ¬å·²å¼ƒç”¨ã€‚Collectorå®ä¾‹ä»ç„¶æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;a href="https://community.dynatrace.com/community/display/APMDOC/Migrating+Server+Instances+to+Separate+Installations"&gt;è¯¥å‘å¯¼&lt;/a&gt;ï¼Œ&lt;strong&gt;å‡çº§å‰&lt;/strong&gt;æ£€æŸ¥è¿ç§»Server å®ä¾‹åˆ°ç‹¬ç«‹å®‰è£…çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;h3 id="_7"&gt;æ­¥éª¤å…­&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„é¡¹&lt;/strong&gt;ï¼š6.2ä¸»æœºç›‘æ§å‘ç”Ÿé‡å¤§æ›´æ”¹ã€‚è¢«ç›‘æ§çš„ä¸»æœºä¸åœ¨è¢«æ˜ å°„åˆ°ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªå«åš&lt;strong&gt;åŸºç¡€ç»“æ„&lt;/strong&gt;çš„éƒ¨åˆ†è¿›è¡Œå…¨å±€ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¿™äº›æ›´æ”¹ï¼Œè¿ç§»å‰è¢«æ”¶é›†çš„å†å²ä¸»æœºç›‘æ§æ•°æ®å’Œç›¸å…³çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶åœ¨ä½¿ç”¨Dynatrace 6.2æˆ–ä»¥åç‰ˆæœ¬å°†ä¸å†å¯ä»¥è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä½¿å†å²ä¸»æœºç›‘æ§æ•°æ®è¿ç§»åä»å¯ä»¥è®¿é—®ï¼Œå…·ä½“æ­¥éª¤å‚è€ƒ&lt;a href="https://community.dynatrace.com/community/display/DTKB/After+Upgrade+to+6.2%2C+Host+Metrics+From+Times+Before+the+Upgrade+Are+No+Longer+Shown"&gt;&lt;em&gt;å‡çº§6.2åï¼Œæ¥è‡ªå‡çº§å‰çš„ä¸»æœºåº¦é‡æ— æ³•æ˜¾ç¤º&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;æ­¥éª¤ä¸ƒ&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ£€æŸ¥Server sizing,å¦‚æœä»ä»¥ä¸‹ç‰ˆæœ¬å‡çº§ï¼Œè¯·äº‹å…ˆ&lt;a href="https://support.dynatrace.com/"&gt;è”ç³»support&lt;/a&gt; ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;5.6ï¼Œå¹¶ä¸”&lt;em&gt;dtserver.ini&lt;/em&gt;ä¸­&lt;em&gt;-Xmx&lt;/em&gt;å€¼å¤§äº14GB&lt;/li&gt;
&lt;li&gt;â‰¥ 6.0ï¼Œå¹¶ä¸”åœ¨&lt;em&gt;dtserver.ini&lt;/em&gt;æˆ–&lt;em&gt;dfrontendserver.ini&lt;/em&gt;, &lt;em&gt;memory&lt;/em&gt;çš„å€¼ä¸å—æ”¯æŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_9"&gt;æ­¥éª¤å…«&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦è¯æ˜æ˜¯å¦æ­£åœ¨ä½¿ç”¨&lt;strong&gt;è¿ç»­äº‹åŠ¡å­˜å‚¨&lt;/strong&gt;ã€‚åœ¨å®¢æˆ·ç«¯æ£€æŸ¥ï¼š&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;å­˜å‚¨&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;æ­¥éª¤ä¹&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¦è¯æ˜æ˜¯å¦æœ‰å®‰è£…é¢å¤–æ’ä»¶ï¼šå®¢æˆ·ç«¯ï¼š&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;æ’ä»¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¦è¯æ˜è‡ªç›‘æ§Profileé‡Œçš„æ‰€æœ‰çš„&lt;strong&gt;åœæœºæ—¶é—´å’Œäº‹ä»¶è§„åˆ™&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_11"&gt;æ­¥éª¤å&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ä»“åº“æ•°æ®åº“&lt;/strong&gt;å’Œ&lt;strong&gt;Sessionå­˜å‚¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥çœ‹å½“å‰é…ç½®ï¼šä»å®¢æˆ·ç«¯ï¼š&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server&lt;/strong&gt;ï¼Œé€‰æ‹©å·¦ä¾§é¢æ¿ï¼š&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½ä»“åº“&lt;/strong&gt;æ‰€æœ‰ç»†èŠ‚åŒ…æ‹¬å¯†ç ï¼Œå› ä¸º6.1ç‰ˆæœ¬å¯†ç å­˜å‚¨æ”¹å˜è¿‡ï¼Œä½ éœ€è¦è¿ç§»åé‡æ–°è¾“å…¥å¯†ç ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¯¥å‘å¯¼å·¥ä½œçš„ä¸€éƒ¨åˆ†ï¼Œè¦å‡†å¤‡å¥½åˆ›å»ºå¤‡ä»½ã€‚&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/System+Requirements#SystemRequirements-pwh"&gt;ç³»ç»Ÿéœ€æ±‚&lt;/a&gt;ï¼Œæ˜¯å¦ä½ çš„SQL DB serverå—æ”¯æŒï¼š&lt;ul&gt;
&lt;li&gt;å¦‚æœä¸æ”¯æŒï¼Œ&lt;strong&gt;å‡çº§å‰&lt;/strong&gt;åˆ›å»º&lt;strong&gt;å¤‡ä»½&lt;/strong&gt;å¹¶åˆ‡æ¢åˆ°å—æ”¯æŒçš„DB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¡®è®¤é…ç½®&lt;strong&gt;æ€§èƒ½ä»“åº“&lt;/strong&gt;çš„ç”¨æˆ·æœ‰æƒé™åˆ›å»ºå’Œç§»é™¤DBMSçš„è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_12"&gt;æ­¥éª¤åä¸€&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;ä¼šè¯å­˜å‚¨&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœå½“å‰å­˜å‚¨ä½ç½®ä½äºå®‰è£…è·¯å¾„ï¼ˆé»˜è®¤çš„ï¼‰ï¼Œå¹¶ä¸”ä½ æƒ³ä¿ç•™sessionsï¼Œä¸ºäº†ç®€åŒ–sessionå­˜å‚¨å’Œæœªæ¥çš„è¿ç§»ï¼Œåœ¨è¿ç§»ä¹‹å‰å¯ä»¥&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Move+Session+Storage+to+a+new+Disk+or+Directory"&gt;ç§»åŠ¨sessionå­˜å‚¨&lt;/a&gt;åˆ°ä¸€ä¸ª2è€…ï¼ˆè€çš„å’Œæ–°çš„å®‰è£…ï¼‰éƒ½å¯ä»¥è®¿é—®åˆ°çš„ç‹¬ç«‹ç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;ç¡®å®šå½“å‰é…ç½®ï¼šä»å®¢æˆ·ç«¯ï¼š &lt;strong&gt;Settings -&amp;gt; Dynatrace Server&lt;/strong&gt;ï¼Œé€‰æ‹©å·¦é¢ç‰ˆçš„&lt;strong&gt;å­˜å‚¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå¤‡ä»½ä½œä¸ºå‡çº§çš„ä¸€éƒ¨åˆ†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_13"&gt;æ­¥éª¤åäºŒ&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç¡®å®šä¸‹åˆ—æœåŠ¡çš„å¯†ç ï¼šEmailã€LDAPã€Proxyã€DC-RUMã€Gomezã€æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;h3 id="_14"&gt;æ­¥éª¤åä¸‰&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨ç°æœ‰çš„&lt;strong&gt;Dynatrace Server&lt;/strong&gt;ä¸Šåœç”¨licenseã€‚å¯èƒ½éœ€è¦å‡çº§ç°æœ‰çš„licenseã€‚æŸ¥çœ‹&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/License+Upgrade"&gt;licenseå‡çº§æ–‡æ¡£&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä½¿ç”¨z/OS Agentsï¼Œï¼ˆä»6.3å¼€å§‹ï¼‰ä¸åœ¨éœ€è¦é¢å¤–çš„licenseï¼ˆLMS - licenseç®¡ç†ç³»ç»Ÿï¼‰ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä½ éœ€è¦è”ç³»&lt;strong&gt;license ç®¡ç†&lt;/strong&gt;å»è·å¾—éœ€è¦æ•°é‡çš„CICSå’ŒIMS agents å’Œ/æˆ– Java AgentsåŠ åˆ°ä½ çš„Server licenseä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_15"&gt;æ­¥éª¤åå››&lt;a class="headerlink" href="#_15" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¿ç§»ä¹‹å‰ï¼Œéœ€è¦ä¸‹è½½è½¯ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹åº”åº”ç”¨å¹³å°å’Œæ“ä½œç³»ç»Ÿçš„&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;å®‰è£…åŒ…&lt;/a&gt; (å®Œæ•´åŒ… æˆ– Server/Collector/Client/Memory Analysis Server æˆ–åªæ˜¯Agent)&lt;/li&gt;
&lt;li&gt;æœ€æ–°ç‰ˆçš„&lt;strong&gt; dynatrace-migration Tool&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€æ–°çš„å‡çº§åŒ…&lt;/strong&gt;ï¼Œå¦‚æœå¯ç”¨ï¼Œå¯ä»¥åœ¨6.5&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;ä¸‹è½½åˆ—è¡¨&lt;/a&gt;çš„é¡¶éƒ¨æ‰¾åˆ°ã€‚å…·ä½“å‚è€ƒ&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Install+an+Update"&gt;å®‰è£…å‡çº§åŒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœServeræ— æ³•è”ç½‘ï¼Œä»&lt;a href="http://eservices.dynatrace.com/"&gt;eServices&lt;/a&gt;ä¸‹è½½&lt;strong&gt;å‡çº§åçš„licenses&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_16"&gt;æ­¥éª¤åäº”&lt;a class="headerlink" href="#_16" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœæ­£åœ¨ä½¿ç”¨è‡ªå®šä¹‰keysç”¨äºDynatrace TLSé€šä¿¡ï¼ˆæ›¿æ¢&lt;em&gt;keystore.jks&lt;/em&gt;)æˆ–WebUIï¼ˆé€šè¿‡&lt;em&gt;com.dynatrace.diagnostics.web.ssl.&lt;/em&gt;* å‚æ•°ï¼‰ï¼Œå‡†å¤‡å¥½ç§é’¥å’Œç›¸åº”çš„è¯ä¹¦é“¾ä»¥é˜²è¿™äº›éœ€è¦è¢«é‡æ–°å¯¼å…¥ã€‚å‚è§&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Custom+Certificate+Requirements"&gt;è‡ªå®šä¹‰è¯ä¹¦éœ€æ±‚&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="_17"&gt;æ­¥éª¤åå…­&lt;a class="headerlink" href="#_17" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥å¹¶è¡Œè¿è¡Œä¸åŒç‰ˆæœ¬çš„Dynatraceæ¥æµ‹è¯•å‡çº§æƒ…å†µï¼Œå¦å¤–è¦äº†è§£&lt;strong&gt;å¹¶è¡Œè¿è¡Œé…ç½®éœ€æ±‚&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹ä¸€æ­¥&lt;/strong&gt;ï¼šå‡çº§Serverï¼ŒCollectorsï¼Œå®¢æˆ·ç«¯ï¼ˆè§ç¬¬äºŒç« ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="11-agent"&gt;1.1 Agentå…¼å®¹çŸ©é˜µ&lt;a class="headerlink" href="#11-agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å‡çº§Agentså–å†³äºä»–ä»¬çš„ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“åº”ç”¨é‡å¯æ—¶ï¼Œ&lt;strong&gt;Bootstrapped Agents&lt;/strong&gt;è‡ªåŠ¨å‡çº§ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨äº†&lt;strong&gt;non-bootstrapped Agents&lt;/strong&gt;ï¼Œéœ€è¦æ‰‹åŠ¨å‡çº§ã€‚ï¼ˆå®‰è£…åˆ°ä¸€ä¸ªæ–°çš„ç›®å½•è·¯å¾„ï¼‰å½“åº”ç”¨å±‚è¢«é‡å¯ï¼ŒAgentè¿æ¥å­—ç¬¦ä¸²å¿…é¡»è¢«æŒ‡å®šåˆ°æ–°çš„è·¯å¾„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦æŸ¥çœ‹Agentçš„ç‰ˆæœ¬ä»¥åŠæ˜¯å¦æœ‰å¼•å¯¼ç¨‹åºï¼Œä½¿ç”¨Dynatraceå®¢æˆ·ç«¯çš„&lt;strong&gt;é©¾é©¶èˆ± -&amp;gt; Agentæ¦‚è¿°&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡è€ç‰ˆæœ¬Agentsè¿æ¥æ–°ç‰ˆæœ¬Collectorsæ˜¯æ”¯æŒçš„ã€‚ä½†æ˜¯Agentsåº”è¯¥å°½æ—©å‡çº§åˆ°Collectorçš„ç‰ˆæœ¬ -- é€šè¿‡å®‰è£…æ–°çš„Agentså¹¶ä¸”é‡å¯appsã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Agent/Collector å…¼å®¹æ€§&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Collectorï¼ˆæ¨ªï¼‰/Agent(ç«–)&lt;/th&gt;
&lt;th&gt;6.0&lt;/th&gt;
&lt;th&gt;6.1&lt;/th&gt;
&lt;th&gt;6.2&lt;/th&gt;
&lt;th&gt;6.3&lt;/th&gt;
&lt;th&gt;6.5&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5.6&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.1&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.2&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.3&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.5&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;1) åœ¨éå¼•å¯¼ç¨‹åºAgentsä¹‹å‰å‡çº§Serverå’ŒCollectorsã€‚&lt;/p&gt;
&lt;h2 id="2-servercollectors"&gt;2 å‡çº§Serverï¼ŒCollectorsï¼Œå®¢æˆ·ç«¯&lt;a class="headerlink" href="#2-servercollectors" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ éœ€è¦è¿ç§»Serveråˆ°æ–°ä¸»æœºè€Œä¸æ˜¯å‡çº§åˆ°æ–°ç‰ˆæœ¬ï¼Œä½ åªéœ€è¦æ‰§è¡Œé€‚å½“çš„æ­¥éª¤ï¼Œä¾‹å¦‚ï¼Œä¸éœ€è¦åœæ­¢å’Œå®‰è£…æ–°çš„Collectorsã€‚&lt;/p&gt;
&lt;h3 id="21-servercollectors"&gt;2.1 å®‰è£…æ–°çš„Serverï¼ŒCollectorså’Œå®¢æˆ·ç«¯&lt;a class="headerlink" href="#21-servercollectors" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨æ‰€æœ‰ç›¸å…³æœºå™¨ä¸Šå®‰è£…æ–°çš„Dynatrace Serverå’ŒDynatrace Collectorså’Œå®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;åº”è¯¥è¢«å®‰è£…åˆ°&lt;strong&gt;æ–°çš„ç›®å½•&lt;/strong&gt;ï¼Œåœ¨è¯¥å‘å¯¼ä¸­è¢«å¼•ç”¨åš&lt;DT_HOME_NEW&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;ï¼šä½¿ç”¨å®Œæ•´å®‰è£…åŒ…&lt;strong&gt;è‡ªå®šä¹‰&lt;/strong&gt;é€‰é¡¹æˆ–è€…ä½¿ç”¨Server, Collector, Clientç‹¬ç«‹å®‰è£…åŒ…ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é‡è¦&lt;/strong&gt;ï¼šWindowsï¼šåœ¨å®‰è£…å®Œæˆåï¼Œæ¨èæ‰‹åŠ¨å¯åŠ¨Server, Collectorå’Œå®¢æˆ·ç«¯ã€‚&lt;strong&gt;ä¸è¦åœ¨å®‰è£…æ—¶å¯åŠ¨è¿™äº›ç»„ä»¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/*NIX"&gt;*NIX&lt;/a&gt;ï¼š&lt;strong&gt;ä¸è¦&lt;/strong&gt;è§£å‹&lt;em&gt;.jar&lt;/em&gt;ã€‚è€Œæ˜¯è¿è¡Œ&lt;br&gt;
&lt;code&gt;java -jar &amp;lt;pathToInstallerJar&amp;gt;/dynatrace-6.5.0.&amp;lt;build&amp;gt;-linux-&amp;lt;bit&amp;gt;.jar&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡ªåŠ¨åŒ–å®‰è£…å‚è§&lt;strong&gt;æ— äººå€¼å®ˆï¼ˆé™é»˜ï¼‰å®‰è£…&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id="22"&gt;2.2 å…³é—­è€ç‰ˆæœ¬&lt;a class="headerlink" href="#22" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å…³é—­è€ç‰ˆæœ¬å®¢æˆ·ç«¯ï¼Œåœæ‰è€ç‰ˆæœ¬Serverï¼ŒFrontend Serverï¼ŒCollectorå’Œå†…å­˜åˆ†ææœåŠ¡å™¨æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æç¤º&lt;/strong&gt;ï¼šå…³äºå¦‚ä½•å¯åŠ¨å’Œåœæ­¢Dynatrace æœåŠ¡å¯ä»¥åœ¨&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/How+to+Start+and+Stop+dynaTrace+Services+or+Daemons"&gt;è¿™å„¿&lt;/a&gt;æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="2"&gt;
&lt;li&gt;å–æ¶ˆè€ç‰ˆæœ¬Serverï¼ŒFrontend Serverï¼ŒCollectorå’Œå†…å­˜åˆ†ææœåŠ¡å™¨çš„è‡ªå¯åŠ¨:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;: &lt;strong&gt;æ§åˆ¶é¢æ¿-&amp;gt;ç®¡ç†å‘˜å·¥å…·-&amp;gt;æœåŠ¡&lt;/strong&gt;ã€‚åœ¨æ¯ä¸ªæœåŠ¡å±æ€§é‡Œï¼Œè®¾ç½®&lt;strong&gt;å¯åŠ¨ç±»å‹&lt;/strong&gt;ä¸º&lt;strong&gt;æ‰‹åŠ¨&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;NIX&lt;/strong&gt;: ä½¿ç”¨&lt;/em&gt;chkconfig&lt;em&gt; æˆ–è€…&lt;/em&gt;update - rc.d *æ¥ç¦ç”¨æ‰€æœ‰DynatraceæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="23"&gt;2.3 åˆ›å»ºå¤‡ä»½&lt;a class="headerlink" href="#23" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å‡†å¤‡æœŸé—´è¿›è¡Œé…ç½®ä¿¡æ¯æ”¶é›†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤‡ä»½&lt;strong&gt;æ€§èƒ½ä»“åº“DB&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¤‡ä»½&lt;strong&gt;Sessionå­˜å‚¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨&lt;em&gt;&lt;strong&gt;NIX&lt;/strong&gt;ï¼Œå¤‡ä»½åœ¨&lt;/em&gt;/etc/init.d*ä¸‹çš„æ‰€æœ‰Dynatraceè„šæœ¬ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;DT_HOME&lt;/em&gt;çš„æ–‡ä»¶åœ¨ä¸‹ä¸€æ­¥è¿›è¡Œå¤‡ä»½ã€‚&lt;/p&gt;
&lt;h3 id="24-servercollector"&gt;2.4 æœåŠ¡è¿ç§»ï¼ˆServerï¼ŒCollectorå’Œå†…å­˜åˆ†ææœåŠ¡å™¨ï¼‰&lt;a class="headerlink" href="#24-servercollector" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸‹è½½å¹¶åœ¨æ‰€æœ‰Serverå’ŒCollectoræœºå™¨ä¸Šä½¿ç”¨æœ€æ–°&lt;a href="https://files.dynatrace.com/downloads/migrationtool/dynatrace-migration.jar"&gt;dynatrace-migration tool&lt;/a&gt;ã€‚å¯¹äºè¿ç§»çš„æ›´å¤šé€‰é¡¹å‚è§&lt;a href="https://community.dynatrace.com/community/display/APMDOC/Migration+Tool+Details"&gt;dynatrace-migration Tool ç»†èŠ‚&lt;/a&gt;æˆ–è€…è¿è¡Œ&lt;code&gt;java -jar dynatrace-migration.jar&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;2.4.1 æ–‡ä»¶æ”¶é›†&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;em&gt;dynatrace-migration&lt;/em&gt;åˆ›å»ºè¿ç§»å­˜æ¡£ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ–‡ä»¶æ”¶é›†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;shell
java -jar dynatrace-migration.jar -migration -sourceDTHome "&amp;lt;DT_HOME_OLD&amp;gt;" -targetArchiveDir "&amp;lt;ARCHIVE_DIR&amp;gt;"&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;DT_HOME_OLD&gt;&lt;/strong&gt;æ˜¯è€ç‰ˆæœ¬Dynatraceå®‰è£…è·¯å¾„ã€‚åä¸º&lt;Server_name&gt;_&lt;creation_dateTime&gt;.dtmaçš„&lt;MIGRATION_ARCHIVE&gt;æ–‡ä»¶å°†ä¼šåœ¨&lt;ARCHIVE_DIR&gt;ä¸­è¢«åˆ›å»ºã€‚&lt;/p&gt;
&lt;p&gt;ä¿ç•™è¯¥ç”Ÿæˆæ–‡ä»¶ä½œä¸ºæ°¸ä¹…å¤‡ä»½ã€‚&lt;/p&gt;
&lt;h4&gt;2.4.2 æ–‡ä»¶è¿ç§»&lt;/h4&gt;
&lt;p&gt;åœ¨ç›®æ ‡ä¸»æœºï¼Œ è¦è¿ç§»æ‰€æœ‰Serverå’ŒCollectorå®ä¾‹&lt;DT_HOME_NEW&gt;ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨èè¿ç§»æ–¹å¼&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;java -jar dynatrace-migration.jar -migration -sourceArchive &lt;span class="s2"&gt;&amp;quot;&amp;lt;ARCHIVE_DIR&amp;gt;/&amp;lt;MIGRATION_ARCHIVE&amp;gt;&amp;quot;&lt;/span&gt; -targetDTHome &lt;span class="s2"&gt;&amp;quot;&amp;lt;DT_HOME_NEW&amp;gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¤‡ä»½ï¼ˆæ–‡ä»¶è½¬ç§»åˆ°&lt;DT_HOME_NEW&gt;ï¼‰,è¿ç§»æ—¥å¿—ä¼šåœ¨&lt;em&gt;&lt;DT_HOME_NEW&gt;/migration/backup/&lt;/em&gt; åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥æœä½ åœ¨è¿™äº›æ­¥éª¤é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥è·å–æ”¯æŒæˆ–è€…è€ƒè™‘&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Manual+File+Migration"&gt;æ‰‹åŠ¨æ–‡ä»¶è¿ç§»&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h4&gt;2.4.3 ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;æœ€åï¼Œ dynatrace-migration ä¼šåˆ—å‡ºå¯èƒ½éœ€è¦æ‰‹åŠ¨è¿ç§»åˆ°æ–°ç‰ˆæœ¬çš„æ–‡ä»¶ï¼ˆå¦‚é…ç½®è®¾ç½®æ–‡ä»¶ï¼‰ã€‚å› æ­¤ï¼Œç›¸å…³çš„è€ç‰ˆæœ¬æ–‡ä»¶è¢«å¤åˆ¶å¹¶åŠ ä¸Šåç¼€&lt;em&gt;.toBeMigrated&lt;/em&gt; ã€‚è¿™äº›æ–‡ä»¶ä½äº&lt;DT_HOME_NEW&gt;ã€‚&lt;strong&gt;ä¸è¦å¤ç”¨&lt;/strong&gt;è¿™äº›è€ç‰ˆæœ¬æ–‡ä»¶ï¼Œå› ä¸º6.3ä¿®æ”¹è¿‡boot bundlesï¼Œå°†å¯¼è‡´Serveræ— æ³•å¯åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸‹æ˜¯ç¤ºä¾‹è¾“å‡ºï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;There are some files left, which have to be migrated manually:
In C:\Program Files\dynaTrace\dynaTrace 6.5 :
 \dtanalysisserver.ini -&amp;gt; edit and integrate custom settings from old \dtanalysisserver.ini.toBeMigrated
 \dtcollector.ini -&amp;gt; edit and integrate custom settings from old \dtcollector.ini.toBeMigrated
 \dtfrontendserver.ini -&amp;gt; edit and integrate custom settings from old \dtfrontendserver.ini.toBeMigrated
 \dtserver.ini -&amp;gt; edit and integrate custom settings from old \dtserver.ini.toBeMigrated
 \server\selfmonitoring\dtselfmon.ini -&amp;gt; edit and integrate custom settings from old
\server\selfmonitoring\dtselfmon.ini.toBeMigrated
Do NOT re-use the old files, this may cause components not to start!
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;em&gt;dtserver.ini&lt;/em&gt; ï¼šå¦‚æœä½ æ­£åœ¨å‡çº§ï¼Œä¸”ä½¿ç”¨è¿ç»­äº‹åŠ¡å­˜å‚¨ï¼Œå¦‚æœæ˜¾å¼æŒ‡å®š&lt;code&gt;-Dcom.dynatrace.diagnostics.memory.maxPurePathBufferSize=&amp;lt;x&amp;gt;&lt;/code&gt;,åˆ™&lt;strong&gt;ä¸è¦&lt;/strong&gt;è¿ç§»è¯¥å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä» ï¼œ 6.1 å‡çº§ï¼Œå¹¶ä¸”&lt;em&gt;dtserver.ini.toBeMigrated&lt;/em&gt; åŒ…å«&lt;em&gt;-Dcom.dynatrace.diagnostics.SQLSERVERUSENTLMV2&lt;/em&gt;ï¼Œå‚è€ƒ&lt;a href="https://community.dynatrace.com/community/display/DTKB/How+to+connect+the+Performance+Warehouse+to+a+MS+SQL+Server+via+Windows+Authentication"&gt;è¯¥æ–‡ç« &lt;/a&gt;,è¿ç§»è¯¥æ¡ç›®å¹¶ä¸”ä¹Ÿéœ€è¦æ–°å¢2ä¸ªæ¡ç›®åˆ°&lt;em&gt;dtfrontendserver.ini&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;è¿ç§»æ‰€æœ‰çš„-Xmx, -Xms, -XX:PermSize, å’Œ -XX:MaxPermSizeæ¡ç›®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âš " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;è‡ªå®šä¹‰è¯ä¹¦ï¼š&lt;/strong&gt; å¦‚æœiniæ–‡ä»¶åŒ…å«&lt;em&gt;-Dcom.dynatrace.diagnostics.web.ssl.keystore&lt;/em&gt;,åˆ™ä¸€ä¸ªè‡ªå®šä¹‰webè®¤è¯&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Configure+SSL+Communication"&gt;è¢«é…ç½®&lt;/a&gt;ã€‚ä¸è¦å¸¦ä¸Šè¯¥æ¡ç›®ï¼Œè€Œæ˜¯åœ¨å‡çº§ç»“æŸåä½¿ç”¨æ–°çš„&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Certificate+Management"&gt;è¯ä¹¦ç®¡ç†&lt;/a&gt;æ¥roll outä¹‹å‰çš„è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¿®æ”¹&lt;em&gt;&lt;DT_HOME_OLD&gt;/server/conf/keystore.jks&lt;/em&gt;ï¼Œä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰è¯ä¹¦ç”¨äºé€šä¿¡ï¼Œè¯¥è¯ä¹¦å°†ä¼šè¢«è‡ªåŠ¨è¿ç§»ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸¤è€…éƒ½åšè¿‡é…ç½®ï¼Œæ¨èå‡çº§åä½¿ç”¨&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Certificate+Management"&gt;è¯ä¹¦ç®¡ç†&lt;/a&gt;æ¥åˆ‡æ¢åˆ°ä¸€ä¸ªå•ä¸€è¯ä¹¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ›´å¤šä¿¡æ¯å‚è§&lt;strong&gt;Serveré…ç½®&lt;/strong&gt;å’Œ&lt;strong&gt;Collectoré…ç½®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4&gt;2.4.4 æ³¨å†Œå¹¶è‡ªåŠ¨å¯åŠ¨é¢å¤–çš„Collector å®ä¾‹&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å…³äºå¤šå®ä¾‹çš„ä¿¡æ¯æ‰©å±•ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åœ¨è€ç‰ˆæœ¬æ˜¯ä½¿ç”¨Collectorå¤šå®ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;: å¯¹äºæ¯ä¸ªCollectorå®ä¾‹ï¼Œåœ¨è€ç‰ˆæœ¬ä¸­ä½¿ç”¨ç›¸åŒçš„&lt;code&gt;&amp;lt;CollectorInstanceName&amp;gt;&lt;/code&gt;,åœ¨ç›®å½•&lt;DT_HOME_NEW&gt;ä¸­ï¼Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dtcollector -service install -instance &amp;lt;CollectorInstanceName&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;*NIX&lt;/strong&gt; ï¼šåœ¨&lt;code&gt;/etc/init.d&lt;/code&gt;ä¸­ï¼Œå¯¹äºæ¯ä¸ªCollectorç¤ºä¾‹ï¼Œä¼šæœ‰ä¸€ä¸ªè€çš„å¯åŠ¨è„šæœ¬å«åš&lt;code&gt;dynaTraceCollector&amp;lt;NN&amp;gt;&lt;/code&gt; ï¼Œ &lt;code&gt;&amp;lt;NN&amp;gt;&lt;/code&gt;æ˜¯æ•°å­—ã€‚å¯¹äºæ¯ä¸ªè¯¥æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®°ä¸‹å˜é‡&lt;em&gt;DT_OPTARGS&lt;/em&gt;å’Œ&lt;em&gt;DT_INSTANCE&lt;/em&gt;çš„å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨æ–°ç‰ˆæœ¬æ›¿æ¢ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp &amp;lt;DT_HOME_NEW&amp;gt;/init.d/dynaTraceCollector /etc
/init.d/dynaTraceCollector&amp;lt;NN&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;ç¼–è¾‘&lt;code&gt;/etc/init.d/dynaTraceCollector&amp;lt;NN&amp;gt;&lt;/code&gt;å¹¶å¡«å†™&lt;code&gt;DT_OPTARGS&lt;/code&gt;å’Œ&lt;code&gt;DT_INSTANCE&lt;/code&gt;çš„è®°å½•å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="25"&gt;2.5 è‡ªåŠ¨å¯åŠ¨æ–°æœåŠ¡&lt;a class="headerlink" href="#25" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä»…é™*NIX&lt;/strong&gt;ï¼šä½¿ç”¨&lt;em&gt;chkconfig&lt;/em&gt;æˆ–&lt;em&gt;update-rc.d&lt;/em&gt;ï¼Œç¡®ä¿æ–°çš„Serverï¼ŒCollectorsï¼Œå†…å­˜åˆ†ææœåŠ¡å™¨ï¼Œå’ŒFrontend Serverä½¿ç”¨&lt;em&gt;/etc/init.d&lt;/em&gt;è„šæœ¬è‡ªåŠ¨å¯åŠ¨ï¼Œå¹¶ä¸”æƒé™æ˜¯æ­£ç¡®çš„ã€‚&lt;/p&gt;
&lt;h3 id="26"&gt;2.6 å®¢æˆ·ç«¯è¿ç§»&lt;a class="headerlink" href="#26" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ åœ¨Dynatrace å®¢æˆ·ç«¯é‡Œæœ‰ç‰¹æ®Šè®¾ç½®ï¼Œåƒæ˜¯ä»£ç†è®¾ç½®ï¼Œæ¯”è¾ƒ&lt;DT_HOME_OLD&gt;å’Œ&lt;DT_HOME_NEW&gt;ä¸­çš„&lt;em&gt;dtclient.ini&lt;/em&gt;,ä»¥åŠï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;:&lt;code&gt;C:\Users\&amp;lt;username&amp;gt;\.dynaTrace\dynaTrace 6.5\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;*NIX&lt;/strong&gt;:  &lt;code&gt;~/.dynaTrace/dynaTrace 6.5/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€‚ç”¨çš„å±æ€§ä»ç„¶è¦å»¶ç»­ã€‚&lt;/p&gt;
&lt;h3 id="27-server"&gt;2.7 å¯åŠ¨æ–°çš„Serverç»„ä»¶&lt;a class="headerlink" href="#27-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ é…ç½®è¿‡&lt;em&gt;DT_HOME&lt;/em&gt;å˜é‡ï¼ŒæŠŠå®ƒå‡çº§åˆ°&lt;DT_HOME_NEW&gt;,å¹¶ä¸”ä¹‹åå¯åŠ¨Dynatrace Serverå’Œ&lt;strong&gt;Frontend Server&lt;/strong&gt;ï¼ˆ6.0ç‰ˆæœ¬å¼•å…¥ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="28"&gt;2.8 å¯åŠ¨æ–°çš„å®¢æˆ·ç«¯&lt;a class="headerlink" href="#28" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;DT_HOME_NEW&gt;é‡Œå¯åŠ¨&lt;em&gt;dtclient&lt;/em&gt;æˆ–è€…ä½¿ç”¨&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Webstart+Client"&gt;Webstart Client&lt;/a&gt;: &lt;code&gt;http://&amp;lt;servername&amp;gt;:8020&lt;/code&gt;ã€‚åœ¨&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;è¿æ¥çŠ¶æ€&lt;/strong&gt;é¢æ¿é…ç½®ï¼Œç¡®ä¿è¿æ¥åˆ°æ­£ç¡®çš„Dynatrace Serverï¼ˆhostnameï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="29-serverlicenses"&gt;2.9 æ¿€æ´»æ–°çš„Serverçš„licenses&lt;a class="headerlink" href="#29-serverlicenses" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚è¿‡ä½ éœ€è¦ä»£ç†æœåŠ¡å™¨æ¥è®¿é—®äº’è”ç½‘ï¼Œæ‰‹åŠ¨é…ç½®&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Licensing+Details#LicensingDetails-proxysettings"&gt;ä»£ç†æœåŠ¡å™¨è®¾ç½®æ¥è®¿é—®eServicesçš„åœ¨çº¿liensingç«™ç‚¹&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id="210-server-sizing"&gt;2.10 é€‰æ‹©Server Sizing&lt;a class="headerlink" href="#210-server-sizing" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;licenseå¯¼å…¥åï¼Œä¼šæ˜¾ç¤ºé€‰æ‹©ä¸åŒçš„sizingé€‰é¡¹ï¼ˆå‚è§&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Sizing+Settings"&gt;Sizingè®¾ç½®&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚ï¼‰é€‰æ‹©åœ¨å‡†å¤‡é˜¶æ®µéªŒè¯è¿‡çš„Sizingã€‚&lt;strong&gt;åœ¨å¯åŠ¨æ–°çš„Collectorsä¹‹å‰&lt;/strong&gt;æ‰§è¡Œè¿™ä¸€æ­¥éª¤å¾ˆé‡è¦ï¼Œå¯ä»¥é¿å…å†…å­˜æº¢å‡ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id="211-dynatrace"&gt;2.11 å‡çº§æ–°çš„Dynatrace&lt;a class="headerlink" href="#211-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ£€æŸ¥&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;ä¸‹è½½é¡µé¢&lt;/a&gt;æ˜¯å¦æœ‰Dynatrace 6.5çš„å‡çº§åŒ…ï¼Œä½¿ç”¨å®¢æˆ·ç«¯&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Install+an+Update"&gt;å®‰è£…å‡çº§åŒ…&lt;/a&gt;ï¼Œç„¶åæŒ‰ç…§è¯´æ˜åšã€‚å‡çº§åŒ…å®‰è£…å¥½åä¼šé‡å¯å’Œå‡çº§Collectorså’ŒAgentsã€‚&lt;/p&gt;
&lt;h3 id="212"&gt;2.12 è¿æ¥æ€§èƒ½ä»“åº“&lt;a class="headerlink" href="#212" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;æ€§èƒ½ä»“åº“&lt;/strong&gt;ï¼ŒéªŒè¯è¿æ¥ç»†èŠ‚å¹¶ä¸”è¾“å…¥æ•°æ®åº“æˆæƒä¿¡æ¯æ¥è¿æ¥åˆ°è€çš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;æµ‹è¯•&lt;/strong&gt;,å¦‚æœDBè¿æ¥çŠ¶æ€æ­£å¸¸ï¼Œç‚¹å‡»&lt;strong&gt;è¿æ¥&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Serverä¼šè‡ªåŠ¨å‡çº§schemaå’Œæ•°æ®åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚è¿™å¯èƒ½ä¼šèŠ±è´¹å¤§æ¦‚5åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;h3 id="213-session"&gt;2.13 é…ç½®Sessionå­˜å‚¨&lt;a class="headerlink" href="#213-session" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¿ç§»å·²å­˜å‚¨çš„sessionsï¼Œåœ¨&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;å­˜å‚¨&lt;/strong&gt;ä¿®æ”¹ç›®å½•åˆ°ä½ çš„sessionå­˜å‚¨æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id="214-collectors"&gt;2.14 å¯åŠ¨æ–°çš„Collectors&lt;a class="headerlink" href="#214-collectors" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯åŠ¨æ–°çš„Collectorsï¼Œç„¶ååœ¨&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;Collectors&lt;/strong&gt;é¢æ¿ç¡®ä¿æ‰€æœ‰çš„Collectorså·²è¿æ¥åˆ°æ–°çš„Serverã€‚å¦‚æœä½ åº”ç”¨è¿‡å‡çº§ï¼ˆåˆ°æ–°çš„Serverï¼‰ï¼Œä½ åº”è¯¥åœ¨å½“å‰çš„å¯¹è¯æ¡†ä¸­ç«‹åˆ»é‡å¯Collectorsï¼Œç¡®ä¿åº”ç”¨å‡çº§ã€‚&lt;/p&gt;
&lt;p&gt;Dynatrace Serverå’ŒCollectorç°åœ¨å°†æ¥æ”¶Agentçš„è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹ä¸€æ­¥&lt;/strong&gt;ï¼šå‡çº§Agentsï¼ˆè§ç¬¬ä¸‰ç« ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="215"&gt;2.15 æ‰‹åŠ¨æ–‡ä»¶è¿ç§»&lt;a class="headerlink" href="#215" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸æ¨èæ‰‹åŠ¨è¿ç§»æ–‡ä»¶ã€‚å¦‚æœä½¿ç”¨è¿ç§»å·¥å…·å‡ºç°é—®é¢˜ï¼Œè¯·å¼€ticketã€‚&lt;/p&gt;
&lt;h2 id="3-agents"&gt;3 å‡çº§Agents&lt;a class="headerlink" href="#3-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="31-agents"&gt;3.1 å‡çº§Agents&lt;a class="headerlink" href="#31-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é‚£ä¹ˆæ¨èå‡çº§Agentsåˆ°æœ€æ–°è€Œä¸”å°†éœ€è¦æ¥æ”¶å‡çº§åŒ…ã€‚&lt;/p&gt;
&lt;h4&gt;3.1.1 Bootstrapped Agents(Java, .NET, HOST, Native ADK, Web Server, PHP, CICS, and IMS)&lt;/h4&gt;
&lt;p&gt;Bootstrapped Agentsé‡å¯æ—¶è‡ªåŠ¨å‡çº§ã€‚åˆ°é‚£æ—¶ï¼Œè€çš„Agentsä¼šå°è¯•è¿æ¥è¿è¡Œä¸­çš„ Collector/Serverã€‚å‚è§åœ¨å…¼å®¹æ€§çŸ©é˜µä¸­å…³äºé‡å¯è€ƒé‡çš„è¯¦ç»†æè¿°ï¼ˆè§1.1ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä»ï¼œ6.0å‡çº§ï¼Œå¹¶ä¸”æƒ³ä½¿ç”¨&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Updates"&gt;Controlled Update Rollout&lt;/a&gt;,é‚£ä¹ˆä½ å¿…é¡»é‡æ–°å®‰è£…Agentsåˆ°&lt;strong&gt;å‡çº§å®ƒä»¬çš„bootstrapç»„ä»¶&lt;/strong&gt;ï¼ˆè§3.3ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æœ‰ ä¸ä½ åœ¨å‡çº§çš„åŒä¸€å°ä¸»æœºä¸Šçš„bootstrapped Agentsï¼Œå®ƒä»¬å°†å‡çº§ï¼Œä½†æ˜¯ä¼š&lt;strong&gt;ç»§ç»­ä½¿ç”¨&lt;DT_HOME_OLD&gt;&lt;/strong&gt;ç›®å½•æ¥æ¢å¤å®ƒä»¬çš„é…ç½®ã€‚å› æ­¤ï¼Œéœ€è¦æ‰‹åŠ¨è¿ç§»å®ƒä»¬çš„é…ç½®æ–‡ä»¶åˆ°&lt;DT_HOME_NEW&gt;(æ–°ç‰ˆæœ¬å®‰è£…ç›®å½•)æˆ–ä¸ºäº†ç›¸å…³é…ç½®ç»§ç»­ä½¿ç”¨&lt;DT_HOME_OLD&gt;ã€‚æŸ¥çœ‹ç‰¹æ®ŠAgent é…ç½®è·å–æ›´å¤šç»†èŠ‚ï¼ˆè§3.1.1ä¸‹æ–‡ï¼‰ã€‚&lt;/p&gt;
&lt;h5&gt;Bootstrapped Web Server Agents&lt;/h5&gt;
&lt;p&gt;ä½¿ç”¨æ­£ç¡®é¡ºåºæ¥é‡å¯Web Server Agent æœåŠ¡å’ŒWeb Server Agentæ˜¯å¿…è¦çš„ã€‚ç¬¬ä¸€æ¬¡é‡å¯Web Server Agent æœåŠ¡å¹¶ä¸”ç­‰å¾…ç›´è‡³é‡æ–°è¿æ¥ã€‚ç„¶åé‡å¯Web Server Agentã€‚è¿™ä¸ªæ­¥éª¤æ˜¯å¿…é¡»çš„ä»¥ç¡®ä¿ä¸¤ä¸ªAgentséƒ½å‡çº§åˆ°æ­£ç¡®çš„ç‰ˆæœ¬ã€‚å¯¹äºè€ç‰ˆæœ¬çš„ï¼ŒApache Web Serverè‡ªåŠ¨å¯åŠ¨Web Server AgentæœåŠ¡çš„Unixå®‰è£…ï¼ŒApache Web Serverå¯èƒ½éœ€è¦äºŒæ¬¡é‡å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³ä»å®¢æˆ·ç«¯é‡å¯Webserver Agent æœåŠ¡ï¼Œé‚£ä¹ˆä½ å¿…é¡»å‡çº§bootstrap(è§3.3)ã€‚&lt;/p&gt;
&lt;h5&gt;NGINX Web Server Agent&lt;/h5&gt;
&lt;p&gt;6.2ä¸­ï¼ŒJSONåç§»é‡æ–‡ä»¶åŒ…æ‹¬æ¯”6.1æ›´å¤šçš„æ•°æ®ã€‚å¦‚æœNGINX binaryåŒ…å«debugæ ‡å¿—ï¼Œé‡å‘½åJSONæ–‡ä»¶å°±å¥½ï¼ŒAgentå¯åŠ¨æ—¶å®ƒå°†è¢«è‡ªåŠ¨å†æ¬¡ç”Ÿæˆã€‚ç„¶è€Œï¼Œå¦‚æœstripped NGINX binaryè¢«ä½¿ç”¨ï¼Œåç§»é‡æ–‡ä»¶éœ€è¦åœ¨NGINX Agenté‡å¯å‰è¢«æ‰‹åŠ¨å†æ¬¡ç”Ÿæˆï¼Œå¦åˆ™å‡çº§åçš„Agentå°†æ— æ³•å¯åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤è¡Œé‡å‘½ååç§»é‡(offset)æ–‡ä»¶:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;lt;AGENT_HOME&amp;gt;/agent/conf/ngx_offset_gen.sh &amp;lt;nginx binary&amp;gt; &amp;lt;nginx debug symbols file&amp;gt; &amp;lt;JSON offset file&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;3.1.2 Non-bootstrapped Agentséœ€è¦æ‰‹åŠ¨å‡çº§ï¼ˆæµè§ˆå™¨å’Œç§»åŠ¨APP ADKï¼‰&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;a href="https://downloads.compuwareapm.com/downloads/download.aspx?p=DT"&gt;è¿™å„¿&lt;/a&gt;æ‰¾åˆ°æ–°çš„æµè§ˆå™¨Agentå®‰è£…åŒ…å’Œæ–°çš„ADKç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;çå­å•Šå¹¶åº”ç”¨æ–°çš„Agent-onlyå®‰è£…åŒ…å‡çº§åˆ°æœ€æ–°çš„æµè§ˆå™¨Agentã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç§»åŠ¨APPå¼€å‘ç¯å¢ƒï¼Œåˆ‡æ¢åˆ°æ–°çš„ADKå¹¶éƒ¨ç½²æ–°ç‰ˆæœ¬å‡çº§ã€‚&lt;/p&gt;
&lt;h4&gt;3.1.3 z/OS Agents&lt;/h4&gt;
&lt;p&gt;å®ƒä»¬å¯ä»¥è¢« bootstrapped æˆ– non-bootstrappedã€‚å‚è§&lt;strong&gt;å‡çº§zOS Agents&lt;/strong&gt;ï¼ˆè§3.4ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="32-agents"&gt;3.2 é‡å¯Agents&lt;a class="headerlink" href="#32-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é™¤éä½ å·²ç»å‡çº§å¹¶æ‰‹åŠ¨é‡å¯Agentsï¼Œå¦åˆ™è¯·&lt;strong&gt;å¯¹ä½ æ‰€æœ‰ç›¸å…³çš„åº”ç”¨ç°åœ¨æ‰§è¡Œé‡å¯&lt;/strong&gt;æ¥å‡çº§Agentsã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹ä¸€æ­¥&lt;/strong&gt;ï¼šæœ€ç»ˆæ£€æŸ¥ï¼ˆè§ç¬¬å››ç« ï¼‰&lt;/p&gt;
&lt;h3 id="33-bootstrap-agents"&gt;3.3 å‡çº§Bootstrap Agents&lt;a class="headerlink" href="#33-bootstrap-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatraceæ˜¯6.5ç‰ˆæœ¬ä¸æ”¯æŒbootstrap agents &amp;lt; 6.0 ã€‚ ä½¿ç”¨è¯¥å‘å¯¼å‡çº§6.0ä¹‹å‰çš„ bootstrap agentsåˆ°æœ€æ–°ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h4&gt;3.3.1 å‡†å¤‡&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ä»&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;downloads.dynatrace.com&lt;/a&gt;ä¸‹è½½å¯¹åº”å¹³å°çš„æ–°çš„agentå®‰è£…åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;å¤‡ä»½å½“å‰agentçš„é…ç½®æ–‡ä»¶ç›®å½•&lt;/li&gt;
&lt;li&gt;åœ¨ä½ çš„ç›®æ ‡å¹³å°ä¸Šéƒ¨ç½²å’Œå®‰è£…agenté è¿‘å½“å‰æ­£åœ¨ä½¿ç”¨çš„agentså®‰è£…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;3.3.2 Bootstrap agentå‡çº§è¿‡ç¨‹&lt;/h4&gt;
&lt;h5&gt;Host Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;åœæ‰æ‰€æœ‰è€ç‰ˆæœ¬çš„host agent&lt;/li&gt;
&lt;li&gt;å°†&lt;em&gt;/conf/dthostagent.ini&lt;/em&gt;ï¼ˆä¸»è¦æ˜¯åç§°å’Œå¯¹åº”serverï¼‰ä»è€ç›®å½•è¿ç§»åˆ°æ–°ç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æ–°çš„host agentã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;Webserver Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;åœæ‰è€ç‰ˆæœ¬çš„web server agent&lt;/li&gt;
&lt;li&gt;å°†&lt;em&gt;conf/dtwsagent.ini&lt;/em&gt;ä»è€ç›®å½•è¿ç§»åˆ°æ–°å®‰è£…ç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æ–°çš„web server agent&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;Java Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;é‡æ–°åœ¨åº”ç”¨é…ç½®é‡Œé…ç½®agentè·¯å¾„ï¼ˆå¦‚ä»-agentpath:/opt/dynatrace-5.6.0/agent/lib64/libdtagent.&lt;br&gt;
   so=name=Application_Monitoring  åˆ°  -agentpath:/opt/dynatrace-6.2/agent/lib64&lt;br&gt;
   /libdtagent.so=name=Application_Monitoringï¼‰ã€‚:light:ä½ ä¹Ÿå¯ä»¥å®‰è£…å’Œé…ç½®ä¸€ä¸ªä¸ç‰ˆæœ¬æ— å…³çš„agentè·¯å¾„ï¼ˆå¦‚/opt/dynatrace-agent/)ï¼Œå¹¶ç§»é™¤è€ç‰ˆæœ¬ï¼Œå®‰è£…æ–°ç‰ˆæœ¬åˆ°åŒä¸€ç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;é‡å¯åº”ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;.NET Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…å¥½æ–°agentsåé‡å¯åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;zOS zLocal/zRemote agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;å‡çº§zLocal/zRemote agentså°†è‡ªåŠ¨å‡çº§bootstrap agentsã€‚è¯·å‚è€ƒè¯´æ˜ï¼ˆè§3.4ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;3.3.3 å¸è½½è¿‡æ—¶agents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Linuxï¼šç®€å•åˆ é™¤è¿‡æ—¶agentsçš„å®‰è£…ç›®å½•&lt;/li&gt;
&lt;li&gt;Windowsï¼šä½¿ç”¨æ·»åŠ /åˆ é™¤åº”ç”¨å¸è½½è¿‡æ—¶agentsã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="34-zos-agents"&gt;3.4 å‡çº§zOS Agents&lt;a class="headerlink" href="#34-zos-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;3.4.1 å‰ææ¡ä»¶&lt;/h4&gt;
&lt;h5&gt;å‡çº§Dynatrace Serversï¼ŒCollectorsï¼ŒAgentså’Œæ€§èƒ½ä»“åº“&lt;/h5&gt;
&lt;p&gt;åœ¨å¯åŠ¨z/OS Agentsçš„ä»»ä½•è¿ç§»æ“ä½œä¹‹å‰ï¼Œå…ˆé˜…è¯»é€šç”¨&lt;strong&gt;å‡çº§&lt;/strong&gt;ï¼ˆè§å‰è¨€ï¼‰åˆ°6.5å‘å¯¼å¹¶åˆ›å»ºä¸€ä»½è¯¦ç»†çš„Dynatrace Serversï¼ŒCollectorsï¼Œå…¶ä»–Agentsï¼Œæ€§èƒ½ä»“åº“å’Œå…¶ä»–ç»„ä»¶çš„å‡çº§è®¡åˆ’ã€‚ä¸ºäº†å‡å°‘ç»´æŠ¤å¼€ç¥¨ï¼Œåè°ƒåº”ç”¨ç¨‹åºé‡å¯æ¥é…åˆè¿™äº›å‡çº§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âš " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;é‡è¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace 6.2ç‰ˆæœ¬ï¼Œ z/OS Agentä¸å…ˆé€šè¿‡zRemote Agentåˆ™æ— æ³•ç›´æ¥è¿æ¥åˆ°Dynatrace Collectorã€‚ä½¿ç”¨zRemote Agentæ˜¯ä¸ºäº†å‡å°‘z/OSä¸Šçš„CPUå¼€é”€ã€‚å¦‚æœä½ ç°åœ¨çš„6.2ä¹‹å‰çš„z/OS Agentéƒ¨ç½²å¿½ç•¥äº†zRemote Agentï¼Œä½œä¸ºå‡çº§çš„ä¸€éƒ¨åˆ†ä½ éœ€è¦å®‰è£…å®ƒã€‚æ›´å¤šä¿¡æ¯å‚è§&lt;strong&gt;zRemote Agent&lt;/strong&gt;(è§ä¸‹æ–‡)ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;License&lt;/h5&gt;
&lt;p&gt;ä½ éœ€è¦Dynatrace Serverå’Œz/OS Agentsçš„æœ‰æ•ˆlicensesã€‚å‚è€ƒ&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/License+Upgrade"&gt;license å‡çº§&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚z/OS Agentçš„licenseæ˜¯åŸºäºMIPSçš„ã€‚å‚è§&lt;strong&gt;å‡†å¤‡å‡çº§&lt;/strong&gt;ï¼ˆè§ç¬¬ä¸€ç« ï¼‰å’Œ&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/License+Upgrade"&gt;license å‡çº§&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä»»ä½•Dynatrace ç‰ˆæœ¬ï¼ˆé¢„ç”Ÿäº§/æµ‹è¯•ä¸­å¿ƒæˆ–ç”Ÿäº§ï¼‰ï¼Œz/OS licenseæ˜¯æœ‰æ•ˆçš„ã€‚å¦‚æœç¡¬ä»¶ï¼ˆâ€œfingerprintâ€ï¼‰å‘ç”Ÿæ”¹å˜ï¼ˆä¾‹å¦‚ï¼ŒåŠ äº†ä¸€ä¸ªCPUï¼‰ï¼Œlicenseä¼šå¤±æ•ˆï¼Œå¹¶ä¸”å¿…é¡»åœ¨14å¤©å†…æ›´æ–°ã€‚&lt;/p&gt;
&lt;h4&gt;3.4.2 å‡çº§æ­¥éª¤&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¦‚å‡çº§æè¿°ï¼ˆè§å‰è¨€ï¼‰å°†Dynatrace Serverå’ŒCollectorä¼˜å…ˆå‡çº§åˆ°6.5ï¼Œä»¥æ­¤æ¥å‡çº§ä¸»æ¡†æ¶ç»„ä»¶ã€‚æ–°çš„zOS Agentsä¸€èˆ¬æ— æ³•ä¸è€çš„Dynatrace Collectorsæˆ–Serverså…¼å®¹ï¼Œåè€Œæ˜¯æ–°çš„Dynatrace Collectorsæˆ–Serversé€šå¸¸å¯ä»¥å’Œè€çš„zOS Agentsä¸€èµ·å·¥ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰ç…§æ ‡å‡†Agent å®‰è£…æ­¥éª¤ã€‚è¿™åŒ…æ‹¬ï¼šè¿è¡ŒJCLæ¥ä¸‹è½½agent åˆ†å‘æ–‡ä»¶ï¼Œè¿è¡ŒSMP/Eæ¥ä¸ºæ–°ç‰ˆæœ¬å¡«å…¥ç›®æ ‡æ•°æ®é›†ã€‚æ›´å¤šä¿¡æ¯ï¼Œå‚è€ƒ&lt;strong&gt;ä¸‹è½½å¹¶SMP/E å®‰è£…z/OS Agentç»„ä»¶&lt;/strong&gt;ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ä¹‹åï¼Œä½ å¯ä»¥é€‰æ‹©ä¸‹æ–‡çš„1æˆ–2çš„å…¶ä¸­ä¸€ä¸ªæ¥åšï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœæ‰å½“å‰zDCï¼Œå¹¶å‡çº§zDCè®¤è¯åº“åˆ°6.5ç‰ˆã€‚é‡å¯z/DCä¹‹å‰ï¼Œä½ åº”è¯¥ç¡®ä¿zDCå‚æ•°&lt;em&gt;DTMSG_SMOSIZE&lt;/em&gt;å·²ç»å»æ‰æ³¨é‡Šï¼Œè€Œä¸”å‚æ•°&lt;em&gt;DTMSG_QSIZE&lt;/em&gt;å·²ç»è¢«åˆ é™¤ã€‚è¿™äº›å‚æ•°æ§åˆ¶æ— è®ºä¿¡æ¯å·²ç»é˜Ÿåˆ—è¿›å…¥zDCæ•°æ®ç©ºé—´è¿˜æ˜¯zDC 64ä½å…±äº«å†…å­˜å¯¹è±¡ï¼ˆSMOï¼‰æŒ‚èµ·ä»–ä»¬çš„å†™å…¥ï¼Œåˆ°Dynatrace Agentã€‚       5.6ç‰ˆæœ¬ï¼Œæ•°æ®ç©ºé—´å·²ç»è¢«å¼ƒç”¨ã€‚å¦‚æœä½ åœ¨5.6ç‰ˆæœ¬ä¸­è‡ªå®šä¹‰äº†ZDCSYSIN æ ·ä¾‹ï¼Œä½ å¯ä»¥è·³è¿‡è¯¥æ­¥éª¤å› ä¸ºè¯¥æ ·ä¾‹å·²ç»åŒ…å«äº†è¯¥å˜æ›´ã€‚zDCå¯åŠ¨åï¼ŒCICSå’ŒIMS agents åº”è¯¥åœ¨5åˆ†é’Ÿå†…æ³¨å†Œã€‚ &lt;strong&gt;- OR -&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;ä¸ºzDCå’ŒzLocalï¼ˆåŸåUSSï¼‰Agentåˆ›å»ºå¹¶è¡Œ6.5ç¯å¢ƒã€‚æŒ‰ç…§&lt;strong&gt;å®‰è£…zDC&lt;/strong&gt;ï¼ˆè§ä¸Šæ–‡ï¼‰çš„æŒ‡å¼•ã€‚åœ¨å¹¶è¡Œ6.5ç¯å¢ƒï¼Œå½“ä½ è¿ç§»ç‹¬ç«‹çš„CICSåŒºåŸŸå’ŒIMSæ§åˆ¶åŒºåŸŸåˆ°æ–°çš„zDCæ—¶,ä½ å¯ä»¥ç»§ç»­è¿è¡Œè€çš„z/DCï¼Œæˆ–è€…ä½ å¯ä»¥ä¼˜å…ˆæµ‹è¯•å‡ ä¸ªåŒºåŸŸæ¥å‡çº§é»˜è®¤çš„zDCã€‚å¦‚æœå¤šä¸ªzDCåœ¨è¿è¡Œï¼ŒæŒ‡å®šä¸ºDEFAULTï¼ˆYESï¼‰çš„é‚£ä¸ªå°†è¢«é€‰ä¸­é™¤éåœ¨CICSæˆ–IMSç³»ç»Ÿåˆå§‹åŒ–å­—æ®µæŒ‡å®šäº†ä¸€ä¸ªINITPARMå‚æ•°ï¼Œé‚£æ ·çš„è¯å®ƒå¿…é¡»ä½¿ç”¨ä¸€ä¸ªç‹¬æœ‰åç§°ï¼šINITPARM=(ZDTPLT6x='xxxx')è¿æ¥åˆ°zDCã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹ &lt;img align="absmiddle" alt="âš " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;æ³¨æ„&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰DEFAULTï¼ˆYESï¼‰é€‰é¡¹ï¼Œæ¯ä¸ªLPARåªæœ‰ä¸€ä¸ªzDCã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªzDCçš„SUBSYSTEM_IDå¿…é¡»ç‹¬ä¸€æ— äºŒã€‚&lt;/li&gt;
&lt;li&gt;zDC STEPLIBä½¿ç”¨çš„åº“å¿…é¡»è¢«æˆæƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;å½“bootstrap Agent ç¬¬ä¸€æ¬¡è¿æ¥åˆ°å‡çº§åçš„Dynatrace Collector/Serverï¼Œä¼šè‡ªåŠ¨å‡çº§zLocal Agentã€‚å¦‚æœä½¿ç”¨z/OS UNIX Agentçš„ non-bootstrap ç‰ˆæœ¬ï¼Œä½ å¿…é¡»è¿è¡Œ COPYAGNTæ¥å¤åˆ¶æ–°ç‰ˆæœ¬åˆ°z/OS UNIXæ–‡ä»¶ç³»ç»Ÿçš„ç›¸åº”æ‰§è¡Œä½ç½®ã€‚å‚è€ƒä½äº&lt;strong&gt;å®‰è£…zDC&lt;/strong&gt;ä¸­çš„COPYAGNTæ­¥éª¤ï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å› ä¸ºDynatraceæ–°ç‰ˆæœ¬zDCå…¼å®¹è€çš„CICSå’ŒIMS agentsï¼Œä½ ä¸éœ€è¦ç«‹åˆ»å‡çº§æ‰€æœ‰çš„CICSåŒºåŸŸå’ŒIMSæ§åˆ¶åŒºåŸŸã€‚ç„¶è€Œï¼Œå¦‚æœä½ ç›‘æ§è·¨CICSåŒºåŸŸæˆ–IMSæ§åˆ¶åŒºåŸŸçš„äº‹åŠ¡ï¼Œè¿™äº›ç›¸å…³åŒºåŸŸåº”è¯¥agentç‰ˆæœ¬ç›¸åŒï¼Œå¦åˆ™ä¼šæœ‰æœªå®Œæˆçš„PurePathã€‚å› æ­¤ï¼ŒCICSåŒºåŸŸå’ŒIMSæ§åˆ¶åŒºåŸŸçš„å‡çº§åº”è¯¥è€ƒè™‘åº”ç”¨ç»„ç¾¤æ¥åšã€‚å°½æ—©è®¡åˆ’å‡çº§æ‰€æœ‰çš„CICSåŒºåŸŸå’ŒIMSæ§åˆ¶åŒºåŸŸï¼Œä»¥æ­¤æ¥ä½¿ç”¨æœ€æ–°Dynatraceç‰ˆæœ¬çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¦å‡çº§CICSåŒºåŸŸï¼Œä½¿ç”¨æ–°çš„PDSï¼ˆæˆ–å®ƒçš„å†…å®¹ï¼‰æ¥æ›¿æ¢è€çš„PDSï¼ˆæˆ–å®ƒçš„å†…å®¹ï¼‰DFHRPL concatenationã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;// DD DISP=SHR,DSN=&amp;lt;hlq&amp;gt;.LZDT6 30.SZDTLOAD&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¦å‡çº§IMSæ§åˆ¶åŒºåŸŸï¼Œåœ¨JCLï¼Œæ‰§è¡ŒIMS Agentæ³¨å…¥ç¨‹åºï¼ŒZDTIINSTï¼Œä½¿ç”¨æ–°çš„PDSï¼ˆæˆ–å®ƒçš„å†…å®¹ï¼‰æ¥æ›¿æ¢STEPLIB PDSï¼ˆæˆ–å®ƒçš„å†…å®¹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;// DD DISP=SHR,DSN=&amp;lt;hlq&amp;gt;.LZDT6 30.SZDTAUTH&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âš " class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;æ³¨æ„&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;STEPLIBä½¿ç”¨çš„åº“å¿…é¡»è¢«æˆæƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…³äºDynatraceç»„ä»¶å…¼å®¹æ€§åˆ—è¡¨ï¼Œè¯·å‚è€ƒ&lt;a href="https://community.compuwareapm.com/community/display/DOCDT56/zOS+Agent+Troubleshooting#zOSAgentTroubleshooting-MigrationTroubleshooting"&gt;è¿ç§»æ•…éšœæ’é™¤&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id="4_1"&gt;4 æœ€ç»ˆæ£€æŸ¥&lt;a class="headerlink" href="#4_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="41"&gt;4.1 æ£€æŸ¥é…ç½®&lt;a class="headerlink" href="#41" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;4.1.1 åº”ç”¨è‡ªå®šä¹‰é…ç½®ï¼Œä¸è¦è¢«è‡ªåŠ¨åŒ–çš„è¦†ç›–&lt;/h4&gt;
&lt;h5&gt;äº‹ä»¶è§„åˆ™å’Œåœæœºæ—¶é—´&lt;/h5&gt;
&lt;p&gt;ä½ éœ€è¦é‡æ–°å®šä¹‰Self-Monitoringç³»ç»Ÿé…ç½®æ–‡ä»¶çš„æ‰€æœ‰&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Incidents+and+Alerting"&gt;åœæœºæ—¶é—´&lt;/a&gt;å’Œ&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Incidents+and+Alerting"&gt;äº‹ä»¶è§„åˆ™&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h5&gt;åœ¨è‡ªå¸¦é¡¹ï¼šä¼ æ„Ÿå™¨åŒ… ä¸­é‡æ–°åº”ç”¨ä¿®æ”¹é¡¹&lt;/h5&gt;
&lt;p&gt;dynatrace-migrationä¸ä¼šè¿ç§»éšç€äº§å“å®‰è£…å’Œåˆ†å‘çš„é¡¹ï¼Œåƒæ˜¯å†…ç½®ä¼ æ„Ÿå™¨åŒ…ã€‚å› ä¸ºè¿™äº›åœ¨ä¸åŒç‰ˆæœ¬å¯èƒ½æœ‰æ”¹åŠ¨ï¼Œä½ ä¸åº”è¯¥ç®€å•å¯¼å‡ºå’Œå¯¼å…¥å®ƒä»¬ï¼Œè€Œæ˜¯åº”è¯¥é‡æ–°é…ç½®ç¼–è¾‘ã€‚&lt;/p&gt;
&lt;h5&gt;æ£€æŸ¥ç”¨æˆ·æ’ä»¶&lt;/h5&gt;
&lt;p&gt;åœ¨Dynatrace å®¢æˆ·ç«¯ï¼š&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server&lt;/strong&gt;ï¼Œæ£€æŸ¥æ˜¯å¦æ‰€æœ‰çš„æ’ä»¶è¢«è¿ç§»ï¼Œæ˜¯å¦éœ€è¦é‡æ–°å®‰è£…ã€‚&lt;/p&gt;
&lt;h5&gt;é‡æ–°å¯¼å…¥LDAPè®¤è¯&lt;/h5&gt;
&lt;p&gt;å¦‚æœé¢å¤–è®¤è¯ï¼ˆå¦‚ä¸ºLDAPåˆ›å»ºçš„CAæˆ–è‡ªç­¾åè¯ä¹¦ï¼‰è¢«å¯¼å…¥åˆ°Dynatraceçš„keystoreï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;server/conf/jssecacerts&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‡æ–°å¯¼å…¥è¯ä¹¦åˆ°æ–°çš„keystoreã€‚ä¸è¦å¤åˆ¶è€çš„keystoresï¼Œä»¥æ­¤æ¥é¿å…é€šè¿‡æ½œåœ¨çš„è¢«ç›—ç”¨çš„å…¬æœ‰è¯ä¹¦çš„å®‰å…¨æ¼æ´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨LDAPè¯ä¹¦çš„æ¡ˆä¾‹ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨Dynatraceæœ¬åœ°ç”¨æˆ·ç™»é™†å¹¶ç‚¹å‡»Dynatraceå®¢æˆ·ç«¯ï¼š&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;ç”¨æˆ·-&amp;gt;LDAP-&amp;gt;æµ‹è¯•è¿æ¥&lt;/strong&gt;æ¥é‡æ–°å¯¼å…¥ä¹‹å‰çš„è¯ä¹¦ã€‚&lt;/p&gt;
&lt;h3 id="42-dynatrace-server"&gt;4.2 ç¡®è®¤æ–°çš„Dynatrace Serverçš„è¿è¡Œ&lt;a class="headerlink" href="#42-dynatrace-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸ºç¡®ä¿æ–°çš„Serveræ­£å¸¸è¿è½¬ï¼ŒéªŒè¯ä¸‹åˆ—å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é©¾é©¶èˆ±-&amp;gt;çŠ¶æ€æ¦‚è¿°-&amp;gt;agentæ¦‚è¿°&lt;/strong&gt;ä¸­æ˜¾ç¤ºäº†æ‰€æœ‰çš„Agentsï¼š&lt;ul&gt;
&lt;li&gt;å·²è¿æ¥&lt;/li&gt;
&lt;li&gt;æœ‰æ•°æ®åˆ°è¾¾ï¼šæ°´å¹³æ»šåŠ¨æ¥éªŒè¯&lt;strong&gt;äº‹ä»¶è®¡æ•°&lt;/strong&gt; æˆ– &lt;strong&gt;ç±»åŠ è½½è®¡æ•°&lt;/strong&gt; ï¼ˆæˆ–2ä¸ªä¸€èµ·ï¼‰çš„å˜åŒ–&lt;/li&gt;
&lt;li&gt;å¦‚æœå®‰è£…äº†ï¼Œæœ‰æ­£ç¡®çš„Agentç‰ˆæœ¬ï¼ˆ6.5ï¼‰å’Œå‡çº§ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ‰PurePath&lt;/li&gt;
&lt;li&gt;ä»ªè¡¨æ¿æ­£ç¡®æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿ç§»äº†Sessionå­˜å‚¨ï¼Œå†å²æ•°æ®å¯ä»¥å±•ç°&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨è‡ªå®šä¹‰è¯ä¹¦ï¼Œé€šè¿‡Serverçš„&lt;a href="http://localhost:8020/"&gt;http://localhost:8020/&lt;/a&gt; ç«™ç‚¹æ¥éªŒè¯ã€‚&lt;/li&gt;
&lt;li&gt;éªŒè¯è¿™äº›æœåŠ¡å’Œè¿æœºå™¨å·¥ä½œï¼šEmailã€LDAPã€Proxyã€DC-RUMã€Gomez&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹&lt;strong&gt;å¼€å§‹ä¸­å¿ƒ -&amp;gt; ç®¡ç†&lt;/strong&gt;çš„å‘Šè­¦å’Œé”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="â˜‘" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2611.png" title=":ballot_box_with_check:" width="20px"&gt; &lt;strong&gt;æ­å–œï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿ç§»å®Œæˆï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="5"&gt;5 æ•…éšœæ’é™¤&lt;a class="headerlink" href="#5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="51"&gt;5.1 å¸¸è§é—®é¢˜&lt;a class="headerlink" href="#51" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;ä»€ä¹ˆç‰ˆæœ¬Agentåœ¨è¿è¡Œ&lt;/h4&gt;
&lt;p&gt;Server/Collectorå‡çº§åï¼ŒAgent bootstrap å‡çº§éƒ¨åˆ†ç°æœ‰Agentï¼Œä½†æ˜¯è€ç‰ˆæœ¬Agentsä¼šä¸€ç›´è¿è¡Œç›´åˆ°ä½ é‡å¯äº†åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¯·å‡†å¤‡ä¸€ä¸ªåº”ç”¨å±‚çš„é‡å¯è®¡åˆ’/åè°ƒã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨&lt;strong&gt;é©¾é©¶èˆ±-&amp;gt;Agentæ¦‚è¿°&lt;/strong&gt;é‡Œæ‰¾åˆ°Agentç‰ˆæœ¬ä¿¡æ¯ï¼ˆbootstrapå’Œæ´»åŠ¨éƒ¨åˆ†ï¼‰ã€‚&lt;/p&gt;
&lt;h4&gt;æˆ‘çš„æ€§èƒ½ä»“åº“DB schemaæ˜¯å“ªä¸ªç‰ˆæœ¬&lt;/h4&gt;
&lt;p&gt;å½“æ–°çš„Dynatrace Serverè¿æ¥åˆ°è€çš„æ€§èƒ½ä»“åº“DBæ—¶ï¼ŒDynatrace DB schemaè¢«å‡çº§ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä¸ç¡®å®šç‰ˆæœ¬ï¼Œåœ¨è¿æ¥å‰æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸ªå¥½ä¸»æ„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºSQL Serverï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;dynatrace6&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dbo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;version&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;æ€§èƒ½ä»“åº“DB schemaå‘åå…¼å®¹å—&lt;/h4&gt;
&lt;p&gt;ä¸å…¼å®¹ã€‚è¯·ä½¿ç”¨DBå¤‡ä»½è¿›è¡Œå›æ»šã€‚&lt;/p&gt;
&lt;h4&gt;å‡çº§åPurePathä¸¢å¤±&lt;/h4&gt;
&lt;p&gt;å¦‚æœå‡çº§æ—¶æ²¡æœ‰è¿ç§»ç±»ç¼“å­˜ï¼Œä¸”æœ‰ä¸¢å¤±çš„PurePathæˆ–è€…PurePathåŒ…å«&lt;code&gt;&amp;lt;unknown&amp;gt;&lt;/code&gt;èŠ‚ç‚¹ï¼Œå°è¯•é‡å¯ç›¸å…³åº”ç”¨ã€‚éœ€è¦é‡å¯&lt;strong&gt;2æ¬¡&lt;/strong&gt;æ¥é¿å…è¯¥é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4&gt;ä¸ºä»€ä¹ˆdtserver.iniå’Œdtfrontendserver.iniä¸­çš„å†…å­˜è®¾ç½®è¢«å¿½ç•¥ç”šè‡³ç§»é™¤&lt;/h4&gt;
&lt;p&gt;ä»Dynatrace 6.0å¼€å§‹ï¼Œâ€˜-Xmxâ€™å’Œâ€˜-Xmsâ€™ VMå‚æ•°è¢«å¿½ç•¥ã€‚è¯·é€šè¿‡&lt;strong&gt;è®¾ç½®-&amp;gt;Dynatrace Server-&amp;gt;è®¾ç½®é¢æ¿-&amp;gt;Sizing&lt;/strong&gt;æ¥é€‰æ‹©åˆé€‚çš„sizingã€‚æ›´å¤šä¿¡æ¯ï¼Œè§&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Sizing+Settings"&gt;Sizing è®¾ç½®&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id="52-dynatrace"&gt;5.2 Dynatrace æ”¯æŒ&lt;a class="headerlink" href="#52-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœéœ€è¦æ›´å¤šæ”¯æŒï¼Œè¯·è®¿é—®æˆ‘ä»¬çš„&lt;strong&gt;æ”¯æŒé¡µé¢&lt;/strong&gt;ã€‚&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 19:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-28-update-migrate-guide.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 27.Dynatrace Web å®¢æˆ·ç«¯ä½¿ç”¨è¯´æ˜</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-27-use-dynatrace-appmon-web-console.html</link><description>&lt;h2 id="1-dynatrace-appmon-web"&gt;1 Dynatrace AppMon Webç®¡ç†&lt;a class="headerlink" href="#1-dynatrace-appmon-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace AppMon Web æ˜¯ä¸€ä¸ªåŸºäºHTML5çš„é¡µé¢åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹é»˜è®¤åœ°å€è®¿é—®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://&amp;lt;servername&amp;gt;:9911&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;AppMon Webæ˜¯ç”¨äº&lt;strong&gt;æµè§ˆå™¨åˆ†è¾¨ç‡è‡³å°‘ä¸º1024Ã—768&lt;/strong&gt;çš„&lt;strong&gt;å¹³æ¿è®¾å¤‡&lt;/strong&gt;å’Œ&lt;strong&gt;æ¡Œé¢è®¾å¤‡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æœ€ä½³çš„ä½¿ç”¨ä½“éªŒï¼Œæ¨èä½¿ç”¨&lt;strong&gt;ç»è¿‡æµ‹è¯•çš„æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨&lt;/strong&gt;ï¼š IE11ã€Edgeã€Firefox 45+ã€Chrome 53+ã€Safari 9.1+ã€‚&lt;/p&gt;
&lt;p&gt;è€ç‰ˆæœ¬çš„Firefoxã€Chromeå’ŒSafariå¯ä»¥æ˜¾ç¤ºAppMon Webï¼Œä½†æ˜¯ä¸€äº›åŠŸèƒ½å¯èƒ½æ˜¾ç¤ºæ•ˆæœä¸ä½³ã€‚&lt;/p&gt;
&lt;h3 id="11"&gt;1.1 å®‰å…¨è¯ä¹¦å®‰è£…&lt;a class="headerlink" href="#11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å½“ç™»é™†AppMon Webæ—¶ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šæç¤ºå®‰å…¨è­¦å‘Šã€‚è¿™æ˜¯å› ä¸ºæµè§ˆå™¨æ— æ³•è¯†åˆ«AppMon Webå®‰å…¨è¯ä¹¦ã€‚å¦‚æœè¯¥ä¿¡æ¯å‡ºç°ï¼Œä½ å¯ä»¥åšä»¥ä¸‹æªæ–½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºæ‰€æœ‰çš„æµè§ˆå™¨ï¼Œä½ éƒ½å¯ä»¥å¿½ç•¥è¯¥å®‰å…¨è­¦å‘Šï¼Œå¹¶ç»§ç»­ç™»é™†AppMon Web&lt;/li&gt;
&lt;li&gt;å¯¹äºFirefoxï¼ŒIEå’ŒSafariï¼Œä½ å¯ä»¥æ·»åŠ Dynatraceè¯ä¹¦åˆ°æµè§ˆå™¨ä¿¡ä»»è¯ä¹¦åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;å¯¹äºChromeï¼Œä½ å¯ä»¥è¦æ±‚ä½ çš„ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…AppMon Webå®‰å…¨è¯ä¹¦åˆ°ä½ çš„ç³»ç»Ÿçš„keystoreã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="12"&gt;1.2 æ•°æ®å±•ç¤º&lt;a class="headerlink" href="#12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åªæœ‰åœ¨Dynatrace AppMon æ€§èƒ½ä»“åº“ä¸­çš„&lt;em&gt;live session&lt;/em&gt; æ•°æ®å¯ä»¥åœ¨Webä»ªè¡¨æ¿ä¸­å±•ç¤ºã€‚&lt;em&gt;Stored session&lt;/em&gt; æ•°æ®ï¼Œå¦‚ï¼šå†…å­˜å¿«ç…§ã€çº¿ç¨‹å¿«ç…§ã€CPUé‡‡æ ·ã€ä»¥å‰å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„Purepath Sessionæ˜¯ä¸èƒ½åœ¨webä»ªè¡¨æ¿ä¸­æ˜¾ç¤ºçš„ã€‚è€Œè¿™äº›æ•°æ®å¯ä»¥åœ¨AppMonå®¢æˆ·ç«¯ä»ªè¡¨æ¿ä¸­æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;h2 id="2"&gt;2 ä»ªè¡¨æ¿&lt;a class="headerlink" href="#2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»ªè¡¨æ¿æ˜¯ä¸€ä¸ªåœ¨è½¯ä»¶åº”ç”¨ç”Ÿå‘½å‘¨æœŸä¸­æ˜¾ç¤ºä¸åŒç”¨ä¾‹çš„è¯Šæ–­æ•°æ®çš„å¼ºåŠ›å·¥å…·ã€‚åœ¨ä»ªè¡¨æ¿ä¸­ï¼Œä½ å¯ä»¥ä¸ºä¸åŒé¢†åŸŸçš„ä¸“å®¶è¿‡æ»¤ã€èšåˆå’Œæ³¨é‡ŠPurePathç›¸å…³çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;AppMonå½“å‰æä¾›2ç§ç±»å‹çš„ä»ªè¡¨æ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯Œå®¢æˆ·ç«¯ä»ªè¡¨æ¿&lt;/li&gt;
&lt;li&gt;Web ä»ªè¡¨æ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»ªè¡¨æ¿ - å¯Œå®¢æˆ·ç«¯ vs Web è§ä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;h3 id="21-vs-web"&gt;2.1 ä»ªè¡¨æ¿ - å¯Œå®¢æˆ·ç«¯ vs Web&lt;a class="headerlink" href="#21-vs-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;2è€…å¾ˆå¤šæ¦‚å¿µæ˜¯ç›¸åŒçš„ï¼ˆå¦‚é€‰æ‹©ç³»ç»Ÿé…ç½®æ–‡ä»¶å’Œæ—¶é—´èŒƒå›´æ¥æ˜¾ç¤ºï¼Œè¿‡æ»¤å…¶ä»–çš„æ¡ä»¶ï¼Œåˆ›å»ºè‡ªå®šä¹‰...ï¼‰ã€‚å› ä¸ºwebä»ªè¡¨æ¿ä½¿ç”¨çš„æ˜¯&lt;strong&gt;ç£è´´é£æ ¼&lt;/strong&gt;ï¼Œè€Œå¯Œå®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯&lt;strong&gt;ä»ªè¡¨å›¾(dashlet)&lt;/strong&gt;,æ‰€ä»¥çœ‹èµ·æ¥å·®åˆ«ç›¸å½“æ˜æ˜¾ã€‚&lt;/p&gt;
&lt;h4&gt;å¯Œå®¢æˆ·ç«¯ä»ªè¡¨æ¿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Dynatraceå¯Œå®¢æˆ·ç«¯çš„ä¼ ç»Ÿä¿¡æ¯ã€åˆ†æå±•ç°å½¢å¼æ˜¯ä»ªè¡¨æ¿ã€‚&lt;/li&gt;
&lt;li&gt;å› ä¸º6.5ç§å¾ˆå¤šä»ªè¡¨æ¿åªæœ‰å¯Œå®¢æˆ·ç«¯å¯ç”¨å¹¶ä¸”é…ç½®æ›´å¤šï¼Œæ‰€ä»¥å»ºè®®&lt;ul&gt;
&lt;li&gt;å®‰è£…ä¸€ä¸ªç»¿è‰²ç‰ˆçš„å®¢æˆ·ç«¯åœ¨ç”µè„‘è®¾å¤‡ä¸Šï¼Œå¹¶è¿æ¥åˆ°AppMon Server&lt;/li&gt;
&lt;li&gt;ä¸ºäº†æŒç»­ä½¿ç”¨ï¼Œå’Œæ›´ä¸°å¯Œçš„é…ç½®ï¼Œè¯·å®‰è£…å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯ä»¥å­˜å‚¨åœ¨AppMon Serverä¸Šå¹¶å…±äº«ä»ªè¡¨æ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Web ä»ªè¡¨æ¿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¢‘ç¹ä½¿ç”¨çš„ä»ªè¡¨æ¿ç”¨æµè§ˆå™¨ï¼Œæ›´æ–¹ä¾¿æŸ¥çœ‹&lt;/li&gt;
&lt;li&gt;ä¸éœ€è¦å®‰è£…ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€(&lt;code&gt;https://&amp;lt;DynatraceServer&amp;gt;:9911&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ç§»åŠ¨è®¾å¤‡è§‚æ„Ÿè‰¯å¥½&lt;/li&gt;
&lt;li&gt;æœ‰å…³é”®ä»ªè¡¨æ¿å¦‚äº‹åŠ¡æµ&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥é€šè¿‡URLï¼ˆæˆ–åœ¨AppMon Serverä¸Šçš„ä¸€ä¸ªè´¦æˆ·å’Œæƒé™ï¼‰æ¥å…±äº«è¿™äº›ä»ªè¡¨æ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="22-web"&gt;2.2 Webä»ªè¡¨æ¿&lt;a class="headerlink" href="#22-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AppMon Webä½¿ç”¨æœ€æ–°çš„webæŠ€æœ¯æ¥æ˜¾ç¤ºç›´è§‚å’Œå¯è§†åŒ–çš„æ¼‚äº®ä»ªè¡¨æ¿ï¼Œæ˜¾ç¤ºå†…å®¹åŒ…æ‹¬ï¼šåº”ç”¨æ€§èƒ½ã€å…³é”®åŸºç¡€æ¶æ„æŒ‡æ ‡ã€‚AppMon Webæœ‰ä»¥ä¸‹åŠŸèƒ½å’Œä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;h4&gt;å¹¿æ³›é€‚ç”¨çš„ä»ªè¡¨æ¿&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;App Owner&lt;/strong&gt; ä»ªè¡¨æ¿æä¾›åº”ç”¨æ€§èƒ½æ¦‚è§ˆè§†å›¾ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;strong&gt;Operation&lt;/strong&gt;ä»ªè¡¨æ¿è¿…é€Ÿå®šä½å’Œæµè§ˆåŸºç¡€æ¶æ„é—®é¢˜ã€‚å¯ä»¥å…±äº«ä»»ä½•ä»ªè¡¨æ¿ç»™ç”¨æˆ·æ¥äº¤æµé—®é¢˜ï¼Œå¹¶å¸®åŠ©ä½ å’Œå…¶ä»–äººä¿æŒæœ‰å…±åŒçš„è§†å›¾é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;Webä»ªè¡¨æ¿ä¼šæ˜¾ç¤ºä½ åº”ç”¨æ€§èƒ½å’Œç³»ç»Ÿå¥åº·ã€é”™è¯¯å’Œå¤±è´¥ç­‰çš„å…³é”®æŒ‡æ ‡ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥æ‹‰å–ä½ éœ€è¦çš„ä»»ä½•æ•°æ®ï¼Œå¹¶ä»¥æ­¤æ¥åˆ›å»ºè‡ªå®šä¹‰çš„ä»ªè¡¨æ¿ã€‚åœ¨è‡ªå®šä¹‰ä»ªè¡¨æ¿ä¸­ä»¥é€šè¿‡ä¸ªæ€§åŒ–çš„æ‹–æ‹½æ¥å®‰æ’ç£è´´æ’åˆ—ã€‚ç”šè‡³å¯ä»¥é€‰æ‹©è‡ªå®šä¹‰çš„HTMLå’ŒJavaScriptèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation ä»ªè¡¨æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Operationä»ªè¡¨æ¿æä¾›äº†å¯¹ç³»ç»Ÿå¥åº·çŠ¶æ€çš„ä¸€ç«™å¼æŸ¥çœ‹ã€‚Operationä»ªè¡¨æ¿å’Œå®ƒçš„è¯¦ç»†è§†å›¾åŒ…æ‹¬å…³é”®åŸºç¡€æ¶æ„æŒ‡æ ‡æ¥å¸®åŠ©ä½ å‘ç°é—®é¢˜çƒ­ç‚¹ã€‚å¹¶æä¾›åˆ†æå’Œè§£å†³é—®é¢˜çš„èµ·å§‹ç‚¹ã€‚ä½ å¯ä»¥å…±äº«ä»»ä½•è¿ç»´æ•°æ®ç»™æ”¶åˆ°è¯¥ç³»ç»Ÿå¥åº·é—®é¢˜å½±å“çš„ä»»ä½•å›¢é˜Ÿã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“è§&lt;strong&gt;Webä»ªè¡¨æ¿çš„åŸºç¡€æ¶æ„ç›‘æ§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å†…ç½®Web ä»ªè¡¨æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™äº›å†…ç½®ä»ªè¡¨æ¿åŒ…æ‹¬ä¸»æœºèµ„æºä½¿ç”¨ç‡ã€é”™è¯¯å’Œå¤±è´¥ã€åº”ç”¨æ€§èƒ½å’Œç³»ç»Ÿå¥åº·çŠ¶æ€ç­‰ä¿¡æ¯ï¼Œè¿™äº›ä»ªè¡¨æ¿ä¹Ÿä¸ºé…ç½®è‡ªå®šä¹‰ä»ªè¡¨æ¿æä¾›äº†å¾ˆå¥½çš„å‚è€ƒã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“è§ä¸‹æ–‡&lt;strong&gt;å†…ç½®ä»ªè¡¨æ¿&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä½ çš„æ•°æ®å’Œå›¢é˜Ÿè‡ªå®šä¹‰Webä»ªè¡¨æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä½ éœ€è¦çš„æ•°æ®çš„è‡ªå®šä¹‰ä»ªè¡¨æ¿ï¼Œæ¥ç›‘æ§å’Œé˜²æ­¢é—®é¢˜å‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ‹–æ‹½ç¼–è¾‘å™¨ï¼Œä»ä¸€ç³»åˆ—çš„ç£è´´é£æ ¼ä¸­é€‰æ‹©ä¸€ä¸ªåˆ›å»ºè‡ªå®šä¹‰çš„ä»ªè¡¨æ¿å¸ƒå±€ã€‚æ¯ä¸ªç£è´´éƒ½å¯ä»¥è°ƒæ•´ä¸ºä½ æƒ³è¦çš„å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸€ä¸ªç‹¬æœ‰çš„URLæˆ–è€…é€šè¿‡åŒ…å«åœ¨æŠ¥å‘Šæˆ–å±•ç¤ºä¸­çš„æˆªå›¾å›¾ç‰‡æ¥å’Œä½ å›¢é˜Ÿçš„å…¶ä»–æˆå‘˜å…±äº«ä½ çš„è‡ªå®šä¹‰web ä»ªè¡¨æ¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-38-08.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰webä»ªè¡¨æ¿&lt;/strong&gt; å’Œ &lt;strong&gt;å…±äº«webä»ªè¡¨æ¿&lt;/strong&gt;è§ä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;h4&gt;æ˜“äºåˆä½œ&lt;/h4&gt;
&lt;p&gt;ä¸€èµ·å·¥ä½œæ›´å®¹æ˜“ã€‚AppMon Webè®©ä½ è½»æ¾å…±äº«webä»ªè¡¨æ¿ã€‚ä½ çš„APMå›¢é˜Ÿå¯ä»¥è‡ªå®šä¹‰å›¾è¡¨æ¥æä¾›åŸºç¡€æ¶æ„å¥åº·çŠ¶æ€ï¼Œåº”ç”¨æ€§èƒ½çš„ç›‘æ§ã€‚ä½ ä¹Ÿå¯ä»¥å¯¼å‡ºä¸€ç»„ä»ªè¡¨æ¿ï¼Œè¿™æ ·å…¶ä»–äººå¯ä»¥å¯¼å…¥å®ƒä»¬ï¼Œæˆ–è€…å¤åˆ¶è¿™äº›ä»ªè¡¨æ¿å¹¶ä¿®æ”¹æ¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚ã€‚è¿™è®©å›¢é˜Ÿé—´æ›´å®¹æ˜“ä¸€èµ·å·¥ä½œï¼Œå¹¶åŠ å¼ºå›¢é˜Ÿæˆå‘˜åˆä½œï¼Œå¸®åŠ©å›¢é˜Ÿæˆå‘˜æœ‰å…±åŒçš„ç›‘æ§é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;æ›´å¤šå†…å®¹è§&lt;strong&gt;å…±äº« webä»ªè¡¨æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;è®¿é—®AppMon web&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¿…è¦çš„æƒé™&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;AppMon Web çš„ç™»é™†ï¼Œéœ€è¦AppMon ç”¨æˆ·è‡³å°‘å…·æœ‰â€œUse System Profile in Dynatrace Webâ€çš„æƒé™ã€‚å¦ä¸€ä¸ªè¦ç‚¹ï¼Œå¯¹äºç‰¹å®šçš„webä»ªè¡¨æ¿éœ€è¦éå¸¸å…³é”®çš„æƒé™â€œRead Confidential Stringsâ€ã€‚&lt;/p&gt;
&lt;h4&gt;å†…ç½®ä»ªè¡¨æ¿&lt;/h4&gt;
&lt;p&gt;å†…ç½®webä»ªè¡¨æ¿è‡ªåŠ¨å…±äº«ç»™æ‰€æœ‰å¯ä»¥è®¿é—®ä»ªè¡¨æ¿çš„ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Dynatrace Webï¼Œç‚¹å‡»&lt;strong&gt;ä»ªè¡¨æ¿&lt;/strong&gt;æŒ‰é’®ï¼Œç„¶åç‚¹å‡»&lt;strong&gt;Shared&lt;/strong&gt;æ ‡ç­¾é¡µï¼Œä¼šçœ‹åˆ°ä¸€ç³»åˆ—çš„å†…ç½®ä»ªè¡¨æ¿ã€‚å†…ç½®ä»ªè¡¨æ¿çš„åˆ›å»ºè€…ä¸º&lt;strong&gt;Dynatrace&lt;/strong&gt;ï¼ŒåŒ…æ‹¬ä¸‹åˆ—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application overview&lt;/li&gt;
&lt;li&gt;CDN &amp;amp; 3rd party performance&lt;/li&gt;
&lt;li&gt;Errors &amp;amp; failures overview&lt;/li&gt;
&lt;li&gt;Host resource allocation&lt;/li&gt;
&lt;li&gt;Mobile overview&lt;/li&gt;
&lt;li&gt;User behavior analytics&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âœ”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; å…±äº«ä»ªè¡¨æ¿åˆ—è¡¨é¡µåŒ…æ‹¬æœ‰å…¶ä»–ç”¨æˆ·å…±äº«çš„ä»ªè¡¨æ¿ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-39-22.png"&gt;&lt;/p&gt;
&lt;h4&gt;è‡ªå®šä¹‰Webä»ªè¡¨æ¿&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ¦‚è§ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰webä»ªè¡¨æ¿æ¥å¯è§†åŒ–ä½ å…³æ³¨çš„æ•°æ®ã€‚ç‚¹å‡»&lt;strong&gt;ä»ªè¡¨æ¿&lt;/strong&gt;æŒ‰é’®ï¼Œåœ¨&lt;strong&gt;My dashboards&lt;/strong&gt;é‡Œè®¿é—®è‡ªå®šä¹‰çš„webä»ªè¡¨æ¿ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰ä»ªè¡¨æ¿æ˜¯ç§äººçš„ï¼Œé™¤éä½ æŠŠå¯¹åº”çš„URLå…±äº«ç»™å…¶ä»–äººã€‚é€šè¿‡å…±äº«é“¾æ¥æ‰“å¼€webä»ªè¡¨æ¿éœ€è¦Dynatraceç”¨æˆ·è´¦æˆ·å¹¶ç™»é™†ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–é‡è¦åŠŸèƒ½å’Œæ³¨æ„äº‹é¡¹åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªå®šä¹‰webä»ªè¡¨æ¿åªæ˜¾ç¤ºlive sessionæ•°æ®ã€‚ä¸æ˜¾ç¤ºstored sessionæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€æ—¶é—´è®¾ç½®é€‚ç”¨äºä»ªè¡¨æ¿çš„æ‰€æœ‰ç£è´´ã€‚è‡ªåŠ¨åˆ·æ–°é¢‘ç‡é»˜è®¤æ˜¯1 minã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªä»ªè¡¨æ¿æœ€å¤šå…è®¸æœ‰16ä¸ªç£è´´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-41-13.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‡†å¤‡å·¥ä½œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºè‡ªå®šä¹‰web ä»ªè¡¨æ¿ä¹‹å‰ï¼Œè¯†åˆ«å¹¶åˆ›å»ºåŒ…å«ä½ æƒ³æ˜¾ç¤ºåœ¨ä»ªè¡¨æ¿ä¸Šçš„measureæˆ–business transactionä¿¡æ¯ã€‚åˆ›å»ºmeasureå’Œbusiness transactionéœ€è¦ä½¿ç”¨AppMon Clientã€‚&lt;/p&gt;
&lt;p&gt;å½“åˆ›å»ºä½ çš„ä»ªè¡¨æ¿å¸ƒå±€æ—¶ï¼Œä½ å¯ä»¥ä»¥ç½‘æ ¼çš„å½¢å¼çµæ´»å®‰æ’16ä¸ªç£è´´çš„ä½ç½®å’Œå¤§å°ã€‚ç£è´´å¯ä»¥å˜ä¸ºéœ€è¦æ˜¾ç¤ºæ•°æ®çš„åˆé€‚çš„å¤§å°ã€‚ä»ªè¡¨æ¿ç½‘æ ¼å¸ƒå±€æ”¯æŒæœ€å¤§å®½åº¦ä¸º4ç£è´´åˆ—ï¼Œæœ€å¤§é«˜åº¦ä¸º4ç£è´´è¡Œã€‚ç£è´´ä¸èƒ½å †å ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è‡ªå®šä¹‰å¸ƒå±€ - æ‹–æ‹½æ¥æ”¹å˜ç£è´´å¸ƒå±€å’Œå¤§å°&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-41-53.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-42-13.png"&gt;&lt;/p&gt;
&lt;h5&gt;åˆ›å»ºè‡ªå®šä¹‰webä»ªè¡¨æ¿&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;ä»ªè¡¨æ¿&lt;/strong&gt;æŒ‰é’®ï¼Œåœ¨&lt;strong&gt;My dashboards&lt;/strong&gt;é‡Œè®¿é—®è‡ªå®šä¹‰çš„webä»ªè¡¨æ¿ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;Add dashboard&lt;/strong&gt;æŒ‰é’®ã€‚&lt;/li&gt;
&lt;li&gt;å‘½åä»ªè¡¨æ¿ï¼Œç„¶åé€‰æ‹©ç³»ç»Ÿé…ç½®æ–‡ä»¶å’Œæ•°æ®æ—¶é—´æ®µã€‚æ—¶é—´æ®µå†³å®šäº†ä½ çš„ä»ªè¡¨æ¿æ˜¾ç¤ºçš„æ•°æ®ã€‚è¿™ä¸ªå€¼åº”ç”¨äºå…¨å±€çš„æ¯ä¸ªç£è´´ã€‚&lt;/li&gt;
&lt;li&gt;å¯é€‰ï¼Œåœ¨&lt;strong&gt;Dashboard name&lt;/strong&gt;æ—è¾¹ç‚¹å‡»æ·»åŠ logoå›¾æ ‡ï¼Œè¾“å…¥ä½ å–œæ¬¢çš„logoçš„URLã€‚logoä¼šæ›¿æ¢æ‰é»˜è®¤çš„å›¾æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»é»˜è®¤ç£è´´çš„&lt;strong&gt;Edit title&lt;/strong&gt;ã€‚&lt;strong&gt;Tile configurator&lt;/strong&gt;å‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®ç£è´´ã€‚å‚è§ &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Tile+Types"&gt;Tile Types&lt;/a&gt;, &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Add+and+Edit+Measures"&gt;Editing a Measure&lt;/a&gt;, and the &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Web+Dashboard+Timeframe+and+Resolution"&gt;Timeframe and Resolution&lt;/a&gt; æŸ¥çœ‹æ¯ç§ç£è´´ç±»å‹çš„å…·ä½“é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;Done&lt;/strong&gt;æ¥å…³é—­Tile configurator å¹¶è¿”å›dashboard editor&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»åœ¨å³ä¸Šè§’çš„&lt;strong&gt;Done&lt;/strong&gt;æ¥æŸ¥çœ‹ä»ªè¡¨æ¿ã€‚æ¯ä¸ªä»ªè¡¨æ¿éƒ½å¯ä»¥ç‚¹å‡»æœ€å¤§åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½ å¯ä»¥å¤åˆ¶è‡ªå®šä¹‰ä»ªè¡¨æ¿ï¼Œä»¥åŠå…±äº«è‡ªå®šä¹‰ä»ªè¡¨æ¿ç»™å…¶ä»–äººã€‚ä»&lt;strong&gt;My dashboards&lt;/strong&gt;é‡Œé€‰æ‹©ä½ æƒ³è¦å¤åˆ¶ï¼Œç‚¹å‡»&lt;strong&gt;More Actions&lt;/strong&gt;æŒ‰é’®,é€‰æ‹©&lt;strong&gt;Copy&lt;/strong&gt;ã€‚åœ¨å‡ºç°çš„ä»ªè¡¨æ¿ä¸­ï¼Œå‘½åè¯¥ä»ªè¡¨æ¿ï¼Œå¹¶ç‚¹å‡»&lt;strong&gt;Copy and open&lt;/strong&gt;ã€‚ä»ªè¡¨æ¿å‰¯æœ¬ä¼šæ˜¾ç¤ºåœ¨&lt;strong&gt;My tab&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âœ”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; &lt;strong&gt;Tip&lt;/strong&gt;:é»˜è®¤å¤åˆ¶çš„ä»ªè¡¨æ¿ä¼šå‘½åä¸º [copied dashboard name] - Copyã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŸ¥çœ‹ &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Share+Web+Dashboards"&gt;å…±äº«Web Dashboards&lt;/a&gt;è·å–å…±äº«è‡ªå®šä¹‰ä»ªè¡¨æ¿çš„æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h5&gt;ç£è´´ç±»å‹&lt;/h5&gt;
&lt;p&gt;The following list describes the available tile types that you can add to a custom web dashboard.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Tile Type&lt;/th&gt;
&lt;th&gt;Use&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åŒè½´çº¿å½¢/æŸ±çŠ¶å›¾ &amp;amp; åŒè½´æŸ±çŠ¶/çº¿å½¢å›¾&lt;/td&gt;
&lt;td&gt;å¯è§†åŒ–ä¸¤ä¸ªæ•°æ®ç³»åˆ—æˆ–æ··åˆç±»å‹æ•°æ®çš„å€¼çš„å¹¿æ³›å·®å¼‚     &lt;strong&gt;æç¤º:&lt;/strong&gt; å¯¹äº &lt;strong&gt;åŒè½´çº¿å½¢/æŸ±çŠ¶å›¾&lt;/strong&gt;, å·¦yè½´æ˜¾ç¤ºä¸ºçº¿å½¢å›¾ï¼Œå³yè½´æ˜¾ç¤ºä¸ºæŸ±çŠ¶å›¾ã€‚ å¯¹äº &lt;strong&gt;åŒè½´æŸ±çŠ¶/çº¿å½¢å›¾&lt;/strong&gt;, æ­£ç›¸åã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å †ç§¯ç™¾åˆ†æ¯”æŸ±çŠ¶å›¾&lt;/td&gt;
&lt;td&gt;ä»¥éƒ¨åˆ†å¯¹æ•´ä¸ªç³»åˆ—ä½œå‡ºè´¡çŒ®çš„æ¯ä¸ªå€¼çš„ç™¾åˆ†æ¯”æ¥æ¯”è¾ƒä¸€ç³»åˆ—ä¸­çš„éƒ¨åˆ†ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é¥¼å›¾&lt;/td&gt;
&lt;td&gt;ç»˜åˆ¶å•ä¸ªæ•°æ®åºåˆ—ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é¢ç§¯å›¾/å †ç§¯é¢ç§¯å›¾&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;é¢ç§¯å›¾&lt;/strong&gt; -å°†ä¸€ä¸ªç³»åˆ—ä½œä¸ºç‹¬ç«‹å€¼æ˜¾ç¤ºå‡ºæ¥ï¼Œ è¿™å¯¹äºå¯è§†åŒ–å¤šä¸ªæ•°æ®ç³»åˆ—ä¹‹é—´çš„ç›¸å¯¹å·®å¼‚å¾ˆæœ‰ç”¨ã€‚&lt;strong&gt;å †ç§¯é¢ç§¯å›¾&lt;/strong&gt; - å¯è§†åŒ–åŒ…å«æ•°æ®ç³»åˆ—çš„æ¯ä¸ªéƒ¨åˆ†çš„ç™¾åˆ†æ¯”ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•°å­—ä»ªè¡¨&lt;/td&gt;
&lt;td&gt;åœ¨æµ‹é‡å€¼ä¹‹é—´ç›¸å¯¹åœ°æ¯”è¾ƒæ¥å¯è§†åŒ–å’Œåˆ†ææ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç™¾åˆ†ä½å›¾&lt;/td&gt;
&lt;td&gt;åœ¨æ‰€é€‰æ—¶é—´èŒƒå›´å†…ï¼Œä»¥0åˆ°100çš„ç™¾åˆ†ä½æ•°åˆ†ææ•°æ®ç³»åˆ—ã€‚&lt;strong&gt;Tip:&lt;/strong&gt;  å¦‚æœå›¾è¡¨æœ‰è®¸å¤šæµ‹é‡ï¼Œåˆ™ä½¿ç”¨å¯¹æ•°yè½´æ¥å¢åŠ å¯è¯»æ€§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;äº¤é€šç¯å›¾&lt;/td&gt;
&lt;td&gt;é€šè¿‡äº¤é€šç¯æ¥æŸ¥çœ‹æ˜¯å¦è¶…å‡ºé˜ˆå€¼:&lt;strong&gt;OK&lt;/strong&gt; - è¡¨ç¤ºæ²¡æœ‰è¶…å‡ºé˜ˆå€¼.&lt;strong&gt;Problem&lt;/strong&gt; - è¡¨ç¤ºé€‰ä¸­æ—¶é—´å†…å·²ç»è¶…å‡ºä¸¥é‡é˜ˆå€¼ã€‚&lt;strong&gt;Warning&lt;/strong&gt; - è¡¨ç¤ºé€‰ä¸­æ—¶é—´å†…å·²ç»è¶…å‡ºè­¦å‘Šé˜ˆå€¼ã€‚Notesï¼šæ‰€é€‰çš„æµ‹é‡å¿…é¡»å…·æœ‰é˜ˆå€¼æŒ‡æ ‡ã€‚æ ¹æ®é…ç½®çš„èšåˆè®¡ç®—é˜ˆå€¼è¿è§„çŠ¶æ€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guage Chart&lt;/td&gt;
&lt;td&gt;å•ä¸ªé…ç½®çš„æµ‹é‡ç»“æœï¼Œç”¨ç»„åˆçš„ç”œç”œåœˆå›¾å’Œé¥¼å›¾åˆ—å‡ºã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æµ‹é‡&lt;/td&gt;
&lt;td&gt;åœ¨æµ‹é‡ä¹‹é—´ç”¨ç›¸å¯¹æ¯”è¾ƒçš„æ–¹å¼å¯è§†åŒ–æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸šåŠ¡åˆ†æ&lt;/td&gt;
&lt;td&gt;æŸ¥çœ‹é€‰ä¸­çš„ä¸šåŠ¡åˆ†æçš„æŒ‡æ ‡ï¼ˆå“åº”æ—¶é—´ï¼Œå¤±è´¥ç‡ï¼Œååé‡ï¼‰ã€‚è¿™ä¸ªå›¾å¯ä»¥äº¤äº’ï¼Œæ¯ä¸ªæŒ‡æ ‡éƒ½æœ‰æ˜¾ç¤ºï¼Œä½ å¯ä»¥é€‰æ‹©é»˜è®¤æ˜¾ç¤ºé‚£ä¸ªæŒ‡æ ‡ã€‚Notesï¼š å¦‚æœé€‰ä¸­çš„æŒ‡æ ‡æ²¡æœ‰é…ç½®ä¸ºä¸šåŠ¡åˆ†æï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤º&lt;strong&gt;N/A&lt;/strong&gt;ã€‚ è¯¥ç£è´´ä¸æ”¯æŒä¸šåŠ¡åˆ†æçš„è‡ªå®šä¹‰åº¦é‡å€¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸šåŠ¡åˆ†æåˆ—è¡¨&lt;/td&gt;
&lt;td&gt;åœ¨ä¸€ä¸ªåˆ—è¡¨é‡ŒæŸ¥çœ‹ä¸šåŠ¡åˆ†æçš„æ‹†åˆ†å€¼ï¼Œè®¡ç®—ç»“æœï¼Œèšåˆç±»å‹ (å¦‚æ€»å’Œï¼Œå¹³å‡ï¼Œæœ€å¤§å€¼)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;World Map&lt;/td&gt;
&lt;td&gt;Notesï¼šæ— UEM licenseæ— æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Image&lt;/td&gt;
&lt;td&gt;é€šè¿‡URLæ˜¾ç¤ºå›¾ç‰‡ã€‚&lt;strong&gt;Tip:&lt;/strong&gt;  å›¾ç‰‡å¤§å°è¿‡å¤§ä¼šå‹ç¼©ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤–éƒ¨å†…å®¹&lt;/td&gt;
&lt;td&gt;åœ¨ä¸€ä¸ªweb ä»ªè¡¨æ¿çš„ç£è´´ä¸­æŸ¥çœ‹URLé‡Œçš„å†…å®¹å’Œä¿¡æ¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å‘Šè­¦&lt;/td&gt;
&lt;td&gt;è·å–ä¸€ä¸ªæˆ–å¤šä¸ªé…ç½®çš„äº‹ä»¶æ¡ä»¶çš„ç»“æœçš„ä¸€è§ˆè¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Synthetic Tests&lt;/td&gt;
&lt;td&gt;Notesï¼šéœ€è¦ä¸Dynatraceçš„Syntheticäº§å“æ•´åˆã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ–‡æœ¬å’Œæµ‹é‡&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;æ·»åŠ å’Œç¼–è¾‘æµ‹é‡&lt;/h5&gt;
&lt;p&gt;æµ‹é‡æ˜¯å›¾è¡¨æ•°æ®çš„æ¥æºã€‚ä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªæµ‹é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ·»åŠ å’Œç¼–è¾‘æµ‹é‡&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€Tile Configuratorï¼Œç‚¹å‡»&lt;strong&gt;Add Measure&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥æ‰¾æˆ–æµè§ˆè¦æ·»åŠ çš„æµ‹é‡ï¼Œç„¶åç‚¹å‡»æµ‹é‡åˆ—è¡¨åº•éƒ¨çš„&lt;strong&gt;Done&lt;/strong&gt;æŒ‰é’®ã€‚&lt;/li&gt;
&lt;li&gt;æ·»åŠ æµ‹é‡åï¼Œç‚¹å‡»æ—è¾¹çš„&lt;strong&gt;Edit&lt;/strong&gt;æŒ‰é’®æ¥ä¿®æ”¹æµ‹é‡çš„æ˜¾ç¤ºåç§°ï¼Œèšåˆæ–¹æ³•ï¼Œæ‹†åˆ†å€¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-44-12.png"&gt;&lt;/p&gt;
&lt;h5&gt;webä»ªè¡¨æ¿æ—¶é—´èŒƒå›´å’Œè§£æåº¦&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;æ—¶é—´èŒƒå›´&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-44-34.png"&gt;&lt;/p&gt;
&lt;p&gt;â€œæ—¶é—´è¡¨â€ä¸‹æ‹‰åˆ—è¡¨å¯åœ¨æ‰€æœ‰ç½‘é¡µä¿¡æ¯ä¸­å¿ƒçš„é¡¶éƒ¨æ˜¾ç¤ºï¼Œå¹¶æ˜¾ç¤ºå½“å‰ç”¨äºä»ªè¡¨æ¿çš„æ—¶é—´èŒƒå›´ã€‚ç‚¹å‡»ä¸‹æ‹‰åˆ—è¡¨ï¼Œä½¿ç”¨&lt;strong&gt;Quickï¼ŒRelativeï¼ŒCustom&lt;/strong&gt;æ ‡ç­¾é¡µæ¥è®¾ç½®webä»ªè¡¨æ¿è¦æ˜¾ç¤ºçš„æ—¶é—´èŒƒå›´ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Quick&lt;/strong&gt;: ç‚¹å‡»Quickæ ‡ç­¾é¡µæ¥ä½¿ç”¨æ ¹æ®å½“å‰æ—¶é—´çš„ç›¸å¯¹æ—¶é—´åç§»ï¼Œæˆ–è€…è®¾ç½®æ—¶é—´èŒƒå›´ä¸º&lt;strong&gt;Today&lt;/strong&gt;æˆ–&lt;strong&gt;Yesterday&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Relative&lt;/strong&gt;ï¼šè®¾ç½®ä»15minåˆ°999å¤©çš„æ—¶é—´èŒƒå›´ï¼Œå¯ä»¥ä»å½“å‰æ—¶é—´å¼€å§‹ï¼Œæˆ–è€…ä»è¿‡å»çš„15 minåˆ°999å¤©ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Custom&lt;/strong&gt;ï¼šç‚¹å‡»Custom startå’Œ Custom endï¼Œé€šè¿‡å¼¹å‡ºçš„æ—¥å†æ¡†æ¥é€‰æ‹©æ—¶é—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€æœ‰ä»ªè¡¨æ¿çš„æ—¶é—´èŒƒå›´æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸ºæ‰€æœ‰ç£è´´ä»¥1åˆ†é’Ÿçš„é—´éš”è‡ªåŠ¨åˆ·æ–°ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®æ‚¨é€‰æ‹©çš„æµ‹é‡ä¸­çš„æ•°æ®é‡ï¼Œå°†æ—¶é—´èŒƒå›´å¢åŠ åˆ°æ›´é•¿çš„æ—¶é—´æ®µï¼ˆå¦‚30å¤©ï¼‰å¯èƒ½ä¼šå¯¼è‡´Webä»ªè¡¨æ¿å†…å®¹çš„å‘ˆç°è½»å¾®å»¶è¿Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å›¾è¡¨è§£æåº¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-44-55.png"&gt;&lt;/p&gt;
&lt;p&gt;å›¾è¡¨åˆ†è¾¨ç‡ä¸‹æ‹‰åˆ—è¡¨å®šä¹‰äº†æ˜¾ç¤ºåœ¨ä»ªè¡¨æ¿å›¾å—ä¸Šçš„æ•°æ®ç‚¹ä¹‹é—´çš„é—´éš”ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ†è¾¨ç‡è®¾ç½®ä¸ºæ‰€é€‰ä»ªè¡¨æ¿æ—¶é—´èŒƒå›´çš„æœ€ä½³é—´éš”å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»ªè¡¨æ¿çš„æ—¶é—´èŒƒå›´ä¸º1å°æ—¶ï¼Œåˆ™åˆ†è¾¨ç‡å°†è‡ªåŠ¨è®¾ç½®ä¸º1åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark: æ‰€é€‰ä»ªè¡¨æ¿æ—¶é—´æ¡†æ¶çš„æœ€ä½³é—´éš”å€¼åœ¨â€œåˆ†è¾¨ç‡â€åˆ—è¡¨ä¸­å§‹ç»ˆæ˜¾ç¤ºä¸ºâ€œè‡ªåŠ¨â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‚¨å¯ä»¥è°ƒæ•´åˆ†è¾¨ç‡ä»¥å¢åŠ æˆ–å‡å°‘å›¾è¡¨ä¸Šçš„æ•°æ®ç‚¹æ•°ï¼Œä½†æ˜¯ï¼Œè¯·è®°ä½ï¼Œåœ¨è®¾ç½®è‡ªå®šä¹‰åˆ†è¾¨ç‡å€¼åæ›´æ”¹ä»ªè¡¨æ¿çš„æ—¶é—´èŒƒå›´å¯èƒ½ä¼šä½¿æ‚¨çš„æ•°æ®å¤±çœŸï¼Œä»è€Œéš¾ä»¥è§£è¯»ã€‚æ­¤å¤–ï¼Œæ•°æ®ç‚¹è®¡ç®—æ˜¯ç›¸å¯¹äºå‰ä¸€ä¸ªæ•°æ®ç‚¹è€Œä¸æ˜¯æ—¶é—´å¸§çš„ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹ã€‚å› æ­¤ï¼Œå¢åŠ åˆ†è¾¨ç‡è¿˜ä¼šå¢åŠ æ¯ä¸ªæ•°æ®ç‚¹çš„ä»»ä½•èšåˆå€¼ï¼Œå› ä¸ºåœ¨ç»™å®šé—´éš”å†…æœ‰æ›´å¤šçš„æ•°æ®ç‚¹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âœ”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; &lt;strong&gt;Tip:&lt;/strong&gt;ä½œä¸ºæœ€ä½³å®è·µï¼Œå°†é»˜è®¤åˆ†è¾¨ç‡å€¼è®¾ç½®ä¸ºâ€œè‡ªåŠ¨â€ï¼Œä»¥ç¡®ä¿æ¯å½“ä»ªè¡¨æ¿æ—¶é—´æ¡†æ¶è¢«ä¿®æ”¹æ—¶ï¼Œåˆ†è¾¨ç‡éƒ½å°†ä»¥æœ€ä½³æ–¹å¼æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;å…±äº«webä»ªè¡¨æ¿&lt;/h4&gt;
&lt;p&gt;æ‚¨åˆ›å»ºçš„è‡ªå®šä¹‰Webä»ªè¡¨æ¿ä»…åœ¨æ‚¨ä¸å…¶ä»–ç”¨æˆ·å…±äº«ä¹‹å‰æ‰å¯ä»¥è®¿é—®ã€‚å…±äº«è§†å›¾æˆ–ä»ªè¡¨æ¿çš„åŸºæœ¬æ¦‚å¿µæ˜¯ä¸€ä¸ªæŒä¹…æ€§çš„URLï¼Œæ‚¨å¯ä»¥å‘é€æˆ–åŒ…å«åœ¨å…¶ä»–èµ„äº§ï¼ˆå¦‚æ–‡æ¡£æˆ–wikié¡µé¢ï¼‰ä¸­ã€‚&lt;/p&gt;
&lt;h5&gt;åŠŸèƒ½&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ç”µå­é‚®ä»¶é‚€è¯·&lt;strong&gt;ä¸ç‰¹å®šç”¨æˆ·å…±äº«&lt;/strong&gt;ã€‚åªæœ‰ä»–ä»¬å¯ä»¥çœ‹åˆ°ä»ªè¡¨æ¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸æ‰€æœ‰è®¿é—®AppMon Serverçš„ç”¨æˆ·å…±äº«&lt;/strong&gt;ã€‚ä»ªè¡¨æ¿çš„äººæ°”æ˜¾ç¤ºæœ‰å¤šå°‘ç”¨æˆ·å°†ä»ªè¡¨æ¿æ·»åŠ åˆ°ä»–ä»¬çš„ä¸ªäººæ”¶è—å¤¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸æ²¡æœ‰AppMonç”¨æˆ·å¸æˆ·çš„ç”¨æˆ·å…±äº«ã€‚&lt;/strong&gt;è¯·å‚é˜…ä»¥ä¸‹éƒ¨åˆ†çš„æŒ‡å—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯å½“æ‚¨ç™»å½•åˆ°AppMon Webæ—¶ï¼Œéƒ½ä¼šåœ¨ä»ªè¡¨æ¿æ¦‚è¿°ä¸­çš„â€œå…±äº«â€ - æ ‡ç­¾ä¸­æ˜¾ç¤ºå·²ä¸æ‚¨å…±äº«çš„ä»ªè¡¨æ¿ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark: æ‰“å¼€ä¸€ä¸ªå…±äº«çš„Webä»ªè¡¨æ¿éœ€è¦ä¸€ä¸ªAppMonç”¨æˆ·å¸æˆ·ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;å°†Webä»ªè¡¨æ¿æ ‡è®°ä¸ºä¸ªäººæœ€çˆ±&lt;/h5&gt;
&lt;p&gt;æ¯å½“ç”¨æˆ·ä¸æ‚¨å…±äº«ä¸€ä¸ªä»·å€¼çš„webä»ªè¡¨æ¿æ—¶ï¼Œæ‚¨å¯ä»¥å°†å…¶æ·»åŠ åˆ°æ‚¨çš„ä¸ªäººæ”¶è—å¤¹ã€‚å¦‚æœä»ªè¡¨æ¿ä¸æ‰€æœ‰ç”¨æˆ·å…±äº«ï¼Œè¿™å°†å¢åŠ ä»ªè¡¨æ¿çš„å—æ¬¢è¿åº¦åŠå…¶åœ¨åˆ—è¡¨ä¸­çš„æ’åï¼Œå› æ­¤æ‚¨çš„å›¢é˜Ÿæˆå‘˜è½»æ¾æŸ¥çœ‹å“ªäº›ä»ªè¡¨æ¿æœ€æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;h5&gt;å…¬å¼€åˆ†äº«webä»ªè¡¨æ¿&lt;/h5&gt;
&lt;p&gt;web ä»ªè¡¨æ¿å¯ä»¥å…¬å¼€å…±äº«ï¼Œæ— éœ€ç™»å½•å³å¯è®¿é—®ã€‚ä»ªè¡¨æ¿çš„å…±äº«URLå¿…é¡»é€šè¿‡ç”¨äºæ ¹æ®ä»¥ä¸‹è¯­æ³•è¿›è¡Œå…¬å…±å…±äº«çš„ç”¨æˆ·å¸æˆ·çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œæ‰©å±•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;https&lt;/span&gt;&lt;span class="o"&gt;://&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;dt&lt;/span&gt; &lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="nt"&gt;host&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;ip&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;9911&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;index&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;jsp&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="nt"&gt;username&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;username&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class="nt"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;password&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;dashboard&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxx&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å› æ­¤ï¼Œå»ºè®®ä½¿ç”¨ä¸“ç”¨çš„ç”¨æˆ·å¸æˆ·ï¼Œä»¥ä¾¿å…¨é¢æ§åˆ¶å“ªäº›ç³»ç»Ÿé…ç½®æ–‡ä»¶æ˜¯å…¬å¼€çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-45-26.png"&gt;&lt;/p&gt;
&lt;h5&gt;å…¶ä»–æŠ¥å‘ŠåŠŸèƒ½&lt;/h5&gt;
&lt;p&gt;ä½¿ç”¨ç£è´´å›¾åƒä¸‹è½½åŠŸèƒ½æ¥åˆ›å»ºç£è´´å›¾è¡¨çš„å¯åˆ†å‘PNGæˆ–SVGå›¾åƒæ–‡ä»¶ï¼Œä»¥åŒ…å«åœ¨æ¼”ç¤ºæ–‡ç¨¿ä¸­ï¼Œåœ¨wikié¡µé¢ä¸Šå‘å¸ƒæˆ–å‘é€ç”µå­é‚®ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä¸‹è½½ç£è´´å›¾åƒï¼Œè¯·å•å‡»å†…ç½®æˆ–è‡ªå®šä¹‰webä»ªè¡¨æ¿çš„ä¸Šä¸‹æ–‡èœå•ï¼Œç„¶åé€‰æ‹©è¦ä¸‹è½½çš„å›¾åƒæ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-45-53.png"&gt;&lt;/p&gt;
&lt;h4&gt;å¯¼å‡ºå’Œå¯¼å…¥webä»ªè¡¨æ¿&lt;/h4&gt;
&lt;p&gt;Webä»ªè¡¨æ¿å¯¼å‡ºå’Œå¯¼å…¥æä¾›äº†å¦ä¸€ç§æ–¹å¼æ¥å°†æ‚¨çš„ä»ªè¡¨æ¿ä¸ç»„ç»‡ä¸­çš„å…¶ä»–äººå…±äº«ã€‚å½“éœ€è¦ä¸å…¶ä»–äººå…±äº«å¤§é‡ä»ªè¡¨æ¿æ—¶ï¼Œå¯¼å‡ºåŠŸèƒ½éå¸¸æœ‰ç”¨ã€‚ä¸€æ¬¡å¯ä»¥å¯¼å‡ºå’Œå¯¼å…¥æ•°ç™¾ä¸ªä»ªè¡¨æ¿ã€‚åªæœ‰è‡ªå®šä¹‰ä»ªè¡¨æ¿å¯ä»¥å¯¼å‡ºæˆ–å¯¼å…¥ã€‚&lt;/p&gt;
&lt;h5&gt;å¯¼å‡ºwebä»ªè¡¨æ¿&lt;/h5&gt;
&lt;p&gt;åœ¨AppMon Webä¸­ï¼Œå•å‡»â€œDashboardsâ€ï¼Œç„¶åé€‰æ‹©â€œMyâ€é€‰é¡¹å¡ã€‚æ˜¾ç¤ºæ‚¨çš„è‡ªå®šä¹‰ä»ªè¡¨æ¿åˆ—è¡¨ï¼Œå¤é€‰æ¡†æ˜¾ç¤ºåœ¨ä»ªè¡¨æ¿æ¡ç›®æ—è¾¹ã€‚&lt;/p&gt;
&lt;p&gt;å•å‡»è¦å¯¼å‡ºçš„æ¯ä¸ªä»ªè¡¨æ¿çš„å¤é€‰æ¡†ï¼Œç„¶åå•å‡»&lt;strong&gt;Export&lt;/strong&gt;æŒ‰é’®ã€‚åä¸º&lt;em&gt;DashboardExport.dwd&lt;/em&gt;çš„æ–‡ä»¶ä¸‹è½½åˆ°æ‚¨åˆ†é…çš„ä¸‹è½½æ–‡ä»¶å¤¹ã€‚ä½¿ç”¨Windowså°†æ–‡ä»¶å‘é€ç»™è¦ä¸ä¹‹å…±äº«ä»ªè¡¨æ¿çš„å…¶ä»–äººã€‚ä¸€æ—¦å¯¼å‡ºæ–‡ä»¶è¢«å¤åˆ¶åˆ°å¯è®¿é—®çš„ä½ç½®ï¼Œå…¶ä»–äººå¯ä»¥ä½¿ç”¨å®ƒå¯¼å…¥Webä»ªè¡¨æ¿ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="âœ”" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¼å‡ºæŒ‰é’®ä»…åœ¨é€‰æ‹©ä»ªè¡¨æ¿æ—¶æ˜¾ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;å•å‡»è‡ªå®šä¹‰ä»ªè¡¨æ¿æ ‡é¢˜æ—è¾¹çš„å¤é€‰æ¡†ä»¥é€‰æ‹©åˆ—è¡¨ä¸­çš„æ‰€æœ‰è‡ªå®šä¹‰ä»ªè¡¨æ¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-46-23.png"&gt;&lt;/p&gt;
&lt;h5&gt;å¯¼å…¥Webä»ªè¡¨æ¿&lt;/h5&gt;
&lt;p&gt;æ‚¨å¯ä»¥ä»ä»»ä½•å¯è®¿é—®çš„æ–‡ä»¶ä½ç½®å¯¼å…¥Webä»ªè¡¨æ¿æ–‡ä»¶ã€‚æ–‡ä»¶ä¸­çš„æ‰€æœ‰å¯¼å‡ºçš„è‡ªå®šä¹‰Webä»ªè¡¨æ¿å¯¼å…¥åˆ°â€œè‡ªå®šä¹‰ä»ªè¡¨æ¿â€åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è¦å¯¼å…¥è‡ªå®šä¹‰Webä»ªè¡¨æ¿æ–‡ä»¶ï¼Œè¯·å•å‡»&lt;strong&gt;Dashboards&lt;/strong&gt;ï¼Œç„¶åé€‰æ‹©&lt;strong&gt;My&lt;/strong&gt;é€‰é¡¹å¡ä»¥æ˜¾ç¤ºè‡ªå®šä¹‰ä»ªè¡¨æ¿ï¼Œç„¶åå•å‡»&lt;strong&gt;Import&lt;/strong&gt;æŒ‰é’®ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ“ä½œç³»ç»Ÿæ–‡ä»¶æµè§ˆå™¨å¯¼èˆªåˆ°å¯¼å‡ºæ–‡ä»¶çš„ä½ç½®å¹¶é€‰æ‹©å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å½“å‡ºç°æ¶ˆæ¯æ¡†æŒ‡ç¤ºä»ªè¡¨æ¿æˆåŠŸå¯¼å…¥æ—¶ï¼Œå•å‡»&lt;strong&gt;OK&lt;/strong&gt;ã€‚å¯¼å…¥çš„ä»ªè¡¨æ¿æ˜¾ç¤ºåœ¨â€œè‡ªå®šä¹‰ä»ªè¡¨æ¿â€åˆ—è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-46-46.png"&gt;&lt;/p&gt;
&lt;h5&gt;åˆ é™¤è‡ªå®šä¹‰webä»ªè¡¨æ¿&lt;/h5&gt;
&lt;p&gt;æ‚¨å¯ä»¥åˆ é™¤ä»ªè¡¨æ¿ï¼Œä»¥åˆ é™¤è¿‡æ—¶æˆ–ä¸å¿…è¦çš„è‡ªå®šä¹‰ä»ªè¡¨æ¿ï¼Œå¹¶å¸®åŠ©ç®¡ç†è‡ªå®šä¹‰ä»ªè¡¨ç›˜åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;åªéœ€ç‚¹å‡»è¦åˆ é™¤çš„æ¯ä¸ªä»ªè¡¨æ¿çš„å¤é€‰æ¡†ï¼Œç„¶åå•å‡»&lt;strong&gt;Delete&lt;/strong&gt;æŒ‰é’®ã€‚åœ¨å‡ºç°çš„æ¶ˆæ¯æ¡†ä¸­å•å‡»ç¡®å®šä»¥&lt;strong&gt;OK&lt;/strong&gt;åˆ é™¤ã€‚&lt;/p&gt;
&lt;h4&gt;webä»ªè¡¨æ¿çš„åŸºç¡€æ¶æ„ç›‘æ§&lt;/h4&gt;
&lt;p&gt;è¿è¥äººå‘˜éœ€è¦æŒç»­æ›´æ–°æœ‰å…³ç¯å¢ƒå¥åº·çš„ä¿¡æ¯ã€‚&lt;strong&gt;Operation&lt;/strong&gt;ä¿¡æ¯æ¿å¯è®©æ‚¨ä»ä»»ä½•è®¾å¤‡ä¸­æŸ¥çœ‹çƒ­ç‚¹ï¼Œäº†è§£å¯¼è‡´çƒ­ç‚¹çš„åŸå› ï¼Œå¹¶åˆ†äº«æ‚¨çš„åˆ†æç»™å›¢é˜Ÿä¸­ä»¥è§£å†³é—®é¢˜ã€‚äº†è§£æ‚¨çš„åŸºç¡€è®¾æ–½æˆ–ç‰¹å®šåº”ç”¨ç¨‹åºä¸­æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œè·Ÿè¸ªå…³é”®äº‹ä»¶è­¦æŠ¥ï¼Œç„¶åæ·±å…¥äº†è§£è­¦æŠ¥è¯¦ç»†ä¿¡æ¯ï¼Œäº‹ä»¶åˆ†é…å’Œæ ¹æœ¬åŸå› åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;ä¸AppMon Clientä¸­çš„åŸºç¡€è®¾æ–½æ¦‚è¿°ä¸€æ ·ï¼Œâ€œOperationâ€é¢æ¿ä¸­çš„â€œHOSTâ€è§†å›¾åˆ—å‡ºäº†æ¯ä¸ªèŒƒå›´å†…ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œå¹¶æŒ‡ç¤ºå…¶ç›¸å¯¹è¿è¡ŒçŠ¶å†µã€‚æ­¤å¤–ï¼Œå…¶ä¸»æœºä¸Šæ¯ä¸ªè¿è¡Œçš„è¿›ç¨‹ä¼šç›‘æ§å’Œå±•ç¤ºã€‚å¥åº·ï¼Œä¸å¥åº·çš„è¿›ç¨‹å’Œå½“å‰ä¸è¿è¡Œçš„è¿›ç¨‹åœ¨è¯¦ç»†è¿›ç¨‹è§†å›¾ä¸­çš„å•ç‹¬é€‰é¡¹å¡ä¸­ï¼Œå› æ­¤æ‚¨å¯ä»¥å¿«é€Ÿå…³æ³¨é—®é¢˜è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€‰æ‹©Operations Dashboardçš„è¯¦ç»†è§†å›¾ä¸­çš„æ‰€æœ‰äº‹ä»¶è­¦æŠ¥ï¼Œå¹¶ç›´æ¥è·³è½¬åˆ°AppMon Clientï¼Œè¿›è¡Œè¿›ä¸€æ­¥åˆ†æå’Œè§£å†³ä¸»æœºå’Œè¿›ç¨‹é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä»ªè¡¨ç‰ˆä¸­çš„ç£è´´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸®åŠ©æ‚¨ç›‘æ§ä¸»æœºå’Œè¿›ç¨‹è¿è¡ŒçŠ¶å†µã€‚&lt;/li&gt;
&lt;li&gt;ç¡®å®šé—®é¢˜æ˜¯å¦ä¸åŸºç¡€è®¾æ–½æˆ–åº”ç”¨ç¨‹åºç›¸å…³ï¼Œå¹¶å¯¹åº”é—®é¢˜äº‹ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è­¦æŠ¥é€šçŸ¥ä¹Ÿå¯ä»¥ä½¿ç”¨Alert ç£è´´ç±»å‹åœ¨è‡ªå®šä¹‰Webä»ªè¡¨æ¿ä¸ŠæŸ¥çœ‹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ç£è´´ç±»å‹ã€‚&lt;/p&gt;
&lt;h4&gt;AppMonå®¢æˆ·ç«¯æ·±å…¥åˆ†æ&lt;/h4&gt;
&lt;h5&gt;æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;AppMon Webä¸AppMon Clientä¸€èµ·æä¾›æ–¹ä¾¿çš„ç”¨æˆ·ä½“éªŒç®¡ç†å·¥ä½œæµç¨‹å’ŒåŸºç¡€æ¶æ„ç›‘æ§åŠŸèƒ½ï¼Œç”¨äºå¿«é€Ÿå’Œç¿”å®çš„æ ¹æœ¬åŸå› åˆ†æã€‚AppMon Webä¸­çš„å‡ ä¸ªè§†å›¾å¯è®©æ‚¨ä»ç‰¹å®šçš„AppMon Webé¡¹ç›®ä¸­æ·±å…¥åˆ°AppMon Clientä¸­æ‰“å¼€ç›¸åº”çš„æˆ–è¯¦ç»†çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;h5&gt;å®¢æˆ·ç«¯æ·±å…¥åˆ†æ&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…AppMonå®¢æˆ·ç«¯æˆ–AppMon Webstartå®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨AppMon Webä¸­ï¼Œæ‰“å¼€åŒ…å«è¦å‘ä¸‹é’»å–çš„é¡¹ç›®çš„é¡µé¢ã€‚æ‚¨å¯ä»¥æ·±å…¥äº†è§£ä»¥ä¸‹å†…å®¹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;AppMon Webçš„è§†å›¾/åŠ¨ä½œ&lt;/th&gt;
&lt;th&gt;AppMon Client æ‰“å¼€&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Business analytics &amp;gt; Visits &amp;gt; Visit details&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·ä½“éªŒçš„è®¿é—®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Infrastructure &amp;gt; é€‰æ‹©alert æˆ– alert rule&lt;/td&gt;
&lt;td&gt;äº‹ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Hosts &amp;gt;é€‰æ‹©Host name&lt;/td&gt;
&lt;td&gt;äº‹ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Hosts &amp;gt; é€‰æ‹©Host name&lt;/td&gt;
&lt;td&gt;ä¸»æœºä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Processes &amp;gt; é€‰æ‹©Process name&lt;/td&gt;
&lt;td&gt;è¿›ç¨‹ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark: &lt;strong&gt;Note:&lt;/strong&gt; æ ¹æ®æ‚¨çš„æµè§ˆå™¨ç±»å‹ï¼Œå¯èƒ½ä¼šæç¤ºæ‚¨æˆæƒåŠ è½½ä¸å®‰å…¨çš„è„šæœ¬ï¼Œä¸å®‰å…¨çš„å†…å®¹æˆ–è¯ä¹¦ã€‚å¦‚æœè¦ä½¿ç”¨AppMon Clientå‘ä¸‹é’»å–ï¼Œåˆ™å¿…é¡»æ¥å—æµè§ˆå™¨æˆæƒè¯·æ±‚ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹åªæ‰“å¼€Webstartå®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="3"&gt;
&lt;li&gt;å•å‡»è®¿é—®è¡¨ä¸‹é¢çš„&lt;strong&gt;Open in client&lt;/strong&gt;æŒ‰é’®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœAppMon Clientæ­£åœ¨è¿è¡Œï¼Œå®ƒå°†å¯åŠ¨ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™Webstart Clientå¯åŠ¨ã€‚ä¸€ä¸ªæµè§ˆå™¨æ¶ˆæ¯æ¡†ä¼šå¼¹å‡ºæ¥ä¸‹è½½client.jnlpæ–‡ä»¶ã€‚ç”¨å»ºè®®çš„Java Web Start Launcheræ‰“å¼€å®ƒæ¥å¯åŠ¨å®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯æ‰“å¼€å¹¶æ˜¾ç¤ºæ‰€é€‰ä¿¡æ¯çš„è¯¦ç»†ä¿¡æ¯ã€‚æ˜¾ç¤ºæ‰€é€‰çš„è®¿é—®ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h4&gt;FAQ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘å¯ä»¥å°†å¯Œå®¢æˆ·ç«¯ä»ªè¡¨æ¿è½¬æ¢ä¸ºç½‘é¡µä¿¡æ¯ä¸­å¿ƒå—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸è¡Œã€‚è¿™ç§æƒ…å†µï¼Œä½¿ç”¨å¯Œå®¢æˆ·ç«¯åˆ›å»ºçš„ä»ªè¡¨æ¿å¿…é¡»é‡æ–°åˆ›å»ºä¸ºWebä»ªè¡¨æ¿ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥åˆ›å»ºå¯Œå®¢æˆ·ç«¯ä»ªè¡¨æ¿çš„HTMLæŠ¥å‘Šã€‚HTMLæŠ¥å‘Šä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ã€‚&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 18:55:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-27-use-dynatrace-appmon-web-console.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 26.åˆ†æè¯¡å¼‚çš„åº”ç”¨æ€§èƒ½é—®é¢˜</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-26-analysis-a-difficult-app-performance-problem.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ä¸€ æ¦‚è¿°&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#11"&gt;1.1 å®¢æˆ·éœ€æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#12"&gt;1.2  æ”¶é›†ä¿¡æ¯æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;äºŒ äº‹æ•…å½±å“èŒƒå›´&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#21"&gt;2.1 ä¸»æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#22"&gt;2.2 ä¸­é—´ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#23"&gt;2.3 åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ä¸‰ é—®é¢˜åˆ†æåŠå®šä½&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#31-2"&gt;3.1 æˆ‘å®šåˆ¶2ä¸ªä»ªè¡¨å›¾æ¥åˆ†æé—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#32"&gt;3.2 ä¸ºä»€ä¹ˆåŠ è½½çš„ç±»ä¼šçªç„¶é£™å¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#33-825-830jbosspurepath"&gt;3.3 æŸ¥çœ‹8:25-8:30çš„Jbossä¸Šçš„purepath&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å›› æ€»ç»“åŠä¼˜åŒ–å»ºè®®&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#41"&gt;4.1 é—®é¢˜å‘ç”Ÿçš„å…ˆåé¡ºåº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#42"&gt;4.2 ä¼˜åŒ–å»ºè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#43"&gt;4.3 æœ€åè¯´ä¸€å¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;ä¸€ æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="11"&gt;1.1 å®¢æˆ·éœ€æ±‚&lt;a class="headerlink" href="#11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;1.1.1 å®¢æˆ·é—®é¢˜æè¿°&lt;/h4&gt;
&lt;p&gt;å®¢æˆ·é€šè¿‡Dynatraceå‘ç°æŸå°Jbossçš„JVM&lt;strong&gt;å†…å­˜çªç„¶æäº¤ï¼Œç„¶ååƒåœ¾å›æ”¶&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5HKe/6IqvB.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;1.1.2 å®¢æˆ·éœ€æ±‚&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å®¢æˆ·æƒ³è¦äº†è§£Root Causeã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="12"&gt;1.2  æ”¶é›†ä¿¡æ¯æ¦‚è¿°&lt;a class="headerlink" href="#12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®¢æˆ·å‘ç°Jbossçš„å†…å­˜çªç„¶å½ªå¢ï¼Œä¸”JVMçš„GCæ—¶é—´å¤§å¹…å¢é•¿ã€‚æŸ¥çœ‹Dynatraceå‘ç°ï¼Œå½“æ—¶è¯¥åŠèŠ‚ç‚¹å·²ç»å‘ç”Ÿ&lt;strong&gt;PermåŒºå†…å­˜æº¢å‡º&lt;/strong&gt;ã€‚ä¸”æœ‰&lt;strong&gt;å‘Šè­¦&lt;/strong&gt;äº§ç”Ÿï¼ˆåŒæ—¶åº”ç”¨å…³é”®ä¸šåŠ¡é”™è¯¯ç‡å¤§å¹…å¢é•¿ï¼‰ï¼ˆPermåŒºå†…å­˜æº¢å‡ºå¯¼è‡´çš„OLDå»å½ªå¢å’ŒGCæ—¶é—´å½ªå¢ï¼Œå…·ä½“åˆ†æè§ä¸‹æ–‡ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5NsA/8zCBy.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5SAB/jRbrt.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;äºŒ äº‹æ•…å½±å“èŒƒå›´&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹å½“æ—¶çš„ä¸»æœºã€JVMåŠåº”ç”¨ä¸šåŠ¡æƒ…å†µï¼Œè¯¥é—®é¢˜é€ æˆä¸€ç³»åˆ—çš„è¿é”å½±å“ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPUåˆ©ç”¨ç‡å‡é«˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç‰©ç†å†…å­˜å‡é«˜&lt;/li&gt;
&lt;li&gt;JVM heapåŒºå¢å¤§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JVM gcåŠæŒ‚èµ·æ—¶é—´å˜é•¿&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Jbossçº¿ç¨‹æ•°ä¸Šå‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®ä¸šåŠ¡å…¨éƒ¨å¤±è´¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å…³é”®ä¸šåŠ¡å“åº”å˜æ…¢&lt;br&gt;
  å…·ä½“å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="21"&gt;2.1 ä¸»æœº&lt;a class="headerlink" href="#21" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC6cC7/AeojF.jpg"&gt;&lt;/p&gt;
&lt;h3 id="22"&gt;2.2 ä¸­é—´ä»¶&lt;a class="headerlink" href="#22" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5XC0/VPQzr.jpg"&gt;&lt;/p&gt;
&lt;h3 id="23"&gt;2.3 åº”ç”¨&lt;a class="headerlink" href="#23" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC6Wjg/myso8.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_3"&gt;ä¸‰ é—®é¢˜åˆ†æåŠå®šä½&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="31-2"&gt;3.1 æˆ‘å®šåˆ¶2ä¸ªä»ªè¡¨å›¾æ¥åˆ†æé—®é¢˜&lt;a class="headerlink" href="#31-2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…·ä½“å¦‚ä¸‹å›¾ã€‚&lt;strong&gt;ç›´æ¥Perm OOMçš„åŸå› æ˜¯ï¼šç±»åŠ è½½é‡çš„å¤§å¹…å¢é•¿&lt;/strong&gt;ï¼ˆå› ä¸ºPermåŒºå­˜æ”¾çš„å°±æ˜¯é™æ€ç±»å’Œå¸¸é‡ç­‰ï¼Œè€ŒPerm OOM JDKé»˜è®¤ä¼šåšfullgcï¼Œå› æ­¤å¯¼è‡´gcåŠæŒ‚èµ·æ—¶é—´å¢åŠ ï¼›å› ä¸ºæ— æ³•GCæ‰ï¼Œä¼šå¯¼è‡´HeapåŒºè°ƒæ•´åŠCPUå¢åŠ ã€çº¿ç¨‹æ•°å¢åŠ ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC6jtL/WnSxj.jpg"&gt;&lt;/p&gt;
&lt;h3 id="32"&gt;3.2 ä¸ºä»€ä¹ˆåŠ è½½çš„ç±»ä¼šçªç„¶é£™å¢&lt;a class="headerlink" href="#32" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯¹ä¸Šå›¾æ”¾å¤§ï¼ŒæŸ¥çœ‹ç»†èŠ‚ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;ç±»åŠ è½½æ•°é‡æ˜¯åœ¨&lt;strong&gt;8:25-8:30&lt;/strong&gt;æœŸé—´å¤§å¹…å¢é•¿çš„ã€‚&lt;strong&gt;æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æŸ¥çœ‹è¿™æœŸé—´çš„è¯¥Jbosså…·ä½“åœ¨åšä»€ä¹ˆä¸šåŠ¡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC7g9r/M5dMD.jpg"&gt;&lt;/p&gt;
&lt;h3 id="33-825-830jbosspurepath"&gt;3.3 æŸ¥çœ‹8:25-8:30çš„Jbossä¸Šçš„purepath&lt;a class="headerlink" href="#33-825-830jbosspurepath" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;purepathç®€å•ç†è§£ï¼šæ‰€æœ‰çš„äº‹åŠ¡çš„åˆ†å¸ƒå¼æ–¹æ³•è°ƒç”¨æ ˆåŠç›¸å…³ä¿¡æ¯ã€‚ï¼ˆå¦‚å“åº”æ—¶é—´ã€æ—¶é—´ç»†åˆ†ã€çº¿ç¨‹ã€LOGã€Exceptionã€SQLã€Messageç­‰ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼Œç›´æ¥å¯ä»¥çœ‹å‡ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯¼è‡´è¯¥é—®é¢˜çš„root cause äº‹åŠ¡ï¼š/RuleManager/showCalib1QueryCondition.htm&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯¼è‡´è¯¥é—®é¢˜çš„root casueä»£ç ï¼šc3p0(c3p0æ€§èƒ½æœ‰é—®é¢˜ã€‚è°ƒç”¨c3p0å‰åä¼šæœ‰ç±»åŠ è½½çš„åŠ¨ä½œï¼Œæ­£æ˜¯è¿™ä¸ªæƒ…å†µå¯¼è‡´äº†å½“æ—¶å¤§é‡çš„ç±»åŠ è½½)&lt;/strong&gt;  ï¼ˆä¸‹å›¾forName0å°±æ˜¯ç±»åŠ è½½çš„ç›¸å…³æ–¹æ³•ï¼‰&lt;br&gt;
&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC7aDf/JGcrG.jpg"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_4"&gt;å›› æ€»ç»“åŠä¼˜åŒ–å»ºè®®&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="41"&gt;4.1 é—®é¢˜å‘ç”Ÿçš„å…ˆåé¡ºåº&lt;a class="headerlink" href="#41" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡ºç°å¤§é‡çš„/RuleManager/showCalib1QueryCondition.htmè¯·æ±‚&lt;/li&gt;
&lt;li&gt;éœ€è¦åŠ è½½å¤§é‡çš„C3p0ç›¸å…³ç±»&lt;/li&gt;
&lt;li&gt;ç±»åŠ è½½æ•°é‡å¤§å¹…å¢é•¿&lt;/li&gt;
&lt;li&gt;PermåŒº256Må†…å­˜ç”¨å®Œ&lt;/li&gt;
&lt;li&gt;è§¦å‘JVM full gc&lt;/li&gt;
&lt;li&gt;gcåŠæŒ‚èµ·æ—¶é—´å¢åŠ &lt;/li&gt;
&lt;li&gt;æ— æ³•GCæ‰ -&amp;gt; CPUå¢åŠ ã€çº¿ç¨‹å¢åŠ ã€HeapåŒºå¢åŠ ã€ä¸šåŠ¡å¤±è´¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="42"&gt;4.2 ä¼˜åŒ–å»ºè®®&lt;a class="headerlink" href="#42" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;4.2.1 ä¸­é—´ä»¶ï¼ˆæ²»æ ‡ä¸æ²»æœ¬ï¼‰&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¢å¤§PermåŒºå¤§å°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¼˜åŒ–ä¸Permæ¸…ç†æœ‰å…³çš„å‚æ•°ï¼ˆå¦‚Permæ»¡åæ¸…ç†ï¼Œä¸æ‰§è¡Œfull gcç­‰ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºäº†æ›´æ–¹ä¾¿çš„å®šä½é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨æ²¡æœ‰Dynatraceçš„æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒå¼€å¯GCæ—¥å¿—ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;é˜¿é‡Œçš„JAVAä¸“å®¶è¯´è¿‡:&lt;/p&gt;
&lt;p&gt;å…¶å®çº¿ä¸Šå¼€GCæ—¥å¿—æ²¡å…³ç³»å•¦ï¼Œæˆ‘ä»¬çº¿ä¸Šå°±ä¸€ç›´å¼€ç€ï¼Œå¯¹æ€§èƒ½ä¸ä¼šæœ‰é‚£ä¹ˆå¤§å½±å“çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;4.2.2 å¼€å‘&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜åŒ–JDBCç›¸å…³ä»£ç ï¼ˆå¦‚æœæƒ³è¦ä¼˜åŒ–c3p0ä»£ç å¯ä»¥çœ‹3.3çš„ä»£ç é€»è¾‘ã€‚å¦‚æœä¸æƒ³ä¼˜åŒ–å»ºè®®ç›´æ¥ä¸è¦é‡‡ç”¨c3p0ä½œä¸ºJDBCæ¡†æ¶ï¼Œé€‰æ‹©å…¶ä»–JDBCæ¡†æ¶ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="43"&gt;4.3 æœ€åè¯´ä¸€å¥&lt;a class="headerlink" href="#43" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…¶å®è¿™ä¸ªé—®é¢˜ä¸€ä¸ªæœˆä»¥å‰å°±å·²ç»åˆ†æè¿‡äº†ï¼Œä½†æ˜¯ç”±äºå½“æ—¶çš„å½±å“åªæ˜¯&lt;em&gt;åº”ç”¨å…³é”®ä¸šåŠ¡å˜æ…¢&lt;/em&gt;ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å¼•èµ·é‡è§†ã€‚ä½†æ˜¯è¿™æ¬¡é€ æˆçš„å½±å“å°±æ¯”è¾ƒå¤§äº†ï¼Œç›´æ¥å¯¼è‡´å…³é”®ä¸šåŠ¡å…¨éƒ¨å¤±è´¥ä»¥åŠJbossé•¿æ—¶é—´æŒ‚èµ·ï¼ˆå³ä¸å¯ç”¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¤§çš„ç”Ÿäº§äº‹æ•…ï¼Œå…¶å®å¯èƒ½éƒ½æ˜¯å› ä¸ºä¸€äº›ç»†å°çš„ï¼Œæˆ‘ä»¬è®¤ä¸ºæ²¡å…³ç³»æˆ–è€…å¯ä»¥å¿½ç•¥çš„æ€§èƒ½é—®é¢˜å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹&lt;img align="absmiddle" alt="ğŸ‘Š" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44a.png" title=":punch:" width="20px"&gt;â€‹ ç”Ÿäº§æ— å°äº‹ï¼è´£ä»»å¤§äºå¤©ï¼&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 19 Jun 2019 18:50:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-26-analysis-a-difficult-app-performance-problem.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>ä½¿ç”¨ Docker å®‰è£… Gitlab</title><link>https://www.EWhisper.cn/install-gitlab-with-docker.html</link><description>&lt;h2 id="docker"&gt;Docker å®‰è£…&lt;a class="headerlink" href="#docker" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;å®˜ç½‘é“¾æ¥:&lt;a href="https://docs.gitlab.com/omnibus/docker/"&gt;GitLab Docker images&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/docker/Dockerfile"&gt;å®˜ç½‘ Dockerfile&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo docker pull gitlab/gitlab-ce  &lt;span class="c1"&gt;# ä¸‹è½½&lt;/span&gt;
sudo docker run --detach &lt;span class="se"&gt;\&lt;/span&gt;
  --hostname gitlab.example.com &lt;span class="se"&gt;\&lt;/span&gt;
  --publish &lt;span class="m"&gt;443&lt;/span&gt;:443 --publish &lt;span class="m"&gt;80&lt;/span&gt;:80 --publish &lt;span class="m"&gt;22&lt;/span&gt;:22 &lt;span class="se"&gt;\&lt;/span&gt;
  --name gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --restart always &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/config:/etc/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/logs:/var/log/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/data:/var/opt/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  gitlab/gitlab-ce:latest  &lt;span class="c1"&gt;# è¿è¡Œå®¹å™¨&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_1"&gt;æ•°æ®å­˜åœ¨å“ªå„¿:&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;æœ¬åœ°ä½ç½®&lt;/th&gt;
&lt;th align="left"&gt;å®¹å™¨ä½ç½®&lt;/th&gt;
&lt;th align="left"&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;/srv/gitlab/data&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;/var/opt/gitlab&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;ç”¨äºå­˜å‚¨åº”ç”¨æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;/srv/gitlab/logs&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;/var/log/gitlab&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;ç”¨äºå­˜å‚¨æ—¥å¿—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;/srv/gitlab/config&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;/etc/gitlab&lt;/code&gt;&lt;/td&gt;
&lt;td align="left"&gt;ç”¨äºå­˜å‚¨GitLabé…ç½®æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="gitlab"&gt;é…ç½®Gitlab:&lt;a class="headerlink" href="#gitlab" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ä½äº: &lt;code&gt;/etc/gitlab/gitlab.rb&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å‡ ç§é…ç½®æ–¹å¼:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo docker exec -it gitlab /bin/bash&lt;/code&gt; è¿›å…¥åˆ°å®¹å™¨å†…, ç„¶åé€šè¿‡&lt;code&gt;vi&lt;/code&gt;ç¼–è¾‘ä¿å­˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo docker exec -it gitlab editor /etc/gitlab/gitlab.rb&lt;/code&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼–è¾‘å®Œä¹‹å, é‡å¯å®¹å™¨:&lt;code&gt;sudo docker restart gitlab&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="docker_1"&gt;é¢„é…ç½® Docker å®¹å™¨&lt;a class="headerlink" href="#docker_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥é€šè¿‡å°†ç¯å¢ƒå˜é‡&lt;code&gt;GITLAB_OMNIBUS_CONFIG&lt;/code&gt;æ·»åŠ åˆ°docker runå‘½ä»¤æ¥é¢„é…ç½®GitLab Dockeræ˜ åƒã€‚æ­¤å˜é‡å¯ä»¥åŒ…å«ä»»ä½•&lt;code&gt;gitlab.rb&lt;/code&gt;è®¾ç½®ï¼Œå¹¶åœ¨åŠ è½½å®¹å™¨&lt;code&gt;gitlab.rb&lt;/code&gt;æ–‡ä»¶ä¹‹å‰è¿›è¡ŒåŠ è½½ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo docker run --detach &lt;span class="se"&gt;\&lt;/span&gt;
  --hostname gitlab.example.com &lt;span class="se"&gt;\&lt;/span&gt;
  --env &lt;span class="nv"&gt;GITLAB_OMNIBUS_CONFIG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;external_url &amp;#39;http://my.domain.com/&amp;#39;; gitlab_rails[&amp;#39;lfs_enabled&amp;#39;] = true;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
  --publish &lt;span class="m"&gt;443&lt;/span&gt;:443 --publish &lt;span class="m"&gt;80&lt;/span&gt;:80 --publish &lt;span class="m"&gt;22&lt;/span&gt;:22 &lt;span class="se"&gt;\&lt;/span&gt;
  --name gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --restart always &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/config:/etc/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/logs:/var/log/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/data:/var/opt/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  gitlab/gitlab-ce:latest
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_2"&gt;å¯åŠ¨å®¹å™¨å&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡&lt;a href="http://localhost"&gt;http://localhost&lt;/a&gt; è¿›è¡Œè®¿é—®.&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code&gt;sudo docker logs -f gitlab&lt;/code&gt; æŸ¥çœ‹æ—¥å¿—.&lt;/p&gt;
&lt;h3 id="ip"&gt;å‘å¸ƒåˆ°å…¬ç½‘IP&lt;a class="headerlink" href="#ip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo docker run --detach &lt;span class="se"&gt;\&lt;/span&gt;
  --hostname gitlab.example.com &lt;span class="se"&gt;\&lt;/span&gt;
  --publish &lt;span class="m"&gt;198&lt;/span&gt;.51.100.1:443:443 &lt;span class="se"&gt;\&lt;/span&gt;
  --publish &lt;span class="m"&gt;198&lt;/span&gt;.51.100.1:80:80 &lt;span class="se"&gt;\&lt;/span&gt;
  --publish &lt;span class="m"&gt;198&lt;/span&gt;.51.100.1:22:22 &lt;span class="se"&gt;\&lt;/span&gt;
  --name gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --restart always &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/config:/etc/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/logs:/var/log/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  --volume /srv/gitlab/data:/var/opt/gitlab &lt;span class="se"&gt;\&lt;/span&gt;
  gitlab/gitlab-ce:latest
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="docker-composegitlab"&gt;ä½¿ç”¨docker-composeå®‰è£…GitLab&lt;a class="headerlink" href="#docker-composegitlab" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£… docker compose&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;code&gt;docker-compose.yml&lt;/code&gt; æ–‡ä»¶ï¼ˆæˆ–&lt;a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/docker/docker-compose.yml"&gt;ä¸‹è½½ç¤ºä¾‹&lt;/a&gt;ï¼‰: &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="nt"&gt;web&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
   &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;gitlab/gitlab-ce:latest&amp;#39;&lt;/span&gt;
   &lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;always&lt;/span&gt;
   &lt;span class="nt"&gt;hostname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;gitlab.example.com&amp;#39;&lt;/span&gt;
   &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="nt"&gt;GITLAB_OMNIBUS_CONFIG&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
       &lt;span class="no"&gt;external_url &amp;#39;https://gitlab.example.com&amp;#39;&lt;/span&gt;
       &lt;span class="no"&gt;# Add any other gitlab.rb configuration here, each on its own line&lt;/span&gt;
   &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;80:80&amp;#39;&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;443:443&amp;#39;&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;22:22&amp;#39;&lt;/span&gt;
   &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/srv/gitlab/config:/etc/gitlab&amp;#39;&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/srv/gitlab/logs:/var/log/gitlab&amp;#39;&lt;/span&gt;
     &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;/srv/gitlab/data:/var/opt/gitlab&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;ç¡®ä¿æ‚¨&lt;code&gt;docker-compose.yml&lt;/code&gt;ä¸è¿è¡Œ&lt;code&gt;docker-compose up -d&lt;/code&gt; åœ¨åŒä¸€ç›®å½•ä¸­ä»¥è¿è¡ŒGitLab&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="openshift"&gt;OpenShift å®‰è£…&lt;a class="headerlink" href="#openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;ç›®å‰Gitlabé€šè¿‡OpenShift å®‰è£…, æœ‰ä¸€äº›å·²çŸ¥çš„é—®é¢˜. å¹¶ä¸”åªåœ¨OpenShift 3.11ç‰ˆæœ¬ä¸Šæµ‹è¯•é€šè¿‡.&lt;/p&gt;
&lt;p&gt;å¦å¤–, å®‰è£…æ˜¯é€šè¿‡ Helm Chartæ–¹å¼è¿›è¡Œå®‰è£…çš„. è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_3"&gt;å·²çŸ¥çš„é—®é¢˜&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹é—®é¢˜æ˜¯å·²çŸ¥çš„ï¼Œå¹¶ä¸”é¢„è®¡é€‚ç”¨äºOpenShiftä¸Šçš„GitLabå®‰è£…ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;anyuid&lt;/code&gt;sccçš„è¦æ±‚ï¼š(OpenShift çš„å®‰å…¨åŠ å›ºå¯¼è‡´çš„)&lt;ul&gt;
&lt;li&gt;GitLabçš„ä¸åŒç»„ä»¶ï¼Œå¦‚Sidekiqï¼Œunicornç­‰ï¼Œä½¿ç”¨UID 1000æ¥è¿è¡ŒæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;PostgreSQL chartä»¥&lt;code&gt;root&lt;/code&gt;ç”¨æˆ·èº«ä»½è¿è¡ŒæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gitlab.com/charts/gitlab/issues/752"&gt;é—®é¢˜ï¼ƒ752&lt;/a&gt;æ˜¯opençŠ¶æ€ï¼Œä»¥è°ƒæŸ¥æ›´å¤šæœ‰å…³è§£å†³æ­¤é—®é¢˜çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨&lt;code&gt;hostpath&lt;/code&gt;å·ï¼Œåˆ™éœ€è¦ä¸ºä¸»æœºä¸­çš„æŒä¹…æ€§å·ç›®å½•æˆäºˆ&lt;code&gt;0777&lt;/code&gt;æƒé™ï¼Œä»¥æˆäºˆæ‰€æœ‰ç”¨æˆ·å¯¹å·çš„è®¿é—®æƒé™ã€‚&lt;/li&gt;
&lt;li&gt;OpenShiftçš„å†…ç½®router ä¸æ”¯æŒé€šè¿‡SSHè¿›è¡ŒGitæ“ä½œã€‚ &lt;a href="https://gitlab.com/charts/gitlab/issues/892"&gt;é—®é¢˜ï¼ƒ892&lt;/a&gt; æ˜¯oepnçŠ¶æ€ï¼Œä»¥è°ƒæŸ¥æ›´å¤šæœ‰å…³è§£å†³æ­¤é—®é¢˜çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ä¼—æ‰€å‘¨çŸ¥ï¼ŒGitLab Registryä¸èƒ½ä¸OpenShiftçš„å†…ç½®routeré…åˆä½¿ç”¨ã€‚ &lt;a href="https://gitlab.com/charts/gitlab/issues/893"&gt;é—®é¢˜ï¼ƒ893&lt;/a&gt;æ˜¯opençŠ¶æ€ï¼Œä»¥è°ƒæŸ¥æ›´å¤šæœ‰å…³ä¿®å¤æ­¤é—®é¢˜çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ä»Let's Encryptè‡ªåŠ¨å‘å‡ºSSLè¯ä¹¦ä¸é€‚ç”¨äºOpenShift routerã€‚æˆ‘ä»¬å»ºè®®&lt;a href="https://docs.gitlab.com/charts/installation/tls.html#option-2-use-your-own-wildcard-certificate"&gt;æ‚¨ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦&lt;/a&gt;ã€‚ &lt;a href="https://gitlab.com/charts/gitlab/issues/894"&gt;é—®é¢˜ï¼ƒ894&lt;/a&gt;å¼€æ”¾ï¼Œä»¥è°ƒæŸ¥æ›´å¤šæœ‰å…³è§£å†³æ­¤é—®é¢˜çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_4"&gt;å…ˆå†³æ¡ä»¶æ­¥éª¤&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¯·å‚é˜…&lt;a href="https://www.okd.io/download.html#oc-platforms"&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt; ä»¥å®‰è£…å’Œé…ç½®ç¾¤é›†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿è¡Œ&lt;code&gt;oc cluster status&lt;/code&gt;å¹¶ç¡®è®¤ç¾¤é›†æ­£åœ¨è¿è¡Œï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc cluster status
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;è¾“å‡ºåº”ç±»ä¼¼äºï¼š
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Web console URL: https://gitlab.example.com:8443/console/

Config is at host directory
Volumes are at host directory
Persistent volumes are at host directory /home/okduser/openshift/openshift.local.clusterup/openshift.local.pv
Data will be discarded when cluster is destroyed
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;è¯·æ³¨æ„ä¸»æœºä¸­Persistent Volumesçš„ä½ç½®ï¼ˆåœ¨ä¸Šä¾‹ä¸­`/home/okduser/openshift/openshift.local.clusterup/openshift.local.pv`ï¼‰ã€‚ä»¥ä¸‹å‘½ä»¤éœ€è¦`PV_HOST_DIRECTORY`ç¯å¢ƒå˜é‡ä¸­çš„è·¯å¾„ã€‚
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;ä¿®æ”¹PVç›®å½•çš„æƒé™ï¼ˆç”¨ä»¥ä¸Šå€¼æ›¿æ¢ä»¥ä¸‹å‘½ä»¤ä¸­çš„è·¯å¾„ï¼‰ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo chmod -R a+rwx &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PV_HOST_DIRECTORY&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/*
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;åˆ‡æ¢åˆ°ç³»ç»Ÿç®¡ç†å‘˜ç”¨æˆ·ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc login -u system:admin
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="5"&gt;
&lt;li&gt;å°†&lt;code&gt;anyuid&lt;/code&gt;scc æ·»åŠ åˆ°ç³»ç»Ÿç”¨æˆ·ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc adm policy add-scc-to-group anyuid system:authenticated
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;**è­¦å‘Š**ï¼šæ­¤è®¾ç½®å°†åº”ç”¨äºæ‰€æœ‰namespaceï¼Œå¹¶å°†å¯¼è‡´Dockeré•œåƒæœªæ˜ç¡®æŒ‡å®šUSERä½œä¸º`root`ç”¨æˆ·è¿è¡Œã€‚ [é—®é¢˜ï¼ƒ895](https://gitlab.com/charts/gitlab/issues/895)æ˜¯å¼€æ”¾çš„ï¼Œç”¨äºè®°å½•æ‰€éœ€çš„ä¸åŒæœåŠ¡å¸æˆ·ï¼Œå¹¶æè¿°ä»…å°†sccæ·»åŠ åˆ°è¿™äº›æœåŠ¡å¸æˆ·ï¼Œå› æ­¤å½±å“å¯èƒ½æœ‰é™ã€‚
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="6"&gt;
&lt;li&gt;åˆ›å»ºæœåŠ¡å¸æˆ·å’Œ&lt;code&gt;rolebinding&lt;/code&gt;RBACå¹¶&lt;a href="https://docs.gitlab.com/charts/installation/tools.html#helm"&gt;å®‰è£…Tiller&lt;/a&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kubectl create -f https://gitlab.com/charts/gitlab/raw/master/doc/installation/examples/rbac-config.yaml
helm init --service-account tiller
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_5"&gt;ä¸‹ä¸€æ­¥&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨ç¾¤é›†å¯åŠ¨å¹¶è¿è¡Œåï¼Œç»§ç»­&lt;a href="https://docs.gitlab.com/charts/installation/deployment.html"&gt;å®‰è£…chart&lt;/a&gt;ï¼Œå¹¶å‡†å¤‡å¥½é™æ€IPå’ŒDNSæ¡ç›®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ­¤ä¹‹å‰ï¼Œè¯·æ³¨æ„å¸¸è§„ chartå®‰è£…è¿‡ç¨‹ä¸­çš„ä»¥ä¸‹æ›´æ”¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘ä»¬å°†ä½¿ç”¨OpenShiftçš„å†…ç½®routerï¼Œå› æ­¤éœ€è¦ç¦ç”¨chartä¸­åŒ…å«çš„nginx-ingressæœåŠ¡ã€‚å°†ä»¥ä¸‹æ ‡å¿—ä¼ é€’ç»™&lt;code&gt;helm install&lt;/code&gt;å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;--set nginx-ingress.enabled&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;ç”±äºå·²çŸ¥å†…ç½®æ³¨å†Œè¡¨ä¸èƒ½ä½¿ç”¨Helm Chartä¸OpenShiftä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤è¯·ç¦ç”¨æ³¨å†Œè¡¨æœåŠ¡ã€‚å°†ä»¥ä¸‹æ ‡å¿—ä¼ é€’ç»™ &lt;code&gt;helm install&lt;/code&gt;å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;--set registry.enabled=false
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;&lt;a href="https://docs.gitlab.com/charts/installation/tls.html#option-2-use-your-own-wildcard-certificate"&gt;ä½¿ç”¨æ‚¨è‡ªå·±çš„SSLè¯ä¹¦&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Sun, 26 May 2019 21:24:52 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/install-gitlab-with-docker.html</guid><category>docker</category><category>openshift</category><category>k8s</category><category>containers</category><category>git</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 25.RESTful API</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-25-restful-api.html</link><description>&lt;h2 id="rest"&gt;REST æ¥å£&lt;a class="headerlink" href="#rest" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace Server å’Œ Dynatrace Clientéƒ½é€šè¿‡RESTæ¥å£æä¾›ç®¡ç†åŠŸèƒ½ã€‚è¿™äº›æ¥å£å¯ä»¥ç”¨äºæ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯åœsession recording&lt;/li&gt;
&lt;li&gt;ä¸ºç³»ç»Ÿé…ç½®æ–‡ä»¶åˆ‡æ¢æ´»åŠ¨é…ç½®&lt;/li&gt;
&lt;li&gt;è§¦å‘å†…å­˜å¿«ç…§ã€çº¿ç¨‹å¿«ç…§åŠCPUé‡‡æ ·&lt;/li&gt;
&lt;li&gt;é‡å¯Dynatrace Server å’Œ Dynatrace Collector&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œä¼ æ„Ÿå™¨çƒ­éƒ¨ç½²&lt;/li&gt;
&lt;li&gt;ç”ŸæˆæŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Dynatrace 6.1ä¸­ï¼Œç”±äºå®‰å…¨åŸå› ï¼Œå¯¹SSLv3çš„æ”¯æŒå·²ç»ä¸å†ç»§ç»­ã€‚åœ¨Java 7ä¸­ï¼Œé»˜è®¤å·²ç»ç¦ç”¨å¯¹ä¼ªåè®®SSLv2Helloçš„æ”¯æŒã€‚è¿™ä¹Ÿåœ¨RSETæ¥å£ä¸­å¾—ä»¥ä½“ç°ã€‚ä½¿ç”¨Java6æˆ–è€…æ›´æ—©ç‰ˆæœ¬è¿è¡Œçš„åº”ç”¨ï¼Œå¦‚æœä»–ä»¬é€šè¿‡HTTPSè®¿é—®RESTæ¥å£ï¼Œä¹Ÿå¯èƒ½ä¼šå—å½±å“ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨Java 6è®¿é—®RESTæ¥å£ï¼ŒSSLv2Helloå¿…é¡»è¢«ç¦ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;java
Set&amp;lt;String&amp;gt; protocols = new HashSet&amp;lt;String&amp;gt;(Arrays.asList(socket.getEnabledProtocols()));
protocols.remove("SSLv2Hello");
socket.setEnabledProtocols(protocols.toArray(new String[protocols.size()]));&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="server-rest"&gt;Server RESTæ¥å£&lt;a class="headerlink" href="#server-rest" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;æ¦‚è§ˆ&lt;/h4&gt;
&lt;p&gt;Dynatrace Server å’Œ Dynatrace Clientéƒ½é€šè¿‡RESTæ¥å£æä¾›ç®¡ç†åŠŸèƒ½ã€‚é€šè¿‡è¿™äº›æ¥å£ï¼Œä½ å¯ä»¥å¯åŠ¨å’Œåœæ­¢session recordingï¼Œè§¦å‘å†…å­˜å’Œçº¿ç¨‹å¿«ç…§ï¼Œåˆ›å»ºæŠ¥å‘Šç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ç”¨é»˜è®¤çš„8020å’Œ8021ç«¯å£ï¼Œä½¿ç”¨HTTP 1.1å’ŒHTTPS 1.1 è®¿é—®æ‰€æœ‰çš„Dynatrace Server REST æ¥å£ã€‚å¦‚ä½•æ›´æ”¹ç«¯å£è®¾ç½®å’Œå¦‚ä½•å¯ç”¨/ç¦ç”¨RESTæ¥å£å‚è§â€œSetup Communicationâ€ï¼ˆè§dynaTrace 6.2 Documentation 525é¡µï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°æ¥å£é€šè¿‡HTMLè¢«æš´éœ²ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®ã€‚é»˜è®¤ï¼ŒHTMLçš„æ¥å£è®¿é—®åœ°å€ä¸ºï¼š&lt;a href="https://DT_SERVER:8021/rest/html/management/server"&gt;https://DT_SERVER:8021/rest/html/management/server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹åˆ—ä¸»é¢˜æè¿°äº†å¦‚ä½•è®¿é—®RESTæœåŠ¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Agent Groups (REST) (2438é¡µ)&lt;/li&gt;
&lt;li&gt;Agents and Collectors (REST) (2447é¡µ)&lt;/li&gt;
&lt;li&gt;ä»ªè¡¨æ¿å’ŒæŠ¥å‘Š (REST) (2450é¡µ)&lt;/li&gt;
&lt;li&gt;â€œåœæœºæ—¶é—´â€ (REST) (2459é¡µ)&lt;/li&gt;
&lt;li&gt;äº‹ä»¶ ï¼ˆREST) (2463é¡µ)&lt;/li&gt;
&lt;li&gt;æ´»åŠ¨Sessions (REST) (2497é¡µ)&lt;/li&gt;
&lt;li&gt;å†…å­˜å¿«ç…§ (REST) (2468é¡µ)&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä»“åº“ (REST) (2479é¡µ)&lt;/li&gt;
&lt;li&gt;æ’ä»¶ç®¡ç† (REST) (2485é¡µ)&lt;/li&gt;
&lt;li&gt;èµ„æºå¿«ç…§ (REST) (2490é¡µ)&lt;/li&gt;
&lt;li&gt;Server ç®¡ç† (REST) (2492é¡µ)&lt;/li&gt;
&lt;li&gt;å­˜å‚¨çš„Sessions (REST) (2500é¡µ)&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿé…ç½®æ–‡ä»¶ (REST) (2507é¡µ)&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡å’Œç›‘è§†å™¨ (REST) (2511é¡µ)&lt;/li&gt;
&lt;li&gt;æµ‹è¯•è‡ªåŠ¨åŒ– (REST) (2512é¡µ)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;HTTPå“åº”ç &lt;/h4&gt;
&lt;p&gt;HTTPçŠ¶æ€å“åº”ç å±•ç¤ºäº†ä½ çš„è®¿é—®çš„ç»“æœã€‚&lt;em&gt;RFC 2616&lt;/em&gt; æ ‡å‡†ï¼ˆ&lt;a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"&gt;W3C&lt;/a&gt;, &lt;a href="http://www.ietf.org/rfc/rfc2616.txt"&gt;IETF&lt;/a&gt;æè¿°äº†è¿™äº›çŠ¶æ€ç ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœè¯·æ±‚è¢«æˆåŠŸæ”¶åˆ°ï¼Œç†è§£ï¼Œå¹¶æ¥å—ï¼ŒRESTæ¥å£è¿”å›2xxçŠ¶æ€ç ã€‚å¦‚æœè¯·æ±‚ä¸èƒ½è¢«Dynatrace Serverç†è§£ï¼Œä¼šè¿”å›4xxçŠ¶æ€ç ã€‚çŠ¶æ€ç 5xxè¡¨ç¤ºæœ‰server erroråœ¨ç»„ç»‡Dynatrace Serverå®Œæˆè¯¥è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹åˆ—æ˜¯å¸¸è§çš„å“åº”ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;200&lt;/strong&gt; - OKï¼šè¯·æ±‚å·²æˆåŠŸã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;201&lt;/strong&gt; - Createdï¼šè¯·æ±‚è¢«æ‰§è¡Œï¼Œä¸€ä¸ªæ–°èµ„æºè¢«åˆ›å»ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;202&lt;/strong&gt; - Accepted: è¯·æ±‚è¢«æ¥å—å¤„ç†ï¼Œä½†æ˜¯å¤„ç†å°šæœªå®Œæˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;204&lt;/strong&gt; - No Content: è¯·æ±‚å·²æˆåŠŸï¼Œä½†æ˜¯å“åº”æ²¡æœ‰entity-bodyã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;400&lt;/strong&gt; - Bad Request: ä¸€äº›è¯·æ±‚å‚æ•°ä¸æ­£ç¡®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;401&lt;/strong&gt; - Unauthorized: éœ€è¦ä¸€ä¸ªåˆæ³•è®¤è¯å¤´ï¼ˆåŸºæœ¬è®¤è¯ï¼‰ï¼Œä½†æ˜¯å´æ²¡æœ‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;403&lt;/strong&gt; - Forbidden: è¯·æ±‚çš„æ‰§è¡Œä¸è¢«å…è®¸ï¼Œä¾‹å¦‚ï¼šç”¨æˆ·æ²¡æœ‰æƒé™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;404&lt;/strong&gt; - Not Found: ä¸€äº›å®ä½“æ‰¾ä¸åˆ°ï¼Œå¦‚ï¼šç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œä»ªè¡¨æ¿ï¼ŒCollectorï¼Œæˆ–Agentã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;500&lt;/strong&gt; - Internal Server Error: å…·ä½“ä¿¡æ¯è¯·æŸ¥çœ‹response bodyã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;501&lt;/strong&gt; - Not Implemented: è¯·æ±‚çš„æœåŠ¡å½“å‰æ²¡æœ‰è¢«æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;èº«ä»½è®¤è¯å’Œæˆæƒ&lt;/h4&gt;
&lt;p&gt;ä¸ºè®¿é—®Dynatrace RESTæ¥å£ï¼ŒUser Agentå¿…é¡»é€šè¿‡HTTP åŸºæœ¬è®¤è¯è¯å®å®ƒè‡ªå·±ã€‚&lt;a href="http://www.ietf.org/rfc/rfc2617.txt"&gt;RFC2617&lt;/a&gt;æè¿°äº†è¯¥è®¤è¯æŠ€æœ¯ã€‚åŸºäºç”¨æˆ·åï¼Œä¸€ä¸ªå†’å·(:)ï¼Œå’Œå¯†ç çš„ä¸²è”çš„å­—ç¬¦ä¸²çš„BASE 64 hash keyå¿…é¡»è¢«è®¡ç®—ã€‚&lt;em&gt;Basic&lt;/em&gt;åŠ ä¸Šè¯¥hash keyçš„å­—ç¬¦ä¸²å¿…é¡»è¢«è®¾ä¸ºHTTPè¯·æ±‚çš„&lt;em&gt;Authorization&lt;/em&gt; å¤´ã€‚å‚è§&lt;a href="http://en.wikipedia.org/wiki/Basic_access_authentication"&gt;Wiki page&lt;/a&gt; è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç”¨æˆ·æˆåŠŸè¢«è®¤è¯ï¼ŒDynatrace Serveræ£€æŸ¥è¯¥ç”¨æˆ·æ˜¯å¦å¯ä»¥è®¿é—®è¯¥RESTæ¥å£ã€‚å¦‚æœè¯¥ç”¨æˆ·æ²¡æœ‰&lt;em&gt;Web Service Interface Access&lt;/em&gt;æƒé™ï¼Œè¿”å›HTTPçŠ¶æ€ç 401(Unauthorized)ã€‚å–å†³äºè¢«è¯·æ±‚çš„æœåŠ¡ï¼Œç”¨æˆ·å¯èƒ½éœ€è¦é¢å¤–çš„æƒé™ï¼ˆå¦‚ï¼šè®¿é—®ä¸€ä¸ªå…·ä½“çš„ä»ªè¡¨æ¿æˆ–è€…ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚ï¼‰&lt;/p&gt;
&lt;h4&gt;Agent Groups (REST)&lt;/h4&gt;
&lt;h5&gt;Agent Groups&lt;/h5&gt;
&lt;p&gt;Dynatrace Serveræä¾›å‡ ä¸ªRESTfulæ¥å£URLï¼š&lt;code&gt;http://&amp;lt;server&amp;gt;:8020/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt; æ¥ç®¡ç†ä¸€ä¸ªç³»ç»Ÿé…ç½®æ–‡ä»¶çš„Agent Groupsã€‚ä½¿ç”¨HTTP GET (2439é¡µ)æ¥è¯·æ±‚ä¸€ä¸ªAgent Groupçš„ç»†èŠ‚ä¿¡æ¯ã€‚ä½¿ç”¨HTTP PUT (2440é¡µ)æ¥åˆ›å»ºæ–°çš„Agent Groupsæˆ–è€…ä¿®æ”¹å·²ç»å­˜åœ¨çš„Agent Groupsã€‚ä½¿ç”¨HTTPæ–¹æ³•DELETE(2442é¡µ)æ¥åˆ é™¤å·²å­˜åœ¨çš„Agent Groupã€‚ä¹Ÿæœ‰ä¸€ä¸ªæ¥å£ï¼Œç”¨äºlist(2439é¡µ)ä¸€ä¸ªå…·ä½“ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„æ‰€æœ‰çš„Agent Groupsã€‚&lt;/p&gt;
&lt;h6&gt;List Groups&lt;/h6&gt;
&lt;p&gt;è¿™ä¸ªæ¥å£åˆ—å‡ºä¸€ä¸ªå…·ä½“ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„çš„æ‰€æœ‰Agent Groupsã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç›¸åº”çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶åç§°&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;å“åº”å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;xml
&amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes" ?&amp;gt;
&amp;lt;agentgroups&amp;gt;
    &amp;lt;agentgroupreference name="Business Backend Server (Java)" href="http://localhost:8020/rest/management
/profiles/easyTravel/agentgroups/Business%20Backend%20Server%20(Java)" /&amp;gt;
    &amp;lt;agentgroupreference name="Customer Web Frontend (Java)" href="http://localhost:8020/rest/management
/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)" /&amp;gt;
    &amp;lt;agentgroupreference name="CreditCardAuthorization (C++)" href="http://localhost:8020/rest/management
/profiles/easyTravel/agentgroups/CreditCardAuthorization%20(C++)" /&amp;gt;
    &amp;lt;agentgroupreference name="Payment Backend (.NET)" href="http://localhost:8020/rest/management/profiles
/easyTravel/agentgroups/Payment%20Backend%20(.NET)" /&amp;gt;
    &amp;lt;agentgroupreference name="B2B Web Frontend (.NET)" href="http://localhost:8020/rest/management/profiles
/easyTravel/agentgroups/B2B%20Web%20Frontend%20(.NET)" /&amp;gt;
&amp;lt;/agentgroups&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;GET Group&lt;/h6&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªæŒ‡å®šçš„Agent Groupä½¿ç”¨HTTP GETæ¥è·å–XMLå±•ç¤ºçš„Agent Groupã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¯¹åº”Agent Groupåç§°&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹å±•ç¤ºäº†Agent Group Customer Web Frontend (java)çš„XMLæè¿°å¦‚ä½•è¢«è¯·æ±‚ã€‚è¿”å›çš„XMLåŒ…å«Agent Groupåç§°ï¼Œæè¿°ï¼Œç›¸å…³Agentæ˜ å°„çš„å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentgroup&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Customer Web Frontend (Java)&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Web application which provides the customer web pages via JSF/icefaces technology. Accesses the siness backend via WebServices.&amp;gt;&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;agentmappingsreference&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost:8020/rest/management/profiles/easyTravel/agentgroups/stomer%20Web%20Frontend%20(Java)/mappings&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentgroup&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;PUT Group&lt;/h6&gt;
&lt;p&gt;ä½¿ç”¨HTTP PUTæ¥å£åˆ›å»ºæˆ–è¦†ç›–ä¸€ä¸ªAgent Groupé€šè¿‡å‘é€XMLæ ¼å¼ä½œä¸ºè¯·æ±‚çš„å†…å®¹ã€‚è¯·æ±‚å†…å®¹çš„æœŸæœ›XMLæ ¼å¼å†…å®¹ä¸å“åº”HTTP GETæ¥å£çš„å†…å®¹ç±»ä¼¼ã€‚éœ€è¦æœ‰å†™å…¥ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„æƒé™ã€‚é‡è½½POSTæ¥å£æä¾›ä¸HTTP PUTç›¸åŒçš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;PUT&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;consumes application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;?httpMethod=PUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;consumes application/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;agentmappingsreferenceå…ƒç´ æ²¡æœ‰è¢«PUTæ¥å£æ˜¾ç¤ºã€‚è¦å¢åŠ ä¸€ä¸ªAgentæ˜ å°„åˆ°Agent Groupï¼Œä½¿ç”¨Agent æ˜ å°„çš„HTTP PUTæ¥å£ï¼ˆ2445é¡µï¼‰ã€‚ä¸æ”¯æŒé€šè¿‡è¯¥æ¥å£é‡å‘½åAgent Groupã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¦åˆ›å»ºæˆ–æ›´æ–°çš„Agent Groupåç§°&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹æ¼”ç¤ºå¦‚ä½•ä¿®æ”¹å·²æœ‰çš„Agent Group Customer Web Frontend (Java)çš„æè¿°ã€‚å¦‚æœè¯·æ±‚è¢«æˆåŠŸæ‰§è¡Œï¼Œä¼šè¿”å›çŠ¶æ€ç 204(No Content)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentgroup&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;This is a modified description.&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentgroup&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
204 No Content&lt;/p&gt;
&lt;p&gt;æœ¬ä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªåŒ…å«æè¿°çš„ï¼Œå«åšNew Agent Groupçš„æ–°çš„Agent Groupã€‚Agent Groupçš„åç§°é€šè¿‡è·¯å¾„å‚æ•°æŒ‡å®šï¼Œæè¿°åœ¨XMLå†…å®¹ä¸­æŒ‡å®šã€‚å¦‚æœè¯·æ±‚æ‰§è¡ŒæˆåŠŸï¼Œè¿”å›å“åº”ç 201ï¼Œç„¶åå¤´ä¿¡æ¯LocationæŒ‡å®šä¸ºåˆšåˆ›å»ºçš„Agent Groupçš„URLã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/New%20Agent%20Group&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentgroup&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;This is a new agent group.&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentgroup&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
201 Created&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å“åº”å¤´&lt;/strong&gt;&lt;br&gt;
Location: &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/New%20Agent%20Group&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;DELETE Group&lt;/h6&gt;
&lt;p&gt;ä½¿ç”¨HTTP DELETEæ¥å£æ¥åˆ é™¤å·²æœ‰çš„Agent Groupã€‚éœ€è¦æœ‰ä¿®æ”¹ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„æƒé™ã€‚é‡è½½POSTæ¥å£æä¾›å’ŒHTTP DELETEç›¸åŒçš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DELETE&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;?httpMethod=DELETE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¦åˆ é™¤çš„Agent Groupåç§°&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹å±•ç¤ºå¦‚ä½•åˆ é™¤ä¸€ä¸ªå«åšCunstomer Web Frontend (Java)çš„Agent Groupã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
DELETE &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
204 No Content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;Agentæ˜ å°„&lt;/h5&gt;
&lt;p&gt;ä¸Agent Groupsï¼ˆ2439é¡µï¼‰ç±»ä¼¼ï¼ŒDynatrace Serveræä¾›å‡ ä¸ªæ¥å£ç®¡ç†Agentæ˜ å°„ã€‚ä½¿ç”¨HTTP GETï¼ˆ2444é¡µï¼‰æ¥è¯·æ±‚Agentæ˜ å°„çš„ç»†èŠ‚ä¿¡æ¯ã€‚ä½¿ç”¨HTTPæ–¹æ³•PUTï¼ˆ2445é¡µï¼‰å’ŒDELETEï¼ˆ2446é¡µï¼‰æ¥åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤Agentæ˜ å°„ã€‚ä½¿ç”¨Lists æ¥å£ï¼ˆ2443é¡µï¼‰æ¥å¾—åˆ°ä¸€ä¸ªAgent Groupçš„Agentæ˜ å°„åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;h6&gt;List æ˜ å°„&lt;/h6&gt;
&lt;p&gt;è¯¥æ¥å£åˆ—å‡ºä¸€ä¸ªAgent Groupçš„æ‰€æœ‰Agentæ˜ å°„ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmappings&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentmappingreference&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost:8020/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;agentmappingreference&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel_CF&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost:8020/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/easyTravel_CF&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmappings&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;GET æ˜ å°„&lt;/h6&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªæŒ‡å®šçš„Agent Mappingä½¿ç”¨HTTP GETæ¥è·å¾—è¯¥Agentæ˜ å°„çš„XMLæ ¼å¼æè¿°ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mappingalias&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¯·æ±‚çš„Agent Mappingçš„alias&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹å±•ç¤ºäº†å¦‚ä½•è¯·æ±‚CustomerFrontend_easyTravelçš„XMLæ ¼å¼çš„Agent æ˜ å°„ã€‚è¿”å›çš„XMLæè¿°äº†è¯¥æ˜ å°„åŒ¹é…å“ªäº›agentåå’Œä¸»æœºåã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20%28Java%29/mappings/CustomerFrontend_easyTravel&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;CustomerFrontend_easyTravel&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;PUTæ˜ å°„&lt;/h6&gt;
&lt;p&gt;ä½¿ç”¨HTTP PUTæ¥å£æ¥åˆ›å»ºæˆ–è¦†ç›–Agentæ˜ å°„ã€‚éœ€è¦æœ‰å†™ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„æƒé™ã€‚é‡è½½POSTæ¥å£æä¾›ä¸HTTP PUTç›¸åŒçš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;PUT&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;consumes application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;?httpMethod=PUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;consumes application/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mappingalias&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éœ€è¦åˆ›å»ºæˆ–ä¿®æ”¹çš„Agent Mapping çš„alias&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¯·æ±‚å¿…é¡»å‘é€XMLæ ¼å¼çš„Agent æ˜ å°„ã€‚Agent æ˜ å°„çš„HTTP GETè¯·æ±‚å¯ä»¥æŸ¥çœ‹éœ€è¦çš„XMLæ¶æ„ã€‚&lt;em&gt;agentnamematchtype&lt;/em&gt; å’Œ &lt;em&gt;hostnamematchtype&lt;/em&gt; å…ƒç´ å¯ä»¥æœ‰ä»¥ä¸‹çš„å…¶ä¸­ä¸€ä¸ªå€¼ï¼š&lt;em&gt;starts&lt;/em&gt;ï¼Œ&lt;em&gt;ends&lt;/em&gt;ï¼Œ&lt;em&gt;contains&lt;/em&gt;ï¼Œ&lt;em&gt;equals&lt;/em&gt; æˆ– &lt;em&gt;regex&lt;/em&gt;ã€‚ï¼ˆè¯¦è§Agent Group - Agent æ˜ å°„ï¼ˆ979é¡µï¼‰ï¼‰ã€‚è¯¥æ¥å£ä¸æ”¯æŒAgentæ˜ å°„é‡å‘½åã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;CustomerFrontend_easyTravel&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹å±•ç¤ºå¦‚ä½•ä¿®æ”¹CustomerFrontend_easyTravelçš„Agent æ˜ å°„ã€‚å¦‚æœè¯·æ±‚æˆåŠŸæ‰§è¡Œï¼Œè¿”å›çŠ¶æ€ç 204(No Content)ã€‚&lt;br&gt;
&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/CustomerFrontend_easyTravel&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;sampleApp&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;contains&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&amp;gt;&lt;/span&gt;machineX&lt;span class="nt"&gt;&amp;lt;/hostnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;contains&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
204 No Content&lt;br&gt;
æœ¬ä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨aliasåNew Mappingæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„Agentæ˜ å°„ã€‚å¦‚æœè¯·æ±‚è¢«æˆåŠŸæ‰§è¡Œï¼Œè¿”å›å“åº”ç 201ï¼Œå¯¹åº”çš„åˆ›å»ºAgentæ˜ å°„çš„URLä¼šæŒ‡å®šLocationå¤´ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/New%20Mapping&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;someprefix&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&amp;gt;&lt;/span&gt;machineX&lt;span class="nt"&gt;&amp;lt;/hostnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;ends&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
201 Created&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å“åº”å¤´ä¿¡æ¯&lt;/strong&gt;&lt;br&gt;
Location: &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/New%20Mapping&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;DELETEæ˜ å°„&lt;/h6&gt;
&lt;p&gt;ä½¿ç”¨HTTP DELETEæ¥å£æ¥åˆ é™¤å·²ç»å­˜åœ¨çš„Agentæ˜ å°„ã€‚éœ€è¦æœ‰ä¿®æ”¹ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„æƒé™ã€‚é‡è½½POSTæ¥å£æä¾›ä¸HTTP DELETEç›¸åŒçš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DELETE&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;?httpMethod=DELETE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mappingalias&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éœ€è¦åˆ é™¤çš„Agentæ˜ å°„çš„alias&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹å±•ç¤ºå¦‚ä½•åˆ é™¤Agentæ˜ å°„CustomerFrontend_easyTravelçš„aliasã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
DELETE &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/CustomerFrontend_easyTravel&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
204 No Content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Agentså’ŒCollectors (REST)&lt;/h4&gt;
&lt;h5&gt;Agents&lt;/h5&gt;
&lt;p&gt;Dynatrace Serveræä¾›2ä¸ªRESTful æ¥å£ä¸Dynatrace Agentsäº¤äº’ã€‚ä½¿ç”¨List Agents(2447é¡µ)æ¥å£æ¥æ”¶é›†Dynatrace Agentsçš„ä¿¡æ¯ã€‚ä½¿ç”¨Hot Sensor Placementæ¥å£æ¥æ‰§è¡ŒæŒ‡å®šDynatrace Agentçš„ä¼ æ„Ÿå™¨çƒ­éƒ¨ç½²(2448é¡µ)&lt;/p&gt;
&lt;h6&gt;List Agents&lt;/h6&gt;
&lt;p&gt;è¯¥æ¥å£åˆ—å‡ºæ‰€æœ‰å·²çŸ¥çš„Dynatrace Agentsï¼Œå¹¶ä¸”æä¾›è¯¸å¦‚å®ƒä»¬è¿æ¥çš„Collectorå’Œå…¶ä»–å…ƒæ•°æ®ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/agents&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/agents&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agents&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentinformation&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;agentGroup&amp;gt;&lt;/span&gt;easyTravelBackend&lt;span class="nt"&gt;&amp;lt;/agentGroup&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;agentId&amp;gt;&lt;/span&gt;-91443089&lt;span class="nt"&gt;&amp;lt;/agentId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;capture&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/capture&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;classLoadCount&amp;gt;&lt;/span&gt;4783&lt;span class="nt"&gt;&amp;lt;/classLoadCount&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;collectorinformation&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Embedded dynaTrace Collector&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;embedded&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/embedded&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/collectorinformation&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;easyTravel&lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;eventCount&amp;gt;&lt;/span&gt;70&lt;span class="nt"&gt;&amp;lt;/eventCount&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;licenseInformation&amp;gt;&lt;/span&gt;License OK&lt;span class="nt"&gt;&amp;lt;/licenseInformation&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;licenseOk&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/licenseOk&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;easyTravelBackend&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;processId&amp;gt;&lt;/span&gt;6612&lt;span class="nt"&gt;&amp;lt;/processId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;skippedEvents&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/skippedEvents&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;skippedPurePaths&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/skippedPurePaths&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;startupTimeUTC&amp;gt;&lt;/span&gt;1250107304703&lt;span class="nt"&gt;&amp;lt;/startupTimeUTC&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;supportsHotSensorPlacement&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/supportsHotSensorPlacement&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;systemProfile&amp;gt;&lt;/span&gt;easyTravel&lt;span class="nt"&gt;&amp;lt;/systemProfile&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;technologyType&amp;gt;&lt;/span&gt;Java&lt;span class="nt"&gt;&amp;lt;/technologyType&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalClassLoadCount&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/totalClassLoadCount&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalCpuTime&amp;gt;&lt;/span&gt;0.0&lt;span class="nt"&gt;&amp;lt;/totalCpuTime&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalExecutionTime&amp;gt;&lt;/span&gt;0.0&lt;span class="nt"&gt;&amp;lt;/totalExecutionTime&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalPurePathCount&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/totalPurePathCount&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/agentinformation&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agents&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;ä¼ æ„Ÿå™¨çƒ­éƒ¨ç½²&lt;/h6&gt;
&lt;p&gt;è¯¥æ¥å£æ‰§è¡ŒIDä¸º&lt;agent_id&gt;çš„Dynatrace Agentçš„ä¼ æ„Ÿå™¨çƒ­éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/agents/&amp;lt;agent_id&amp;gt;/hotsensorplacement&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è·¯å¾„&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;agent_id&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¯¹åº”Dynatrace Agentçš„ID&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹æ¿€æ´»äº†IDä¸º-86650354çš„Dynatrace Agentçš„ä¼ æ„Ÿå™¨çƒ­éƒ¨ç½²ã€‚XMLå“åº”æè¿°äº†è¯·æ±‚è¢«æˆåŠŸæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·æ±‚URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/agents/-86650354/hotsensorplacement&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;result&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ä»£ç &lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;Collectors&lt;/h5&gt;
&lt;h6&gt;åˆ—å‡ºCollectors&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/collectors&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›çš„XMLåŒ…å«å…³äºå·²è¿æ¥çš„collectorsçš„æ ¹èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;collectors&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/collectors&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;collectorinformation&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/collectors/Embedded%20dynaTrace%20Collector@GRABS&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;embedded&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/embedded&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Embedded dynaTrace Collector&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/collectorinformation&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/collectors&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;Collectorç»†èŠ‚&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/collectors/&amp;lt;collectorname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›çš„XMLåŒ…æ‹¬è¯¥collectorçš„æ ¹èŠ‚ç‚¹çš„ç»†èŠ‚ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;collectorinformation&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/collectors/Embedded%20dynaTrace%20Collector@GRABS&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;embedded&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/embedded&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Embedded dynaTrace Collector&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/collectorinformation&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;é‡å¯å’Œå…³é—­Collector&lt;/h6&gt;
&lt;p&gt;Dynatrace Serveræä¾›2ä¸ªRESTæ¥å£æ¥é‡å¯å’Œå…³é—­å·²è¿æ¥çš„Dynatrace Collectorsã€‚éƒ½æ˜¯HTTP POSTè¯·æ±‚ã€‚ä¸‹åˆ—2ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•é‡å¯å’Œåœæ­¢å·²è¿æ¥åˆ°Dynatrace Serverçš„collectorsã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;POST https://&amp;lt;server&amp;gt;:8021/rest/management/collector/&amp;lt;collectorname&amp;gt;/restart HTTP/1.1
POST https://&amp;lt;server&amp;gt;:8021/rest/management/collector/&amp;lt;collectorname&amp;gt;/shutdown HTTP/1.1
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;ä»ªè¡¨æ¿å’ŒæŠ¥å‘Š (REST)&lt;/h4&gt;
&lt;p&gt;Dynatrace Serveræä¾›ä¸€ç³»åˆ—çš„RESTfulæ¥å£æ¥é€šè¿‡HTTPè¯·æ±‚åˆ›å»ºä»ªè¡¨æ¿æŠ¥å‘Šã€‚ä½¿ç”¨è¿™ä¸ªæ¥å£æ¥å–å›ä¸åŒæ–‡ä»¶æ ¼å¼çš„ä»ªè¡¨æ¿ä¸­çš„ä¿¡æ¯ï¼Œå¹¶ä¸”é€šè¿‡çµæ´»çš„å‚æ•°æ¥é€‰æ‹©æŠ¥å‘Šæ•°æ®çš„æºå’Œæ—¶é—´æ®µã€‚&lt;br&gt;
å…³äºæŠ¥å‘Šçš„æ¦‚è§ˆä¿¡æ¯å’ŒDynatraceçš„æŠ¥å‘ŠåŠŸèƒ½ï¼Œè§æŠ¥å‘Š(1966é¡µ)ã€‚&lt;/p&gt;
&lt;h5&gt;ç”Ÿæˆä»ªè¡¨æ¿æŠ¥å‘Š&lt;/h5&gt;
&lt;p&gt;é€šè¿‡RESTç”ŸæˆæŠ¥å‘Šçš„è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/reports/create/&amp;lt;dashboardname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6&gt;å‚æ•°&lt;/h6&gt;
&lt;p&gt;ä½ å¯ä»¥æ·»åŠ è¯·æ±‚å‚æ•°æ¥å®Œå–„æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark: æ›´æ”¹åªåº”ç”¨åœ¨ä»ªè¡¨æ¿ç­‰çº§ã€‚å•ä¸ªdashletï¼ˆå¦‚æ•°æ®æºï¼‰çš„ç‰¹æ®Šé…ç½®ä¸å—è¿™äº›å‚æ•°çš„å½±å“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;å¼ºåˆ¶&lt;/th&gt;
&lt;th&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ç±»å‹(2451é¡µ)&lt;/td&gt;
&lt;td&gt;æŒ‡å®šè¯·æ±‚è¾“å‡ºç±»å‹&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;HTML&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ ¼å¼(2451é¡µ)&lt;/td&gt;
&lt;td&gt;æŒ‡å®šç”¨äºé€‰æ‹©çš„æŠ¥å‘Šç±»å‹çš„æŠ¥å‘Šæ ¼å¼&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;å·²é€‰æ‹©çš„åŸºäºæŠ¥å‘Šå†…éƒ¨åŸºæœ¬ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¿‡æ»¤å™¨(2451é¡µ)&lt;/td&gt;
&lt;td&gt;è®¾ç½®æºçš„è¿‡æ»¤å™¨ï¼Œä½†æ˜¯ä¼šè¢«æŒ‡å®šçš„æºè¿‡æ»¤å™¨è¦†ç›–ã€‚å¯ä»¥è¢«æŒ‡å®šå¤šæ¬¡&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æº(2452é¡µ)&lt;/td&gt;
&lt;td&gt;è´Ÿè½½ä»ªè¡¨æ¿çš„é»˜è®¤æº&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ¯”è¾ƒ(2452é¡µ)&lt;/td&gt;
&lt;td&gt;è¦†ç›–(å¦‚å¿…è¦åˆ™æ¿€æ´»)é»˜è®¤æ•°æ®æºçš„å‚ç…§&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6&gt;# å‚æ•°ç»†èŠ‚&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;br&gt;
æŒ‡å®šè¾“å‡ºç±»å‹ã€‚æŒ‡å®šç±»å‹å¯ä»¥åœ¨Reporting(1966é¡µ)æ‰¾åˆ°æˆ–è€…å¯ä»¥é€šè¿‡RESTåˆ—å‡º(2454é¡µ)ã€‚&lt;br&gt;
ç¤ºä¾‹ï¼š&lt;br&gt;
URI    &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?type=CSV&lt;/code&gt;&lt;br&gt;
è¿™ä¼šåˆ›å»ºä¸€ä¸ªCSVæ ¼å¼çš„ï¼Œå«åš&lt;strong&gt;demo&lt;/strong&gt;çš„æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;format&lt;/strong&gt;&lt;br&gt;
ä¸€äº›ç±»å‹æä¾›ä¸åŒçš„æ ¼å¼ã€‚æ¯ç§ç±»å‹å¯ç”¨çš„æ ¼å¼å¯ä»¥åœ¨"æ¯ç§ç±»å‹æ”¯æŒæ ¼å¼åˆ—è¡¨"(2454é¡µ)æ‰¾åˆ°ã€‚&lt;br&gt;
ç¤ºä¾‹ï¼š&lt;br&gt;
URI    &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?type=HTML&amp;amp;format=HTML%20Paged&lt;/code&gt;&lt;br&gt;
è¿™ä¼šåˆ›å»ºä¸€ä¸ªå«åš&lt;strong&gt;demo&lt;/strong&gt;çš„HTMLæŠ¥å‘Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;filter&lt;/strong&gt;&lt;br&gt;
Filterså¯ä»¥è‡ªå®šä¹‰æŠ¥å‘Šä½¿ç”¨çš„æ•°æ®ã€‚å…³äºfiltersçš„è¯¦ç»†å±Šæ—¶ï¼Œå‚è§REST Filters(2550é¡µ)ã€‚&lt;br&gt;
ç¤ºä¾‹ï¼š&lt;br&gt;
URI    &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?filter=tf:Last5Min&amp;amp;filter=ag:AgentGroups?Browser&lt;/code&gt;&lt;br&gt;
è¿™ä¼šåˆ›å»ºä¸€ä¸ªdashboard demoçš„HTMLæ ¼å¼çš„æŠ¥å‘Šï¼Œæ—¶é—´ä¸ºè¿‡å»5minï¼ŒAgent Groupä¸º&lt;strong&gt;Browser&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;source&lt;/strong&gt;&lt;br&gt;
æºå¯ä»¥è¦†ç›–æŠ¥å‘Šçš„dashboardçš„æºç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚&lt;br&gt;
ç¤ºä¾‹ï¼š&lt;br&gt;
URI   &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?source=live:easyTravel&lt;/code&gt;&lt;br&gt;
è¿™å›åˆ›å»º&lt;strong&gt;demo&lt;/strong&gt; dashboardçš„HTMLæ ¼å¼çš„æŠ¥å‘Šï¼Œä½¿ç”¨æ´»åŠ¨session &lt;strong&gt;easyTravel&lt;/strong&gt;ä½œä¸ºæºã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark:â€‹ sourceå‚æ•°çš„å€¼æ˜¯åœ¨Dynatrace Clientä¸Šå‚¨å­˜ä¼šè¯çš„åå­—ã€‚ä½ å¯èƒ½éœ€è¦encodeä¸€äº›å­—ç¬¦æ¥æ„é€ ä¸€ä¸ªåˆæ³•çš„URLã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;compare&lt;/strong&gt;&lt;br&gt;
URI   &lt;code&gt;https://localhost:8021/rest/management/dashboard/Incident%20Dashboard?compare=stored:easyTravel%20baseline&lt;/code&gt;&lt;br&gt;
è¿™ä¸ªäº‹ä»¶ä»ªè¡¨æ¿ä¼šæ¯”è¾ƒé»˜è®¤æºå’Œå‚¨å­˜çš„ä¼šè¯&lt;strong&gt;easyTravel&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢é»˜è®¤é…ç½®çš„æœ¬åœ°Serverçš„äº‹ä»¶ä»ªè¡¨æ¿ï¼š &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ”¹å˜é»˜è®¤ä»ªè¡¨æ¿çš„æºä¸ºlive session easyTravelã€‚ &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?source=live:easyTravel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯¹é»˜è®¤ä»ªè¡¨æ¿æºåº”ç”¨web è¯·æ±‚è¿‡æ»¤  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=wr:/frontend/userlogin.do&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®ä¸€ä¸ªåŸºçº¿sessionä½œä¸ºæ¯”è¾ƒæº  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?compare=stored:easyTravel%20baseline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤UserLoginå’ŒUserLogoutäº‹åŠ¡ã€‚  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=bt:UserLogin&amp;amp;filter=bt:UserLogout&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¯·æ±‚è¿‡å»15minæ•°æ®ã€‚  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:Last15Min&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¯·æ±‚æ˜¨å¤©æ•°æ®  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:Yesterday&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¯·æ±‚è¿‡å»15sçš„æ•°æ®  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:OffsetTimeframe?15:SECONDS&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¯·æ±‚from 2015-03-14 09:26 GMT to 09:27 GMTçš„æ•°æ®ã€‚  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:CustomTimeframe?1426339613000:1426339620000&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;ä»ªè¡¨æ¿ä¿¡æ¯&lt;/h5&gt;
&lt;h6&gt;åˆ—å‡ºå¯ç”¨ä»ªè¡¨æ¿&lt;/h6&gt;
&lt;p&gt;è¦å¾—åˆ°å¯ç”¨ä»ªè¡¨æ¿ï¼Œå‘é€ä¸‹åˆ—RESTfulè¯·æ±‚ï¼š&lt;br&gt;
|     |                                                    |                   |&lt;br&gt;
| --- | -------------------------------------------------- | ----------------- |&lt;br&gt;
| GET | &lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/dashboards&lt;/code&gt; | produces text/xml |&lt;/p&gt;
&lt;p&gt;è¿”å›çš„XMLåŒ…å«ä»ªè¡¨æ¿çš„æ ¹èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ã€‚&lt;em&gt;href&lt;/em&gt;å±æ€§åŒ…å«æŠ¥å‘Šè¿™ä¸ªä»ªè¡¨æ¿çš„é“¾æ¥ã€‚åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸€ä¸ªä»ªè¡¨æ¿ä¼šæŠŠä¸€ä¸ªiconä½œä¸ºå¼•ç”¨ï¼Œiconå¯ä»¥è¯·æ±‚ï¼Œå¸¦æœ‰&lt;em&gt;icon&lt;/em&gt;å±æ€§çš„é“¾æ¥ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark:â€‹ åªä¼šåˆ—å‡ºç™»é™†ç”¨æˆ·å¯ç”¨çš„ä»ªè¡¨æ¿ã€‚æ²¡æœ‰æƒé™çš„ä»ªè¡¨æ¿ä¸ä¼šåˆ—å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;ä»ªè¡¨æ¿Icon&lt;/h6&gt;
&lt;p&gt;ä¸€äº›é¢„é…ç½®çš„ä»ªè¡¨æ¿å¼•ç”¨äº†PNGï¼ŒGIFï¼Œæˆ–JPEGæ ¼å¼çš„å›¾æ ‡ã€‚ä½¿ç”¨ä¸‹åˆ—è¯·æ±‚æ¥ä¸‹è½½æŒ‡å®šä»ªè¡¨æ¿çš„å›¾æ ‡ï¼š&lt;br&gt;
GET    &lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/dashboards/&amp;lt;dashboardname&amp;gt;/icon&lt;/code&gt;&lt;/p&gt;
&lt;h5&gt;ç±»å‹å’Œæ ¼å¼&lt;/h5&gt;
&lt;h6&gt;åˆ—å‡ºå—æ”¯æŒçš„æŠ¥å‘Šç±»å‹&lt;/h6&gt;
&lt;p&gt;æŠ¥å‘Šç±»å‹æ˜¯æŒ‡ç”±Dynatrace Serveræä¾›çš„æŠ¥å‘ŠåŠŸèƒ½ä¸­çš„ä¸€ç§è¾“å‡ºæ ¼å¼ï¼Œå¦‚PDFå’ŒHTMLã€‚æŠ¥å‘Šç±»å‹å¯ä»¥æ”¯æŒå¤šç§æŠ¥å‘Šæ ¼å¼ï¼Œå¦‚HTMLä¸åŒçš„æ’ç‰ˆï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹æ¯ç§æŠ¥å‘Šç±»å‹åªæœ‰ä¸€ç§æŠ¥å‘Šæ ¼å¼ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/reports/types&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;produces text/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›XMLåŒ…å«ä¸€ä¸ª&lt;em&gt;reporttypes&lt;/em&gt;æ ¹èŠ‚ç‚¹ï¼Œå’Œåˆ—å‡ºå¯ç”¨ç±»å‹çš„&lt;em&gt;reporttype&lt;/em&gt;å­èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å“åº”ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;reporttypes&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/reports/types&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HTML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PDF&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CSV&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XLS&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XLSX&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XSD&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XSL&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/reporttypes&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;åˆ—å‡ºæ¯ç§ç±»å‹å—æ”¯æŒçš„æ ¼å¼&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/reports/formats&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;produces text/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›XMLåŒ…å«ä¸€ä¸ª&lt;em&gt;reporttypes&lt;/em&gt;æ ¹èŠ‚ç‚¹å’Œåˆ—å‡ºå¯ç”¨ä»ªè¡¨æ¿çš„&lt;em&gt;reporttype&lt;/em&gt;å­èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;br&gt;
è¦å¾—åˆ°å¯ç”¨çš„HTMLæŠ¥å‘Šçš„æ ¼å¼ï¼š&lt;br&gt;
URL   &lt;code&gt;https://localhost:8021/rest/management/reports/formats/HTML&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›ï¼š&lt;br&gt;
&lt;strong&gt;å“åº”ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;reportformats&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/reports/formats/HTML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reportformat&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HTML Report&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Produces a report in HTML format&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/reportformat&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reportformat&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HTML Paged&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Produces a report in HTML format with tabs to quickly switch between the Dashlets&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/reportformat&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/reportformats&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;æ‰©å±•XMLæŠ¥å‘Š&lt;/h5&gt;
&lt;p&gt;XMLæŠ¥å‘Šå¯ä»¥åƒä»»ä½•å…¶ä»–æŠ¥å‘Šä¸€æ ·è¢«åˆ›å»ºã€‚ä¹Ÿæœ‰ä¸€ä¸ªæŒ‡å®šçš„XMLæŠ¥å‘Šæ¥å£ï¼ˆ2455é¡µï¼‰æ”¯æŒä¸€äº›é¢å¤–çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;h5&gt;XMLæŠ¥å‘Šï¼ˆRESTï¼‰&lt;/h5&gt;
&lt;h6&gt;ä»‹ç»&lt;/h6&gt;
&lt;p&gt;é™¤äº†å¸¸è§„çš„REST æŠ¥å‘Šï¼ˆ2450é¡µï¼‰ï¼ŒDynatrace Serverå¯¹äºXMLæŠ¥å‘Šä¹Ÿæ”¯æŒå¦ä¸€ç§RESTæ¥å£ã€‚å®ƒæä¾›æ¯”å¸¸è§„æ¥å£æ›´å¤šçš„å‚æ•°ã€‚XMLæŠ¥å‘Šä¹Ÿå¯ä»¥ä½¿ç”¨å®¢æˆ·ç«¯æŠ¥å‘Š(1973é¡µ)æ¥ç”Ÿæˆã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark:â€‹ XML RESTæŠ¥å‘Šä¸å¸¸è§„RESTæŠ¥å‘Šä¸åŒã€‚ä¸€äº›å‚æ•°åˆ—åœ¨ä¸‹è¾¹ï¼Œè¿™äº›å‚æ•°åœ¨å…¶ä»–æŠ¥å‘Šç±»å‹å’Œæ ¼å¼é‡Œä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;XMLè¯·æ±‚æ¥å£&lt;/h6&gt;
&lt;p&gt;åˆ›å»ºXMLæŠ¥å‘Šçš„å¸¸ç”¨è¯­æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¯·æ±‚ç±»å‹&lt;/th&gt;
&lt;th&gt;HTTP GET&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;URI&lt;/td&gt;
&lt;td&gt;&lt;code&gt;http://DTSERVER:8020/rest/management/dashboard/DASHBOARDNAME?PARAMETERS&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æŸ¥çœ‹å®‰è£…é€šä¿¡(525é¡µ)è·å–æ›´å¤šé…ç½®ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark:â€‹ è¯·æ³¨æ„å¸¸è§„RESTæŠ¥å‘Šä½¿ç”¨æ¥å£ /rest/management/reports/create/ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;å‚æ•°&lt;/h6&gt;
&lt;p&gt;ä¸‹åˆ—å‚æ•°é…ç½®æŠ¥å‘Šå’Œä»ªè¡¨æ¿ã€‚å˜æ›´åªåº”ç”¨åœ¨ä»ªè¡¨æ¿çº§åˆ«ã€‚å¯¹äºå•ä¸ªdashletçš„ç‰¹å®šè®¾ç½®æ— æ³•ä¿®æ”¹ã€‚&lt;br&gt;
å‚æ•°&lt;strong&gt;source&lt;/strong&gt;ï¼Œ &lt;strong&gt;compare&lt;/strong&gt;ï¼Œ &lt;strong&gt;filter&lt;/strong&gt;åœ¨ä»ªè¡¨æ¿å’ŒæŠ¥å‘Š(REST)(2451é¡µ)ä¸­æœ‰è¯´æ˜ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;å¼ºåˆ¶&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æº(2452é¡µ)&lt;/td&gt;
&lt;td&gt;è¦†ç›–ä»ªè¡¨æ¿é»˜è®¤æ•°æ®æº&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;includeLayout(2456é¡µ)&lt;/td&gt;
&lt;td&gt;è®¾ä¸º&lt;em&gt;true&lt;/em&gt;(é»˜è®¤ä¸ºfalse)ï¼Œé¢å¤–çš„å¸ƒå±€ä¿¡æ¯è¢«æ·»åŠ ï¼Œåƒæ˜¯è¡¨çš„åˆ—é¡ºåºï¼Œåˆ—æ˜¾ç¤ºåç§°ï¼Œæˆ–æ’åºã€‚(åªæœ‰XMLå¯ç”¨)&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¿‡æ»¤å™¨(2451é¡µ)&lt;/td&gt;
&lt;td&gt;è®¾ç½®æºçš„è¿‡æ»¤å™¨ï¼Œä½†æ˜¯ä¼šè¢«æŒ‡å®šçš„æºè¿‡æ»¤å™¨è¦†ç›–ã€‚å¯ä»¥è¢«æŒ‡å®šå¤šæ¬¡&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æº(2452é¡µ)&lt;/td&gt;
&lt;td&gt;è´Ÿè½½ä»ªè¡¨æ¿çš„é»˜è®¤æº&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ¯”è¾ƒ(2452é¡µ)&lt;/td&gt;
&lt;td&gt;è¦†ç›–(å¦‚å¿…è¦åˆ™æ¿€æ´»)é»˜è®¤æ•°æ®æºçš„å‚ç…§&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;purePathDetails(2457é¡µ)&lt;/td&gt;
&lt;td&gt;å¯ç”¨æŠ¥å‘Šçš„å…¨éƒ¨ç»†èŠ‚ï¼ŒåŒ…æ‹¬æŠ¥å‘Šä»ªè¡¨æ¿ä¸­ä¸€ä¸ªæˆ–è€…æ‰€æœ‰PurePathçš„æ‰€æœ‰èŠ‚ç‚¹æ•°æ®ã€‚è¿™åªä¼šå½±å“PurePath dashletçš„æŠ¥å‘Šã€‚(åªæœ‰XMLå¯ç”¨)&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6&gt;# includeLayout&lt;/h6&gt;
&lt;p&gt;&lt;em&gt;includeLayout&lt;/em&gt;å†³å®šæ˜¯å¦éœ€è¦åœ¨XMLæŠ¥å‘Šé‡Œæ·»åŠ é¢å¤–çš„å¸ƒå±€ä¿¡æ¯ã€‚&lt;br&gt;
&lt;em&gt;ç¤ºä¾‹ï¼š&lt;/em&gt;&lt;br&gt;
URI    &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?includeLayout=true&lt;/code&gt;&lt;br&gt;
è¿™ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«é¢å¤–å¸ƒå±€ä¿¡æ¯çš„XMLæŠ¥å‘Šï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;sort&lt;/span&gt; &lt;span class="na"&gt;field=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;exec&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;descending&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;state&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;name&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PurePath&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;5&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;agent&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Agent&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;node_count&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Size&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;exec&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Duration [ms]&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;7&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;start&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Start Time&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;9&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;agentid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Agent ID&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;10&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tagid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Tag ID&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;application&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Application&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;breakdown&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Breakdown&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;response_time&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Response Time [ms]&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;# purePathDetails&lt;/h6&gt;
&lt;p&gt;&lt;em&gt;purePathDetails&lt;/em&gt; å’ŒPurePath dashletä¸­PurePath æ ‘æ˜¾ç¤ºçš„æ˜¯ç­‰æ•ˆçš„ã€‚è¯¥å‚æ•°åªå½±å“PurePath dashletçš„æŠ¥å‘Šã€‚å®ƒå¯ä»¥é€‰æ‹©æ‰€æœ‰çš„PurePath(purePathDetails=ALL)æˆ–è€…é€šè¿‡PurePathæ ‡è¯†ç¬¦(2457é¡µ)é€‰æ‹©æŒ‡å®šçš„Purepathã€‚&lt;br&gt;
&lt;em&gt;ç¤ºä¾‹ï¼š&lt;/em&gt;&lt;br&gt;
URI    &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?purePathDetails=ALL&lt;/code&gt;&lt;br&gt;
è¿™å°†ä¼šåˆ›å»ºXMLæŠ¥å‘Šï¼ŒåŒ…æ‹¬demoä»ªè¡¨æ¿(åŒ…å«ä¸€ä¸ªPurePath dashlet)çš„æ‰€æœ‰PurePathç»†èŠ‚ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹:heavy_exclamation_mark:â€‹  è¯·æ±‚æ‰€æœ‰PurePathç»†èŠ‚å¯èƒ½ä¼šäº§ç”Ÿå·¨å¤§çš„æ•°æ®é‡ã€‚å¯¼å‡ºæ‰€æœ‰PurePathä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œå–å†³äºæŠ¥å‘Šä¸­PurePathçš„æ•°é‡å’ŒèŠ‚ç‚¹ã€‚å½“å¯¼å‡ºæ‰€æœ‰PurePathæ•°æ®æ—¶ï¼ŒDynatrace Serverçš„CPUå¼€é”€å¯èƒ½ä¼šå¢åŠ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;XMLæŠ¥å‘Šçš„PurePath æ ‡è¯†ç¬¦&lt;/h6&gt;
&lt;p&gt;è¦é€‰æ‹©ä½ æƒ³çœ‹åˆ°ç»†èŠ‚çš„PurePathï¼Œä½ éœ€è¦é€šè¿‡å®ƒçš„Agent IDå’ŒTag IDæ¥ç¡®å®šã€‚è¦å¾—åˆ°è¿™äº›æ•°æ®ï¼Œæ‰“å¼€PurePath dashletï¼Œé€‰æ‹©æŒ‡å®šPurepathçš„&lt;strong&gt;è¯¦ç»†ä¿¡æ¯&lt;/strong&gt;ã€‚&lt;strong&gt;Agent ID&lt;/strong&gt;å’Œ&lt;strong&gt;Tag ID&lt;/strong&gt;ä¼šåˆ—å‡ºã€‚ä½ ä¹Ÿå¯ä»¥å†PurePath dashletä¸Šæ˜¾ç¤ºè¯¥åˆ—ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;éƒ¨åˆ†&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;th&gt;å¼ºåˆ¶&lt;/th&gt;
&lt;th&gt;ç¤ºä¾‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PA&lt;/td&gt;
&lt;td&gt;åè¿›åˆ¶æˆ–åå…­è¿›åˆ¶('0x'å¼€å¤´)çš„Agent tag&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;PA=0x4ae37f41&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PT&lt;/td&gt;
&lt;td&gt;åè¿›åˆ¶æ ¼å¼çš„tag å·&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;PT=0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;ç¤ºä¾‹:&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸‹åˆ—è¯·æ±‚ä¼šä»demoä»ªè¡¨æ¿ä¸­è·å–ä¸€ä¸ªæŒ‡å®šPurePathçš„è¯¦ç»†ä¿¡æ¯ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;URI    &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?purePathDetails=PT=1175239;PA=0xe1bfd3b9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›çš„XML(èŠ‚é€‰)&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dashboardreport&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;demo&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;version=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6.2.0.1140&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;reportdate=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2015-03-18T13:44:21.006+01:00&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;description=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;source&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;filtersummary=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;last 30 minutes (auto)&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;data&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;purepathsdashlet&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PurePaths&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;description=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;displaysource=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Base&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;purepaths&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;purepath&lt;/span&gt; &lt;span class="na"&gt;state=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;OK&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/CalculateRecommendations&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agent=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel_8080@lnz126872d02:5872&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;node_count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6639&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;exec=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3292.459228515625&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;start=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Wed Mar 18 13:43:53 CET 2015&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agentid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;e1bfd3b9&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;tagid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1178204&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;application=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel portal&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;breakdown=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CPU: 844.514 ms, Sync: -, Wait: -, Suspension: 1,978.724 ms&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;response_time=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0.25823116302490234&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;purepath&lt;/span&gt; &lt;span class="na"&gt;state=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Transaction failed&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/services/BookingService/storeBooking&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agent=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel_8080@lnz126872d02:5872&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;node_count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;49&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;exec=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3008.294189453125&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;start=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Wed Mar 18 13:43:05 CET 2015&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agentid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;e1bfd3b9&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;tagid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1175239&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;application=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel mobile&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;breakdown=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CPU: 832.091 ms, Sync: -, Wait: -, Suspension: 1,075.756 ms&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;response_time=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3008.294189453125&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;node&lt;/span&gt; &lt;span class="na"&gt;method=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;doGet(javax.servlet.http.HttpServletRequest req, javax.servlet.http.HttpServletResponse resp)&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;com.dynatrace.easytravel.frontend.servlet.BackendServicesServlet&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;argument=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/services/BookingService/storeBooking&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agent=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel_8080@lnz126872d02:5872&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;api=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel, Servlet&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;totaltime=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3008.2942302301526&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;relativestart=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0.0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;attachment&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;EuWebRequestNodeAttachment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sessioncookie&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2EB3EB92778753CF9A2C12BC2D0AA006&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;id&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;requestid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1882790301&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;responseid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1744252718&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/attachment&amp;gt;&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;ç¤ºä¾‹&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºdemoä»ªè¡¨æ¿åˆ›å»ºé»˜è®¤XMLæŠ¥å‘Šï¼š &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨session 'easyTravel'ï¼Œæ—¶é—´ä¸º'è¿‡å»7å¤©': &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?source=live:easyTravel!tf:Last7d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨'easyTravel Baseline'ä½œä¸ºæ¯”è¾ƒæºï¼š &lt;code&gt;http://localhost:8020/rest/management/dashboard/Incident%20Dashboard?compare=stored:easyTravel%20Baseline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŠ¥å‘ŠåŒ…å«å¸ƒå±€ä¿¡æ¯ï¼š &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?includeLayout=true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŒ…å«Agent ID xe1bdf3b9 å’Œ Tag ID 1306756 çš„PurePathè¯¦ç»†ä¿¡æ¯ï¼š &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?purePathDetails=PA=0xe1bfd3b9;PT=1306756&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h6&gt;XML Schema&lt;/h6&gt;
&lt;p&gt;å“åº”è¢«XML SchemaæŒ‡å®šï¼Œå¯ä»¥åœ¨Dynatrace Serverä¸ŠæŸ¥åˆ°å…·ä½“å®šä¹‰ï¼š&lt;br&gt;
URI &lt;code&gt;http://DTSERVER:8020/rest/management/schema/dashboard&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;äº‹ä»¶åœæœºæ—¶é—´(REST)&lt;/h4&gt;
&lt;h5&gt;æ¦‚è§ˆ&lt;/h5&gt;
&lt;p&gt;åœ¨Dynatraceï¼Œå¦‚æœè¶…è¿‡æŒ‡å®šé˜ˆå€¼ï¼Œäº‹ä»¶è§„åˆ™å¯ä»¥è¢«å®šä¹‰æ¥æ‰§è¡Œè¡Œä¸º(å¦‚å‘é‚®ä»¶)ã€‚æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¸æƒ³è§¦å‘è¿™äº›è¡Œä¸ºï¼Œæ¯”å¦‚ç³»ç»Ÿå¤‡ä»½ï¼Œæ•°æ®åº“é•œåƒï¼Œserveré‡å¯ç­‰ç­‰ã€‚ä½ å¯ä»¥é…ç½®äº‹ä»¶åœæœºæ—¶é—´(1893é¡µ)æ¥æŠ‘åˆ¶è¿™äº›è§„åˆ™ã€‚&lt;br&gt;
ä½¿ç”¨Dynatraceå®¢æˆ·ç«¯æˆ–è€…Dynatrace Server RESTfulæœåŠ¡:  &lt;code&gt;http://&amp;lt;server&amp;gt;:8020/rest/management/profiles/&amp;lt;profilename&amp;gt;/incidentdowntimes/&amp;lt;downtimename&amp;gt;&lt;/code&gt; æ¥ç®¡ç†äº‹ä»¶åœæœºæ—¶é—´ã€‚ä½ å¯ä»¥é€šè¿‡å‘é€HTTP GETè¯·æ±‚æ¥æ£€æŸ¥äº‹ä»¶åœæœºæ—¶é—´ç»†èŠ‚ã€‚ä½ å¿…é¡»ä½¿ç”¨HTTPæ–¹æ³•PUTæ¥æ·»åŠ ä¸€ä¸ªæ–°çš„äº‹ä»¶åœæœºæ—¶é—´æˆ–è€…å‡çº§ä¸€ä¸ªç°æœ‰çš„åœæœºæ—¶é—´ã€‚ä½¿ç”¨HTTPæ–¹æ³•DELETEæ¥åˆ é™¤äº‹ä»¶åœæœºæ—¶é—´ã€‚&lt;/p&gt;
&lt;h5&gt;GET äº‹ä»¶åœæœºæ—¶é—´&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/incidentdowntimes/&amp;lt;downtimename&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;produces  application/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä¼šå¾—åˆ°ä¸€ä¸ªå·²å­˜åœ¨äº‹ä»¶åœæœºæ—¶é—´çš„XMLå±•ç¤ºã€‚&lt;br&gt;
&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;br&gt;
| ç±»å‹ | å‚æ•°         | æè¿°               | å¼ºåˆ¶ | é»˜è®¤å€¼ |&lt;br&gt;
| ---- | ------------ | ------------------ | ---- | ------ |&lt;br&gt;
| Path | profilename  |                    | yes  |        |&lt;br&gt;
| Path | downtimename | å¯¹åº”åœæœºæ—¶é—´çš„åç§° | yes  |        |&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 26 May 2019 21:09:38 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-25-restful-api.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 21.åˆ†æäº‹ä»¶ç®€è¦æµç¨‹</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-21-analysis-events.html</link><description>&lt;h2 id="_1"&gt;å‘Šè­¦ç±»åˆ«åŠå«ä¹‰&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;åº”ç”¨å‘Šè­¦&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;å“åº”æ—¶é—´/é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å“åº”æ—¶é—´é™ä½--å¯¹åº”çš„åº”ç”¨æˆ–URLå¹³å‡å“åº”æ—¶é—´(ä¸­å€¼)æ˜æ˜¾é«˜äºæœŸæœ›ã€‚å³ä½¿æ‰€è§‚æµ‹çš„å“åº”æ—¶é—´å°šå¯è¢«å®¢æˆ·æ¥å—ï¼Œè¿™ç§çŠ¶æ€æ˜æ˜¾æ˜¯åº”ç”¨ç¨‹åºæˆ–æ˜¯ç¡¬ä»¶é—®é¢˜å¯¼è‡´ï¼Œå¹¶ä¸”ä¼šé™ä½æ‰€èƒ½è¾¾åˆ°çš„æœ€å¤§ååé‡ã€‚&lt;/li&gt;
&lt;li&gt;é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½--è§‚æµ‹ä¸­ 10% æœ€æ…¢è¯·æ±‚çš„ååº”æ—¶é—´æ˜æ˜¾å¢åŠ ã€‚è¿™å°†å¯¼è‡´ç”¨æˆ·ä½“éªŒå˜å·®ã€‚åº”ç”¨ç¨‹åºåŠç¡¬ä»¶é—®é¢˜éƒ½èƒ½å¯¼è‡´è¯¥é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;å¤±è´¥ç‡è¿‡é«˜/é¡µé¢æ“ä½œ/äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¤±è´¥ç‡è¿‡é«˜--äº‹åŠ¡å¤±è´¥ç‡è¿œé«˜äºé¢„æœŸã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢æ“ä½œå¤±è´¥ç‡é«˜--æ€»ä½“é¡µé¢æ“ä½œå¤±è´¥ç‡è¶…è¿‡é¢„è®¾é˜€å€¼ã€‚&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜--äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_3"&gt;ä¸­é—´ä»¶å‘Šè­¦&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹ä¸å¯ç”¨ï¼ˆéé¢„æœŸï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸ä¹‹å‰è¿æ¥çš„åº”ç”¨ç¨‹åºè¿›ç¨‹/Agent ä¹‹é—´çš„è¿æ¥å·²ä¸¢å¤±ï¼Œæ— æ³•ä¸ Agent æ–­å¼€è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬å‡ºç°è¯¥å‘Šè­¦çš„åŸå› ä¸ºåœæ­¢æˆ–æ€æ‰å¯¹åº”ä¸­é—´ä»¶çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h4&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ç”±äºåœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­èŠ±è´¹å¤§é‡æ‰§è¡Œæ—¶é—´ï¼Œå› æ­¤åº”ç”¨ç¨‹åºè¿›ç¨‹çš„æ˜¾è‘—æŒ‚èµ·æ—¶é—´ä¼šæŒç»­ä¸€æ®µæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ˜¯ç”±äºé¢‘ç¹GCå¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;h4&gt;å¯èƒ½æŒ‚èµ·çš„JVM&lt;/h4&gt;
&lt;p&gt;å¯èƒ½çš„java VMæŒ‚èµ·ã€‚å¯èƒ½æ˜¯ç”±äºheap/thread dumpæˆ–è€…GCæ´»åŠ¨ã€‚åŸå› æœªçŸ¥éœ€è¦æ‰‹åŠ¨åˆ†æã€‚&lt;/p&gt;
&lt;h4&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹å†…å­˜ä¸è¶³&lt;/h4&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹æŠ¥å‡ºå†…å­˜ä¸è¶³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ˜¯ç”±äºä¸­é—´ä»¶å†…å­˜ä½¿ç”¨å·²æ»¡æˆ–å†…å­˜æº¢å‡ºã€‚&lt;/p&gt;
&lt;h3 id="_4"&gt;ä¸»æœºå‘Šè­¦&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸»æœºç±»å‘Šè­¦çš„é˜ˆå€¼ä¸æ‰€å±çš„ä¸»æœºç»„æœ‰å…³ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCXRay6p/bea1t.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;CPUè¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;CPUä½¿ç”¨ç‡æˆ–ç³»ç»Ÿæ—¶é—´è¶…è¿‡é¢„è®¾é˜ˆå€¼ã€‚&lt;/p&gt;
&lt;p&gt;CPUçš„é˜ˆå€¼æœ‰2ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ç‡&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ç¡¬ç›˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ä¸»æœºç¡¬ç›˜çš„å¯ç”¨ç©ºé—´å¤§å°åŠç™¾åˆ†æ¯”ä½äºé¢„è®¾é˜ˆå€¼ã€‚æœ‰2ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨ç©ºé—´å¤§å°&lt;/li&gt;
&lt;li&gt;å¯ç”¨ç©ºé—´ç™¾åˆ†æ¯”&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å†…å­˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ä¸»æœºçš„å¯ç”¨å†…å­˜å¤§å°åŠç™¾åˆ†æ¯”ä½äºé¢„è®¾é˜ˆå€¼æˆ–å†…å­˜é¡µé¢æ•…éšœå¤§äºé¢„è®¾é˜ˆå€¼ã€‚æœ‰3ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨å†…å­˜å¤§å°&lt;/li&gt;
&lt;li&gt;å¯ç”¨å†…å­˜ç™¾åˆ†æ¯”&lt;/li&gt;
&lt;li&gt;é¡µé¢æ•…éšœæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ç½‘ç»œè¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ç½‘ç»œå¸¦å®½ä½¿ç”¨ç‡å¤§äºé¢„è®¾é˜ˆå€¼ã€‚æœ‰1ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸¦å®½ä½¿ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;å‘Šè­¦ç®€è¦åˆ†ææµç¨‹&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;ç®€ä»‹&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é€šç”¨å…¥å£&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;â€œé©¾é©¶èˆ±â€ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY07pnX/Ry7Q9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Start Centerï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY32F9u/eT8op.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;â€œç›‘æ§â€ï¼Œå¦‚ä¸‹å›¾ï¼š(ç»¿è‰²æ­£å¸¸/çº¢è‰²å¼‚å¸¸/ç°è‰²æ— æ•°æ®)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY4WDEM/l7JDg.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;å“åº”æ—¶é—´/é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€äº‹ä»¶ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š(å‘Šè­¦çº¢è‰²ä¸ºSevereçº§åˆ«/é»„è‰²ä¸ºWarningçº§åˆ«ï¼›å‘Šè­¦æ—¶é—´æ®µå¯ä»¥æŒ‰éœ€é€‰æ‹©)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY7f5oF/dYODm.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç§»åŠ¨åˆ°å¯¹åº”çš„å‘Šè­¦ä¿¡æ¯â†’å³é”®â†’æ·±å…¥åˆ†æâ†’PurePathï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYaxIBv/uWnkT.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;è·³è½¬åˆ°PurePathä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYdl5vQ/10ziUa.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;å³é”®ä»ªè¡¨æ¿â†’ç¼–è¾‘ç­›é€‰å™¨â†’ç­›é€‰å¯¹åº”çš„PurePathå¹¶åº”ç”¨ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYehBhS/Jkp4w.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYfBRlP/NMHo5.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¨é€‰æ‰€æœ‰çš„PurePathâ†’å³é”®â†’æ·±å…¥åˆ†æâ†’å“åº”æ—¶é—´çƒ­ç‚¹ ï¼ˆæ­¤å¤„å¯ä»¥ç‚¹å‡»ç¬¬äºŒåˆ—â€å“åº”æ—¶é—´â€œå¯¹PurePathè¿›è¡Œæ’åºï¼Œé’ˆå¯¹æ€§åˆ†æï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYhLI4x/nAr3y.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;å“åº”æ—¶é—´çƒ­ç‚¹ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹ï¼š(é’ˆå¯¹â€œé€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½â€å‘Šè­¦ï¼Œéœ€è¦åœ¨å³ä¸Šè§’â€œç™¾åˆ†æ¯”ç­›é€‰å™¨è¿›è¡Œé€‰æ‹©ã€‚è‡³æ­¤ï¼Œåˆæ­¥åˆ†æç»“æœå·²å¾—å‡º)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYk4En1/n9rDF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;
&lt;p&gt;æœ€ç»ˆåˆ†æç»“æœï¼šAPIç»†åˆ†ä»ªè¡¨æ¿åŠæ–¹æ³•ç»†åˆ†ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQlsd/NpiKX.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQd76/REkXi.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;æ›´è¿‘ä¸€æ­¥åˆ†æï¼šå¯ä»¥ç›´æ¥åˆ†ææºä»£ç ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnAAJy/yrJBF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnwwKB/LynTC.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;å¤±è´¥ç‡è¿‡é«˜/é¡µé¢æ“ä½œ/äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;äº‹ä»¶â†’Purepathï¼Œå¦‚ä¸Šæ–‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘ç­›é€‰å™¨å†…å®¹ï¼Œå¦‚ä¸Šæ–‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰é”™è¯¯æ’åºï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYrsFLH/Qyujo.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å³é”®ä¸Šå›¾æŠ¥é”™æ–¹æ³•ï¼Œå‡ºç°å…·ä½“çš„æŠ¥é”™/å¼‚å¸¸/æ—¥å¿—ç­‰å†…å®¹ï¼Œå¦‚ä¸‹å›¾ï¼š(å¯ä»¥å¤šçœ‹åå‡ æ¡PurePathï¼Œå¦‚æœæŠ¥é”™å†…å®¹éƒ½ç›¸åŒï¼Œåˆ™å·²ç»åˆæ­¥å®šä½åˆ°å‘Šè­¦åŸå› )&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYsL7Nf/UcVBq.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;å…¨é€‰æ‰€æœ‰PurePathâ†’æ·±å…¥åˆ†æâ†’é”™è¯¯ç‡ç›¸å…³èœå•ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYtOs3i/Myyj4.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;å®šä½åˆ°å‘Šè­¦åŸå› ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYuXMxi/148DNZ.jpg"&gt;&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;h3 id="_9"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹ä¸å¯ç”¨ï¼ˆéé¢„æœŸï¼‰&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¯¥ç±»æŠ¥é”™é€šå¸¸æ˜¯ç”±äºåœæ­¢æˆ–æ€æ‰æˆ–é‡å¯ä¸­é—´ä»¶ç­‰è¿›ç¨‹å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ç›´æ¥åœ¨â€äº‹ä»¶â€ä»ªè¡¨æ¿ä¸­æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ï¼šï¼ˆå‘Šè­¦å¼€å§‹æ—¶é—´å°±æ˜¯åœè¿›ç¨‹çš„æ—¶é—´ï¼›ç»ˆæ­¢æ—¶é—´å°±æ˜¯å¯åŠ¨è¿›ç¨‹çš„æ—¶é—´ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYwhZNA/gEE3m.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¯¥ç±»æŠ¥é”™åˆ†æèµ·æ¥è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦æœ‰ä¸°å¯Œçš„ä¸­é—´ä»¶è¿ç»´ç»éªŒå’ŒdynaTraceä½¿ç”¨ç»éªŒã€‚è¯¦ç»†ä¿¡æ¯å‚è€ƒé™„ä»¶ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Šåº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³åˆ†æç¤ºä¾‹ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="jvm"&gt;å¯èƒ½æŒ‚èµ·çš„JVM&lt;a class="headerlink" href="#jvm" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸Šæ–‡æ‰€è¿°ï¼šå¯èƒ½æ˜¯ç”±äºheap/thread dumpæˆ–è€…GCæ´»åŠ¨ã€‚åŸå› æœªçŸ¥éœ€è¦æ‰‹åŠ¨åˆ†æã€‚å…·ä½“é—®é¢˜å…·ä½“å¯¹å¾…ã€‚&lt;/p&gt;
&lt;h3 id="_11"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹å†…å­˜ä¸è¶³&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œé€šå¸¸æ˜¯ç”±äºå†…å­˜æº¢å‡ºæˆ–å†…å­˜å¿«æ»¡ã€‚åˆ†ææµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡ä¸Šæ–‡æåˆ°çš„å…¥å£--â€œç›‘æ§â€â†’ç‚¹å‡»â€œè¿›ç¨‹â€â†’æŸ¥çœ‹è¿›ç¨‹ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYKC06L/RD3sF.jpg"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;![](http://pic.yupoo.com/east4ming_v/FCYJdo4D/10CMzY.jpg)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç‚¹å‡»å†…å­˜å¿«ç…§â†’åˆ›å»ºå†…å­˜å¿«ç…§â†’æŒ‰éœ€é€‰æ‹©å¿«ç…§çš„ç±»å‹å¹¶åº”ç”¨ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYMr7TG/RzIqA.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;dynaTraceä¼šè‡ªåŠ¨åˆ†æå¹¶ç»™å‡ºç»“æœï¼Œå¦‚ä¸‹å›¾ï¼š(è‡³æ­¤å·²ç»å®šä½åˆ°é—®é¢˜æ‰€åœ¨)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYO7UoS/jZMqd.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å¦‚éœ€è¿›ä¸€æ­¥åˆ†æï¼Œå¯ä»¥ç‚¹å‡»å†…å­˜å¿«ç…§åˆ†æçš„å…¶ä»–æ ‡ç­¾é¡µã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYPQTpk/T02uX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTraceæ”¯æŒå†…å­˜æº¢å‡ºæ—¶è‡ªåŠ¨åšå†…å­˜å¿«ç…§ï¼Œä¸”é»˜è®¤å¼€å¯ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­è¯¥åŠŸèƒ½ï¼Œæœ‰éœ€æ±‚å¯ä»¥é’ˆå¯¹æ€§å¼€å¯ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYRN2UG/H6NSX.jpg"&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="cpu"&gt;CPUè¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä»å…¥å£â€œç›‘æ§â€è¿›å…¥â†’ä¸»æœºåˆ—è¡¨â†’ä¸»æœºç›‘æ§ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYV9u5l/aweYD.jpg"&gt;&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ä¸»æœºç›‘æ§ä»ªè¡¨å›¾åˆ†æï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYVyY4X/NmNbr.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åšCPUé‡‡æ ·ä¸çº¿ç¨‹å¿«ç…§ï¼ˆæ­¥éª¤ä¸åšå†…å­˜å¿«ç…§ç±»ä¼¼ï¼Œè§ä¸Šæ–‡ï¼‰ã€‚CPUé‡‡æ ·ä¸çº¿ç¨‹å¿«ç…§åˆ†æå¦‚ä¸‹ï¼š(å·²ç»å®šä½åˆ°å‘Šè­¦åŸå› )&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYX1rCQ/RpJ2j.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å¯ä»¥å¯¹çº¿ç¨‹å¿«ç…§è¿›ä¸€æ­¥åˆ†æï¼Œå®šä½åˆ°çº¿ç¨‹çš„å †æ ˆä»¥åŠå½“æ—¶çº¿ç¨‹æ‰§è¡Œçš„URLè¯·æ±‚ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYZHuqt/10KqLh.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_12"&gt;ç¡¬ç›˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç›´æ¥è¿›å…¥ä¸»æœºä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2mxAA/C7G0x.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_13"&gt;å†…å­˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥è¿›å…¥ä¸»æœºä»ªè¡¨æ¿æŸ¥çœ‹å†…å­˜ä½¿ç”¨ç‡ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ3lGA6/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;åˆ†æå ç”¨ç‰©ç†å†…å­˜çš„è¿›ç¨‹æƒ…å†µã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;JVMä½¿ç”¨çš„JVMä»£ç åŒºã€JVMæ•°æ®åŒºã€heapåŒºéƒ½åº”è¯¥æ˜¯å›ºå®šçš„ã€‚ä½†æ˜¯JVMè¿›ç¨‹æ‰€ä½¿ç”¨çš„çº¿ç¨‹æ ˆåŒºã€æ°¸ä¹…ä»£ã€å†…æ ¸å†…å­˜æ˜¯å¯èƒ½éšç€åº”ç”¨ç¨‹åºååé‡ã€ä¸šåŠ¡é‡ã€è´Ÿè½½é‡çš„å˜åŒ–è€Œå˜åŒ–çš„ã€‚&lt;/p&gt;
&lt;p&gt;JVMæ˜¯ä½œä¸ºä¸€ä¸ªè¿›ç¨‹è¿è¡Œåœ¨Linuxä¸Šçš„ã€‚ä»è¿›ç¨‹çš„è§’åº¦æ¥çœ‹ï¼Œè¿›ç¨‹èƒ½ç›´æ¥è®¿é—®çš„ç”¨æˆ·å†…å­˜ï¼ˆè™šæ‹Ÿå†…å­˜ç©ºé—´ï¼‰è¢«åˆ’åˆ†ä¸º5ä¸ªéƒ¨åˆ†ï¼šä»£ç åŒºã€æ•°æ®åŒºã€å †åŒºã€æ ˆåŒºã€æœªä½¿ç”¨åŒºã€‚ä»£ç åŒºä¸­å­˜æ”¾åº”ç”¨ç¨‹åºçš„æœºå™¨ä»£ç ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­ä»£ç ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå…·æœ‰åªè¯»å’Œå›ºå®šå¤§å°çš„ç‰¹ç‚¹ã€‚æ•°æ®åŒºä¸­å­˜æ”¾äº†åº”ç”¨ç¨‹åºä¸­çš„å…¨å±€æ•°æ®ï¼Œé™æ€æ•°æ®å’Œä¸€äº›å¸¸é‡å­—ç¬¦ä¸²ç­‰ï¼Œå…¶å¤§å°ä¹Ÿæ˜¯å›ºå®šçš„ã€‚å †æ˜¯è¿è¡Œæ—¶ç¨‹åºåŠ¨æ€ç”³è¯·çš„ç©ºé—´ï¼Œå±äºç¨‹åºè¿è¡Œæ—¶ç›´æ¥ç”³è¯·ã€é‡Šæ”¾çš„å†…å­˜èµ„æºã€‚æ ˆåŒºç”¨æ¥å­˜æ”¾å‡½æ•°çš„ä¼ å…¥å‚æ•°ã€ä¸´æ—¶å˜é‡ï¼Œä»¥åŠè¿”å›åœ°å€ç­‰æ•°æ®ã€‚æœªä½¿ç”¨åŒºæ˜¯åˆ†é…æ–°å†…å­˜ç©ºé—´çš„é¢„å¤‡åŒºåŸŸã€‚&lt;/p&gt;
&lt;p&gt;JavaNIOä½¿å¾—JVMå¯ä»¥ä½¿ç”¨å†…æ ¸å†…å­˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_14"&gt;ç½‘ç»œè¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç›´æ¥è¿›å…¥ä¸»æœºä»ªè¡¨æ¿æŸ¥çœ‹ç½‘ç»œåˆ©ç”¨ç‡ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2o2RS/hLaMM.jpg"&gt;&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;dynaTraceå‘Šè­¦ç¡®è®¤åŠå…³é—­&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;dynaTraceçš„å‘Šè­¦ç¡®è®¤åŠå…³é—­éœ€è¦ç™»å½•å®¢æˆ·ç«¯ï¼Œè¿›å…¥åˆ°â€œäº‹ä»¶â€ä»ªè¡¨æ¿è¿›è¡Œæ“ä½œã€‚å…·ä½“å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ6HvHe/eop6b.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-21-analysis-events.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 22.æ•°æ®æµæ¥å£-PureLytics</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-22-purelytics.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è§ˆ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;PureLytics streamä»AppMon Serverå‘é€å®æ—¶UEMæ•°æ®åˆ°å¤–éƒ¨æ•°æ®æºå¦‚Elasticsearchï¼Œè¿™æ ·ä½ å¯ä»¥åˆ©ç”¨UEMæ•°æ®ä½œä¸ºå¤§æ•°æ®åˆ†æçš„ä¸€éƒ¨åˆ†ã€‚æµæ•°æ®åŒ…æ‹¬ç”¨æˆ·è®¿é—®ï¼Œç”¨æˆ·è¡Œä¸ºå’Œå®¢æˆ·ç«¯é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Elasticsearchï¼ŒåŸºäºå¤§é‡çš„è®¿é—®å’Œç”¨æˆ·è¡Œä¸ºæ•°æ®æ¥åšå³å¸­åˆ†æï¼Œå¹¶ä¸”ç»“åˆæ¥è‡ªå…¶ä»–æºçš„åˆ†ææ•°æ®ã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨å¯è§†åŒ–å·¥å…·å¦‚Kibanaåšç»†èŠ‚å›¾å’Œå…¶ä»–æ•°æ®å¯è§†åŒ–æ¥æ¶ˆè€—æ¥è‡ªå¤–éƒ¨æºçš„å­˜å‚¨ç»„åˆæ•°æ®ï¼Œä»¥æ­¤æä¾›è¯¦ç»†çš„ç”¨æˆ·ä½“éªŒåˆ†æã€‚&lt;/p&gt;
&lt;p&gt;å½“å¯ç”¨æ—¶ï¼ŒPureLytics streamè‡ªåŠ¨å‘é€æ‰€æœ‰è®¿é—®å’Œç”¨æˆ·è¡Œä¸ºçš„JSONæ•°æ®åˆ°é…ç½®çš„HTTPç«¯ç‚¹ã€‚å¯¼å‡ºä¹Ÿå¯ä»¥åœ¨ç‰¹å®šæ—¶é—´æˆ–sessionæŒ‰å‘½ä»¤è§¦å‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX1LCylT/medium.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³äºElasticsearch&lt;/p&gt;
&lt;p&gt;Elasticsearch is a highly scalable open-source search engine with a full-text search-engine library. It includes a distributed real-time document store where all fields are indexed and can be searched. Streaming live UEM data to Elasticsearch provides multi-dimensional Ad-hoc analysis on large data sets over long time frames.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="json-document"&gt;JSON Document æ ¼å¼&lt;a class="headerlink" href="#json-document" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è®¿é—®ï¼Œç”¨æˆ·è¡Œä¸ºï¼Œå’Œå®¢æˆ·ç«¯é”™è¯¯æ•°æ®ä½œä¸ºJSONå¯¼å‡ºã€‚å¯¹äºè®¿é—®ã€ç”¨æˆ·è¡Œä¸ºçš„Business Transactionsä¹Ÿä½œä¸ºJSONçš„ä¸€éƒ¨åˆ†å¯¼å‡ºã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JSON  Document ç¤ºä¾‹&lt;/p&gt;
&lt;p&gt;ä¸‹è¡¨å±•ç¤ºäº†å¯¼å‡ºJSONçš„ç¤ºä¾‹&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Visit&lt;/th&gt;
&lt;th&gt;User Action&lt;/th&gt;
&lt;th&gt;Client Error&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/browser_visit.txt?version=3&amp;amp;modificationDate=1453723096180&amp;amp;api=v2"&gt;Browser Visit&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/browser_useraction.txt?version=6&amp;amp;modificationDate=1474979996337&amp;amp;api=v2"&gt;Browser User Action&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/javascript_error.txt?version=2&amp;amp;modificationDate=1453723238497&amp;amp;api=v2"&gt;Javascript Error&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_visit.txt?version=2&amp;amp;modificationDate=1453723109770&amp;amp;api=v2"&gt;Mobile Visit&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_useraction.txt?version=1&amp;amp;modificationDate=1453723162260&amp;amp;api=v2"&gt;Mobile User Action&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_web_request.txt?version=2&amp;amp;modificationDate=1453723254897&amp;amp;api=v2"&gt;Mobile Web Request&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_error_code.txt?version=1&amp;amp;modificationDate=1453723269387&amp;amp;api=v2"&gt;Mobile Error Code&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_exception.txt?version=1&amp;amp;modificationDate=1453723295607&amp;amp;api=v2"&gt;Mobile Exception&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_crash.txt?version=1&amp;amp;modificationDate=1453723428797&amp;amp;api=v2"&gt;Mobile Crash&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/javascript_warning.txt?version=1&amp;amp;modificationDate=1453973925313&amp;amp;api=v2"&gt;Javascript Warning &amp;amp; Info&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/blockquote&gt;
&lt;h2 id="purelytics-streamelasticsearchkibana"&gt;ä½¿ç”¨PureLytics Streamæ•´åˆElasticsearchå’ŒKibana&lt;a class="headerlink" href="#purelytics-streamelasticsearchkibana" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸‹åˆ—è§†é¢‘å±•ç¤ºå¦‚ä½•ä½¿ç”¨Kibanaå¯è§†åŒ–æ¥è‡ªPureLyticsçš„æ•°æ®çš„ç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://s3.amazonaws.com/apmu-test-videos/RBZaCD-eEh41srh-wF0jkI/Whats_New_63_PurelyticsStream.mp4"&gt;PureLytics chats with ElasticSearch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹éƒ¨åˆ†æè¿°äº†ä½¿ç”¨Elasticsearchå’ŒKibanaæ¥å¯è§†åŒ–PureLytics Streamçš„ä¸€èˆ¬æ­¥éª¤ã€‚&lt;/p&gt;
&lt;h3 id="_2"&gt;éœ€æ±‚å’Œå…ˆå†³æ¡ä»¶&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€æ±‚å’Œå…ˆå†³æ¡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Elasticsearch 1.5.2 or later. Elasticsearch 2.0.0 or higherÂ is recommended because of the major stability improvements and improved resource use introduced in the 2.0.0 release.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elasticsearch requires a recent version of Java on the machine where Elasticsearch runs. You can install the latest Java version fromÂ &lt;a href="http://www.java.com/"&gt;www.java.com.&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Most later versions of Kibana work seamlessly with Elasticsearch. However, the latest version of Kibana is recommended because of the increased level of integration with Elasticsearch and more robust analytics and charting features.&lt;/li&gt;
&lt;li&gt;If running Elasticsearch on Windows, install cURL so you canÂ quickly and conveniently submit requests to Elasticsearch.Â Download cURL fromÂ &lt;a href="http://curl.haxx.se/download.html"&gt;&lt;code&gt;http://curl.haxx.se/download.html&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Familiarity with Elasticsearch is needed for deploying Elasticsearch, creating nodes and clusters, indexing, and executing Elasticsearch queries.&lt;/li&gt;
&lt;li&gt;Familiarity with Kibana is needed for visualizing data.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="streaming-target"&gt;å®‰è£…Streaming Targetè½¯ä»¶å’Œå¯è§†åŒ–è½¯ä»¶&lt;a class="headerlink" href="#streaming-target" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœå°šæœªå®‰è£…ï¼Œ&lt;a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/running-elasticsearch.html"&gt;install Elasticsearch&lt;/a&gt;Â å’ŒÂ &lt;a href="https://www.elastic.co/downloads/kibana"&gt;install Kibana&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id="elasticsearch"&gt;å¯åŠ¨Elasticsearchå’Œé…ç½®é›†ç¾¤&lt;a class="headerlink" href="#elasticsearch" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¿…é¡»å¯åŠ¨Elasticsearchå¹¶ä¸”è‡³å°‘åœ¨ä¸€ä¸ªèŠ‚ç‚¹å¯åŠ¨ä¸€ä¸ªé›†ç¾¤æ¥åˆ›å»ºJSON documentsã€‚æœ€ä½³é€‰æ‹©æ˜¯ä½¿ç”¨è‡³å°‘2ä¸ªèŠ‚ç‚¹æ¥è¿è¡ŒElasticsearch é›†ç¾¤ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³äºèŠ‚ç‚¹å’Œé›†ç¾¤çš„é™„åŠ ä¿¡æ¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It is recommended to create and use multiple nodes rather than one node with more CPU cores.&lt;/li&gt;
&lt;li&gt;Node memory should be between 8 GB and 64 GB.&lt;/li&gt;
&lt;li&gt;Get the fastest SSD you can get to boost performance.&lt;/li&gt;
&lt;li&gt;Once started, communicate with Elasticsearch using the JSON based REST API residing at localhost port 9200. You can query Elasticsearch using cURL in Windows, or use graphical tools such asÂ &lt;a href="http://www.telerik.com/fiddler"&gt;Fiddler&lt;/a&gt;Â orÂ &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/restclient/"&gt;RESTClient&lt;/a&gt;Â on other platforms.Â YouÂ can also use Elasticsearch'sÂ &lt;a href="https://www.elastic.co/guide/en/sense/current/introduction.html"&gt;Sense&lt;/a&gt;Â plug-in, which isÂ a simple user interface specifically for using ElasticSearch's REST API that includes auto-completion.&lt;/li&gt;
&lt;li&gt;See the official Elasticsearch documentation onÂ &lt;a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/hardware.html"&gt;Hardware&lt;/a&gt;Â andÂ &lt;a href="https://www.elastic.co/blog/found-sizing-elasticsearch"&gt;Sizing Elasticsearch&lt;/a&gt;Â for more information.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŸ¥çœ‹Elasticsearch å®˜ç½‘çš„&lt;a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/running-elasticsearch.html"&gt;guide&lt;/a&gt;ï¼Œæ¥è·å–å…³äºå¯åŠ¨å’Œä½¿ç”¨Elasticsearchçš„æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id="_3"&gt;åº”ç”¨ä¸€ä¸ªåŠ¨æ€æ¨¡æ¿&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åº”ç”¨&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/dynamic_template.txt?version=2&amp;amp;modificationDate=1455701735027&amp;amp;api=v2"&gt;dynamic template&lt;/a&gt;Â åˆ°é›†ç¾¤ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;PUT&lt;/span&gt; &lt;span class="err"&gt;_template/dynatrace&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;order&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;template&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;dt_*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;settings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;number_of_shards&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;6&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;mappings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;useraction&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;dynamic_templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
           &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;allStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;mapping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not_analyzed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match_mapping_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;tagId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;agentId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                      &lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;geo_point&amp;quot;&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;resourceReport&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                   &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;cdn&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                       &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                         &lt;span class="nt"&gt;&amp;quot;domains&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nested&amp;quot;&lt;/span&gt;
                         &lt;span class="p"&gt;}&lt;/span&gt;
                       &lt;span class="p"&gt;}&lt;/span&gt;
                     &lt;span class="p"&gt;},&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;thirdParty&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                       &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                         &lt;span class="nt"&gt;&amp;quot;domains&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nested&amp;quot;&lt;/span&gt;
                         &lt;span class="p"&gt;}&lt;/span&gt;
                       &lt;span class="p"&gt;}&lt;/span&gt;
                     &lt;span class="p"&gt;}&lt;/span&gt;
                   &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;}&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;_parent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;},&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;dynamic_templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
           &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;allStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;mapping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not_analyzed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match_mapping_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                      &lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;geo_point&amp;quot;&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;}&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;},&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;clienterror&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;dynamic_templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
           &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;allStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;mapping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not_analyzed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match_mapping_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;tagId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;agentId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                      &lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;geo_point&amp;quot;&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;}&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;_parent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;aliases&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="purelytics-stream"&gt;é…ç½®PureLytics Stream&lt;a class="headerlink" href="#purelytics-stream" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦é…ç½®AppMonæ¥å®æ—¶æµä¼ è¾“PureLyticsæ•°æ®ï¼Œå¯ç”¨PureLytics streamåŠŸèƒ½ï¼ŒæŒ‡å®šElasticsearchç«¯ç‚¹å’Œå…¶ä»–AppMon Serverå…³äºå®æ—¶æµçš„è®¾ç½®ï¼Œç„¶åä¸ºä½ æƒ³å¯¼å‡ºæ•°æ®çš„æ¯ä¸ªç³»ç»Ÿé…ç½®æ–‡ä»¶å¯ç”¨PureLytics streamã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é…ç½®PureLytics Stream&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨AppMonå®¢æˆ·ç«¯è®¾ç½®é‡Œæ‰“å¼€å®æ—¶æµ(&lt;strong&gt;Settings &amp;gt; Dynatrace Server &amp;gt; Realtime Streaming &amp;gt; PureLytics Stream&lt;/strong&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥&lt;strong&gt;Configure PureLytics Stream.&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹©ä½ æƒ³å¯¼å‡ºJSONæ•°æ®çš„ç›®æ ‡ã€‚ ä½ å¯ä»¥å¯¼å‡ºå®ƒä»¬åˆ°ä¸€ä¸ªElasticsearch é›†ç¾¤æˆ–ä¸€ä¸ªé€šç”¨çš„HTTPç«¯ç‚¹ (ä½¿ç”¨ä¸Elasticsearchç›¸åŒçš„å—æ ¼å¼).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åæ•°æ®åˆ°Elasticsearché›†ç¾¤çš„URLæˆ–åœ¨&lt;strong&gt;URL&lt;/strong&gt;Â fieldçš„é€šç”¨HTTPç«¯ç‚¹ï¼ˆRESTç«¯å£ï¼‰ã€‚Â &lt;strong&gt;æ³¨æ„:&lt;/strong&gt;Â  PureLytics Stream ä¼šåœ¨è¾“å…¥çš„URLååŠ ä¸ŠÂ &lt;strong&gt;"/_bulk"Â &lt;/strong&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä½ æƒ³ä½¿ç”¨HTTPSå’Œä½¿ç”¨éå®˜æ–¹è¯ä¹¦ï¼Œå¯é€‰&lt;strong&gt;Allow untrusted SLL&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨Â &lt;strong&gt;Dispatch Interval(s)&lt;/strong&gt;Â andÂ &lt;strong&gt;Queue Size&lt;/strong&gt;æ¥è®¾ç½®æ¯ä¸ªè¯·æ±‚å—å‘é€çš„æ•°æ®é‡ å’Œè¯·æ±‚çš„é—´éš”æ—¶é—´ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;A request is sent when the internal document queue hits the size specified inÂ &lt;strong&gt;Queue Size&lt;/strong&gt;Â &lt;strong&gt;and/or&lt;/strong&gt;Â after the amount of time specified inÂ &lt;strong&gt;Dispatch Interval(s)&lt;/strong&gt;Â Â has passed (&lt;em&gt;Dispatch Interval&lt;/em&gt;). Request size is approximately the number of documents times 2 kB.Â ThisÂ depends heavily on factors such as configured Business Transactions and resource timings.&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381017/config%20dialogue.png?version=2&amp;amp;modificationDate=1474975218090&amp;amp;api=v2"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;OK&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;strong&gt;Â Cockpits&lt;/strong&gt;Â æ ‡ç­¾é¡µ,åŒå‡»æŒ‡å®šçš„ç³»ç»Ÿé…ç½®æ–‡ä»¶æ¥æ‰“å¼€ è¯¥é…ç½®æ–‡ä»¶çš„Preferences ä¼šè¯æ¡†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å¸¸ç”¨æ ‡ç­¾é¡µ,Â å‹¾é€‰&lt;strong&gt;PureLytics Stream&lt;/strong&gt;Â å¹¶ç‚¹å‡»Â &lt;strong&gt;OK&lt;/strong&gt;.&lt;br&gt;
&lt;img alt="Enable the PureLytics Stream for each System Profile you want to export" src="https://community.dynatrace.com/community/download/thumbnails/221381017/system_profile.png?version=3&amp;amp;modificationDate=1474975882020&amp;amp;api=v2"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id="_4"&gt;æŒ‰å‘½ä»¤å¯¼å‡º&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨AppMonå®¢æˆ·ç«¯æŒ‰å‘½ä»¤å¯¼å‡ºæŒ‡å®šçš„æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨PureLytics Stream REST APIæ¥å¯¼å‡ºã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨Dynatrace å®¢æˆ·ç«¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å³å­˜å‚¨çš„æˆ–å®æ—¶çš„åŒ…å«è¦å¯¼å‡ºæ•°æ®çš„ä¼šè¯ å¹¶é€‰æ‹©Â &lt;strong&gt;PureLytics Stream&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381017/on_demand_export.png?version=3&amp;amp;modificationDate=1474976227450&amp;amp;api=v2"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡å®šæŠ“å–çš„PureLytics streamçš„æ—¶é—´èŒƒå›´å’Œå“ªäº›å†…å®¹è¦å¯¼å‡ºï¼ˆç”¨æˆ·è¡Œä¸ºå’Œ/æˆ–è®¿é—®ï¼‰ã€‚ æŒ‰éœ€ä¿®æ”¹streamé…ç½®å¹¶ç‚¹å‡»Â &lt;strong&gt;Stream&lt;/strong&gt;.&lt;br&gt;
&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381017/on_demand_export_dialogue.png?version=4&amp;amp;modificationDate=1474979722060&amp;amp;api=v2"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨RESTæ¥å£&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨REST APIæ¥è§¦å‘å’Œç›‘æ§ä¸€ä¸ªæŒ‰å‘½ä»¤å¯¼å‡ºã€‚ æ›´å¤šä¿¡æ¯æŸ¥çœ‹Â &lt;a href="https://community.dynatrace.com/community/pages/viewpage.action?pageId=221381578"&gt;PureLytics Stream (REST)&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a job that exports data with a POST request. For example:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;POST https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/analyticsstreamjob&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monitor the job with a GET request. For example:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;GET https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/analyticsstreamjob/&amp;lt;jobId&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="kibana"&gt;åœ¨Kibanaä¸­å¯è§†åŒ–æ•°æ®&lt;a class="headerlink" href="#kibana" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¿…é¡»é…ç½®è‡³å°‘ä¸€ç§ç´¢å¼•æ¨¡å¼æ¥ä½¿ç”¨Kibanaã€‚ç´¢å¼•æ¨¡å¼è¯†åˆ«ä½ æƒ³è¦æœç´¢å’Œå¯è§†åŒ–PureLyticsæ•°æ®çš„ç´¢å¼•ã€‚æ¯ä¸ªä½ æŒ‡å®šçš„ç´¢å¼•æ¨¡å¼å¿…é¡»ç¬¦åˆä½ çš„Elasticsearchç´¢å¼•çš„åç§°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX1LBTRo/10UZbY.png"&gt;&lt;/p&gt;
&lt;h2 id="_5"&gt;æŠ€æœ¯ç»†èŠ‚å’Œé™åˆ¶&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Documentsåœ¨å®ƒä»¬è¢«åˆ†æåå¯¼å‡ºã€‚ å¯¹äºè®¿é—®æ•°æ®, è¿™æ„å‘³è€…è®¿é—®å®Œæˆådocumentsæ‰ä¼šè¢«å¯¼å‡ºã€‚ä¸€ä¸ªè®¿é—®åœ¨Elasticsearchä¸­å¯è§†éœ€è¦ä¸€å®šæ—¶é—´, è¿™ä¸ªæ—¶é—´å–å†³äºè®¿é—®çš„é•¿åº¦å’Œé…ç½®çš„è®¿é—®è¶…æ—¶ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªé…ç½®çš„ç³»ç»Ÿæ–‡ä»¶å­˜å‚¨åœ¨&lt;em&gt;æ¯ä¸ªæ—¶é—´æˆ³çš„ç´¢å¼•ä¸Š&lt;/em&gt;ã€‚æ¯æœˆåˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œå¹¶ä»¥æ­¤å‘½åã€‚ ä¾‹å¦‚, å¼€å§‹äº2016å¹´1æœˆçš„è®¿é—®ã€ç”¨æˆ·è¡Œä¸ºå’Œå®¢æˆ·ç«¯é”™è¯¯ (ä½¿ç”¨document field &lt;code&gt;data.startTime&lt;/code&gt;) å­˜å‚¨äºç´¢å¼•ï¼Œå‘½åä¸º&lt;code&gt;dt_2016-01&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;PureLytics streamingä½¿ç”¨Elasticsearch bulk API (&lt;a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html"&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html&lt;/a&gt;). AppMon UEM æ·»åŠ  &lt;code&gt;/_bulk&lt;/code&gt; åˆ°é…ç½®çš„URLä¹‹å  (ä»…å½“ç›®æ ‡â€œElasticsearchâ€è¢«é€‰ä¸­)ã€‚å•ä¸€è¯·æ±‚åŒ…å«å¤šä¸ªä¸åŒç±»å‹çš„documentsã€‚Bulk APIä¹Ÿéœ€è¦é¢å¤–çš„å…ƒæ•°æ®ï¼Œå®é™…æ•°æ®åŒ…å«å¤šç§ä¿¡æ¯, åŒ…æ‹¬ä½¿ç”¨çš„ç´¢å¼•ï¼Œ document type, å’Œdocument IDã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dt_2016-03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_14036&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1860046861&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lnz124742d03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;systemProfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14036&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606705739&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606729349&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;23610&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;appVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.9&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitTag&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;additionalTags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceIndex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperience&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;satisfied&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceReason&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Satisfied&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;connectionType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;WIFI&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;bandwidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5496&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isConverted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isBounced&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isCrashed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pageViews&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;failedActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;landingPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SearchJourneyActivity&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1909&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;exitPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel - Terms of Use&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;289&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android 2.3.3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;manufacturer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Samsung&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;deviceName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Galaxy S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;modelId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;GT-I9000&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;resolution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;480x800&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;cpuInfo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;armv7&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isRooted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;6.1.1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lat&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;48.85832&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;2.29436&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;applicationBuildVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;ipAddress&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;159.108.218.157&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;continent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Europe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Ile-de-France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Neuilly&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;convertedBy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;businessTransactions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Conversion+visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Visits+by+connection+type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Connection+Type+of+Visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;WIFI&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;carrier&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Orange&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dt_2016-03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_14037&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1860046861&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lnz124742d03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;systemProfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14037&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606708560&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606709023&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel portal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;appVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitTag&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;additionalTags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Visits - App Version&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceIndex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperience&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;frustrated&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceReason&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;DueToErrorInLastAction&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;connectionType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Broadband&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;bandwidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5496&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isConverted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isBounced&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isCrashed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pageViews&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;failedActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;landingPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel - Terms of Use&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;exitPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel - Terms of Use&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;browser&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android 4.0.x Ice Cream Sandwich&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;browserFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Chrome Mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;browserVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;38.0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;ipAddress&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;128.133.96.84&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;continent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;North America&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;United States&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Alabama&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Montgomery&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;convertedBy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;businessTransactions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Conversion+visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Visits+by+connection+type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Connection+Type+of+Visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Broadband (&amp;gt;1500 kb/s)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;browserErrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;videoStreams&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;audioStreams&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dt_2016-03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;useraction&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_1385397273_1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;parent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_14036&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1860046861&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lnz124742d03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;systemProfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14036&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;tagId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;agentId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1385397273&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606705739&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606707648&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitTag&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;additionalTags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;searchJourney&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;prettyName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;searchJourney&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ActionEvent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;actionGroup&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Mobile ADK Actions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;actionGroupPerformanceBaseline&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;4000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;apdex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperience&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;satisfied&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;failingReasons&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1909.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;networkContributionTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1665.6201&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverContributionTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;26.379906&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;thirdPartyContribution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;-1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;cdnContribution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;-1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;appVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.9&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;continent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Europe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Ile-de-France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Neuilly&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android 2.3.3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;manufacturer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Samsung&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;deviceName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Galaxy S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;modelId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;GT-I9000&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;resolution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;480x800&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;cpuInfo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;armv7&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isRooted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;6.1.1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lat&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;48.85832&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;2.29436&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;applicationBuildVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isPortrait&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;batteryStatus&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.33563203&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;totalMemory&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;790&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;freeMemory&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.56&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;runningProcesses&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;networkTechnology&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;802.11x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;signalStrength&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;-115&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;xhrUrl&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientErrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverErrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;perceivedRenderTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;perceivedRenderTimeSlowestImageSrc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;source&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SearchJourneyActivity&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;viewDuration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;3593&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;target&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SearchJourneyActivity&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;resourceSummary&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;navTiming&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;onLoad&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;domready&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;metaData&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkValues&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;businessTransactions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Pageview+Apdex+by+Country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Apdex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Country+of+Visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Pageview+Apdex+by+Application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Apdex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;}}}}&lt;/span&gt;
&lt;span class="err"&gt;(...)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-22-purelytics.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 23.ç›¸å…³ç½‘ç»œæƒé™</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-23-firewall.html</link><description>&lt;h2 id="_1"&gt;ç½‘ç»œ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å»ºè®®Dynatraceçš„Agentä¸Collectoræ”¾åœ¨åŒä¸€ç½‘æ®µæˆ–2è€…é—´æ— é˜²ç«å¢™ã€‚&lt;/li&gt;
&lt;li&gt;å»ºè®®Dynatrace Serverä¸æ•°æ®åº“æ”¾åœ¨åŒä¸€ç½‘æ®µï¼Œ2è€…é—´æ— é˜²ç«å¢™ã€‚&lt;/li&gt;
&lt;li&gt;Dynatrace Serverå’ŒDynatrace Collectoré—´å¯ä»¥æœ‰é˜²ç«å¢™ï¼Œéœ€è¦å¼€é€šå¯¹åº”çš„æƒé™ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;From&lt;/th&gt;
&lt;th&gt;To&lt;/th&gt;
&lt;th&gt;Port&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;th&gt;åè®®&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Agent&lt;/td&gt;
&lt;td&gt;dynaTrace Collector&lt;/td&gt;
&lt;td&gt;9998&lt;/td&gt;
&lt;td&gt;å»ºè®®åŒä¸€ç½‘æ®µï¼Œæ— é˜²ç«å¢™ã€‚åˆ™æ¬¡ç«¯å£æƒé™æ— éœ€å¼€é€šã€‚&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Collector&lt;/td&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;6698&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;éœ€è¦å¼€é€š&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;dynaTrace Memory Analysis Server&lt;/td&gt;
&lt;td&gt;7788&lt;/td&gt;
&lt;td&gt;åŒä¸€å°æœºå™¨æˆ–åŒä¸€ç½‘æ®µåˆ™æ— éœ€å¼€é€šã€‚&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Client&lt;/td&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;2021&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“ï¼ˆä»¥Oracleä¸ºä¾‹ï¼‰&lt;/td&gt;
&lt;td&gt;1521&lt;/td&gt;
&lt;td&gt;å…¶ä»–DBå¼€é€šå¯¹åº”ç«¯å£&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Components to Connect&lt;/th&gt;
&lt;th&gt;Port non-SSL&lt;/th&gt;
&lt;th&gt;PortSSLÂ or e.Â HTTP&lt;/th&gt;
&lt;th&gt;Protocol&lt;/th&gt;
&lt;th&gt;Comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Agent to Collector&lt;/td&gt;
&lt;td&gt;9998&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;Or Agent to Server-embedded Collector if enabled for demo scenarios&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Agent to Collector&lt;/td&gt;
&lt;td&gt;8042&lt;/td&gt;
&lt;td&gt;8043&lt;/td&gt;
&lt;td&gt;HTTP(S)&lt;/td&gt;
&lt;td&gt;For AppMon 6.2 and later, the node.js Agent uses this connection.Â 1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AppMon Web toFrontend Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;9911&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;td&gt;Port on which browser-based dashboardsget their data.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Browser to Server&lt;/td&gt;
&lt;td&gt;8020&lt;/td&gt;
&lt;td&gt;8021&lt;/td&gt;
&lt;td&gt;HTTP(S)&lt;/td&gt;
&lt;td&gt;Web interface for RESTful Server administration, to start the Webstart Client.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ClientÂ toÂ Frontend Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;2021&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;For AppMon 6.5and later, non-SSL connections are no longer supported.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ClientÂ toÂ Frontend Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8023&lt;/td&gt;
&lt;td&gt;HTTP&lt;/td&gt;
&lt;td&gt;Tunnel via HTTP. Sent data is by default encrypted using the AES algorithm&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Collector to Server&lt;/td&gt;
&lt;td&gt;(6698)&lt;/td&gt;
&lt;td&gt;6699&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;For AppMon 6.5 and later, non-SSL connections are no longer supported. For compatibility reasons with pre-6.5 collectors the 6698 plain port is still available and must be activated using the Client running in debug mode.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Collector to Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8033&lt;/td&gt;
&lt;td&gt;HTTP&lt;/td&gt;
&lt;td&gt;Tunnel via HTTP. Sent data is by default encrypted.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Collector to Server&lt;/td&gt;
&lt;td&gt;8040&lt;/td&gt;
&lt;td&gt;8041&lt;/td&gt;
&lt;td&gt;HTTP(S)&lt;/td&gt;
&lt;td&gt;For HTTP-based Agent connectionsÂ 1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Frontend Server to Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;2031&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;TheÂ communication port between theÂ Frontend Server and the backend server.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Memory Analysis Server to Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;7788&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;For AppMon 6.5 and later, non-SSL connections are no longer supported.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Slave Web Server agent to master Web Server agent&lt;/td&gt;
&lt;td&gt;8001&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;UDP&lt;/td&gt;
&lt;td&gt;The UDP port on which the masterÂ Web Server Agent should listen for data packets of the slave Web Server Agent&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;Important&lt;/p&gt;
&lt;p&gt;For performance reasons, do not pass communication between the AppMon Agent and the Collector through firewalls. Place a Collector as closeÂ as possible to the Agents.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="set-up-e-mail-communication"&gt;Set up E-Mail Communication&lt;a class="headerlink" href="#set-up-e-mail-communication" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;For more information, seeÂ &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Email"&gt;Email configuration&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="set-up-appmon-memory-analysis-server-communication"&gt;Set upÂ AppMon Memory Analysis ServerÂ Communication&lt;a class="headerlink" href="#set-up-appmon-memory-analysis-server-communication" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381541/ManageServersServicesAnalysisServer.png?api=v2"&gt;&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381541/ManageServersServicesAnalysisServer.png?version=1&amp;amp;modificationDate=1398370369357&amp;amp;api=v2"&gt;&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Use this page to configure the connection settings to the AppMon Memory Analysis Server. For more information, seeÂ &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Set+up+a+Memory+Analysis+Server"&gt;Set up a Memory Analysis Server&lt;/a&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-23-firewall.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 24.æ‰‹æœºADK</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-24-mobile-adk.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ”¯æŒå¹³å°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#adk"&gt;ä¸‹è½½ADK&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;é…ç½®dynaTrace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;å’Œåº”ç”¨æ•´åˆ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;æœ¬åœ°åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#web"&gt;å…³è”Webè¯·æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ios-adk"&gt;iOS ADKå®‰è£…å’Œä½¿ç”¨è¯´æ˜&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#adk_1"&gt;ADKå®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ä½¿ç”¨è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;æ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;ç”Ÿå‘½å‘¨æœŸè¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#iosauto-instrumentation"&gt;iOSè‡ªåŠ¨æ„ŸçŸ¥ï¼ˆAuto-Instrumentationï¼‰&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_8"&gt;è‡ªåŠ¨åŒ–åŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;è‡ªåŠ¨æ„ŸçŸ¥æ¦‚è§ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;é™åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ”¯æŒå¹³å°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Apple iOS 5æˆ–æ›´é«˜ï¼ˆarmv7,armv7sæˆ–æ›´é«˜æ¶æ„ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è°·æ­ŒAndroid2.2æˆ–æ›´é«˜&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="adk"&gt;ä¸‹è½½ADK&lt;a class="headerlink" href="#adk" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»&lt;a href="http://www.dynatrace.com/downloads/Downloads.aspx"&gt;http://www.dynatrace.com/downloads/Downloads.aspx&lt;/a&gt;ä¸‹è½½&lt;em&gt;dynatrace-mobile-adk-$VERSION.$BUILD.zip&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;é…ç½®dynaTrace&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å®‰è£…æ­¥éª¤å’Œå®‰è£…UEMç±»ä¼¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿›è¡ŒåŸºæœ¬çš„dynaTraceå®‰è£…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åº”ç”¨UEM licenseï¼ŒåŒ…æ‹¬è®¿é—®æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…Agentå’Œç”¨æˆ·ä½“éªŒSensoråœ¨åº”ç”¨æœåŠ¡å™¨æˆ–webæœåŠ¡å™¨ä¸Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;å’Œåº”ç”¨æ•´åˆ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¯¹äºå’ŒæŠŠADKå’Œæ‰‹æœºåº”ç”¨æ•´åˆçš„å…·ä½“ç»†èŠ‚ï¼Œå‚è§ä¸‹é¢çš„ç›¸å…³ç« èŠ‚ã€‚&lt;/p&gt;
&lt;h3 id="_3"&gt;æœ¬åœ°åº”ç”¨&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;iOS ADK&lt;/h4&gt;
&lt;p&gt;å‚è§&lt;strong&gt;iOS ADKå®‰è£…å’Œä½¿ç”¨è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;iOS è‡ªåŠ¨åŒ–ä½¿ç”¨è¯´æ˜&lt;/h4&gt;
&lt;p&gt;å‚è§&lt;strong&gt;iOSè‡ªåŠ¨åŒ–ä½¿ç”¨è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Android ADK&lt;/h4&gt;
&lt;p&gt;å‚è§&lt;strong&gt;Android ADKå®‰è£…å’Œä½¿ç”¨è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Androidåº”ç”¨ï¼ˆAPKï¼‰ä½¿ç”¨è¯´æ˜&lt;/h4&gt;
&lt;p&gt;å‚è§&lt;strong&gt;Androidä½¿ç”¨è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Hybridåº”ç”¨&lt;/h4&gt;
&lt;p&gt;å‚è§&lt;strong&gt;Hybridåº”ç”¨å®‰è£…å’Œä½¿ç”¨è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="web"&gt;å…³è”Webè¯·æ±‚&lt;a class="headerlink" href="#web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="ios-adk"&gt;iOS ADKå®‰è£…å’Œä½¿ç”¨è¯´æ˜&lt;a class="headerlink" href="#ios-adk" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="adk_1"&gt;ADKå®‰è£…&lt;a class="headerlink" href="#adk_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;1. è§£åŒ…ADKåˆ°ä»»æ„ç›®å½•&lt;/h4&gt;
&lt;h4&gt;2. æ·»åŠ è¿™äº›æ–‡ä»¶åˆ°ä½ çš„Xcodeé¡¹ç›®å’ŒiOS targetï¼š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libCompuwareUEM.a&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CompuwareUEM.h&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;3. æ·»åŠ éœ€è¦çš„æ¡†æ¶å’Œåº“åˆ°ä½ çš„Xcodeé¡¹ç›®ã€‚&lt;/h4&gt;
&lt;p&gt;åœ¨é¡¹ç›®å¯¼èˆªé‡Œï¼Œé€‰æ‹©ä½ çš„é¡¹ç›®ï¼Œé€‰æ‹©targetï¼Œé€‰æ‹©&lt;strong&gt;Build Phases&lt;/strong&gt;æ ‡ç­¾é¡µï¼Œå±•å¼€&lt;strong&gt;Link Binaries with Libraries&lt;/strong&gt;ï¼Œç‚¹å‡» &lt;strong&gt;+&lt;/strong&gt; æŒ‰é’®ï¼Œé€‰æ‹©ä¸‹åˆ—æ¡†æ¶å’Œåº“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libsqlite3.dylib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CoreLocation.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CoreTelephony.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Security.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SystemConfiguration.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libz.dylib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libc++.dylib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MessageUI.framework&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;4. æ·»åŠ flagsåˆ°&lt;strong&gt;Other Linker Flags&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;åœ¨é¡¹ç›®å¯¼èˆªé‡Œï¼Œé€‰æ‹©ä½ çš„é¡¹ç›®ï¼Œé€‰æ‹©ä½ çš„targetï¼Œé€‰æ‹©&lt;strong&gt;Build Settings&lt;/strong&gt;ï¼Œæ·»åŠ å¦‚ä¸‹è®¾ç½®åˆ°&lt;strong&gt;Other Linker Flags&lt;/strong&gt;è®¾ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-Objc&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;5. è®¾ç½®ç¼–è¯‘é€‰é¡¹&lt;strong&gt;Strip Style&lt;/strong&gt;ä¸º&lt;strong&gt;Debugging Symbols&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;è¿™ä¼šä½¿ä½ çš„åŒ…ç¨å¾®å¢å¤§ï¼Œä½†æ˜¯ä¼šä¿ç•™å®Œæ•´çš„è®¾å¤‡å´©æºƒä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h4&gt;6. æ·»åŠ æ–‡æ¡£åˆ°Xcodeï¼š&lt;/h4&gt;
&lt;p&gt;å¤åˆ¶&lt;em&gt;com.compuware.uem.iOS.CompuwareUEM.docset&lt;/em&gt;*åˆ°ä¸‹åˆ—è·¯å¾„ ~/Library/Developer/Shared/Documentation/DocSets&lt;/p&gt;
&lt;h4&gt;7. åŸºäºSwiftç¼–ç¨‹appçš„æ‰‹å·¥æ“ä½œè¯´æ˜ï¼š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬Mobile Agent headerçš„Bridging header&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;ifndef&lt;/span&gt; &lt;span class="n"&gt;myApp_Bridging_Header_h&lt;/span&gt;

&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;myApp_Bridging_Header_h&lt;/span&gt;

&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="kd"&gt;import&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CompuwareUEM.h&amp;quot;&lt;/span&gt;

&lt;span class="cp"&gt;#endif&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;åœ¨é¡¹ç›®å¯¼èˆªï¼Œé€‰æ‹©ä½ çš„é¡¹ç›®ï¼Œé€‰æ‹©ä½ çš„targetï¼Œé€‰æ‹©&lt;strong&gt;Build Settings&lt;/strong&gt;ï¼Œæ·»åŠ å…ˆä¸‹åˆ—é€‰é¡¹åˆ°&lt;strong&gt;Objective-C Bridging Header&lt;/strong&gt; è®¾ç½®ï¼š$(SRCROOT)/myApp/Bridging-Header.h&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;ä½¿ç”¨è¯´æ˜&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CompuwareUEM.hä¸­å®šä¹‰äº†2ä¸ªç±»æ¥instrumentä½ çš„iOS appã€‚CompuwareUEMç±»ç”¨äºç®¡ç†ADKçš„æ“ä½œã€‚UEMActionç±»ç”¨äºåˆ›å»ºè¡Œä¸ºå’Œç›¸å…³æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;h4&gt;CompuwareUEM&lt;/h4&gt;
&lt;h5&gt;setMonitorCookie&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (void) setMonitorCookie:(NSString *)cookieString`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cookieString&lt;/td&gt;
&lt;td&gt;A cookie string such as MIGRATION_FLAG=3 or n1=v1; n2=v2. Pass nil to remove the Cookie header from requests.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è®¾ç½®ç”±ADKå‘é€ï¼ˆå½“å’Œåç«¯å»ºç«‹é“¾æ¥æˆ–è€…å‘é€æ•°æ®åˆ°åç«¯ï¼‰çš„HTTP Cookie headerçš„æ¯ä¸ªHTTP GET/POSTè¯·æ±‚ã€‚åªæœ‰å½“ä½ çš„ç½‘ç»œæ¶æ„é‡Œéœ€è¦è¯¥cookieï¼Œè¿™ä¸ªæ–¹æ³•æ‰æ˜¯å¿…é¡»çš„ã€‚è¿™ä¸ªæ–¹æ³•å¿…é¡»è¢«åŒ…å«åœ¨startupWithApplicationName:serverURL:allowAnyCert:certificatePath:ä¹‹å‰ï¼Œæ¥ç¡®ä¿æœ€æ—©çš„è¯·æ±‚ä¹ŸåŒ…æ‹¬è¯¥cookieã€‚å®ƒå¯ä»¥éšæ—¶è¢«å†æ¬¡è°ƒç”¨ï¼ˆinvokeï¼‰æ¥æ”¹å˜cookie stringã€‚&lt;/p&gt;
&lt;h5&gt;startupWithApplicationName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;+ (CPWR_StatusCode) startupWithApplicationName:(NSString *)applicationId
                                      serverURL:(NSString *)serverURL
                                   allowAnyCert:(BOOL)allowAnyCert
                                certificatePath:(NSString *)pathToCertificateAsDER
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;applicatonName&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·å®šä¹‰çš„åº”ç”¨è¯†åˆ«ç¬¦ (eg. @"EasyTravel" ). åœ¨åº”ç”¨åç§°é‡Œä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;serverURL&lt;/td&gt;
&lt;td&gt;åµŒå…¥UEM agentçš„web serverçš„URL (e.g. &lt;code&gt;http://myhost.mydomain.com:8080/agentLocation/&lt;/code&gt;). åŒ…æ‹¬ä½¿ç”¨çš„ä¼ è¾“åè®®( https or   http ) å’Œè¿™ä¸ªåº”ç”¨çš„dynaTrace UEMè®¾ç½®é‡ŒæŒ‡å®šçš„Agent ä½ç½®.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;allowAnyCert&lt;/td&gt;
&lt;td&gt;å…è®¸httpsé€šè®¯çš„ä»»ä½•è®¤è¯ã€‚è¿™ä¸ªå‚æ•°åªåœ¨server nameé‡ŒæŒ‡å®šhttpsåè®®æ—¶ç”Ÿæ•ˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pathToCertificateAsDER&lt;/td&gt;
&lt;td&gt;åœ¨DERè§„æ ¼æ–™ç†çš„åˆ°è¯ä¹¦ï¼ˆè‡ªç­¾ç½²ï¼‰çš„è·¯å¾„ï¼›æˆ–nilã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;ADKæˆåŠŸå¯åŠ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;&lt;em&gt;applicatonName&lt;/em&gt;æˆ–&lt;em&gt;serverURL&lt;/em&gt;å‚æ•°ä¸ºnilæˆ–ç©ºå­—ç¬¦ä¸²ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;&lt;em&gt;applicatonName&lt;/em&gt;è¶…è¿‡255ä¸ªå­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotInitialized&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“æ²¡æœ‰åˆå§‹åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;å…³é—­ä¸­ï¼›å®Œæˆåé‡å¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è°ƒç”¨è¯¥æ–¹æ³•æ¥å®ä¾‹åŒ–ADKã€‚&lt;strong&gt;è¯¥æ–¹æ³•å¿…é¡»åœ¨ä»»ä½•å…¶ä»–æ–¹æ³•è°ƒç”¨å‰è¢«å¼•ç”¨ï¼ˆinvokedï¼‰ã€‚&lt;/strong&gt;å¦‚æœåœ¨ADKæ²¡æœ‰å…³é—­å‰ï¼Œå¯¹è¯¥æ–¹æ³•çš„å¤šæ¬¡è°ƒç”¨å°†è¢«å¿½ç•¥ã€‚å¦‚æœ&lt;em&gt;allowAnyCert&lt;/em&gt;å’Œä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œé‚£ä¹ˆéœ€è¦ç”¨DERæ ¼å¼è®¤è¯ï¼Œå®ƒæ˜¯è¢«ç”¨ä½œä¸€ä¸ªé¢å¤–çš„é”šç‚¹ï¼ˆanchorï¼‰æ¥éªŒè¯HTTPSé€šè®¯ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="bp"&gt;NSString&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;pathToCertificateAsDER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="bp"&gt;NSBundle&lt;/span&gt; &lt;span class="n"&gt;mainBundle&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="nl"&gt;pathForResource&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;easyTravelServerCert&amp;quot;&lt;/span&gt; &lt;span class="nl"&gt;ofType&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;der&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;shutdown&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;+ (CPWR_StatusCode) shutdown
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;æˆåŠŸå…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è°ƒç”¨è¯¥æ–¹æ³•æ¥å…³é—­ADKã€‚æ”¶é›†çš„æ•°æ®è¢«å‘é€åˆ°dynaTrace Serverã€‚è¿™ä¸ªæ–¹æ³•ç›´åˆ°æœ¬æ¬¡æ“ä½œæˆåŠŸæˆ–å¤±è´¥æ‰ä¼šè¿”å›å€¼ã€‚ä½ ä¸åº”è¯¥åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´ä½ çš„UIæ— å“åº”ã€‚å¦‚æœæ“ä½œå¤±è´¥ï¼Œæ•°æ®ä¼šä¿ç•™ã€‚åœ¨æ•°æ®è¿‡æœŸå‰å¦‚æœADKè¢«é‡å¯ï¼Œæ•°æ®ä¼šä¹‹åå†æ¬¡å‘é€ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;enableCrashReportingWithReport&lt;/h5&gt;
&lt;p&gt;å–å†³äºä½¿ç”¨çš„è¯­æ³•ï¼Œ&lt;em&gt;enableCrashReportingWithReport&lt;/em&gt;æ–¹æ³•å¯ä»¥å‘é€crashæŠ¥å‘Šåˆ°dynaTrace Serverï¼Œ HockeyApp Serverï¼ŒQuincy Serveræˆ–Victory Serverï¼Œæˆ–å‘é€crashç”µå­é‚®ä»¶æŠ¥å‘Šåˆ°æŒ‡å®šæ¥æ”¶è€…ã€‚&lt;/p&gt;
&lt;h6&gt;dynaTrace Server&lt;/h6&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) enableCrashReportingWithReport:(BOOL)sendCrashReport`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;sendCrashReport&lt;/td&gt;
&lt;td&gt;&lt;em&gt;True&lt;/em&gt;ï¼šå‘é€å®Œæ•´crashæŠ¥å‘Šã€‚&lt;em&gt;False&lt;/em&gt;ï¼šåªå‘é€crashäº‹ä»¶ï¼Œä¸åŒ…å«å…¨éƒ¨ç»†èŠ‚ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingUnavailable&lt;/td&gt;
&lt;td&gt;æ— æ³•å¯ç”¨crashæŠ¥å‘Š&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingAvailable&lt;/td&gt;
&lt;td&gt;crashæŠ¥å‘Šå·²å¯ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKæ²¡æœ‰åˆå§‹åŒ–æˆ–ADKæ²¡æœ‰åœ¨æ”¶é›†æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¿™ä¸ªæ–¹æ³•ä¼šæ¿€æ´»ADKä¸­çš„KSCrashæ¡†æ¶æ¥æŠ“å–ä¿¡å·å’Œæœªå¤„ç†çš„ä¾‹å¤–ã€‚crashå‘ç”Ÿæ—¶ï¼Œåœ¨è®¾å¤‡ä¸Šä¸€ä»½æŠ¥å‘Šè¢«ä¿å­˜ã€‚appä¸‹æ¬¡å¯åŠ¨åï¼ŒæŠ¥å‘Šä¼šè¢«å¤„ç†ã€‚å¦‚æœå‚æ•°ä¸º&lt;em&gt;True&lt;/em&gt;ï¼Œå®Œæ•´çš„iOS crashæŠ¥å‘Šè¢«å‘é€åˆ°dynaTrace Server.å¦åˆ™åŒ…æ‹¬ä¸€äº›å…³äºcrashçº¿ç¨‹çš„ä¿¡æ¯è¢«å‘é€ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„æŠ¥å‘Šã€‚å¦‚æœåœ¨ä¸ƒå¤©å†…ç›¸åŒçš„ä¾‹å¤–å†æ¬¡å‘ç”Ÿï¼Œcrashæ•°æ®ä¸ä¼šè¢«å†æ¬¡æŠ¥å‘Šï¼Œä½†æ˜¯é™„å¸¦ä¹‹å‰å·²è¢«æŠ¥å‘Šçš„crashæ•°æ®çš„crashäº‹ä»¶ä¼šè¢«æŠ¥å‘Šã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;~~å…³äºå‘é€åˆ°å…¶ä»–Serverï¼Œç•¥ã€‚~~&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;setGpsLocation&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) setGpsLocation:(id)gpsLocation`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;gpsLocation&lt;/td&gt;
&lt;td&gt;ä»ç”¨æˆ·åº”ç”¨è·å¾—çš„å¸¦æœ‰GPSåæ ‡çš„&lt;em&gt;CLLocation&lt;/em&gt;å¯¹è±¡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;ADKå®ä¾‹åŒ–ï¼ŒGPSåæ ‡è¢«æ¥æ”¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKæ²¡æœ‰å®ä¾‹åŒ–ï¼ŒGPSåæ ‡è¢«æ¥æ”¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;å‚æ•°éæ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä½¿ç”¨è¯¥æ–¹æ³•è®°å½•ç”¨æˆ·çš„å½“å‰GPSä½ç½®ã€‚ADKä¸ä¼šè‡ªåŠ¨æ”¶é›†ä»»ä½•ä½ç½®ä¿¡æ¯ã€‚å½“å‰dynaTrace Serverç‰ˆæœ¬ä¸ä¼šå¯¹GPSä½ç½®ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œä½†æ˜¯æœªæ¥ç‰ˆæœ¬çš„dynaTraceä¼šã€‚&lt;/p&gt;
&lt;h5&gt;lastErrorCode&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) lastErrorCode`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿”å›ä¸æœ€è¿‘çš„å†…éƒ¨ADKé”™è¯¯æœ‰å…³çš„é”™è¯¯ä»£ç ã€‚è¿”å›&lt;em&gt;0&lt;/em&gt;è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ã€‚&lt;/p&gt;
&lt;h5&gt;lastErrorMsg&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (NSString *) lastErrorMsg`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿”å›ä¸æœ€è¿‘çš„å†…éƒ¨ADKé”™è¯¯æœ‰å…³çš„é”™è¯¯ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰é”™è¯¯ä¼šè¿”å›nilã€‚&lt;/p&gt;
&lt;h5&gt;flushEvents&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) flushEvents`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;ADKå®ä¾‹åŒ–ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKæ²¡æœ‰å®ä¾‹åŒ–ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç«‹å³å‘é€æ‰€æœ‰æ”¶é›†åˆ°çš„äº‹ä»¶ã€‚ä¸ºäº†å‡å°‘ç½‘ç»œé˜»å¡/ä½¿ç”¨ï¼Œæ”¶é›†çš„äº‹ä»¶é€šå¸¸ä»¥åŒ…çš„å½¢å¼æ¥å‘é€ï¼Œæœ€è€çš„äº‹ä»¶è¶…è¿‡9åˆ†é’Ÿã€‚ä½¿ç”¨è¯¥æ–¹æ³•å¼ºåˆ¶å‘é€æ‰€æœ‰çš„æ”¶é›†åˆ°çš„äº‹ä»¶è€Œä¸ç®¡äº‹ä»¶çš„æ”¶é›†æ—¶é—´ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4&gt;UEMAction&lt;/h4&gt;
&lt;h5&gt;enterActionWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    + (UEMAction *) enterActionWithName:(NSString *)actionName
    + (UEMAction *) enterActionWithName:(NSString *)actionName
                           parentAction:(UEMAction *)parentAction
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;actionName&lt;/td&gt;
&lt;td&gt;è¡Œä¸ºå&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parentAction&lt;/td&gt;
&lt;td&gt;å½“å‰è¡Œä¸ºçš„UEMActionå¯¹è±¡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;&lt;em&gt;parentAction&lt;/em&gt;ä¸ºnilï¼Œ&lt;em&gt;parentAction&lt;/em&gt;å·²ç»ç»“æŸï¼Œæˆ–è¡Œä¸ºåä¸ºnilæˆ–ç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKæ²¡æœ‰å®ä¾‹åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;è¡Œä¸ºåè¢«ç¼©çŸ­åˆ°æœ€å¤§é•¿åº¦ã€‚è¿™æ˜¯warningï¼›è¡Œä¸ºä»ç„¶ä¼šåˆ›å»ºã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;ADKå†…éƒ¨é”™è¯¯å‘ç”Ÿ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¯åŠ¨ä¸€ä¸ªè¡Œä¸ºï¼Œä¼šåœ¨dynaTraceé‡Œäº§ç”Ÿä¸€æ¡æ‰‹æœºè¡Œä¸ºã€‚åœ¨ä½ æƒ³è®¡æ—¶çš„ä»£ç çš„å¼€å¤´è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä½ å¿…é¡»é€šè¿‡è°ƒç”¨&lt;em&gt;leaveAction&lt;/em&gt;è®¾ç½®è¡Œä¸ºç»“æŸã€‚å¦‚æœè¡Œä¸ºè¢«æˆåŠŸåˆ›å»ºï¼Œè¿”å›å€¼æ˜¯non-nilã€‚å¦‚æœæŠ¥é”™ï¼Œè¿”å›å€¼æ˜¯nilã€‚è°ƒç”¨lastErrorCode æˆ– lastErrorMsgæ¥å®šä½é”™è¯¯ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¿”å›çš„&lt;em&gt;UEMAction&lt;/em&gt;è¢«ä¿ç•™ï¼Œå› æ­¤å®ƒå¦‚æœä¸å†éœ€è¦é‚£ä¹ˆå¿…é¡»è¢«é‡Šæ”¾ï¼ˆåªåœ¨non-ARCç¯å¢ƒåˆæ³•ï¼‰ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;leaveAction&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (CPWR_StatusCode) leaveAction`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;è¡Œä¸ºæˆåŠŸç»“æŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKå·²ç»å…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;å·²ç»ç»“æŸã€‚è¿™æ„å‘³ç€&lt;em&gt;leaveAction&lt;/em&gt;å·²ç»åœ¨è¯¥è¡Œä¸ºæˆ–å…¶çˆ¶è¡Œä¸ºè¢«è°ƒç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;å‘ç”Ÿæ•°æ®åº“é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionNotFound&lt;/td&gt;
&lt;td&gt;è¡Œä¸ºä¸å†å­˜åœ¨ã€‚å¦‚æœè¡Œä¸ºä¿æŒæ‰“å¼€çš„æ—¶é—´å¤§äºå‘é€é—´éš”ä¼šå‘ç”Ÿã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç»“æŸä»¥å‰å¼€å§‹çš„è¡Œä¸ºã€‚æ‰€æœ‰åœ¨ä¸€ä¸ªè¡Œä¸ºå¼€å§‹ç»“æŸä¹‹é—´çš„æŠ¥å‘Šäº‹ä»¶ï¼Œå€¼ï¼Œæˆ–è¢«æ ‡è®°çš„webè¯·æ±‚è®²å¸ˆè¡Œä¸ºçš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚åµŒå…¥æ‰‹æœºè¡Œä¸ºçš„PurePathã€‚è°ƒç”¨è¯¥æ–¹æ³•åœ¨ä½ æƒ³è®¡æ—¶çš„ä»£ç ç»“å°¾ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;endVisit&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- (CPWR_StatusCode) endVisit
+ (CPWR_StatusCode) endVisit
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;è¡Œä¸ºæˆåŠŸç»“æŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKå·²ç»å…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;å·²ç»å…³é—­ã€‚è¿™æ„å‘³ç€&lt;em&gt;leaveAction&lt;/em&gt;å·²ç»è¢«è¯¥è¡Œä¸ºæˆ–å…¶çˆ¶è¡Œä¸ºè°ƒç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupportedInFreeMode&lt;/td&gt;
&lt;td&gt;è¯¥æ“ä½œåªæ”¯æŒæ›´é«˜ç‰ˆæœ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ç»“æŸå½“å‰è®¿é—®ï¼Œå…³é—­æ‰€æœ‰å½“å‰è¡Œä¸ºï¼ˆactionsï¼‰ï¼Œä¼ è¾“æœŸé—´çš„æ•°æ®ç»™serverï¼Œç„¶åå¼€å§‹ä¸€ä¸ªæ–°çš„è®¿é—®ã€‚&lt;/p&gt;
&lt;h5&gt;reportEventWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (CPWR_StatusCode) reportEventWithName:(NSString *)eventName`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;eventName&lt;/td&gt;
&lt;td&gt;äº‹ä»¶å&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;è¡Œä¸ºæˆåŠŸç»“æŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKå·²ç»å…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;å·²ç»å…³é—­ã€‚è¿™æ„å‘³ç€&lt;em&gt;leaveAction&lt;/em&gt;å·²ç»è¢«è¯¥è¡Œä¸ºæˆ–å…¶çˆ¶è¡Œä¸ºè°ƒç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;äº‹ä»¶åä¸ºnilæˆ–ç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;äº‹ä»¶åè¢«å‹ç¼©åˆ°æœ€å¤§é•¿åº¦ã€‚è¿™æ˜¯warningï¼›äº‹ä»¶ä»ç„¶ä¼šè¢«åˆ›å»º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;å‘ç”Ÿæ•°æ®åº“é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å‘é€ä¸€ä¸ªäº‹ä»¶åˆ°dynaTraceï¼Œä¼šäº§ç”Ÿä¸€ä¸ªèŠ‚ç‚¹çš„æ‰‹æœºè¡Œä¸ºPurePath.&lt;/p&gt;
&lt;h5&gt;reportValueWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    - (CPWR_StatusCode) reportValueWithName:(NSString *)valueName
                                   intValue:(NSInteger)value
    - (CPWR_StatusCode) reportValueWithName:(NSString *)valueName
                                doubleValue:(double)doubleValue
    - (CPWR_StatusCode) reportValueWithName:(NSString *)valueName
                                stringValue:(NSString *)stringValue
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;valueName&lt;/td&gt;
&lt;td&gt;å€¼çš„åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intValue&lt;/td&gt;
&lt;td&gt;0-2147483çš„æ•´å‹å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;doubleValue&lt;/td&gt;
&lt;td&gt;doubleå€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;stringValue&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;å€¼è¢«æˆåŠŸåˆ›å»º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKå·²ç»å…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_actionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;å·²ç»ç»“æŸã€‚è¿™æ„å‘³ç€&lt;em&gt;leaveAction&lt;/em&gt;å·²ç»è¢«è¯¥è¡Œä¸ºæˆ–å…¶çˆ¶è¡Œä¸ºè°ƒç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;å€¼çš„åç§°ä¸ºnilæˆ–ç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;å€¼çš„åç§°å·²ç»è¢«é™åˆ¶åˆ°æœ€å¤§é•¿åº¦ã€‚è¿™æ˜¯warningï¼šäº‹ä»¶ä»ä¼šåˆ›å»º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“å‘ç”Ÿé”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupprotedInFreeMode&lt;/td&gt;
&lt;td&gt;å…è´¹ç‰ˆä¸æ”¯æŒå«æœ‰&lt;em&gt;doubleValue&lt;/em&gt;çš„&lt;em&gt;reportValueWithName&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å‘é€ä¸€ä¸ªé”®/å€¼å¯¹åˆ°dynaTraceï¼Œä¼šäº§ç”Ÿä¸€ä¸ªèŠ‚ç‚¹çš„æ‰‹æœºè¡Œä¸ºPurePathã€‚è¿™ä¸ªå€¼å¯ä»¥é€šè¿‡æ–¹æ³•è¿›è¡Œå›¾è¡¨å¤„ç†ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;reportErrorWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    - (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                 errorValue:(NSInteger)errorValue
    - (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                  exception:(NSException *)exception
    + (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                 errorValue:(NSInteger)errorValue
    + (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                  exception:(NSException *)exception
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;errorName&lt;/td&gt;
&lt;td&gt;å€¼çš„åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;errorValue&lt;/td&gt;
&lt;td&gt;é”™è¯¯æ•´å‹å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;exception&lt;/td&gt;
&lt;td&gt;ä¾‹å¤–æè¿°è¢«å‘é€åˆ°Server&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿”å›å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;é”™è¯¯å€¼è¢«æˆåŠŸåˆ›å»º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADKå·²ç»å…³é—­ï¼ˆæˆ–ç±»çš„æ–¹æ³•è¿˜æ²¡æœ‰å®ä¾‹åŒ–ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;å·²ç»è¢«å…³é—­ã€‚è¿™æ„å‘³ç€&lt;em&gt;leaveAction&lt;/em&gt;å·²ç»è¢«è¯¥è¡Œä¸ºæˆ–å…¶å‰¯è¡Œä¸ºè°ƒç”¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;å€¼åç§°ä¸ºnilæˆ–ç©º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;é”™è¯¯åå·²ç»è¢«å‹ç¼©è‡³æœ€å¤§é•¿åº¦ï¼Œè¿™æ˜¯warningï¼›é”™è¯¯ä»ç„¶ä¼šè¢«åˆ›å»ºã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;å‘ç”Ÿæ•°æ®åº“é”™è¯¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupportedInFreeMode&lt;/td&gt;
&lt;td&gt;å¸¦æœ‰&lt;em&gt;exception&lt;/em&gt;çš„&lt;em&gt;reportErrorWithName&lt;/em&gt;åœ¨å…è´¹ç‰ˆä¸­ä¸å—æ”¯æŒã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;getRequestTagHeader&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (NSString *) getRequestTagHeader`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½ å¿…é¡»æ·»åŠ ä¸€ä¸ªWebè¯·æ±‚åˆ°dynaTrace Serverï¼Œé“¾æ¥&lt;em&gt;UEMAction&lt;/em&gt;åˆ°PurePathä¸­ï¼Œä¼šè¿”å›HTTPå¤´çš„åç§°ã€‚ä½ ä¸åº”è¯¥åƒå¹³å¸¸é‚£æ ·è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºè¯¥è‡ªåŠ¨åŒ–è¯·æ±‚æ ‡ç­¾åº”è¯¥æŠ“å–æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚ã€‚&lt;/p&gt;
&lt;h5&gt;getRequestTagValue&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (NSString *) getRequestTagValue`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿”å›ç”±&lt;em&gt;getRequestTagHeader&lt;/em&gt;è¿”å›çš„HTTPå¤´çš„å€¼ã€‚ä½ ä¸åº”è¯¥åƒå¹³å¸¸é‚£æ ·è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºè¯¥è‡ªåŠ¨åŒ–è¯·æ±‚æ ‡ç­¾åº”è¯¥æŠ“å–æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚ã€‚&lt;/p&gt;
&lt;h4&gt;è¿”å›å€¼å®šä¹‰&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ä»£ç &lt;/th&gt;
&lt;th&gt;å€¼&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;æ•°æ®æŠ“å–å…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;æ•°æ®æŠ“å–å¼€å¯ï¼Œæˆ–æ–¹æ³•è¢«æˆåŠŸè°ƒç”¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingUnavailable&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&lt;em&gt;KSCrash&lt;/em&gt;æ¡†æ¶æ— æ³•å®ä¾‹åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingAvailable&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;&lt;em&gt;KSCrash&lt;/em&gt;æˆåŠŸå®ä¾‹åŒ–ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotInitialized&lt;/td&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;ADKå®ä¾‹åŒ–å¤±è´¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidRange&lt;/td&gt;
&lt;td&gt;-2&lt;/td&gt;
&lt;td&gt;æ•´å‹å€¼è¶…è¿‡ç•Œé™0-2147483&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionNotFound&lt;/td&gt;
&lt;td&gt;-4&lt;/td&gt;
&lt;td&gt;å½“ä½¿ç”¨JavaScript bridgeï¼Œè¿™æ„å‘³ç€è¡Œä¸ºåæ²¡æœ‰æ‰¾åˆ°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;-5&lt;/td&gt;
&lt;td&gt;éæ³•å­—æ®µè¢«å‘é€ç»™ä¸€ä¸ªADKæ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;-6&lt;/td&gt;
&lt;td&gt;åœ¨å·²ç»è¢«&lt;em&gt;leaveAction&lt;/em&gt;æ–¹æ³•ç»“æŸçš„è¡Œä¸ºæ‰§è¡Œäº†ä¸€ä¸ªæ“ä½œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_ReportErrorOff&lt;/td&gt;
&lt;td&gt;-8&lt;/td&gt;
&lt;td&gt;dynaTrace Serverå·²ç¦ç”¨é”™è¯¯æŠ¥å‘Šã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;-9&lt;/td&gt;
&lt;td&gt;ä¸€ä¸ªè¡Œä¸ºï¼Œé”™è¯¯ï¼Œæˆ–å€¼åç§°å¤ªé•¿è€Œè¢«å‹ç¼©ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupportedInFreeMode&lt;/td&gt;
&lt;td&gt;-11&lt;/td&gt;
&lt;td&gt;è¯¥æ–¹æ³•åœ¨å…è´¹ç‰ˆä¸è¢«æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="_5"&gt;æ—¥å¿—&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½ å¯ä»¥å¯ç”¨æ—¥å¿—å¹¶ä¸”é€šè¿‡æ·»åŠ &lt;em&gt;cpwrUEM_logging&lt;/em&gt;æ¥è®¾ç½®æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—å…³é”®è¯åœ¨åº”ç”¨çš„&lt;em&gt;info.plist&lt;/em&gt;æ–‡ä»¶ã€‚å‚è§&lt;strong&gt;iOSè‡ªåŠ¨å®‰è£…è¯´æ˜&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®ä¾‹è¯´æ˜&lt;br&gt;
åƒè¿™æ ·ï¼Œä¸‹åˆ—ä»£ç å°†åˆ›å»ºä¸€ä¸ªç”¨æˆ·è¡Œä¸ºPurePathï¼š&lt;br&gt;
&lt;em&gt;ç¤ºä¾‹PurePath&lt;/em&gt;&lt;br&gt;
&lt;img alt="ç”¨æˆ·è¡Œä¸ºPurePath" src="http://pic.yupoo.com/east4ming_v/FjNDMj8O/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;```swift&lt;br&gt;
    #import "CompuwareUEM.h"&lt;br&gt;
    - (BOOL)application:(UIApplication &lt;em&gt;)application didFinishLaunchingWithOptions:(NSDictionary &lt;/em&gt;)launchOptions&lt;br&gt;
    {&lt;br&gt;
        ...&lt;br&gt;
        // initialize CompuwareUEM here or anywhere else (mind that actions and events that occur before initialization are not reported to dynaTrace!)&lt;br&gt;
        [CompuwareUEM startupWithApplicationName:@"easyTravel"&lt;br&gt;
                                       serverURL:@"http://easytravel.example.com:8080/eT/"&lt;br&gt;
                                    allowAnyCert:NO&lt;br&gt;
                                 certificatePath:nil];&lt;br&gt;
        ...&lt;br&gt;
    }&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;IBAction&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="nf"&gt;performSearch:&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="nv"&gt;sender&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
    &lt;span class="c1"&gt;// [1a] start action &amp;quot;search&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="nl"&gt;enterActionWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;search&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [2] named event inside an action&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="nl"&gt;reportEventWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;searchStart&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [3a] starting sub-action&lt;/span&gt;
    &lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="nl"&gt;enterActionWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;searchRequest&amp;quot;&lt;/span&gt;
                                         &lt;span class="nl"&gt;parentAction&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [4] NSURLRequest and NSMutableURLReqest are tagged automatically&lt;/span&gt;
    &lt;span class="bp"&gt;NSError&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="bp"&gt;NSHTTPURLResponse&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="bp"&gt;NSURL&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;searchURL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="bp"&gt;NSURL&lt;/span&gt; &lt;span class="nl"&gt;URLWithString&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                         &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;NSString&lt;/span&gt; &lt;span class="nl"&gt;stringWithFormat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;http://127.0.0.1:8080/ajax/TimeService?tz=GMT&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt; &lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;]]]&lt;/span&gt; &lt;span class="k"&gt;retain&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="bp"&gt;NSData&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;NSURLConnection&lt;/span&gt; &lt;span class="nl"&gt;sendSynchronousRequest&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="bp"&gt;NSURLRequest&lt;/span&gt; &lt;span class="nl"&gt;requestWithURL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;searchURL&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                         &lt;span class="nl"&gt;returningResponse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="nl"&gt;error&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;searchURL&lt;/span&gt; &lt;span class="k"&gt;release&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="c1"&gt;// [x] report an error if communication fails&lt;/span&gt;
        &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="nl"&gt;reportErrorWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;CommunicationError&amp;quot;&lt;/span&gt; &lt;span class="nl"&gt;errorValue&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="p"&gt;]];&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="c1"&gt;// [5] custom value inside an action&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="nl"&gt;reportValueWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;responseCode&amp;quot;&lt;/span&gt; &lt;span class="nl"&gt;intValue&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="n"&gt;statusCode&lt;/span&gt;&lt;span class="p"&gt;]];&lt;/span&gt;
    &lt;span class="c1"&gt;// [3b] end action &amp;quot;searchRequest&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="n"&gt;leaveAction&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [6] named event on successful completion&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="nl"&gt;reportEventWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;searchEnd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [1b] end action &amp;quot;search&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="n"&gt;leaveAction&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_6"&gt;ç”Ÿå‘½å‘¨æœŸè¯´æ˜&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨åº”ç”¨ä¸­å¾ˆæ—©å®ä¾‹åŒ–ADKæ¥æŠ“å–åˆå§‹è§†å›¾å±•ç°æˆ–è€…ä½¿ç”¨è‡ªåŠ¨å¯åŠ¨åŠŸèƒ½ã€‚ä»&lt;em&gt;main()&lt;/em&gt;è°ƒç”¨&lt;em&gt;startupWithApplicationName&lt;/em&gt;æ˜¯å¯ä»¥çš„ã€‚&lt;/p&gt;
&lt;h4&gt;é™åˆ¶&lt;/h4&gt;
&lt;p&gt;åœ¨dynaTrace5.6ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œåœ¨&lt;strong&gt;System Profile-Error Detection&lt;/strong&gt;æ¡ä»¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ï¼šç©ºæ ¼ï¼‰è¢«ADKä½¿ç”¨ä¸‹åˆ’çº¿è‡ªåŠ¨æ›¿æ¢ã€‚ç¡®å®šä½ æœ‰æ­£ç¡®çš„æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œå› ä¸º5.6åŠä»¥åç‰ˆæœ¬çš„ADKä¸ä¼šæ›¿æ¢è¿™äº›å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;h3 id="_7"&gt;æ€»ç»“&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ·»åŠ iOS ADKåˆ°åº”ç”¨ä¼šå¢åŠ å¦‚ä¸‹å¤§å°ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ¶æ„&lt;/th&gt;
&lt;th&gt;å¤§å°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;armv7&lt;/td&gt;
&lt;td&gt;340KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;armv7s&lt;/td&gt;
&lt;td&gt;340KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;arm64&lt;/td&gt;
&lt;td&gt;325KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;All three&lt;/td&gt;
&lt;td&gt;980KB&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¡Œä¸ºï¼Œäº‹ä»¶ï¼Œé”™è¯¯è¢«è‡ªåŠ¨åˆ›å»ºæˆ–è€…é€šè¿‡ADK APIè¢«å‚¨å­˜åœ¨ä¸€ä¸ªåœ¨åº”ç”¨çš„Documentè·¯å¾„çš„SQLite æ•°æ®åº“ã€‚å¹³å‡ä¸‹æ¥ï¼Œè¿™äº›é¡¹åœ¨æ•°æ®åº“ä¸­å¤§æ¦‚å ç”¨150 bytesã€‚å¤§å°å–å†³äºé¡¹ä¸­çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåƒåç§°ã€é”™è¯¯ä¿¡æ¯ã€‚&lt;br&gt;
é»˜è®¤æƒ…å†µä¸‹ï¼ŒADKå‚¨å­˜é¡¹åœ¨æ•°æ®åº“ä¸­ä¸€ç›´åˆ°2minåœ¨å‘é€ç»™Serverç«¯æˆ–è€…åˆ é™¤ã€‚ä½ å¯ä»¥åœ¨dynaTrace å®¢æˆ·ç«¯ç®¡ç†å‘é€é—´éš”ã€‚&lt;/p&gt;
&lt;h2 id="iosauto-instrumentation"&gt;iOSè‡ªåŠ¨æ„ŸçŸ¥ï¼ˆAuto-Instrumentationï¼‰&lt;a class="headerlink" href="#iosauto-instrumentation" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Auto-Instrumentation for iOS&lt;/em&gt;å…è®¸ä»»ä½•äººé€šè¿‡æ‰‹æœºApp ADKæ¥ç›‘æ§iOSåº”ç”¨ã€‚è¯¥è¯´æ˜ç¨‹åºæ˜¯è‡ªåŠ¨æ·»åŠ æ ‡å‡†æ‰‹æœºApp ADKåˆ°åº”ç”¨è€Œä¸ç”¨æ‰‹åŠ¨ä¿®æ”¹æºä»£ç ã€‚æ ‡å‡†æ‰‹æœºApp ADKç”¨äºè‡ªåŠ¨åŒ–çš„å¤„ç†è¿›ç¨‹ã€‚è‡ªåŠ¨åŒ–æ·»åŠ çš„åº”ç”¨å’Œæ‰‹åŠ¨æ·»åŠ çš„åº”ç”¨æ”¶é›†åˆ°çš„åŸºæœ¬æ•°æ®æ˜¯ä¸€æ ·çš„ã€‚è¯¥æ–¹æ³•æä¾›åº”ç”¨ã€crashç›‘æµ‹ã€åº”ç”¨å¯åŠ¨å’Œwebäº¤æ˜“ç›¸åº”æ—¶é—´æ€§èƒ½ç›‘æ§çœŸå®ç”¨æˆ·ä½“éªŒæµã€‚&lt;/p&gt;
&lt;h3 id="_8"&gt;è‡ªåŠ¨åŒ–åŠŸèƒ½&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸‹åˆ—åŠŸèƒ½æ˜¯è‡ªåŠ¨æ„ŸçŸ¥çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ADKè‡ªåŠ¨å¯åŠ¨-ä½ å¿…é¡»ä½¿ç”¨instrumentation keysæ¥é…ç½®è‡ªåŠ¨å¯åŠ¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”Ÿå‘½å‘¨æœŸæ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;crashæŠ¥å‘Š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;webè¯·æ±‚æ ‡è®°ï¼ˆtaggingï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;webè¯·æ±‚äº‹ä»¶ï¼ˆæŠ¥å‘Šæ‰§è¡Œæ—¶é—´å’Œè®¤è¯ç¬¬ä¸‰æ–¹è¯·æ±‚ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;webè§†å›¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªåŠ¨ç”¨æˆ·è¡Œä¸ºæ£€æµ‹ï¼ˆçœŸå®ç”¨æˆ·è¡Œä¸ºåƒç‚¹æŒ‰æŒ‰é’®åŠå…¶ä»–æµè§ˆæ“ä½œå’Œæ§åˆ¶çš„ç›‘æµ‹å’Œè®¡æ—¶ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ADK æ—¥å¿—è®°å½•-ä½ å¿…é¡»ä½¿ç”¨ç›¸åº”çš„instrumentation keyæ¥å¯åŠ¨è‡ªåŠ¨æ—¥å¿—è®°å½•&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€æœ‰è¿™äº›åŠŸèƒ½é»˜è®¤å¼€å¯ã€‚ä½ å¯ä»¥ç¦ç”¨æˆ–æ”¹è¿›è¿™äº›è‡ªåŠ¨æ„ŸçŸ¥åŠŸèƒ½é€šè¿‡æ·»åŠ &lt;strong&gt;&lt;em&gt;configuration keys&lt;/em&gt;&lt;/strong&gt;åˆ°ä½ çš„åº”ç”¨çš„&lt;em&gt;info.plist&lt;/em&gt;æ–‡ä»¶ã€‚&lt;br&gt;
ä½ å¯ä»¥æŠŠè‡ªåŠ¨æ„ŸçŸ¥å’Œæ‰‹åŠ¨èµ¶é›†ç»“åˆèµ·æ¥ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³åœ¨å¼€å‘é˜¶æ®µæ‰‹åŠ¨è·å–ç¡®åˆ‡ç”¨æˆ·å®šä¹‰çš„è¡Œä¸ºï¼ˆå¹¶æŠ¥å‘Šæ•°å€¼å’Œäº‹ä»¶ï¼‰ï¼Œç„¶åä½¿ç”¨è‡ªåŠ¨æ„ŸçŸ¥æ·»åŠ ä¸Šåˆ—åŠŸèƒ½åˆ°ä½ çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;h3 id="_9"&gt;è‡ªåŠ¨æ„ŸçŸ¥æ¦‚è§ˆ&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é“¾æ¥iOS æ‰‹æœºADKé™æ€åº“åˆ°ä½ çš„åº”ç”¨å¹¶ä¸”ç¼–è¯‘è¿›Xcodeã€‚å‚è§&lt;strong&gt;iOS ADKå®‰è£…ä½¿ç”¨è¯´æ˜&lt;/strong&gt;è·å–æ›´å¤šç»†èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;æ·»åŠ keysåˆ°ä½ çš„åº”ç”¨çš„&lt;em&gt;info.plist&lt;/em&gt;æ–‡ä»¶ï¼Œé…ç½®è‡ªåŠ¨æ„ŸçŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç¼–è¯‘æœŸé—´è‡ªåŠ¨æ„ŸçŸ¥å‘ç”Ÿã€‚ä¹‹ååº”ç”¨ä¼šæ„ŸçŸ¥åœ¨&lt;em&gt;info.plist&lt;/em&gt;æ–‡ä»¶ä¸­çš„çº§åˆ«é…ç½®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;æ„ŸçŸ¥é…ç½®&lt;/h4&gt;
&lt;p&gt;ä¸‹è¡¨çš„keysï¼ˆpropertiesï¼‰æ˜¯è‡ªåŠ¨æ„ŸçŸ¥çš„é…ç½®é€‰é¡¹ã€‚æ ¹æ®éœ€è¦æ·»åŠ keysåˆ°ä½ çš„åº”ç”¨çš„info.plistæ–‡ä»¶ã€‚å…¶ä¸­çš„å¾ˆå¤šå±æ€§å€¼å‚è€ƒ&lt;strong&gt;CompuwareUEM æ‰‹æœºApp ADK API&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å…³é”®å­—&lt;/th&gt;
&lt;th&gt;å…³é”®å­—ç±»å‹&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_logging.level&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²&lt;/td&gt;
&lt;td&gt;å¦‚æœè¯¥å…³é”®è¯åˆæ³•ï¼ˆALL,FINEST,FINER,FINE,CONFIG,INFO,WARNING,SEVERE,OFFï¼‰ï¼ŒADKæ—¥å¿—è®°å½•å°±ä¼šè‡ªåŠ¨å¯ç”¨å¯¹åº”ç­‰çº§ã€‚å¦‚æœå…³é”®å­—æ²¡æ˜¯å“Ÿä¸ªæˆ–è€…æ²¡æœ‰åˆæ³•å€¼ï¼Œè‡ªåŠ¨è®°å½•æ—¥å¿—&lt;strong&gt;å…³é—­&lt;/strong&gt;ï¼Œä½ å¿…é¡»æ‰‹åŠ¨åœ¨åº”ç”¨ä¸­å¼€å¯æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM.setMonitorCookie&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²&lt;/td&gt;
&lt;td&gt;å¦‚æœé…ç½®è¯¥å…³é”®å­—ï¼Œè¯¥å€¼ä¼šè‡ªåŠ¨ä½œä¸ºHTTPè¯·æ±‚åˆ°&lt;em&gt;serverUrl&lt;/em&gt;(å‚è§&lt;em&gt;cpwrUEM_startup.agentpath&lt;/em&gt;)çš„ä¸€ä¸ªcookieï¼Œè¿™æ ·ä»–ä»¬å¯ä»¥é€šè¿‡ä½ çš„åŸºç¡€æ¶æ„éœ€æ±‚ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.agentPath&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²&lt;/td&gt;
&lt;td&gt;å¦‚æœè¯¥å…³é”®å­—é…ç½®ä¸€ä¸ªåˆæ³•çš„å€¼ï¼ŒADKå°†è‡ªåŠ¨å¯åŠ¨ï¼Œä½¿ç”¨è¯¥å€¼ä½œä¸º&lt;em&gt;serverUrl&lt;/em&gt;,å¹¶å°†å¿½ç•¥ä½ appä¸­ä»»ä½•æ‰‹åŠ¨çš„&lt;em&gt;startupWithApplicationName&lt;/em&gt;è°ƒç”¨ã€‚&lt;em&gt;serverUrl&lt;/em&gt;éœ€è¦ä½¿ç”¨http://æˆ–https://ä¼ è¾“ã€‚å¦‚æœæ²¡é…ç½®ï¼Œä½ å¿…é¡»æ‰‹åŠ¨è°ƒç”¨&lt;em&gt;startupWithApplicationName&lt;/em&gt;æ¥å¯åŠ¨ADK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.sApplId&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²&lt;/td&gt;
&lt;td&gt;å¦‚æœé…ç½®è¯¥å…³é”®å­—ï¼Œå®ƒçš„å€¼ä¼šè¢«ç”¨ä½œä½ åº”ç”¨çš„åç§°ã€‚å¦‚æœæ²¡æœ‰é…ç½®ï¼ŒADKå°†ä½¿ç”¨åœ¨main bundleä¸­çš„åº”ç”¨å&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.useAnyCert&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼æ˜¯&lt;em&gt;NO&lt;/em&gt;ã€‚è¯¥å…³é”®å­—ç­‰ä»·äºå¯åŠ¨æ—¶è°ƒç”¨&lt;em&gt;allowAnyCert&lt;/em&gt;å‚æ•°ã€‚å¦‚æœè®¾ç½®ä¸º&lt;em&gt;YES&lt;/em&gt;ï¼Œæ‰€æœ‰è¯ä¹¦éƒ½ä¼šè¢«æ¥å—ã€‚å¦‚æœè®¾ç½®ä¸º&lt;em&gt;NO&lt;/em&gt;ï¼Œæ¥è‡ªå·²çŸ¥è®¤è¯æœºæ„çš„åˆæ³•è¯ä¹¦ä¼šè¢«æ¥å—ï¼›å¦‚æœæä¾›äº†ä¸€ä¸ªè‡ªç­¾åè¯ä¹¦ï¼ˆå‚è§&lt;em&gt;cpwrUEM_startup.certPath&lt;/em&gt;ï¼‰,å°†æ£€æŸ¥å®ƒçš„æœ‰æ•ˆæ€§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.certPath&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼ä¸ºnilã€‚è¯¥å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªDERæ ¼å¼çš„ï¼ˆè‡ªç­¾åï¼‰è¯ä¹¦è·¯å¾„ï¼Œç”¨ä½œä¸€ä¸ªé¢å¤–çš„anchoræ¥éªŒè¯HTTPSé€šè®¯ã€‚å¦‚æœ&lt;em&gt;cpwrUEM_startup.useAnyCert&lt;/em&gt;æ˜¯&lt;em&gt;NO&lt;/em&gt;,å¹¶ä¸”serverä¸Šç”¨äº†ä¸€ä¸ªè‡ªç­¾åçš„è¯ä¹¦ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨è¯¥å…³é”®å­—ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_crash.reporting&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼æ˜¯&lt;em&gt;YES&lt;/em&gt;ã€‚crashæŠ¥å‘Šé»˜è®¤è‡ªåŠ¨å¯ç”¨ã€‚å¦‚æœä½ ä¸æƒ³å¯åŠ¨crashæŠ¥å‘Šï¼Œä½ å¿…é¡»ä½¿ç”¨è¯¥å…³é”®å­—ï¼Œå¹¶è®¾ç½®å€¼ä¸º&lt;em&gt;NO&lt;/em&gt;ã€‚å¦‚æœä½ æƒ³æŠ¥å‘Šcrashesåˆ°ä¸€ä¸ªä¸æ˜¯dynaTrace serverçš„serverä¸Šï¼Œæˆ–è€…å¯ç”¨å‘é€crash emailé€šçŸ¥ï¼Œåœ¨ä½ çš„ä»£ç é‡Œæ·»åŠ åˆé€‚çš„&lt;em&gt;enableCrashReportingWithReport&lt;/em&gt; APIè°ƒç”¨æ¥è¦†ç›–é»˜è®¤é…ç½®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_crash.sendCrashReport&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼æ˜¯&lt;em&gt;YES&lt;/em&gt;ã€‚å¯¹äº&lt;em&gt;enableCrashReportingWithReport&lt;/em&gt;å‘é€crashæŠ¥å‘Šåˆ°dynaTrace serverï¼Œå®ƒå’Œ&lt;em&gt;sendCrashReport&lt;/em&gt;å­—æ®µæ˜¯ç­‰ä»·çš„ã€‚å¦‚æœä½ ä¸æƒ³è®¾ç½®å‘é€crashæŠ¥å‘Šï¼Œè®¾ç½®è¯¥å…³é”®å­—ä¸º&lt;em&gt;NO&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.lifecycleMonitoring&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼æ˜¯&lt;em&gt;YES&lt;/em&gt;ã€‚ä¸ç”¨ä½¿ç”¨iOS ADKç”Ÿå‘½å‘¨æœŸç±»è¦†ç›–ä½ çš„view controller ç±»ï¼Œè‡ªåŠ¨ç”Ÿå‘½å‘¨æœŸç›‘æµ‹æ˜¯å¯ç”¨çš„ã€‚è®¾ç½®è¯¥å€¼ä¸º&lt;em&gt;NO&lt;/em&gt;æ¥ç¦ç”¨è‡ªåŠ¨ç”Ÿå‘½å‘¨æœŸç›‘æµ‹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.webRequestTagging&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤æ˜¯&lt;em&gt;YES&lt;/em&gt;ï¼Œæ‰“å¼€è‡ªåŠ¨webè¯·æ±‚æ ‡è®°ã€‚æ³¨æ„ï¼Œå¦‚æœ&lt;em&gt;webRequestTiming&lt;/em&gt;è¢«å¯ç”¨ï¼Œ&lt;em&gt;webRequestTagging&lt;/em&gt;ä¹Ÿä¼šå¯ç”¨ï¼Œå› ä¸ºæœ‰ä¾èµ–å…³ç³»ã€‚è¦å…³é—­è‡ªåŠ¨webè¯·æ±‚æ ‡è®°ï¼Œä½ éœ€è¦æŠŠ&lt;em&gt;webRequestTiming&lt;/em&gt;å’Œ&lt;em&gt;webRequestTagging&lt;/em&gt;éƒ½è®¾ç½®ä¸º&lt;em&gt;NO&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.webRequestTiming&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤æ˜¯&lt;em&gt;YES&lt;/em&gt;ï¼Œå³å¼€å¯è‡ªåŠ¨webè¯·æ±‚è®¡æ—¶ã€‚è®¾ç½®ä¸º&lt;em&gt;NO&lt;/em&gt;ç¦ç”¨ã€‚æ³¨æ„è¯¥å…³é”®å­—å’Œ&lt;em&gt;webRequestTagging&lt;/em&gt;ç›¸äº’ä¾èµ–ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.wrapWebRequestInAction&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼æ˜¯&lt;em&gt;YES&lt;/em&gt;ã€‚å¦‚æœä¸€ä¸ªæ‰‹åŠ¨ç”¨æˆ·è¡Œä¸ºæˆ–è‡ªåŠ¨ç”¨æˆ·è¡Œä¸ºä¸å¯ç”¨ï¼Œå°±è‡ªåŠ¨æŠŠwebè¯·æ±‚åŒ…è¿›ç”¨æˆ·è¡Œä¸ºé‡Œã€‚è®¾ç½®è¯¥å€¼ä¸º&lt;em&gt;NO&lt;/em&gt;æ¥ç¦ç”¨è‡ªåŠ¨webè¯·æ±‚è¡Œä¸ºåŒ…è£¹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.autoUserAction&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;é»˜è®¤å€¼æ˜¯&lt;em&gt;YES&lt;/em&gt;ã€‚å¯ä»¥è‡ªåŠ¨åˆ›å»ºç”¨æˆ·å’Œappäº¤äº’çš„è¡Œä¸ºï¼ˆæŒ‰æŒ‰é’®ï¼Œè·³è½¬è‡³å…¶ä»–é¡µé¢ï¼Œè¡¨å•æµè§ˆé€‰æ‹©ç­‰ï¼‰.è®¾ç½®è¯¥å€¼ä¸º&lt;em&gt;NO&lt;/em&gt;æ¥ç¦ç”¨è¯¥åŠŸèƒ½ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_action.autoActionTimeoutMs&lt;/td&gt;
&lt;td&gt;æ•°å­—&lt;/td&gt;
&lt;td&gt;The default value is 500 ms. It sets the value for how long a particular automatic user action is active. The purpose is to catch all web requests that happen when an automatic user action is active. If the automatic user action has completed web requests, the ADK leaves the action at the end of this time. The minimum allowed value is 100 ms, the maximum allowed value is 5000 ms (5 seconds).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_action.autoActionMaxDurationMs&lt;/td&gt;
&lt;td&gt;æ•°å­—&lt;/td&gt;
&lt;td&gt;The default value is 60000 ms (60 seconds). It sets the value for how long a particular automatic user action is retained before being deleted. The purpose is to catch all web requests that happen when an automatic user action is active. If the automatic user action has pending web requests (because they are taking a long time to complete), the ADK waits for this amount of time for the web requests to complete before leaving the user action. The minimum allowed value is 100 ms, the maximum allowed value is 540000 ms (9 minutes).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_action.sendEmptyAutoAction&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;The default value is NO. It determines whether to send automatic user actions if they do not contain any web requests or lifecycle actions.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.webViewTiming&lt;/td&gt;
&lt;td&gt;å¸ƒå°”&lt;/td&gt;
&lt;td&gt;The default value is YES . It automatically detects and times  web views in your hybrid app. Set the value to   to disable automatic detection and timing of web views.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.excludeControls&lt;/td&gt;
&lt;td&gt;æ•°ç»„&lt;/td&gt;
&lt;td&gt;This key defines an array of items where each item contains a type of view or control to exclude from automatic creation of user actions. Each item in the array is a case-insensitive string. The possible values are Buttonï¼Œ toolBar segmentedControl tableView tabBar alertView and  pageView navigationController collectionView actionSheet&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.excludeLifecycleClasses&lt;/td&gt;
&lt;td&gt;æ•°ç»„&lt;/td&gt;
&lt;td&gt;This is an array of items where each item contains the name of a class to exclude from automatic lifecycle instrumentation. Each item in the array is a case-sensitive string that must &lt;strong&gt;exactly&lt;/strong&gt; match the name of the class to be  excluded.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="_10"&gt;é™åˆ¶&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;~~2698é¡µ~~&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-24-mobile-adk.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 20.æŠ¥å‘ŠåŠŸèƒ½</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-20-reporting.html</link><description>&lt;h2 id="_1"&gt;ç»¼è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;dynaTraceå¯ä»¥å°†dashboardå’Œdashletè½¬æ¢ä¸ºè‡ªå®šä¹‰çš„æŠ¥å‘Šã€‚&lt;br&gt;
æŠ¥å‘Šå¯ä»¥æœ‰å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡ç«¯ç”Ÿæˆã€‚è®¡åˆ’æŠ¥å‘Šæ˜¯ä¸€ç§æœåŠ¡ç«¯æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;ç±»å‹å’Œæ ¼å¼&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;dynaTraceåŒ…æ‹¬ä¸‹åˆ—è‡ªå®šä¹‰æŠ¥å‘Šæ ¼å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;PDF&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;XML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Excelå’ŒExcel2007&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CSV&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="PDF" src="http://pic.yupoo.com/east4ming_v/FhuunmKR/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="HTML" src="http://pic.yupoo.com/east4ming_v/FhuumWhj/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="xml" src="http://pic.yupoo.com/east4ming_v/FhuuoRBf/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Excel" src="http://pic.yupoo.com/east4ming_v/FhuunQEO/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="CSV" src="http://pic.yupoo.com/east4ming_v/FhuumrDF/medium.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_3"&gt;å®¢æˆ·ç«¯æŠ¥å‘Š&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_4"&gt;é»˜è®¤æŠ¥å‘Š&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä¸‹åˆ—æ“ä½œåˆ›å»ºæŠ¥å‘Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªdashboardï¼Œä»&lt;strong&gt;Dashboard&lt;/strong&gt;æŒ‰é’®æˆ–è€…å³å‡»åœ¨å³ä¸Šæ–¹çš„dashboardå›¾æ ‡ï¼Œé€‰æ‹©&lt;strong&gt;Report&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”Ÿæˆå•ä¸ªdashletçš„æŠ¥å‘Šï¼Œé‚®å¯„dashletçš„æ ‡ç­¾å¹¶ä¸”é€‰æ‹©&lt;strong&gt;Report&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹‹åä¼šå‡ºç°&lt;strong&gt;Generate Report&lt;/strong&gt;å¯¹è¯æ¡†ï¼Œå¯ä»¥è¿›è¡Œç»†èŠ‚é¡¹è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºæŠ¥å‘Šå¯¹è¯æ¡†" src="http://pic.yupoo.com/east4ming_v/FhuyMfcb/medium.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥å‘Šæ ‡é¢˜å’Œæè¿°è‡ªåŠ¨ç”±dashboardåˆ›å»ºã€‚å¯ä»¥è¿›è¡Œä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æŠ¥å‘Šæ ¼å¼ã€‚&lt;/li&gt;
&lt;li&gt;æ›´æ”¹çº¸å¼ æ–¹å‘å’Œçº¸å¼ å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;å®šä¹‰è¾“å‡ºè·¯å¾„&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;Generate&lt;/strong&gt;åˆ›å»ºæŠ¥å‘Šã€‚å®Œæˆåï¼Œä¼šè‡ªåŠ¨æ‰“å¼€ã€‚&lt;br&gt;
è¿™äº›å˜æ›´åªä¼šåº”ç”¨åœ¨ä¸€ä¸ªæŠ¥å‘Šé‡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="dashboard"&gt;è‡ªå®šä¹‰dashboardæŠ¥å‘Š&lt;a class="headerlink" href="#dashboard" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨dashboardå±æ€§é‡Œé€‰æ‹©&lt;strong&gt;Reporting&lt;/strong&gt;æ ‡ç­¾é¡µæ¥æ”¹å˜ä¸‹åˆ—è®¾ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é»˜è®¤æ ¼å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çº¸å¼ æ–¹å‘å’Œçº¸å¼ å¤§å°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªå®šä¹‰é¡µçœ‰å›¾ç‰‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dashleté¡ºåºå’ŒåŒ…å«é¡¹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰è®¡åˆ’ç”ŸæˆæŠ¥å‘Š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="Reportingæ ‡ç­¾é¡µ" src="http://pic.yupoo.com/east4ming_v/FhuFqY65/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="è‡ªå®šä¹‰é¡¹" src="http://pic.yupoo.com/east4ming_v/FhuGlt9I/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;è¿™äº›å˜æ›´å°†ä¼šåº”ç”¨åˆ°ç”±è¿™ä¸ªdashboardç”Ÿæˆçš„æ¯ä»½æŠ¥å‘Šé‡Œã€‚&lt;/p&gt;
&lt;h2 id="_5"&gt;è®¡åˆ’æŠ¥å‘Š&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;è®¡åˆ’æŠ¥å‘Š&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æŠ¥å‘Šå¯ä»¥åœ¨ç»™å®šçš„æ—¶é—´é—´éš”è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸”å‚¨å­˜åœ¨dynaTrace Serverç«¯çš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…é€šè¿‡emailå‘é€ã€‚è®¡åˆ’æŠ¥å‘Šç”±dynaTrace Serveråˆ›å»ºã€‚&lt;br&gt;
åˆ›å»ºæŠ¥å‘Šä»»åŠ¡ï¼Œæ‰§è¡Œå¦‚ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€ä½ æƒ³è¦ç”ŸæˆæŠ¥å‘Šçš„dashboard&lt;/li&gt;
&lt;li&gt;é‚®å¯„dashboardæˆ–è€…æ‰“å¼€dashboardèœå•ï¼Œé€‰æ‹©&lt;strong&gt;Report&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰æŠ¥å‘Šï¼Œå¯ä»¥æ›´æ”¹æ ‡é¢˜ã€æè¿°ã€æ ¼å¼ã€çº¸å¼ æ–¹å‘å’Œå¤§å°ã€æ–‡ä»¶åã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;Create Schedule&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰åå¤„ç†--é€šè¿‡emailå‘é€æˆ–å‚¨å­˜åœ¨dynaTrace Serveræ–‡ä»¶ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹©&lt;strong&gt;Schedule&lt;/strong&gt;æ ‡ç­¾é¡µ&lt;/li&gt;
&lt;li&gt;åœ¨Schedules Editorå¢åŠ æˆ–ç¼–è¾‘è®¡åˆ’ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="è®¡åˆ’æŠ¥å‘Š_1" src="http://pic.yupoo.com/east4ming_v/FhuKKVdo/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="è®¡åˆ’æŠ¥å‘Š_2" src="http://pic.yupoo.com/east4ming_v/FhuKM5hh/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="è®¡åˆ’æŠ¥å‘Š_3" src="http://pic.yupoo.com/east4ming_v/FhuKKZ7B/medium.jpg"&gt;&lt;/p&gt;
&lt;h3 id="server"&gt;Serverç«¯è‡ªåŠ¨æŠ¥å‘Šä»»åŠ¡&lt;a class="headerlink" href="#server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;ä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨åŒ–æŠ¥å‘Šï¼Ÿ&lt;/h4&gt;
&lt;p&gt;é€šè¿‡è‡ªåŠ¨åŒ–æŠ¥å‘Šï¼Œä½ å¯ä»¥å±•ç¤ºç´¯è®¡æ•°æ®ç»™åˆ©ç›Šç›¸å…³è€…æˆ–è€…å‘é€æ¯æ—¥çš„KPIçŠ¶æ€æ›´æ–°åˆ°ä½ çš„é‚®ç®±ã€‚æŠ¥å‘Šæ˜¯å¿…é¡»çš„ï¼Œè€Œä¸”ä½ ä¸æƒ³èŠ±è´¹å¤ªå¤šæ—¶é—´æ”¶é›†æ•°æ®ï¼Œè®¾è®¡æŠ¥å‘Šï¼Œæ‰§è¡Œã€‚å¦‚æœä½ æ›¾åšåŒä¸€ä¸ªæŠ¥å‘Š2æ¬¡ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨dynaTraceçš„æŠ¥å‘ŠåŠŸèƒ½æ¥è‡ªåŠ¨åŒ–ç”ŸæˆæŠ¥å‘Šã€‚&lt;/p&gt;
&lt;h4&gt;ç›®æ ‡æ¼”ç»ƒ&lt;/h4&gt;
&lt;p&gt;æœ¬æ¬¡ç›®æ ‡æ¼”ç»ƒå±•ç¤ºäº†dynaTraceçš„æŠ¥å‘ŠåŠŸèƒ½ï¼Œä»¥åŠå¦‚ä½•æ›´å®¹æ˜“çš„ç”ŸæˆæŠ¥å‘Šã€‚å­¦ä¹ å¦‚ä½•ç”Ÿæˆä½ çš„è®¡åˆ’æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;h4&gt;éœ€æ±‚&lt;/h4&gt;
&lt;p&gt;åˆ›å»ºä½ è‡ªå·±çš„dashboardæˆ–è€…ä½¿ç”¨dynaTraceè‡ªå¸¦çš„ã€‚å¦‚æœä½ æ²¡æœ‰System Profileï¼Œæ²¡æœ‰æ¥è‡ªagentçš„æ•°æ®çš„è¯ï¼Œä½¿ç”¨è‡ªç›‘æ§çš„å†…ç½®dashboardã€‚&lt;/p&gt;
&lt;h4&gt;è¯¦ç»†æ­¥éª¤&lt;/h4&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸‹æ­¥éª¤è‡ªåŠ¨åŒ–ç”ŸæˆæŠ¥å‘Šï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€æŠ¥å‘Šå¯¹è¯æ¡†åˆ°æŠ¥å‘Šæ–‡æ¡£&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰å¿…é¡»çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæŠ¥å‘Šè®¡åˆ’&lt;/li&gt;
&lt;li&gt;åŸºäºè®¡åˆ’è‡ªåŠ¨åŒ–ç”ŸæˆæŠ¥å‘Š&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;åˆ›å»ºæŠ¥å‘Šè®¡åˆ’&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ æƒ³é€šè¿‡é‚®ä»¶æ¯å¤©ã€æ¯å‘¨ã€æˆ–è€…å‘æŠ¥å‘Šæˆ–è€…å‘é€ç»™å¤šä¸ªæ¥æ”¶è€…ï¼Œé‚£ä¹ˆå¯ä»¥åˆ›å»ºæŠ¥å‘Šè®¡åˆ’ã€‚åˆ°&lt;strong&gt;Report&lt;/strong&gt;è®¾ç½®é¡¹ï¼Œåˆ›å»ºè®¡åˆ’ã€‚æ¯”å¦‚ï¼Œå¯ä»¥åˆ›å»ºè®¡åˆ’ï¼Œå‘é€PDFæŠ¥å‘Šï¼Œæ¯å¤©8ç‚¹åˆ°ä½ çš„é‚®ç®±ï¼Œæ¯å‘¨åˆ°ä½ ç»ç†çš„é‚®ç®±ã€‚ä½ å¿…é¡»åˆ›å»ºä¸¤ä¸ªè®¡åˆ’ã€‚&lt;br&gt;
å¯¹äºæ¯å¤©çš„è®¡åˆ’ï¼Œä½¿ç”¨ä¸‹åˆ—çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Start onï¼šæ¯å¤©&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Time to Sendï¼š8:00AM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Endï¼šæ°¸ä¹…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Recurrenceï¼šæ¯å¤©&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®šä¹‰å‘¨å…­ã€å‘¨æ—¥ä¾‹å¤–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Schedule Exclusionï¼šæ€»æ˜¯æ’é™¤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Onï¼šå‘¨å…­ã€å‘¨æ—¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Inï¼šæ¯æœˆ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºæŠ¥å‘Šè®¡åˆ’_1" src="http://pic.yupoo.com/east4ming_v/Fhw8OvM2/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºæŠ¥å‘Šè®¡åˆ’_2" src="http://pic.yupoo.com/east4ming_v/Fhw8PIOd/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºæŠ¥å‘Šè®¡åˆ’_3" src="http://pic.yupoo.com/east4ming_v/FhuKM5hh/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºæŠ¥å‘Šè®¡åˆ’_4" src="http://pic.yupoo.com/east4ming_v/Fhw8PHcr/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªè®¡åˆ’æ¯æœˆç¬¬ä¸€å¤©æ‰§è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Start on:æ¯æœˆç¬¬ä¸€å¤©&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Endï¼šæ°¸ä¹…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Recurrenceï¼šæ¯æœˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœˆåº¦è®¡åˆ’ï¼šæ¯æœˆç¬¬ä¸€å¤©å‘é€æŠ¥å‘Š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºæŠ¥å‘Šè®¡åˆ’_5" src="http://pic.yupoo.com/east4ming_v/Fhw8RcHJ/medium.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;æ€»ç»“&lt;/h4&gt;
&lt;p&gt;ä½ ç”¨dashboardç›¸å…³çš„æ•°æ®é…ç½®åï¼Œè‡ªåŠ¨æŠ¥å‘ŠèŠ‚çœäº†å¾ˆå¤šæ—¶é—´ã€‚è€Œä¸”è‡ªåŠ¨åŒ–çš„æŠ€èƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®å¯¼å‡ºå¼•æ“å°†æ•°æ®å‘é€åˆ°ä½ çš„å·¥å…·ä¸Šã€‚å®šæ—¶æ‹¿åˆ°æ•°æ®æˆ–è€…æŠŠæ•°æ®å‘é€åˆ°è‡ªåŠ¨åŒ–å·¥å…·ä»¥å¤‡ä¹‹åå¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id="_7"&gt;æŠ¥å‘Šçš„é™åˆ¶&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_8"&gt;å®¢æˆ·ç«¯æŠ¥å‘Šé™åˆ¶&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å®¢æˆ·ç«¯æŠ¥å‘Šæœ‰æ˜ç¡®çš„é™åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åªæœ‰å®¢æˆ·ç«¯ä¸Šæœ‰æ•°æ®å±•ç¤ºæ‰ä¼šæŠ¥å‘Š-æŠ¥å‘Šä¹‹å‰ä¸ä¼šè§¦å‘åˆ·æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®¢æˆ·ç«¯æŠ¥å‘Šä¼šè·³è¿‡æ²¡æœ‰æ¿€æ´»çš„dashletã€‚è¦ç¡®ä¿æ‰€æœ‰dashletçš„æ•°æ®æ˜¾ç¤ºåœ¨æŠ¥å‘Šé‡Œï¼Œä½ å¿…é¡»åœ¨åˆ›å»ºæŠ¥å‘Šå‰æ‰‹åŠ¨åˆ·æ–°ã€‚è¿™é¡¹ä¸é€‚ç”¨äºé€šè¿‡RESTçš„serverç«¯æŠ¥å‘Šæˆ–è®¡åˆ’æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_9"&gt;å¤§å°é™åˆ¶&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;dynaTraceé™åˆ¶æŠ¥å‘Šå¤§å°ï¼Œè¿™æ ·dynaTrace Serveræˆ–å®¢æˆ·ç«¯ä¸ä¼šå—åˆ°éå¸¸å¤§çš„æŠ¥å‘Šçš„å½±å“ã€‚è¦ç”Ÿæˆå¤§çš„æŠ¥å‘Šï¼Œä½¿ç”¨ä¸‹åˆ—é…ç½®é¡¹ï¼š&lt;/p&gt;
&lt;h4&gt;è½¯é™åˆ¶ï¼šæ¯ä¸ªdashlet 100è¡Œ&lt;/h4&gt;
&lt;p&gt;dashletå’Œdashboardè¢«è®¾ç½®æ¯ä¸ªè¡¨100è¡Œã€‚è¯¥è®¾ç½®ä¼šè¢«å…·ä½“çš„dashboardå’Œdashletçš„è®¾ç½®è¦†ç›–ã€‚å¦‚æœä½ è®¾ç½®é«˜äºç¡¬é™åˆ¶ï¼š5000è¡Œï¼Œç¡¬é™åˆ¶ä»ç„¶èµ·ä½œç”¨ã€‚&lt;/p&gt;
&lt;h4&gt;ç¡¬é™åˆ¶ï¼šæ¯ä¸ªæŠ¥å‘Š5000è¡Œ&lt;/h4&gt;
&lt;p&gt;æ‰€æœ‰dashletçš„æŠ¥å‘Šä¸èƒ½è¶…è¿‡5000è¡Œã€‚å¦‚æœä½ éœ€è¦æ›´å¤§å€¼ï¼Œä½ å¯ä»¥è®¾ç½®ä¸‹åˆ—ç³»ç»Ÿå±æ€§ï¼š&lt;br&gt;
&lt;img alt="ç¡¬é™åˆ¶" src="http://pic.yupoo.com/east4ming_v/Fhwjvk0s/14Nfau.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½éœ€è¦è®¾ç½®è¯¥é¡¹åœ¨å¤šä¸ªåœ°æ–¹ã€‚ä¸‹åˆ—æè¿°äº†æŠ¥å‘Šç±»å‹å’Œç›¸åº”çš„è®¾ç½®ï¼š&lt;/p&gt;
&lt;h4&gt;å®¢æˆ·ç«¯æŠ¥å‘Šï¼šæœ¬åœ°å®‰è£…çš„å®¢æˆ·ç«¯&lt;/h4&gt;
&lt;p&gt;æœ¬åœ°å®‰è£…çš„å®¢æˆ·ç«¯é…ç½®ä½æ˜¯&lt;em&gt;dtclient.ini&lt;/em&gt;,ä½äºC:/Users/$username/.dynaTrace/dynaTrace $version/dtclient.ini(Liunx/Mac OS X æ˜¯ ~/.dynaTrace/..)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;-vargs&lt;/span&gt;

&lt;span class="na"&gt;-Dcom.dynatrace.diagnostics.reporting.maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;10000&lt;/span&gt;
&lt;span class="na"&gt;-Xmx512M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç›´æ¥å¢åŠ è¯¥è®¾ç½®åˆ°&lt;em&gt;-vmargs&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;h4&gt;æ¯ä¸ªæŠ¥å‘Šæœ€å¤š50ä¸ªdashlets&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢è¶…å¤§çš„æŠ¥å‘Šå¯¼è‡´æ€§èƒ½é—®é¢˜è€Œä½œæ­¤è®¾ç½®ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªæœ‰50ä¸ªdashletsçš„æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;h4&gt;å®¢æˆ·ç«¯æŠ¥å‘Šï¼šé€šè¿‡dynaTrace Serverç«™ç‚¹çš„Webstartå®¢æˆ·ç«¯&lt;/h4&gt;
&lt;p&gt;æ²¡æœ‰æœ¬åœ°å®‰è£…ï¼Œå› æ­¤å½“ä½ ä½¿ç”¨Webstartå®¢æˆ·ç«¯æ—¶ï¼Œå¿…é¡»åœ¨dynaTrace Serverè®¾ç½®ã€‚ä½ç½®ï¼š  C:\Program Files\dynaTrace\dynaTrace $version\server\conf\plugins\c.d.d.autoupdate.client.common_$version\common\plugin.properties.åœ¨æ–‡ä»¶æœ«å°¾å¢åŠ å¦‚ä¸‹é…ç½®ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;...osgi.user.area&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;@user.home/$$workdingdir&lt;/span&gt;
&lt;span class="na"&gt;osgi.install.area&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;file:&lt;/span&gt;
&lt;span class="na"&gt;com.dynatrace.diagnostics.reporting.maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;10000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="serverrest"&gt;Serverç«¯æŠ¥å‘Šï¼šè®¡åˆ’æŠ¥å‘Šå’ŒRESTæŠ¥å‘Š&lt;a class="headerlink" href="#serverrest" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å½“ä½ é€šè¿‡è®¡åˆ’ä»»åŠ¡æˆ–RESTæ¥å£åˆ›å»ºæŠ¥å‘Šæ—¶ï¼ŒdynaTrace Serveråˆ›å»ºçš„æŠ¥å‘Šã€‚å¦‚æœå¿…é¡»è¦é…ç½®æ›´é«˜çš„é™åˆ¶ã€‚åœ¨&lt;em&gt;dtserver.ini&lt;/em&gt;,ä½äº$dynaTrace Installation\dtserver.ini,ä¾‹å¦‚ C:\Program Files\dynaTrace\dynaTrace 5.5.0\dtserver.ini&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;-restartonfailure&lt;/span&gt;

&lt;span class="na"&gt;-vmargs&lt;/span&gt;

&lt;span class="na"&gt;-Dcom.dynatrace.diagnostics.reporting.maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;10000&lt;/span&gt;
&lt;span class="na"&gt;-Xmx1920M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åŠ åˆ°&lt;em&gt;-vmargs&lt;/em&gt;ä¹‹åã€‚&lt;/p&gt;
&lt;h2 id="troubleshooting"&gt;Troubleshooting&lt;a class="headerlink" href="#troubleshooting" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®åº”ç”¨ï¼Œserveræˆ–å®¢æˆ·ç«¯é‡å¯åï¼Œç¬¬ä¸€ä»½æŠ¥å‘Šè§¦å‘åï¼Œä½ åº”è¯¥åœ¨æ—¥å¿—æ–‡ä»¶é‡Œçœ‹åˆ°ä¸‹é¢ä¿¡æ¯ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;2015-14-03 09:26:53 INFO [ServerReportManager] Using non-default limit of table rows per report: '10000'&lt;br&gt;
å¦‚æœæ²¡æœ‰å‡ºç°ï¼ŒéªŒè¯é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”é‡å¯serverå’Œå®¢æˆ·ç«¯æ¥æ¿€æ´»æ–°çš„å˜æ›´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½ ä¹Ÿå¿…é¡»åœ¨dashboardæˆ–dashletä¿®æ”¹è½¯é™åˆ¶ï¼Œå› ä¸ºè½¯é™åˆ¶ä»ç„¶æ˜¯100è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;dtclient.ini&lt;/em&gt;æ–‡ä»¶åªä½äºC:\Users.å¦‚æœè¯¥æ–‡ä»¶ä½äºåƒæ˜¯è¿™æ ·çš„ä½ç½®ï¼šC:\Program Files (x86)\dynaTrace\dynaTrace $version,åˆ é™¤æ‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_10"&gt;éæ‹‰ä¸è¯­è„šæœ¬&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦å¯ç”¨PDFæŠ¥å‘Šçš„éæ‹‰ä¸è¯­ç³»è„šæœ¬ï¼Œéœ€è¦è®¾ç½®ç³»ç»Ÿå±æ€§comã€‚dynatrace.diagnostics.reporting.pdf.englishä¸º&lt;em&gt;false&lt;/em&gt;ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´è¿å­—ç¬¦é”™è¯¯ï¼Œä½†æ˜¯å…è®¸ä»å³åˆ°å·¦ä¹¦å†™ã€‚&lt;br&gt;
å–å†³äºæŠ¥å‘Šæ˜¯ç”±dynaTrace Clientè¿˜æ˜¯dynaTrace Serveråˆ›å»ºï¼Œå¯¹åº”çš„ç³»ç»Ÿå±æ€§ä¹Ÿå¿…é¡»è®¾ç½®åœ¨&lt;em&gt;dtclient.ini&lt;/em&gt;æˆ–&lt;em&gt;dtserver.ini&lt;/em&gt;ã€‚&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-20-reporting.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>OpenShiftä¼ä¸šæµ‹è¯•ç¯å¢ƒåº”ç”¨éƒ¨ç½²å®æˆ˜</title><link>https://www.EWhisper.cn/deploy-app-with-openshift-in-enterprise-env.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ€»è§ˆ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ç¦…é“ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;å®æˆ˜æ­¥éª¤&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å…·ä½“æ­¥éª¤&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ€»è§ˆ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©é¢†å¯¼äº¤ç»™æˆ‘ä¸ªå°ä»»åŠ¡ - æŠŠé¡¹ç›®ç®¡ç†è½¯ä»¶&lt;a href="https://www.zentao.net/download/80137.html"&gt;"ç¦…é“"&lt;/a&gt;å¼€æºç‰ˆ éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ. å¤§æ¦‚ç ”ç©¶äº†ä¸‹ç¦…é“å¼€æºç‰ˆçš„å®˜æ–¹æ–‡æ¡£, å†³å®šé€šè¿‡Dockerå®¹å™¨çš„æ–¹å¼æŠŠå®ƒéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ. &lt;/p&gt;
&lt;p&gt;é™¤å»ç ”ç©¶çš„æ—¶é—´, å®é™…ä¸Š2å°æ—¶å°±æŠŠç¦…é“å¼€æºç‰ˆéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ, æ— éœ€ç”³è¯·ä¸»æœºã€å­˜å‚¨ã€æ•°æ®åº“ã€ä¸­é—´ä»¶å’ŒåŸŸåã€‚çœŸæ˜¯ä¸èˆ¬é¡ºæ»‘, æŒºèˆ’æœçš„.&lt;/p&gt;
&lt;h3 id="_2"&gt;ç¦…é“ç®€ä»‹&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç¦…é“&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt;æ˜¯ä¸“ä¸šçš„ç ”å‘é¡¹ç›®ç®¡ç†è½¯ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»†åˆ†éœ€æ±‚ã€ä»»åŠ¡ã€ç¼ºé™·å’Œç”¨ä¾‹&lt;/li&gt;
&lt;li&gt;å®Œæ•´è¦†ç›–ç ”å‘é¡¹ç›®æ ¸å¿ƒæµç¨‹&lt;/li&gt;
&lt;li&gt;å®Œæ•´è½¯ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;å®æˆ˜æ­¥éª¤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_4"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç®€å•å½’çº³èµ·æ¥, å°±ä»¥ä¸‹å‡ æ­¥:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ„å»º"ç¦…é“"å¼€æºç‰ˆçš„Docker é•œåƒ&lt;/li&gt;
&lt;li&gt;åœ¨OpenShiftä¸Š, åˆ›å»º"ç¦…é“"é¡¹ç›®, å¹¶é€šè¿‡Docker é•œåƒåˆ›å»º"ç¦…é“"åº”ç”¨.&lt;/li&gt;
&lt;li&gt;å°†"ç¦…é“"åº”ç”¨é€šè¿‡åŸŸåå‘å¸ƒåˆ°ä¼ä¸šå†…ç½‘.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“ç„¶, ç”±äºOpenShiftçš„å®‰å…¨å¢å¼º, ä»¥åŠä¼ä¸šæµ‹è¯•ç¯å¢ƒçš„éƒ¨åˆ†å®‰å…¨é™åˆ¶ä»¥åŠå…¶ä»–å®¢è§‚æ¡ä»¶, å®é™…ä¸Šæ‰§è¡Œèµ·æ¥éœ€è¦çš„æ­¥éª¤æ›´å¤š:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ„å»º"ç¦…é“"å¼€æºç‰ˆçš„Docker é•œåƒ&lt;ol&gt;
&lt;li&gt;åœ¨äº‘ä¸»æœºä¸Š, é€šè¿‡Dockerfile æ„å»ºDockeré•œåƒ. å¹¶å¯¼å‡º&lt;/li&gt;
&lt;li&gt;åœ¨ä¼ä¸šOpenShift æµ‹è¯•ç¯å¢ƒä¸Š, ä¸Šä¼ å¹¶å¯¼å…¥Docker é•œåƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨OpenShiftä¸Š, åˆ›å»º"ç¦…é“"é¡¹ç›®, å¹¶é€šè¿‡Docker é•œåƒåˆ›å»º"ç¦…é“"åº”ç”¨.&lt;ol&gt;
&lt;li&gt;åˆ›å»º"ç¦…é“" - &lt;strong&gt;zentao&lt;/strong&gt; é¡¹ç›®&lt;ol&gt;
&lt;li&gt;(å¯é€‰) æŒ‡å®šè¯¥é¡¹ç›®åªèƒ½è¢«è°ƒåº¦åˆ°ç‰¹å®šä¸»æœºä¸Š;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;(å¯é€‰) åˆ›å»ºOpenShift useroot æœåŠ¡è´¦æˆ· &lt;/li&gt;
&lt;li&gt;åˆ›å»º"ç¦…é“" app åº”ç”¨&lt;/li&gt;
&lt;li&gt;æŒä¹…åŒ–"ç¦…é“"åº”ç”¨å’Œæ•°æ®åº“æ•°æ®.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å°†"ç¦…é“"åº”ç”¨é€šè¿‡åŸŸåå‘å¸ƒåˆ°ä¼ä¸šå†…ç½‘.&lt;ol&gt;
&lt;li&gt;åˆ›å»º"ç¦…é“" æœåŠ¡(service)&lt;/li&gt;
&lt;li&gt;åˆ›å»º"ç¦…é“" è·¯ç”±(route)&lt;/li&gt;
&lt;li&gt;æ·»åŠ DNSè®°å½•.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_5"&gt;å…·ä½“æ­¥éª¤&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;1-1 Dockerfile æ„å»ºé•œåƒå¹¶å¯¼å‡º&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;æˆ‘æ˜¯åœ¨æˆ‘çš„äº‘ä¸»æœºä¸Šæ„å»ºçš„. &lt;/p&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥é€‰æ‹©äº‘ä¸»æœº, åŸå› æœ‰2:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ‰ç½‘, æœ‰Dockeré•œåƒä¸‹è½½åŠ é€Ÿ;&lt;/li&gt;
&lt;li&gt;å·²å®‰è£… Docker ç»„ä»¶å’ŒæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»º &lt;code&gt;Dockerfile&lt;/code&gt; (å¯ä»¥ç›´æ¥é€šè¿‡&lt;a href="http://dl.cnezsoft.com/zentao/docker/docker_zentao.zip"&gt;å®˜ç½‘ä¸‹è½½è¿æ¥&lt;/a&gt;ä¸‹è½½),&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; ubuntu:16.04&lt;/span&gt;
&lt;span class="k"&gt;MAINTAINER&lt;/span&gt;&lt;span class="s"&gt; yidong &amp;lt;yidong@cnezsoft.com&amp;gt;&lt;/span&gt;

&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get install -y apache2 mariadb-server php php-curl php-gd php-ldap php-mbstring php-mcrypt php-mysql php-xml php-zip php-cli php-json curl unzip libapache2-mod-php locales

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;en_US.UTF8&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;123456&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;LANG=\&amp;quot;en_US.UTF-8\&amp;quot;\nLANGUAGE=\&amp;quot;en_US:en\&amp;quot;&amp;quot;&lt;/span&gt; &amp;gt; /etc/default/locale &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; locale-gen en_US.UTF-8

&lt;span class="k"&gt;RUN&lt;/span&gt; mkdir -p /app/zentaopms
&lt;span class="k"&gt;COPY&lt;/span&gt; docker-entrypoint.sh /app
&lt;span class="k"&gt;RUN&lt;/span&gt; &lt;span class="nv"&gt;random&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date +%s&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; curl http://cdn.zentaopm.com/latest/zentao.zip?rand&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$random&lt;/span&gt; -o /var/www/zentao.zip
&lt;span class="k"&gt;RUN&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; /var/www/ &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; unzip -q zentao.zip &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm zentao.zip
&lt;span class="k"&gt;RUN&lt;/span&gt; a2enmod rewrite

&lt;span class="k"&gt;RUN&lt;/span&gt; rm -rf /etc/apache2/sites-enabled/000-default.conf /var/lib/mysql/*
&lt;span class="k"&gt;RUN&lt;/span&gt; sed -i &lt;span class="s1"&gt;&amp;#39;1i ServerName 127.0.0.1&amp;#39;&lt;/span&gt; /etc/apache2/apache2.conf
&lt;span class="k"&gt;COPY&lt;/span&gt; config/apache.conf /etc/apache2/sites-enabled/000-default.conf
&lt;span class="k"&gt;COPY&lt;/span&gt; config/ioncube_loader_lin_7.0.so /usr/lib/php/20151012/ioncube_loader_lin_7.0.so
&lt;span class="k"&gt;COPY&lt;/span&gt; config/00-ioncube.ini /etc/php/7.0/apache2/conf.d/
&lt;span class="k"&gt;COPY&lt;/span&gt; config/00-ioncube.ini /etc/php/7.0/cli/conf.d/

&lt;span class="k"&gt;VOLUME&lt;/span&gt;&lt;span class="s"&gt; /app/zentaopms /var/lib/mysql&lt;/span&gt;
&lt;span class="k"&gt;ENTRYPOINT&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/app/docker-entrypoint.sh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;æ­¤æ—¶, è¯¥é¡¹ç›®ç›®å½•åŒ…å«ä»¥ä¸‹å†…å®¹:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ tree docker_zentao
docker_zentao
&lt;span class="p"&gt;|&lt;/span&gt;-- config
&lt;span class="p"&gt;|&lt;/span&gt;   &lt;span class="p"&gt;|&lt;/span&gt;-- &lt;span class="m"&gt;00&lt;/span&gt;-ioncube.ini
&lt;span class="p"&gt;|&lt;/span&gt;   &lt;span class="p"&gt;|&lt;/span&gt;-- apache.conf
&lt;span class="p"&gt;|&lt;/span&gt;   &lt;span class="sb"&gt;`&lt;/span&gt;-- ioncube_loader_lin_7.0.so
&lt;span class="p"&gt;|&lt;/span&gt;-- docker-entrypoint.sh
&lt;span class="p"&gt;|&lt;/span&gt;-- Dockerfile
&lt;span class="p"&gt;|&lt;/span&gt;-- docker_zentao.tar.gz
&lt;span class="sb"&gt;`&lt;/span&gt;-- README.md

&lt;span class="m"&gt;1&lt;/span&gt; directory, &lt;span class="m"&gt;7&lt;/span&gt; files
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;Dockerfile&lt;/code&gt; æ„å»ºdocker é•œåƒ:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; docker_zentao
docker build -t zentao .
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;(å¯é€‰) å¯ä»¥è¿è¡Œä¸€ä¸‹ä»¥æµ‹è¯•æ„å»ºçš„é•œåƒæ˜¯å¦å¯ä»¥æ­£å¸¸è¿è¡Œ:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run --name zentao-test -p &lt;span class="m"&gt;8000&lt;/span&gt;:80 -e &lt;span class="nv"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;123456&lt;/span&gt; -d zentao  &lt;span class="c1"&gt;# åå°è¿è¡Œè¯¥dockerå®¹å™¨&lt;/span&gt;
docker ps  &lt;span class="c1"&gt;# æŸ¥çœ‹å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ, æœ‰æ— crash&lt;/span&gt;
docker stop zentao-test  &lt;span class="c1"&gt;# æµ‹è¯•å®Œæ¯•, åœæ­¢è¯¥å®¹å™¨&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="5"&gt;
&lt;li&gt;å°†é•œåƒå¯¼å‡ºä¸ºtaråŒ….&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker save -o docker_zentao.tar zentao
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;1-2 ä¸Šä¼ å¹¶å¯¼å…¥docker é•œåƒ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦é€šè¿‡taråŒ…å¯¼å…¥é•œåƒ?&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¼ä¸šçš„OpenShiftæµ‹è¯•ç¯å¢ƒä¸é€šå¤–ç½‘, ä½†æ˜¯æœ‰ä¸ªæµ‹è¯•å†…ç½‘çš„é•œåƒä»“åº“.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠé•œåƒtaråŒ…, ä¸Šä¼ åˆ°å¯ä»¥è¿æ¥åˆ°OpenShiftä¼ä¸šæµ‹è¯•ç¯å¢ƒçš„ä»»æ„èŠ‚ç‚¹(æœ¬ä¾‹å­é€šè¿‡sftpä¸Šä¼ )&lt;/li&gt;
&lt;li&gt;å¯¼å…¥åˆ°ä¼ä¸šæµ‹è¯•ç¯å¢ƒçš„é•œåƒä»“åº“:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker load -i docker_zentao.tar
docker push txocp-registry.example.com/ewhisper/zentao
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2-1 åˆ›å»º"ç¦…é“" - &lt;strong&gt;zentao&lt;/strong&gt; é¡¹ç›®&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜1:&lt;/p&gt;
&lt;p&gt;"é¡¹ç›®"(project) æ˜¯OpenShiftä¸­çš„æ¦‚å¿µ, projectå¯ä»¥ç†è§£ä¸ºå¯¹åº”K8Sçš„&lt;code&gt;namespace&lt;/code&gt;. é€šè¿‡è¿™ä¸ªå®ç°äº†å¤šç§Ÿæˆ·çš„éš”ç¦».&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ¯å¯åŠ¨ä¸€ä¸ªæ–°é¡¹ç›®, å°±åº”è¯¥åœ¨OpenShiftä¸Šåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„é¡¹ç›®.&lt;/p&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜2:&lt;/p&gt;
&lt;p&gt;(å¯é€‰) æŒ‡å®šè¯¥é¡¹ç›®åªèƒ½è¢«è°ƒåº¦åˆ°ç‰¹å®šä¸»æœºä¸Š;&lt;/p&gt;
&lt;p&gt;ç”±äºæ˜¯æµ‹è¯•ç¯å¢ƒ, ä¸ºäº†æ–¹ä¾¿é…ç½®, ä¼šé€šè¿‡&lt;code&gt;HostPath&lt;/code&gt; (å°±æ˜¯æŠŠæ–‡ä»¶æŒä¹…åŒ–åˆ°æœ¬æœºçš„æœ¬åœ°ç£ç›˜)æ¥å®ç°æŒä¹…åŒ–. é‚£ä¹ˆå°±è¦ä¿è¯"ç¦…é“"(zentao)è¿™ä¸ªé¡¹ç›®çš„å®¹å™¨éƒ½è¦è°ƒåº¦åˆ°ä¸€å°æŒ‡å®šçš„node(èŠ‚ç‚¹)æœåŠ¡å™¨. æ‰€ä»¥è¦é€šè¿‡ä¸‹æ–‡çš„&lt;code&gt;node-selector&lt;/code&gt;æ¥å®ç°è¯¥åŠŸèƒ½.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc adm new-project zentao &lt;span class="se"&gt;\&lt;/span&gt;
    --node-selector&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;kubernetes.io/hostname=txocp.node02.example.com&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨ä¸Šè¾¹çš„å‘½ä»¤ä¸­, &lt;code&gt;oc adm new-project zentao&lt;/code&gt; å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® - zentao.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--node-selector&lt;/code&gt; å°±æ˜¯é€šè¿‡&lt;code&gt;node-selector&lt;/code&gt; åè¾¹çš„æ¡ä»¶æ¥æŒ‡å®šè¯¥é¡¹ç›®å¦‚ä½•è°ƒåº¦.(åº”ç”¨åœºæ™¯æ˜¯: è°ƒåº¦åˆ°é«˜IOèŠ‚ç‚¹, æˆ–è€…è°ƒåº¦åˆ°ä¸Šæµ·åŒºåŸŸ...)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;kubernetes.io/hostname=txocp.node02.example.com&lt;/code&gt; å‰è¾¹çš„&lt;code&gt;xxxhostname&lt;/code&gt;æ˜¯æ¡ä»¶, å³æ ¹æ®hostname è°ƒåº¦, åè¾¹çš„æ˜¯åˆ¤å®š. æ€»çš„æ¥è¯´, å³è¯¥é¡¹ç›®è¦è¢«è°ƒåº¦åˆ°:hostnameä¸º&lt;code&gt;txocp.node02.example.com&lt;/code&gt;çš„èŠ‚ç‚¹. (è¯¥èŠ‚ç‚¹è‚¯å®šåªæœ‰ä¸€ä¸ª). &lt;/p&gt;
&lt;h5&gt;2-1-1 åˆ›å»ºOpenShift useroot æœåŠ¡è´¦æˆ·&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥åˆ›å»ºOpenShift æœåŠ¡è´¦æˆ·, æ˜¯å› ä¸º OpenShift ä½œä¸ºä¼ä¸šçº§å®¹å™¨å¹³å°, è¿›è¡Œäº†å®‰å…¨åŠ å›º,  é»˜è®¤ä¸å…è®¸å®¹å™¨ä»¥&lt;strong&gt;root&lt;/strong&gt; ç”¨æˆ·å¯åŠ¨å’Œè¿è¡Œ. æ‰€ä»¥è¦é€šè¿‡åˆ›å»ºä¸€ä¸ªæœåŠ¡è´¦æˆ· &lt;code&gt;useroot&lt;/code&gt;, ä¸ºæ­¤è´¦æˆ·æ·»åŠ "å…è®¸å®¹å™¨ä»¥rootå¯åŠ¨å’Œè¿è¡Œçš„"çš„æƒé™, å¹¶åº”ç”¨åˆ°"zentao" é¡¹ç›®. ä»¥æ­¤æ¥ä½¿å¾—å®¹å™¨å¯ä»¥æ­£å¸¸å¯åŠ¨.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨zentaoé¡¹ç›®ä¸­, åˆ›å»º æœåŠ¡è´¦æˆ·(serviceaccount) - useroot&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc create serviceaccount useroot
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;ä½¿ç”¨OpenShifté›†ç¾¤ç®¡ç†å‘˜ç”¨æˆ·, ä¸º&lt;code&gt;useroot&lt;/code&gt;èµ‹äºˆ&lt;code&gt;anyuid&lt;/code&gt;çš„æƒé™:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc adm policy add-scc-to-user anyuid -z useroot
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;(å¯é€‰) å¦‚æœå·²ç»å¯åŠ¨è¿‡åº”ç”¨, åˆ™é€šè¿‡&lt;code&gt;oc patch&lt;/code&gt;æ¥æ›´æ–°åº”ç”¨çš„dc (éƒ¨ç½²é…ç½®)å†…å®¹:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc patch dc/zentao --patch &lt;span class="s1"&gt;&amp;#39;{&amp;quot;spec&amp;quot;:{&amp;quot;template&amp;quot;:{&amp;quot;spec&amp;quot;:{&amp;quot;serviceAccountName&amp;quot;: &amp;quot;useroot&amp;quot;}}}&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;æ­¤å, å®¹å™¨å†…å°±å¯ä»¥é€šè¿‡rootè¿è¡Œ.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;2-2 åˆ›å»º"ç¦…é“" - zentao åº”ç”¨&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;strong&gt;é¡¹ç›®&lt;/strong&gt; ä¸­, å¯ä»¥åŒ…æ‹¬å¤šä¸ªåº”ç”¨, æ¯”å¦‚: ç¦…é“web server, ç¦…é“app server, ç¦…é“ç¼“å­˜æœåŠ¡å™¨, ç¦…é“æ•°æ®åº“...&lt;/p&gt;
&lt;p&gt;æœ¬æ¬¡ä¸ºæµ‹è¯•ç¯å¢ƒ, ç¦…é“çš„æ‰€æœ‰ç»„ä»¶ç»Ÿç»Ÿæ‰“è¿›ä¸€ä¸ªdockeré•œåƒé‡Œäº†, æ‰€ä»¥å°±åªæœ‰ä¸€ä¸ªåº”ç”¨ - zentao. é‡Œè¾¹å…¶å®å°±åŒ…æ‹¬äº†ç¦…é“çš„: web server, app serverå’Œdb.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc new-app --name&lt;span class="o"&gt;=&lt;/span&gt;zentao &lt;span class="se"&gt;\&lt;/span&gt;
--docker-image&lt;span class="o"&gt;=&lt;/span&gt;txocp-registry.example.com/ewhisper/zentao &lt;span class="se"&gt;\&lt;/span&gt;
-e &lt;span class="nv"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;123456&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--insecure-registry&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸Šè¾¹çš„å‘½ä»¤, é€šè¿‡&lt;code&gt;oc new-app&lt;/code&gt;æ¥åˆ›å»ºæ–°åº”ç”¨. é€šè¿‡&lt;code&gt;--docker-image&lt;/code&gt;æ¥æŒ‡å®šé•œåƒçš„åœ°å€, é€šè¿‡&lt;code&gt;--e xxx&lt;/code&gt; æ¥æŒ‡å®šç¯å¢ƒå˜é‡.&lt;/p&gt;
&lt;p&gt;ç”±äºæµ‹è¯•ç¯å¢ƒçš„registryæ²¡æœ‰é…ç½®https, æ‰€ä»¥è¦æ·»åŠ &lt;code&gt;--insecure-registy=true&lt;/code&gt;, å¦åˆ™é»˜è®¤æ˜¯é€šè¿‡httpsè®¿é—®, ä¼šæ‰¾ä¸åˆ°é•œåƒ.&lt;/p&gt;
&lt;p&gt;è¿è¡Œå‘½ä»¤å, OpenShiftä¼šé»˜è®¤åˆ›å»º:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;deployment configuration (dc, éƒ¨ç½²é…ç½®) - zentao &lt;/li&gt;
&lt;li&gt;build configuration (bc, æ„å»ºé…ç½®)&lt;/li&gt;
&lt;li&gt;pod(å®¹å™¨)&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡&lt;code&gt;oc get&lt;/code&gt; åè¾¹è·Ÿ &lt;code&gt;dc&lt;/code&gt;  &lt;code&gt;bc&lt;/code&gt;   &lt;code&gt;pod&lt;/code&gt;ç­‰æ¥è·å–åº”ç”¨çš„åˆ›å»ºå’Œéƒ¨ç½²çŠ¶æ€.&lt;/p&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;oc status&lt;/code&gt; æˆ–è€…&lt;code&gt;oc logs&lt;/code&gt;æ¥æŸ¥çœ‹ç›¸å…³äº‹ä»¶å’Œæ—¥å¿—.&lt;/p&gt;
&lt;p&gt;è‡³æ­¤, åº”ç”¨å·²ç»éƒ¨ç½²å¥½äº†, ä½†æ˜¯ç›®å‰è¿˜å­˜åœ¨2ä¸ªé—®é¢˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;"ç¦…é“"çš„åº”ç”¨å’Œæ•°æ®åº“æ•°æ®æ˜¯ä¸´æ—¶æ€§çš„, è¿˜æ²¡æœ‰è¿›è¡ŒæŒä¹…åŒ–;&lt;/li&gt;
&lt;li&gt;"ç¦…é“"åªèƒ½é€šè¿‡dockerå†…éƒ¨è®¿é—®, ç”¨æˆ·æ— æ³•è®¿é—®.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åç»­æ¥ä¸€ä¸€è§£å†³è¿™2ä¸ªé—®é¢˜. é¦–å…ˆè§£å†³æ•°æ®æ²¡æœ‰æŒä¹…åŒ–çš„é—®é¢˜.&lt;/p&gt;
&lt;h4&gt;2-3 æŒä¹…åŒ–åº”ç”¨å’Œæ•°æ®åº“æ•°æ®&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;OpenShift æ˜¯ä¸€ä¸ªå®¹å™¨ç¼–æ’è°ƒåº¦ç³»ç»Ÿ, ç†è®ºä¸Šæ¥è¯´ä¸€ä¸ªpodåœ¨å“ªå„¿æˆ‘ä»¬å®Œå…¨ä¸çŸ¥é“, æ‰€ä»¥OpenShiftæ¨èçš„æŒä¹…åŒ–æ–¹æ¡ˆæ˜¯é€šè¿‡PVå’ŒPVCæ¥å®ç°çš„.&lt;/p&gt;
&lt;p&gt;PVçš„å…·ä½“å®ç°å¯ä»¥æ˜¯: NFSä¹‹ç±»çš„å…¬æœ‰å­˜å‚¨, è€Œä¸åº”è¯¥æ˜¯æœ¬åœ°è·¯å¾„. (OpenShifté»˜è®¤ä¸å…è®¸æœ¬åœ°è·¯å¾„(å³: hostPath)å®ç°æ–¹å¼)&lt;/p&gt;
&lt;p&gt;æœ¬ä¾‹ä¸­, ä¸ºäº†é¿å…ä¸€åˆ‡ä¸å¿…è¦çš„èµ„æºç”³è¯·æµç¨‹(å½“å‰OpenShiftæµ‹è¯•ç¯å¢ƒæ²¡æœ‰ç°æˆçš„nfsè¿™ç±»å…¬æœ‰å­˜å‚¨), æ‰€ä»¥å°±ç›´æ¥ç”¨æœ¬åœ°è·¯å¾„æ¥å®ç°æŒä¹…åŒ–. ä½†è¿˜æ˜¯è¦å¼ºè°ƒ, è¿™ä¸æ˜¯æœ€ä½³å®è·µ, ä¸æ¨èè¿™ä¹ˆåš. &lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”±äºOpenShiftä¸å…è®¸æœ¬åœ°è·¯å¾„æŒä¹…åŒ–, æ‰€ä»¥é¦–å…ˆè¦æ›´æ”¹é…ç½®ä½¿å…¶å…è®¸. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªåä¸º&lt;code&gt;hostpath&lt;/code&gt;çš„SCC (SCCå¯ä»¥ç®€å•çš„ç†è§£ä¸ºå®‰å…¨é™åˆ¶ç­–ç•¥). å…ˆåˆ›å»ºä¸€ä¸ª&lt;code&gt;scc-hostpath.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;SecurityContextConstraints&lt;/span&gt;
&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hostpath&lt;/span&gt;
&lt;span class="nt"&gt;allowPrivilegedContainer&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="nt"&gt;runAsUser&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;RunAsAny&lt;/span&gt;
&lt;span class="nt"&gt;seLinuxContext&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;RunAsAny&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;é€šè¿‡yaml åˆ›å»ºSCC:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc create -f scc-hostpath.yaml
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;æŠŠ&lt;code&gt;allowHostDirVolumePlugin&lt;/code&gt; å‚æ•°é…ç»™&lt;code&gt;hostpath&lt;/code&gt; :&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc patch scc hostpath -p &lt;span class="s1"&gt;&amp;#39;{&amp;quot;allowHostDirVolumePlugin&amp;quot;: true}&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;æŠŠ&lt;code&gt;hostpath&lt;/code&gt;è¿™ä¸ªSCCèµ‹æƒç»™æ‰€æœ‰ç”¨æˆ·: (&lt;code&gt;system:authenticated&lt;/code&gt; å°±æ˜¯æ‰€æœ‰ç”¨æˆ·)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc adm policy add-scc-to-group hostpath system:authenticated
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è‡³æ­¤, æ‰€æœ‰ç”¨æˆ·å°±éƒ½å¯ä»¥æŒ‚è½½&lt;code&gt;hostPath&lt;/code&gt; å·äº†.&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥, å°±æ˜¯è¦é…ç½®æŒä¹…åŒ–äº†:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å¯¹åº”çš„nodeèŠ‚ç‚¹, åˆ›å»ºå¯¹åº”çš„æŒä¹…åŒ–ç›®å½•, å¦‚:&lt;code&gt;/data/mysql&lt;/code&gt; å’Œ&lt;code&gt;/data/zentaopms&lt;/code&gt; (ç¦…é“ é•œåƒ, åŒ…å«äº†2ä¸ªéœ€è¦æŒä¹…åŒ–çš„ç›®å½•, åˆ†åˆ«ä¸º: &lt;code&gt;/var/lib/mysql&lt;/code&gt; å’Œ&lt;code&gt;/app/zentaopms&lt;/code&gt;, åˆ†åˆ«æŒä¹…åŒ–åˆ°å‰è¾¹çš„2ä¸ªç›®å½•)&lt;/li&gt;
&lt;li&gt;ç¼–è¾‘åˆ›å»º zentao appæ—¶è‡ªåŠ¨ç”Ÿæˆçš„&lt;code&gt;dc&lt;/code&gt; é…ç½®, &lt;code&gt;oc edit dc zentao&lt;/code&gt;, ä¿®æ”¹å®Œæˆåå¦‚ä¸‹:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apps.openshift.io/v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DeploymentConfig&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;annotations&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;openshift.io/generated-by&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;OpenShiftNewApp&lt;/span&gt;
  &lt;span class="nt"&gt;creationTimestamp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2019-05-16T10:24:25Z&amp;#39;&lt;/span&gt;
  &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;app&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
  &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
  &lt;span class="nt"&gt;resourceVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;12345678&amp;#39;&lt;/span&gt;
  &lt;span class="nt"&gt;selfLink&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/apis/apps.openshift.io/v1/namespaces/zentao/deploymentconfigs/zentao&lt;/span&gt;
  &lt;span class="nt"&gt;uid&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;c7xxxxxd-77c4-11e9-xxxx-faxxxxxxxfa&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;replicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
  &lt;span class="nt"&gt;revisionHistoryLimit&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt;
  &lt;span class="nt"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;app&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
    &lt;span class="nt"&gt;deploymentconfig&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
  &lt;span class="nt"&gt;strategy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;activeDeadlineSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;21600&lt;/span&gt;
    &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
    &lt;span class="nt"&gt;rollingParams&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;intervalSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
      &lt;span class="nt"&gt;maxSurge&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;25%&lt;/span&gt;
      &lt;span class="nt"&gt;maxUnavailable&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;25%&lt;/span&gt;
      &lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;600&lt;/span&gt;
      &lt;span class="nt"&gt;updatePeriodSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
    &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Rolling&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;annotations&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;openshift.io/generated-by&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;OpenShiftNewApp&lt;/span&gt;
      &lt;span class="nt"&gt;creationTimestamp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;null&lt;/span&gt;
      &lt;span class="nt"&gt;labels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;app&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
        &lt;span class="nt"&gt;deploymentconfig&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
    &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;
              &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;123456&lt;/span&gt;
          &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;&amp;gt;-&lt;/span&gt;
            &lt;span class="no"&gt;txocp-registry.example.com/ewhisper/zentao@sha256:......&lt;/span&gt;
          &lt;span class="nt"&gt;imagePullPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Always&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
          &lt;span class="nt"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
          &lt;span class="nt"&gt;terminationMessagePath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/dev/termination-log&lt;/span&gt;
          &lt;span class="nt"&gt;terminationMessagePolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;File&lt;/span&gt;
          &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/app/zentaopms&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-1&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/lib/mysql&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-2&lt;/span&gt;
      &lt;span class="nt"&gt;dnsPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ClusterFirst&lt;/span&gt;
      &lt;span class="nt"&gt;restartPolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Always&lt;/span&gt;
      &lt;span class="nt"&gt;schedulerName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;default-scheduler&lt;/span&gt;
      &lt;span class="nt"&gt;securityContext&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
      &lt;span class="nt"&gt;serviceAccount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;useroot&lt;/span&gt;
      &lt;span class="nt"&gt;serviceAccountName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;useroot&lt;/span&gt;
      &lt;span class="nt"&gt;terminationGracePeriodSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;30&lt;/span&gt;
      &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hostPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/cuikaidong/zentao/zentaopms&lt;/span&gt;
            &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-1&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hostPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/cuikaidong/zentao/mysql&lt;/span&gt;
            &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-2&lt;/span&gt;
  &lt;span class="nt"&gt;test&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;false&lt;/span&gt;
  &lt;span class="nt"&gt;triggers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ConfigChange&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;imageChangeParams&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;automatic&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
        &lt;span class="nt"&gt;containerNames&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
        &lt;span class="nt"&gt;from&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ImageStreamTag&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;zentao:latest&amp;#39;&lt;/span&gt;
          &lt;span class="nt"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao&lt;/span&gt;
        &lt;span class="nt"&gt;lastTriggeredImage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;&amp;gt;-&lt;/span&gt;
          &lt;span class="no"&gt;txocp-registry.example.com/ewhisper/zentao@sha256:......&lt;/span&gt;
      &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ImageChange&lt;/span&gt;
&lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;availableReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
  &lt;span class="nt"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;lastTransitionTime&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2019-05-16T10:26:16Z&amp;#39;&lt;/span&gt;
      &lt;span class="nt"&gt;lastUpdateTime&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2019-05-16T10:26:16Z&amp;#39;&lt;/span&gt;
      &lt;span class="nt"&gt;message&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Deployment config has minimum availability.&lt;/span&gt;
      &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;True&amp;#39;&lt;/span&gt;
      &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Available&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;lastTransitionTime&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2019-05-16T11:54:24Z&amp;#39;&lt;/span&gt;
      &lt;span class="nt"&gt;lastUpdateTime&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2019-05-16T11:54:26Z&amp;#39;&lt;/span&gt;
      &lt;span class="nt"&gt;message&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;replication controller &amp;quot;zentao-5&amp;quot; successfully rolled out&lt;/span&gt;
      &lt;span class="nt"&gt;reason&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;NewReplicationControllerAvailable&lt;/span&gt;
      &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;True&amp;#39;&lt;/span&gt;
      &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Progressing&lt;/span&gt;
  &lt;span class="nt"&gt;details&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;causes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ConfigChange&lt;/span&gt;
    &lt;span class="nt"&gt;message&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;config change&lt;/span&gt;
  &lt;span class="nt"&gt;latestVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;5&lt;/span&gt;
  &lt;span class="nt"&gt;observedGeneration&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;6&lt;/span&gt;
  &lt;span class="nt"&gt;readyReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
  &lt;span class="nt"&gt;replicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
  &lt;span class="nt"&gt;unavailableReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;0&lt;/span&gt;
  &lt;span class="nt"&gt;updatedReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸è¦è¢«è¿™ä¸ªé…ç½®æ–‡ä»¶å“åˆ°, å…¶å®è¿™äº›éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„. å…³é”®ä¿¡æ¯æ˜¯å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;          &lt;span class="nt"&gt;volumeMounts&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/app/zentaopms&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-1&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;mountPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/lib/mysql&lt;/span&gt;
              &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;â–³ å³2ä¸ªå®¹å™¨å†…çš„éœ€è¦æŒ‚è½½çš„è·¯å¾„, åˆ†åˆ«è¢«è‡ªåŠ¨å‘½åä¸º: &lt;code&gt;zentao-volume-1&lt;/code&gt;å’Œ &lt;code&gt;zentao-volume-2&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;å¯¹åº”çš„å¤–éƒ¨æŒ‚è½½, åŸå§‹æƒ…å†µæ˜¯&lt;code&gt;EmptyDir&lt;/code&gt; (å³æ²¡æœ‰æŒ‚è½½), å®¹å™¨é‡å¯äº†æ•°æ®å°±æ²¡äº†. å…·ä½“å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;emptyDir&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-1&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;emptyDir&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¿®æ”¹åå¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hostPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/cuikaidong/zentao/zentaopms&lt;/span&gt;
            &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-1&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;hostPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/var/cuikaidong/zentao/mysql&lt;/span&gt;
            &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
          &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;zentao-volume-2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¹‹å, podä¼šè‡ªåŠ¨è¿›è¡Œé‡å¯, æŠŠå¯¹åº”çš„æ•°æ®é€šè¿‡&lt;code&gt;hostPath&lt;/code&gt; æŒ‚è½½åˆ°æœ¬åœ°ç›®å½•æ¥å®ç°æŒä¹…åŒ–.&lt;/p&gt;
&lt;h4&gt;3-1 åˆ›å»º"ç¦…é“" æœåŠ¡(service)&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡&lt;/strong&gt;(Service) æ˜¯OpenShiftæˆ–K8S çš„ä¸“æœ‰æ¦‚å¿µ, ç®€å•ç†è§£å°±æ˜¯æŠŠpodå†…çš„æŒ‡å®šæ¥å£æš´éœ²ç»™OpenShiftæˆ–K8Sé›†ç¾¤å†…éƒ¨ä½¿ç”¨çš„ä¸€ç§æ–¹æ³•. (æ¯”å¦‚æŠŠ: mysqlå®¹å™¨å†…çš„3306ç«¯å£æš´éœ²åˆ°OpenShift SDNç½‘ç»œçš„ 172.X.X.X:3306).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc expose dc zentao --port&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æŠŠ zentao åº”ç”¨çš„httpæœåŠ¡ç«¯å£80 æš´éœ²ç»™OpenShifté›†ç¾¤å†…éƒ¨. (ä¼šåˆ›å»ºä¸€ä¸ªå« zentao çš„ svc)&lt;/p&gt;
&lt;h4&gt;3-2 åˆ›å»º"ç¦…é“" è·¯ç”±(route)&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è·¯ç”±&lt;/strong&gt; (route)æ˜¯OpenShiftçš„ä¸“æœ‰æ¦‚å¿µ, ç±»ä¼¼äºK8Sçš„Ingress, ä½œç”¨éƒ½æ˜¯æŠŠæœåŠ¡æš´éœ²ç»™OpenShiftä¹‹å¤–çš„ç½‘ç»œ, ä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡åŸŸåæˆ–å…¶ä»–æ–¹å¼è®¿é—®åˆ°è¯¥åº”ç”¨. (å¦‚: é€šè¿‡&lt;code&gt;zentao.apps.example.com&lt;/code&gt; è®¿é—®åˆ° "ç¦…é“" é¡¹ç›®ç®¡ç†å·¥å…·é¦–é¡µ)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc expose svc zentao --hostname&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;zentao.apps.example.com&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é€šè¿‡ä¸Šè¾¹çš„å‘½ä»¤, å°±åˆ›å»ºäº†ä¸€æ¡è·¯ç”±, å®ç°äº†é€šè¿‡&lt;code&gt;zentao.apps.example.com&lt;/code&gt; è®¿é—®åˆ° "ç¦…é“" é¡¹ç›®ç®¡ç†å·¥å…·é¦–é¡µ. (å¦‚æœä¸åŠ &lt;code&gt;--hostname&lt;/code&gt;, é»˜è®¤çš„hostnameå‰ç¼€ä¸º&lt;code&gt;appname-projectname&lt;/code&gt;, å³"zentao-zentao")&lt;/p&gt;
&lt;h4&gt;3-3 æ·»åŠ DNSè®°å½•&lt;/h4&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬ä¼ä¸šçš„OpenShift æµ‹è¯•ç¯å¢ƒDNS çš„å®¢è§‚æƒ…å†µ. æ— æ³•å®ç°æ³›è§£æ, æ‰€ä»¥è¿˜éœ€è¦è¯·ç›¸å…³ä¸“ä¸šç»„æ‰‹åŠ¨æ·»åŠ DNSè®°å½•. åŠå…¬ç”µè„‘æ·»åŠ DNSæµ‹è¯•åŸŸç­‰æ“ä½œ. &lt;/p&gt;
&lt;p&gt;åšå®Œè¿™äº›æ“ä½œå, æ‰èƒ½é€šè¿‡åŸŸåè®¿é—®åˆ°ç¦…é“ç³»ç»Ÿ.&lt;/p&gt;
&lt;p&gt;è‡³æ­¤, æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åŸŸåè®¿é—® "ç¦…é“" é¡µé¢â€‹, â€‹è€Œâ€‹æˆ‘ä»¬â€‹ä½¿ç”¨â€‹çš„â€‹æ•°æ®â€‹ä¹Ÿä¼šâ€‹ä¿ç•™åœ¨â€‹æŒ‡å®šâ€‹çš„â€‹nodeâ€‹èŠ‚ç‚¹â€‹ä¸Š.â€‹ &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç¦…é“é¦–é¡µ" src="./images/zentao_openshift.png"&gt;&lt;/p&gt;
&lt;h2 id="_6"&gt;æ€»ç»“&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ•´ä½“ä½¿ç”¨ä¸‹æ¥, éƒ¨åˆ†åœ°æ–¹è¿˜å­˜åœ¨ä½¿ç”¨ä¸ç•…çš„æƒ…å†µ, å¯ä»¥ç»§ç»­ä¼˜åŒ–æå‡ä½¿ç”¨ä½“éªŒ, å¤§æ¦‚æ€»ç»“ä¸€ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…éƒ¨é•œåƒä»“åº“é•œåƒèµ„æºå¤ªåŒ®ä¹. å¯¼è‡´æ„å»ºé•œåƒä¸å¤ªæ–¹ä¾¿. åç»­å†…éƒ¨çš„é•œåƒä»“åº“å¯ä»¥ä»docker hub, çº¢å¸½å®˜æ–¹å®šæœŸæ‹‰å–è¾ƒä¸ºæµè¡Œçš„é•œåƒ.&lt;/li&gt;
&lt;li&gt;åœ¨OpenShiftä¸Š, å¤šæŒ‚è½½ä¸€ä¸ªæˆ–å¤šä¸ªå…¬æœ‰å­˜å‚¨(å¦‚NFS, NAS, å¯¹è±¡å­˜å‚¨ç­‰), æ–¹ä¾¿è¿›è¡Œæ•°æ®æŒä¹…åŒ–&lt;ul&gt;
&lt;li&gt;è·Ÿè¿›ä¸€æ­¥, å¸Œæœ›OpenShiftå¯ä»¥ç›´æ¥è°ƒç”¨ä¸‹ä¸€å±‚æ•°æ®å­˜å‚¨çš„ç›¸å…³æ¥å£, å®ç°è‡ªåŠ¨ç”³è¯·&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åº”ç”¨é€šè¿‡åŸŸåå‘å¸ƒå‡ºæ¥, è¿˜éœ€è¦ç»è¿‡åŸŸæ§æˆ–F5æˆ–ä¸ªäººç”µè„‘è¿›è¡Œè¿›ä¸€æ­¥é…ç½®æ‰èƒ½ç”Ÿæ•ˆ. åç»­å¯ä»¥è€ƒè™‘:&lt;ul&gt;
&lt;li&gt;é…ç½®æŸäºŒçº§åŸŸåçš„æ³›è§£æ, å®ç°ç›¸å…³åŸŸåçš„è‡ªåŠ¨å‘å¸ƒ. &lt;/li&gt;
&lt;li&gt;æ›´è¿›ä¸€æ­¥, å¯ä»¥è€ƒè™‘OpenShiftç›´æ¥å’ŒF5æ·±åº¦æ•´åˆ, å°†F5ä½œä¸ºå…¶routerä½¿ç”¨. (å½“å‰æ˜¯: F5 -&amp;gt; HAProxy(router) )&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;https://www.zentao.net&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Mon, 20 May 2019 00:04:46 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-20:/deploy-app-with-openshift-in-enterprise-env.html</guid><category>openshift</category><category>docker</category></item><item><title>å®¹å™¨è‡ªåŠ¨ä¼¸ç¼©</title><link>https://www.EWhisper.cn/openshift-pod-autoscaling.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è§ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#horizontal-pod-autoscalers"&gt;ä½¿ç”¨Horizontal Pod Autoscalersçš„è¦æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ”¯æŒçš„æŒ‡æ ‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;è‡ªåŠ¨ç¼©æ”¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu"&gt;æ ¹æ®CPUåˆ©ç”¨ç‡è‡ªåŠ¨æ‰©å±•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æ ¹æ®å†…å­˜åˆ©ç”¨ç‡è‡ªåŠ¨ç¼©æ”¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#horizontal-pod-autoscaler"&gt;æŸ¥çœ‹Horizontal Pod Autoscaler&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#horizontal-pod-autoscaler-status-conditions"&gt;æŸ¥çœ‹Horizontal Pod Autoscaler Status Conditions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ¦‚è§ˆ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img alt="" src="./images/Matrix-agent-Smith-clones.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ç”±&lt;code&gt;HorizontalPodAutoscaler&lt;/code&gt;å¯¹è±¡å®šä¹‰çš„æ¨ªå‘podè‡ªåŠ¨ä¼¸ç¼©å™¨(autoscaler)æŒ‡å®šç³»ç»Ÿåº”å¦‚ä½•æ ¹æ®ä»å±äºè¯¥å¤åˆ¶æ§åˆ¶å™¨(replication controller)æˆ–éƒ¨ç½²é…ç½®(deployment configuration)çš„podæ”¶é›†çš„åº¦é‡æ ‡å‡†(metrics)è‡ªåŠ¨å¢åŠ æˆ–å‡å°‘å¤åˆ¶æ§åˆ¶å™¨æˆ–éƒ¨ç½²é…ç½®çš„è§„æ¨¡ã€‚&lt;/p&gt;
&lt;h2 id="horizontal-pod-autoscalers"&gt;ä½¿ç”¨Horizontal Pod Autoscalersçš„è¦æ±‚&lt;a class="headerlink" href="#horizontal-pod-autoscalers" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¦ä½¿ç”¨æ¨ªå‘podè‡ªåŠ¨ä¼¸ç¼©å™¨(horizontal pod autoscalers)ï¼Œæ‚¨éœ€è¦å®‰è£…OpenShift Container Platformåº¦é‡æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ ansible-playbook &lt;span class="se"&gt;\&lt;/span&gt;
/usr/share/ansible/openshift-ansible/playbooks/metrics-server/config.yml &lt;span class="se"&gt;\&lt;/span&gt;
-e &lt;span class="nv"&gt;openshift_metrics_server_install&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯æœåŠ¡å™¨æ˜¯å¦å·²æ­£ç¡®å®‰è£…ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc adm top node
$ oc adm top pod
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æœ‰å…³è¿™äº›å‘½ä»¤çš„å…¶ä»–ä¿¡æ¯ï¼Œè¯·å‚é˜… &lt;a href="https://docs.openshift.com/container-platform/3.11/admin_guide/manage_nodes.html#viewing-nodes"&gt;æŸ¥çœ‹Nodes&lt;/a&gt;å’Œ &lt;a href="https://docs.openshift.com/container-platform/3.11/admin_guide/managing_pods.html#viewing-pods"&gt;æŸ¥çœ‹Pods&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ”¯æŒçš„æŒ‡æ ‡&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Horizontal pod autoscalersæ”¯æŒä»¥ä¸‹åº¦é‡æ ‡å‡†ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;æŒ‡æ ‡&lt;/th&gt;
&lt;th align="left"&gt;æè¿°&lt;/th&gt;
&lt;th align="left"&gt;APIç‰ˆæœ¬&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;CPUåˆ©ç”¨ç‡&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://docs.openshift.com/container-platform/3.11/dev_guide/compute_resources.html#dev-cpu-requests"&gt;è¯·æ±‚çš„CPUçš„&lt;/a&gt;ç™¾åˆ†æ¯”&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;autoscaling/v1&lt;/code&gt;ï¼Œ &lt;code&gt;autoscaling/v2beta1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;å†…å­˜åˆ©ç”¨ç‡&lt;/td&gt;
&lt;td align="left"&gt;è¯·æ±‚çš„å†…å­˜ç™¾åˆ†æ¯”&lt;/td&gt;
&lt;td align="left"&gt;&lt;code&gt;autoscaling/v2beta1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="_3"&gt;è‡ªåŠ¨ç¼©æ”¾&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ‚¨å¯ä»¥ä½¿ç”¨&lt;code&gt;oc autoscale&lt;/code&gt;å‘½ä»¤åˆ›å»ºhorizontal pod autoscalerï¼Œå¹¶æŒ‡å®šè¦è¿è¡Œçš„pod çš„æœ€å°å’Œæœ€å¤§æ•°é‡ï¼Œä»¥åŠpodåº”æŒ‡å‘çš„ &lt;a href="https://docs.openshift.com/container-platform/3.11/dev_guide/pod_autoscaling.html#creating-a-hpa"&gt;CPUåˆ©ç”¨ç‡&lt;/a&gt;æˆ–&lt;a href="https://docs.openshift.com/container-platform/3.11/dev_guide/pod_autoscaling.html#pod-autoscaling-memory"&gt;å†…å­˜åˆ©ç”¨ç‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºhorizontal pod autoscaleråï¼Œå®ƒå¼€å§‹å°è¯•æŸ¥è¯¢Heapsterä»¥è·å–podä¸Šçš„æŒ‡æ ‡ã€‚åœ¨Heapsterè·å¾—åˆå§‹æŒ‡æ ‡ä¹‹å‰å¯èƒ½éœ€è¦ä¸€åˆ°ä¸¤åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Heapsterä¸­æä¾›åº¦é‡æ ‡å‡†åï¼Œhorizontal pod autoscalerå°†è®¡ç®—å½“å‰åº¦é‡æ ‡å‡†åˆ©ç”¨ç‡ä¸æ‰€éœ€åº¦é‡æ ‡å‡†åˆ©ç”¨ç‡çš„æ¯”ç‡ï¼Œå¹¶ç›¸åº”åœ°å‘ä¸Šæˆ–å‘ä¸‹æ‰©å±•ã€‚ç¼©æ”¾å°†å®šæœŸå‘ç”Ÿï¼Œä½†åœ¨æŒ‡æ ‡è¿›å…¥Heapsterä¹‹å‰å¯èƒ½éœ€è¦ä¸€åˆ°ä¸¤åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¤åˆ¶æ§åˆ¶å™¨(replication controller)ï¼Œæ­¤æ‰©å±•ç›´æ¥å¯¹åº”äºå¤åˆ¶æ§åˆ¶å™¨çš„å‰¯æœ¬ã€‚å¯¹äºéƒ¨ç½²é…ç½®(deployment configuration)ï¼Œæ­¤æ‰©å±•ç›´æ¥å¯¹åº”äºéƒ¨ç½²é…ç½®çš„å‰¯æœ¬è®¡æ•°ã€‚è¯·æ³¨æ„ï¼Œè‡ªåŠ¨ç¼©æ”¾ä»…é€‚ç”¨äº&lt;code&gt;Complete&lt;/code&gt;é˜¶æ®µä¸­çš„æœ€æ–°éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;OpenShift Container Platformè‡ªåŠ¨å¯¹èµ„æºè¿›è¡Œæ ¸ç®—ï¼Œå¹¶é˜²æ­¢åœ¨èµ„æºæ¿€å¢æœŸé—´ï¼ˆä¾‹å¦‚å¯åŠ¨æœŸé—´ï¼‰è¿›è¡Œä¸å¿…è¦çš„è‡ªåŠ¨æ‰©å±•ã€‚åœ¨å‘ä¸Šæ‰©å±•æ—¶ï¼Œ&lt;code&gt;unready&lt;/code&gt;çŠ¶æ€ä¸­çš„podçš„CPUä½¿ç”¨ç‡ä¸º&lt;code&gt;0 CPU&lt;/code&gt;ï¼Œå¹¶ä¸”autoscaleråœ¨å‘ä¸‹ä¼¸ç¼©æ—¶ä¼šå¿½ç•¥è¿™äº›podã€‚æ— æ³•è·å–åˆ°æŒ‡æ ‡çš„podåœ¨å‘ä¸Šä¼¸ç¼©æ—¶CPUä½¿ç”¨ç‡ä¸º0%ï¼Œå‘ä¸‹ä¼¸ç¼©æ—¶CPUä½¿ç”¨ç‡ä¸º100%ã€‚è¿™æ ·å¯ä»¥åœ¨HPAå†³ç­–æœŸé—´å®ç°æ›´é«˜çš„ç¨³å®šæ€§ã€‚è¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ‚¨å¿…é¡»é…ç½® &lt;a href="https://docs.openshift.com/container-platform/3.11/dev_guide/application_health.html#dev-guide-application-health"&gt;readiness checks&lt;/a&gt; ä»¥ç¡®å®šæ˜¯å¦å¯ä»¥ä½¿ç”¨æ–°å®¹å™¨ã€‚&lt;/p&gt;
&lt;h2 id="cpu"&gt;æ ¹æ®CPUåˆ©ç”¨ç‡è‡ªåŠ¨æ‰©å±•&lt;a class="headerlink" href="#cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;oc autoscale&lt;/code&gt;å‘½ä»¤å¹¶æŒ‡å®šåœ¨ä»»ä½•ç»™å®šæ—¶é—´è‡³å°‘è¦è¿è¡Œçš„æœ€å¤§podæ•°ã€‚æ‚¨å¯ä»¥é€‰æ‹©æŒ‡å®špodçš„æœ€å°æ•°é‡ä»¥åŠpodåº”è¯¥å®šä½çš„å¹³å‡CPUåˆ©ç”¨ç‡ï¼Œå¦åˆ™å°†ä»OpenShift Container PlatformæœåŠ¡å™¨è·å¾—è¿™äº›é»˜è®¤å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc autoscale dc/frontend --min &lt;span class="m"&gt;1&lt;/span&gt; --max &lt;span class="m"&gt;10&lt;/span&gt; --cpu-percent&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;
deploymentconfig &lt;span class="s2"&gt;&amp;quot;frontend&amp;quot;&lt;/span&gt; autoscaled
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹åœ¨ä½¿ç”¨&lt;code&gt;autoscaling/v1&lt;/code&gt;ç‰ˆæœ¬çš„horizontal pod autoscaleræ—¶ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰ä»¥ä¸‹å®šä¹‰çš„horizontal pod autoscalerï¼š&lt;/p&gt;
&lt;p&gt;ä¾‹1. Horizontal Pod Autoscaler å¯¹è±¡å®šä¹‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;autoscaling/v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;HorizontalPodAutoscaler&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;frontend&lt;/span&gt; 
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;scaleTargetRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DeploymentConfig&lt;/span&gt; 
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;frontend&lt;/span&gt; 
    &lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apps/v1&lt;/span&gt; 
    &lt;span class="nt"&gt;subresource&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;scale&lt;/span&gt;
  &lt;span class="nt"&gt;minReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt; 
  &lt;span class="nt"&gt;maxReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt; 
  &lt;span class="nt"&gt;cpuUtilization&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;targetCPUUtilizationPercentage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;80&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;metadata.name&lt;/td&gt;
&lt;td&gt;è¿™ä¸ªhorizontal pod autoscaler å¯¹è±¡çš„åå­—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kind&lt;/td&gt;
&lt;td&gt;è¦ä¼¸ç¼©çš„å¯¹è±¡ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaleTargetRef.name&lt;/td&gt;
&lt;td&gt;è¦ä¼¸ç¼©çš„å¯¹è±¡çš„åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaleTargetRef.apiVersion&lt;/td&gt;
&lt;td&gt;è¦æ‰©å±•çš„å¯¹è±¡çš„APIç‰ˆæœ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;minReplicas&lt;/td&gt;
&lt;td&gt;å‘ä¸‹ä¼¸ç¼©æ—¶çš„æœ€å°å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maxReplicas&lt;/td&gt;
&lt;td&gt;å‘ä¸Šæ‰©å±•æ—¶çš„æœ€å¤§å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;targetCPUUtilizationPercentage&lt;/td&gt;
&lt;td&gt;ç†æƒ³æƒ…å†µä¸‹æ¯ä¸ªpodåº”ä½¿ç”¨çš„è¯·æ±‚CPUçš„ç™¾åˆ†æ¯”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æˆ–è€…ï¼Œåœ¨&lt;code&gt;oc autoscale&lt;/code&gt;ä½¿ç”¨horizontal pod autoscalerçš„&lt;code&gt;v2beta1&lt;/code&gt;ç‰ˆæœ¬æ—¶ï¼Œè¯¥å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰ä»¥ä¸‹å®šä¹‰çš„horizontal pod autoscaler:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;autoscaling/v2beta1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;HorizontalPodAutoscaler&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hpa-resource-metrics-cpu&lt;/span&gt; 
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;scaleTargetRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apps/v1&lt;/span&gt; 
    &lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ReplicationController&lt;/span&gt; 
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hello-hpa-cpu&lt;/span&gt; 
  &lt;span class="nt"&gt;minReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt; 
  &lt;span class="nt"&gt;maxReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt; 
  &lt;span class="nt"&gt;metrics&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Resource&lt;/span&gt;
    &lt;span class="nt"&gt;resource&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;cpu&lt;/span&gt;
      &lt;span class="nt"&gt;targetAverageUtilization&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;50&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;metadata.name&lt;/td&gt;
&lt;td&gt;è¿™ä¸ªhorizontal pod autoscaler å¯¹è±¡çš„åå­—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaleTargetRef.apiVersion&lt;/td&gt;
&lt;td&gt;è¦æ‰©å±•çš„å¯¹è±¡çš„APIç‰ˆæœ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kind&lt;/td&gt;
&lt;td&gt;è¦æ‰©å±•çš„å¯¹è±¡ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaleTargetRef.name&lt;/td&gt;
&lt;td&gt;è¦ç¼©æ”¾çš„å¯¹è±¡çš„åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;minReplicas&lt;/td&gt;
&lt;td&gt;å‘ä¸‹ä¼¸ç¼©æ—¶çš„æœ€å°å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maxReplicas&lt;/td&gt;
&lt;td&gt;å‘ä¸Šæ‰©å±•æ—¶çš„æœ€å¤§å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;targetAverageUtilization&lt;/td&gt;
&lt;td&gt;æ¯ä¸ªpodåº”ä½¿ç”¨çš„è¯·æ±‚CPUçš„å¹³å‡ç™¾åˆ†æ¯”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="_4"&gt;æ ¹æ®å†…å­˜åˆ©ç”¨ç‡è‡ªåŠ¨ç¼©æ”¾&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸åŸºäºCPUçš„è‡ªåŠ¨ç¼©æ”¾ä¸åŒï¼ŒåŸºäºå†…å­˜çš„è‡ªåŠ¨ç¼©æ”¾éœ€è¦ä½¿ç”¨YAMLè€Œä¸æ˜¯ä½¿ç”¨&lt;code&gt;oc autoscale&lt;/code&gt;å‘½ä»¤æ¥æŒ‡å®šè‡ªåŠ¨ç¼©æ”¾å™¨ã€‚ï¼ˆå¯é€‰ï¼‰æ‚¨å¯ä»¥æŒ‡å®špodçš„æœ€å°æ•°é‡ä»¥åŠpodåº”è¯¥å®šä½çš„å¹³å‡å†…å­˜åˆ©ç”¨ç‡ï¼Œå¦åˆ™å°†ä»OpenShift Container PlatformæœåŠ¡å™¨è·å¾—è¿™äº›é»˜è®¤å€¼ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºå†…å­˜çš„è‡ªåŠ¨æ‰©å±•ä»…é€‚ç”¨&lt;code&gt;v2beta1&lt;/code&gt;çš„è‡ªåŠ¨æ‰©å±•API çš„ç‰ˆæœ¬ã€‚é€šè¿‡å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°ç¾¤é›†çš„&lt;code&gt;master-config.yaml&lt;/code&gt;æ–‡ä»¶æ¥å¯ç”¨åŸºäºå†…å­˜çš„è‡ªåŠ¨ç¼©æ”¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nn"&gt;...&lt;/span&gt;
&lt;span class="nt"&gt;apiServerArguments&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;runtime-config&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apis/autoscaling/v2beta1=true&lt;/span&gt;
&lt;span class="nn"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;å°†ä»¥ä¸‹å†…å®¹æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚&lt;code&gt;hpa.yaml&lt;/code&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;autoscaling/v2beta1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;HorizontalPodAutoscaler&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hpa-resource-metrics-memory&lt;/span&gt; 
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;scaleTargetRef&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apps/v1&lt;/span&gt; 
    &lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ReplicationController&lt;/span&gt; 
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;hello-hpa-memory&lt;/span&gt; 
  &lt;span class="nt"&gt;minReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;1&lt;/span&gt; 
  &lt;span class="nt"&gt;maxReplicas&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;10&lt;/span&gt; 
  &lt;span class="nt"&gt;metrics&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Resource&lt;/span&gt;
    &lt;span class="nt"&gt;resource&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;memory&lt;/span&gt;
      &lt;span class="nt"&gt;targetAverageUtilization&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;50&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;metadata.name&lt;/td&gt;
&lt;td&gt;è¿™ä¸ªhorizontal pod autoscaler å¯¹è±¡çš„åå­—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaleTargetRef.apiVersion&lt;/td&gt;
&lt;td&gt;è¦æ‰©å±•çš„å¯¹è±¡çš„APIç‰ˆæœ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kind&lt;/td&gt;
&lt;td&gt;è¦æ‰©å±•çš„å¯¹è±¡ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaleTargetRef.name&lt;/td&gt;
&lt;td&gt;è¦ç¼©æ”¾çš„å¯¹è±¡çš„åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;minReplicas&lt;/td&gt;
&lt;td&gt;å‘ä¸‹ç¼©å°æ—¶çš„æœ€å°å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maxReplicas&lt;/td&gt;
&lt;td&gt;å‘ä¸Šæ‰©å±•æ—¶çš„æœ€å¤§å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;targetAverageUtilization&lt;/td&gt;
&lt;td&gt;æ¯ä¸ªpodåº”ä½¿ç”¨çš„è¯·æ±‚å†…å­˜çš„å¹³å‡ç™¾åˆ†æ¯”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start="3"&gt;
&lt;li&gt;ç„¶åï¼Œä»ä¸Šé¢çš„æ–‡ä»¶åˆ›å»ºè‡ªåŠ¨ç¼©æ”¾å™¨ï¼š&lt;code&gt;$ oc create -f hpa.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;æ³¨æ„:&lt;/p&gt;
&lt;p&gt;è¦ä½¿åŸºäºå†…å­˜çš„è‡ªåŠ¨ç¼©æ”¾å·¥ä½œï¼Œå†…å­˜ä½¿ç”¨é‡å¿…é¡»ä¸å‰¯æœ¬è®¡æ•°æˆæ¯”ä¾‹åœ°å¢åŠ å’Œå‡å°‘ã€‚ä¸€èˆ¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰¯æœ¬è®¡æ•°çš„å¢åŠ å¿…ç„¶å¯¼è‡´æ¯ä¸ªpodçš„å†…å­˜ï¼ˆå·¥ä½œé›† working setï¼‰ä½¿ç”¨ç‡æ•´ä½“ä¸‹é™ã€‚&lt;/li&gt;
&lt;li&gt;å‰¯æœ¬è®¡æ•°çš„å‡å°‘å¿…ç„¶å¯¼è‡´æ¯ä¸ªpodçš„å†…å­˜ä½¿ç”¨é‡æ•´ä½“å¢åŠ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨OpenShift Webæ§åˆ¶å°æ£€æŸ¥åº”ç”¨ç¨‹åºçš„å†…å­˜è¡Œä¸ºï¼Œå¹¶ç¡®ä¿åœ¨ä½¿ç”¨åŸºäºå†…å­˜çš„è‡ªåŠ¨ç¼©æ”¾ä¹‹å‰ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºæ»¡è¶³è¿™äº›è¦æ±‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="horizontal-pod-autoscaler"&gt;æŸ¥çœ‹Horizontal Pod Autoscaler&lt;a class="headerlink" href="#horizontal-pod-autoscaler" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¦æŸ¥çœ‹Horizontal Pod Autoscalerçš„çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;oc get&lt;/code&gt;å‘½ä»¤å¯ä»¥æŸ¥çœ‹æœ‰å…³CPUåˆ©ç”¨ç‡å’Œå®¹å™¨ limits çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bash
$ oc get hpa/hpa-resource-metrics-cpu
NAME                         REFERENCE                                 TARGET    CURRENT  MINPODS        MAXPODS    AGE
hpa-resource-metrics-cpu     DeploymentConfig/default/frontend/scale   80%       79%      1              10         8d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¾“å‡ºåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç›®æ ‡(Target)&lt;/strong&gt;ã€‚ç”±éƒ¨ç½²é…ç½®æ§åˆ¶(deployment configuration)çš„æ‰€æœ‰podçš„ç›®æ ‡å¹³å‡CPUåˆ©ç”¨ç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Current&lt;/strong&gt;ã€‚ç”±éƒ¨ç½²é…ç½®(deployment configuration)æ§åˆ¶çš„æ‰€æœ‰podçš„å½“å‰CPUåˆ©ç”¨ç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Minpods/Maxpods&lt;/strong&gt;ã€‚autoscalerå¯ä»¥è®¾ç½®çš„æœ€å°å’Œæœ€å¤§å‰¯æœ¬æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;oc describe&lt;/code&gt;å‘½ä»¤è·å–æœ‰å…³Horizontal Pod Autoscalerå¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc describe hpa/hpa-resource-metrics-cpu
Name:                           hpa-resource-metrics-cpu
Namespace:                      default
Labels:                         &amp;lt;none&amp;gt;
CreationTimestamp:              Mon, &lt;span class="m"&gt;26&lt;/span&gt; Oct &lt;span class="m"&gt;2015&lt;/span&gt; &lt;span class="m"&gt;21&lt;/span&gt;:13:47 -0400
Reference:                      DeploymentConfig/default/frontend/scale
Target CPU utilization:         &lt;span class="m"&gt;80&lt;/span&gt;% 
Current CPU utilization:        &lt;span class="m"&gt;79&lt;/span&gt;% 
Min replicas:                   &lt;span class="m"&gt;1&lt;/span&gt; 
Max replicas:                   &lt;span class="m"&gt;4&lt;/span&gt; 
ReplicationController pods:     &lt;span class="m"&gt;1&lt;/span&gt; current / &lt;span class="m"&gt;1&lt;/span&gt; desired
Conditions: 
  Type                  Status  Reason                  Message
  ----                  ------  ------                  -------
  AbleToScale           True    ReadyForNewScale        the last scale &lt;span class="nb"&gt;time&lt;/span&gt; was sufficiently old as to warrant a new scale
  ScalingActive         True    ValidMetricFound        the HPA was able to successfully calculate a replica count from pods metric http_requests
  ScalingLimited        False   DesiredWithinRange      the desired replica count is within the acceptable range
Events:
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Target CPU utilization&lt;/td&gt;
&lt;td&gt;æ¯ä¸ªpodåº”ä½¿ç”¨çš„è¯·æ±‚å†…å­˜çš„å¹³å‡ç™¾åˆ†æ¯”ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Current CPU utilization&lt;/td&gt;
&lt;td&gt;ç”±éƒ¨ç½²é…ç½®(deployment configuration)æ§åˆ¶çš„æ‰€æœ‰podçš„å½“å‰CPUåˆ©ç”¨ç‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Min replicas&lt;/td&gt;
&lt;td&gt;è¦ç¼©å°åˆ°çš„æœ€å°å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Max replicas&lt;/td&gt;
&lt;td&gt;è¦æ‰©å±•åˆ°çš„æœ€å¤§å‰¯æœ¬æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Conditions&lt;/td&gt;
&lt;td&gt;å¦‚æœå¯¹è±¡ä½¿ç”¨&lt;code&gt;v2alpha1&lt;/code&gt;APIï¼Œåˆ™æ˜¾ç¤º&lt;a href="https://docs.openshift.com/container-platform/3.11/dev_guide/pod_autoscaling.html#viewing-a-hpa-status"&gt;status conditions&lt;/a&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="horizontal-pod-autoscaler-status-conditions"&gt;æŸ¥çœ‹Horizontal Pod Autoscaler Status Conditions&lt;a class="headerlink" href="#horizontal-pod-autoscaler-status-conditions" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ‚¨å¯ä»¥ä½¿ç”¨è®¾ç½®çš„çŠ¶æ€æ¡ä»¶(status conditions)æ¥ç¡®å®šHorizontal Pod Autoscaler æ˜¯å¦èƒ½å¤Ÿè¿›è¡Œç¼©æ”¾ä»¥åŠå½“å‰æ˜¯å¦ä»¥ä»»ä½•æ–¹å¼é™åˆ¶å®ƒã€‚&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨æ‰©å±•API &lt;code&gt;v2beta1&lt;/code&gt;çš„ç‰ˆæœ¬æä¾›Horizontal Pod Autoscaler Status Conditionsï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;kubernetesMasterConfig&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;...&lt;/span&gt;
  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apiServerArguments&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;runtime-config&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;apis/autoscaling/v2beta1=true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è®¾ç½®ä»¥ä¸‹çŠ¶æ€æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;AbleToScale&lt;/code&gt; æŒ‡ç¤ºHorizontal Pod Autoscaler æ˜¯å¦èƒ½å¤Ÿè·å–å’Œæ›´æ–° scalesï¼Œä»¥åŠæ˜¯å¦æœ‰ä»»ä½•backoff æ¡ä»¶é˜»æ­¢ç¼©æ”¾ã€‚&lt;ul&gt;
&lt;li&gt;&lt;code&gt;True&lt;/code&gt;è¡¨ç¤ºç¼©æ”¾æ˜¯å…è®¸çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;False&lt;/code&gt;è¡¨ç¤ºå¯¹æŒ‡å®šçš„åŸå› ç¼©æ”¾ä¸å…è®¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ScalingActive&lt;/code&gt; æŒ‡ç¤ºæ˜¯å¦å¯ç”¨Horizontal Pod Autoscaler ï¼ˆç›®æ ‡çš„å‰¯æœ¬è®¡æ•°ä¸ä¸ºé›¶ï¼‰å¹¶ä¸”èƒ½å¤Ÿè®¡ç®—æ‰€éœ€çš„æ¯”ä¾‹ã€‚&lt;ul&gt;
&lt;li&gt;&lt;code&gt;True&lt;/code&gt;çŠ¶æ€è¡¨ç¤ºåº¦é‡å·¥ä½œæ­£å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;False&lt;/code&gt;æ¡ä»¶é€šå¸¸è¡¨æ˜ä¸è·å–æŒ‡æ ‡æ—¶é‡åˆ°é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ScalingLimited&lt;/code&gt; è¡¨ç¤ºä¸å…è®¸è‡ªåŠ¨ç¼©æ”¾ï¼Œå› ä¸ºè¾¾åˆ°äº†æœ€å¤§æˆ–æœ€å°å‰¯æœ¬è®¡æ•°ã€‚&lt;ul&gt;
&lt;li&gt;&lt;code&gt;True&lt;/code&gt;æ¡ä»¶è¡¨æ˜ï¼Œä¸ºäº†è¿›è¡Œç¼©æ”¾ä½ éœ€è¦æé«˜æˆ–é™ä½æœ€å°æˆ–æœ€å¤§å‰¯æœ¬æ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;False&lt;/code&gt;çŠ¶æ€è¡¨æ˜è¯·æ±‚çš„æ¯”ä¾‹æ˜¯å…è®¸çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæ‚¨éœ€è¦æ·»åŠ æˆ–ç¼–è¾‘æ­¤è¡Œï¼Œè¯·é‡æ–°å¯åŠ¨OpenShift Container PlatformæœåŠ¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#master-restart api&lt;/span&gt;
&lt;span class="c1"&gt;#master-restart controllers&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¦æŸ¥çœ‹å½±å“Horizontal Pod Autoscaler çš„æ¡ä»¶ï¼Œè¯·ä½¿ç”¨&lt;code&gt;oc describe hpa&lt;/code&gt;ã€‚æ¡ä»¶å‡ºç°åœ¨&lt;code&gt;status.conditions&lt;/code&gt;å­—æ®µä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ oc describe hpa cm-test
Name:                           cm-test
Namespace:                      prom
Labels:                         &amp;lt;none&amp;gt;
Annotations:                    &amp;lt;none&amp;gt;
CreationTimestamp:              Fri, &lt;span class="m"&gt;16&lt;/span&gt; Jun &lt;span class="m"&gt;2017&lt;/span&gt; &lt;span class="m"&gt;18&lt;/span&gt;:09:22 +0000
Reference:                      ReplicationController/cm-test
Metrics:                        &lt;span class="o"&gt;(&lt;/span&gt; current / target &lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;http_requests&amp;quot;&lt;/span&gt; on pods:      66m / 500m
Min replicas:                   &lt;span class="m"&gt;1&lt;/span&gt;
Max replicas:                   &lt;span class="m"&gt;4&lt;/span&gt;
ReplicationController pods:     &lt;span class="m"&gt;1&lt;/span&gt; current / &lt;span class="m"&gt;1&lt;/span&gt; desired
Conditions: 
  Type                  Status  Reason                  Message
  ----                  ------  ------                  -------
  AbleToScale       True      ReadyForNewScale    the last scale &lt;span class="nb"&gt;time&lt;/span&gt; was sufficiently old as to warrant a new scale
  ScalingActive     True      ValidMetricFound    the HPA was able to successfully calculate a replica count from pods metric http_request
  ScalingLimited    False     DesiredWithinRange  the desired replica count is within the acceptable range
Events:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Horizontal Pod Autoscaler Status Conditions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;AbleToScale&lt;/code&gt;æ¡ä»¶æŒ‡ç¤ºHPAæ˜¯å¦èƒ½å¤Ÿè·å–å’Œæ›´æ–°æ¯”ä¾‹ï¼Œä»¥åŠä»»ä½•ä¸backoffç›¸å…³çš„æ¡ä»¶æ˜¯å¦ä¼šé˜»æ­¢æ‰©å±•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ScalingActive&lt;/code&gt;çŠ¶å†µæŒ‡ç¤ºHPAæ˜¯å¦è¢«å¯ç”¨ï¼ˆä¾‹å¦‚ï¼Œç›®æ ‡çš„å‰¯æœ¬æ•°ä¸ä¸ºé›¶ï¼‰ï¼Œå¹¶èƒ½å¤Ÿè®¡ç®—æ‰€éœ€çš„scalesã€‚&lt;code&gt;False&lt;/code&gt;çŠ¶æ€é€šå¸¸è¡¨ç¤ºè·å–æŒ‡æ ‡çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ScalingLimited&lt;/code&gt;æ¡ä»¶æŒ‡ç¤ºæœŸæœ›scaleç”±Horizontal Pod Autoscalerçš„æœ€å¤§æˆ–æœ€å°ä¸Šé™ã€‚&lt;code&gt;True&lt;/code&gt;çŠ¶æ€ä¸€èˆ¬é¢„ç¤ºç€ä½ å¯èƒ½éœ€è¦åœ¨ä½ çš„æ°´å¹³èšè‡ªåŠ¨é…ç½®å™¨å‡é«˜æˆ–é™ä½çš„æœ€å°æˆ–æœ€å¤§å‰¯æœ¬æ•°é‡çš„é™åˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æ— æ³•æ‰©å±•çš„podçš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Conditions&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="n"&gt;Type&lt;/span&gt;           &lt;span class="n"&gt;Status&lt;/span&gt;    &lt;span class="n"&gt;Reason&lt;/span&gt;            &lt;span class="n"&gt;Message&lt;/span&gt;
  &lt;span class="o"&gt;----&lt;/span&gt;           &lt;span class="o"&gt;------&lt;/span&gt;    &lt;span class="o"&gt;------&lt;/span&gt;            &lt;span class="o"&gt;-------&lt;/span&gt;
  &lt;span class="n"&gt;AbleToScale&lt;/span&gt;    &lt;span class="n"&gt;False&lt;/span&gt;     &lt;span class="n"&gt;FailedGetScale&lt;/span&gt;    &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;HPA&lt;/span&gt; &lt;span class="n"&gt;controller&lt;/span&gt; &lt;span class="n"&gt;was&lt;/span&gt; &lt;span class="n"&gt;unable&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="kd"&gt;get&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;current&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;replicationcontrollers&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;extensions&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;hello-hpa-cpu&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;not&lt;/span&gt; &lt;span class="n"&gt;found&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»¥ä¸‹æ˜¯æ— æ³•è·å–ç¼©æ”¾æ‰€éœ€podçš„æŒ‡æ ‡ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Conditions&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="n"&gt;Type&lt;/span&gt;                  &lt;span class="n"&gt;Status&lt;/span&gt;    &lt;span class="n"&gt;Reason&lt;/span&gt;                    &lt;span class="n"&gt;Message&lt;/span&gt;
  &lt;span class="o"&gt;----&lt;/span&gt;                  &lt;span class="o"&gt;------&lt;/span&gt;    &lt;span class="o"&gt;------&lt;/span&gt;                    &lt;span class="o"&gt;-------&lt;/span&gt;
  &lt;span class="n"&gt;AbleToScale&lt;/span&gt;           &lt;span class="n"&gt;True&lt;/span&gt;     &lt;span class="n"&gt;SucceededGetScale&lt;/span&gt;          &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;HPA&lt;/span&gt; &lt;span class="n"&gt;controller&lt;/span&gt; &lt;span class="n"&gt;was&lt;/span&gt; &lt;span class="n"&gt;able&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="kd"&gt;get&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;current&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;
  &lt;span class="n"&gt;ScalingActive&lt;/span&gt;         &lt;span class="n"&gt;False&lt;/span&gt;    &lt;span class="n"&gt;FailedGetResourceMetric&lt;/span&gt;    &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;HPA&lt;/span&gt; &lt;span class="n"&gt;was&lt;/span&gt; &lt;span class="n"&gt;unable&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;compute&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;replica&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;unable&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="kd"&gt;get&lt;/span&gt; &lt;span class="n"&gt;metrics&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;resource&lt;/span&gt; &lt;span class="n"&gt;cpu&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;no&lt;/span&gt; &lt;span class="n"&gt;metrics&lt;/span&gt; &lt;span class="n"&gt;returned&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;heapster&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»¥ä¸‹æ˜¯è¯·æ±‚çš„è‡ªåŠ¨ç¼©æ”¾å°äºæ‰€éœ€æœ€å°å€¼çš„podç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Conditions&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="n"&gt;Type&lt;/span&gt;              &lt;span class="n"&gt;Status&lt;/span&gt;    &lt;span class="n"&gt;Reason&lt;/span&gt;              &lt;span class="n"&gt;Message&lt;/span&gt;
  &lt;span class="o"&gt;----&lt;/span&gt;              &lt;span class="o"&gt;------&lt;/span&gt;    &lt;span class="o"&gt;------&lt;/span&gt;              &lt;span class="o"&gt;-------&lt;/span&gt;
  &lt;span class="n"&gt;AbleToScale&lt;/span&gt;       &lt;span class="n"&gt;True&lt;/span&gt;      &lt;span class="n"&gt;ReadyForNewScale&lt;/span&gt;    &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;last&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt; &lt;span class="n"&gt;was&lt;/span&gt; &lt;span class="n"&gt;sufficiently&lt;/span&gt; &lt;span class="n"&gt;old&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;warrant&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;
  &lt;span class="n"&gt;ScalingActive&lt;/span&gt;     &lt;span class="n"&gt;True&lt;/span&gt;      &lt;span class="n"&gt;ValidMetricFound&lt;/span&gt;    &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;HPA&lt;/span&gt; &lt;span class="n"&gt;was&lt;/span&gt; &lt;span class="n"&gt;able&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;successfully&lt;/span&gt; &lt;span class="n"&gt;calculate&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;replica&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;pods&lt;/span&gt; &lt;span class="n"&gt;metric&lt;/span&gt; &lt;span class="n"&gt;http_request&lt;/span&gt;
  &lt;span class="n"&gt;ScalingLimited&lt;/span&gt;    &lt;span class="n"&gt;False&lt;/span&gt;     &lt;span class="n"&gt;DesiredWithinRange&lt;/span&gt;  &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;desired&lt;/span&gt; &lt;span class="n"&gt;replica&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;within&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;acceptable&lt;/span&gt; &lt;span class="n"&gt;range&lt;/span&gt;
&lt;span class="n"&gt;Events&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 14 May 2019 22:06:59 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-14:/openshift-pod-autoscaling.html</guid><category>openshift</category><category>containers</category><category>docker</category><category>k8s</category></item><item><title>æˆ‘çš„ä¸ªäººåšå®¢è¿ç§»åˆ°Dockerå•¦</title><link>https://www.EWhisper.cn/ewhisper-blog-moved-to-docker.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ç½‘ç«™æ¶æ„&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ•°æ®æµå‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ç½‘ç«™æ¶æ„&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å®¹å™¨åŒ–ç®€å•æ­¥éª¤&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#nginx"&gt;ç›´æ¥å¯åŠ¨NGINXå®¹å™¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å…¶ä»–å®¹å™¨åŒ–æ–¹å¼&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#dockerfile"&gt;Dockerfile å°è£…é•œåƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#-docker-compose"&gt;ç®€å•å®¹å™¨ç¼–æ’å·¥å…· - docker compose&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æŸ¥çœ‹çŠ¶æ€å’Œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;2019å¹´5æœˆ10æ—¥èµ·, æˆ‘çš„ä¸ªäººåšå®¢ - https://www.EWhisper.cn æ­£å¼è¿è¡Œåœ¨dockeré‡Œè¾¹äº†! &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt; &lt;/p&gt;
&lt;p&gt;æˆ‘æŠŠç›¸å…³çš„æºç , Dockeré•œåƒåˆ†åˆ«ä¸Šä¼ åˆ°äº†GitHubå’ŒDocker Hub. åœ°å€å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GitHub: https://github.com/east4ming/my-tencentyun-nginx&lt;/li&gt;
&lt;li&gt;Docker Hub: https://cloud.docker.com/u/caseycui/repository/docker/caseycui/my-tencentyun-nginx&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="æ¬¢è¿ä¸Š&amp;quot;èˆ¹&amp;quot;" src="./images/illustration-com-container-party.png"&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;ç½‘ç«™æ¶æ„&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;æ•°æ®æµå‘&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘çš„åšå®¢ç½‘ç«™çš„æ¶æ„å…¶å®&lt;strong&gt;éå¸¸éå¸¸&lt;/strong&gt;ç®€å•. è¯´ç™½äº†, å°±æ˜¯&lt;strong&gt;NGINX + é™æ€é¡µé¢&lt;/strong&gt;. (å¯¹çš„, ä½ æ²¡æœ‰çœ‹é”™, æˆ‘çš„ç½‘ç«™æ˜¯ä¸ªå…¨é™æ€ç½‘ç«™, æ²¡æœ‰åŠ¨æ€é¡µé¢). &lt;/p&gt;
&lt;p&gt;ä¹‹å‰çš„æ•°æ®æµå‘å¤§æ¦‚æ˜¯:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ· -&amp;gt; åŸŸå -&amp;gt; DNS -&amp;gt; è…¾è®¯äº‘ä¸»æœºå¤–ç½‘IP -&amp;gt; è…¾è®¯äº‘ä¸»æœºå†…ç½‘IP -&amp;gt; NGINX 80å’Œ443ç«¯å£  (NGINXä½œä¸ºWeb Server, åç«¯æ²¡æœ‰App Serverå’ŒDB)&lt;/p&gt;
&lt;p&gt;ç°åœ¨åŠ äº†ä¸€å±‚Docker, å¤šäº†ä¸€å±‚ ä¸»æœº -&amp;gt; docker sdnçš„è½¬å‘. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ· -&amp;gt; åŸŸå -&amp;gt; DNS -&amp;gt; è…¾è®¯äº‘ä¸»æœºå¤–ç½‘IP -&amp;gt; è…¾è®¯äº‘ä¸»æœºå†…ç½‘IP -&amp;gt; &lt;strong&gt;Docker SDNç«¯å£æ˜ å°„&lt;/strong&gt;(443æŒ‡å‘dockerçš„443, 80ä¹‹ä¸‹é‚£ä¸ªdockerçš„80) -&amp;gt; Dockerçš„NGINXå®¹å™¨çš„ 80å’Œ443ç«¯å£ &lt;/p&gt;
&lt;h3 id="_3"&gt;ç½‘ç«™æ¶æ„&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä»å¤´å¼€å§‹è¯´èµ·å§, æˆ‘çš„åšå®¢æ˜¯ä¸€ä¸ª&lt;strong&gt;é™æ€ç«™ç‚¹&lt;/strong&gt;. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘å†™åšæ–‡æ˜¯å…ˆé€šè¿‡MarkDown å†™.mdæ ¼å¼çš„æ–‡æœ¬.&lt;/li&gt;
&lt;li&gt;ç„¶åé€šè¿‡&lt;strong&gt;é™æ€ç«™ç‚¹ç”Ÿæˆå™¨&lt;/strong&gt;(static site generator) -- &lt;a href="http://www.getpelican.com/"&gt;Pelican&lt;/a&gt; (æˆ‘ç”¨çš„è¿™ä¸ªä¸ç®—æœ€ä¸»æµçš„, ä¸»æµçš„å¦‚: Hexoç­‰)å°†æˆ‘çš„MarkDown æ–‡æœ¬, æ ¹æ®Pelicanä¸­å®šä¹‰çš„ä¸»é¢˜, æ¸²æŸ“ä¸ºä¸€ä¸ªç›¸åº”é£æ ¼HTMLæ–‡ä»¶. &lt;/li&gt;
&lt;li&gt;æ•´ä¸ªç«™ç‚¹, åŒ…æ‹¬ä»¥ä¸‹å†…å®¹éƒ½æ˜¯ä¸€ä¸ªä¸ªçš„HTMLé¡µé¢.&lt;ol&gt;
&lt;li&gt;Indexé¡µé¢&lt;/li&gt;
&lt;li&gt;about  å’Œ contact é¡µé¢&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾ ç±»åˆ«é¡µé¢&lt;/li&gt;
&lt;li&gt;RSS è®¢é˜…é¡µé¢&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ç¯‡åšæ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ•´ä¸ªç½‘ç«™å‘¢, å®é™…ä¸Šå°±æ˜¯:&lt;ol&gt;
&lt;li&gt;HTML(å’ŒCSS JS)&lt;/li&gt;
&lt;li&gt;é™æ€å†…å®¹(å¦‚: å›¾ç‰‡, å›¾ç‰‡ç›®å‰éƒ¨åˆ†åœ¨æœ¬åœ°, éƒ¨åˆ†è°ƒç”¨å›¾åºŠå¤–é“¾å¦‚&lt;a href="https://www.yupoo.com"&gt;åˆæ‹&lt;/a&gt; ä¸ƒç‰› CNDç­‰)&lt;/li&gt;
&lt;li&gt;å…¶ä»–åŠŸèƒ½é€šè¿‡æ’ä»¶(ä¹Ÿæ˜¯JS, å¤–éƒ¨çš„JS)å®ç°, å¦‚:&lt;ol&gt;
&lt;li&gt;è¯„è®ºæ¡† (å›½å†…å¯èƒ½çœ‹ä¸è§, è¢«å±è”½äº†....)&lt;/li&gt;
&lt;li&gt;è½¬å‘æ¡&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Pelican ç”Ÿæˆçš„æ‰€æœ‰çš„é™æ€ç«™ç‚¹å†…å®¹, éƒ½å…¨éƒ¨é€šè¿‡rsyncç­‰å·¥å…·åŒæ­¥åˆ°æˆ‘çš„è…¾è®¯äº‘ä¸»æœºçš„&lt;code&gt;/usr/share/nginx/html&lt;/code&gt; ç›®å½•ä¸‹, å¹¶å¯åŠ¨NGINX, é…ç½®80, 443ç«¯å£ç›‘å¬å¹¶å¤„ç†é™æ€å†…å®¹å°±å¯ä»¥äº†.  &lt;ol&gt;
&lt;li&gt;ä»¥å‰, æˆ‘æ˜¯ç›´æ¥é€šè¿‡&lt;code&gt;systemctl&lt;/code&gt; åœ¨äº‘ä¸»æœºä¸Šå¯åŠ¨çš„NGINX&lt;/li&gt;
&lt;li&gt;ç°åœ¨, æ˜¯é€šè¿‡dockerå¯åŠ¨çš„NGINXé•œåƒ.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_4"&gt;å®¹å™¨åŒ–ç®€å•æ­¥éª¤&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å› ä¸ºæˆ‘è¿™ä¸ªåªæ¶‰åŠNGINXçš„å®¹å™¨åŒ–, è€Œä¸”NGINXæœ‰å®˜æ–¹æä¾›çš„æ ‡å‡†é•œåƒ. æ‰€ä»¥å®¹å™¨åŒ–éå¸¸ç®€å•, æœ€ç®€å•çš„æ–¹å¼, å°±æ˜¯&lt;strong&gt;ç›´æ¥å¯åŠ¨NGINXå®¹å™¨&lt;/strong&gt;, å¦‚ä¸‹:&lt;/p&gt;
&lt;h3 id="nginx"&gt;ç›´æ¥å¯åŠ¨NGINXå®¹å™¨&lt;a class="headerlink" href="#nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…¶å®, ç›´æ¥å¯åŠ¨&lt;strong&gt;NGINX&lt;/strong&gt;å®¹å™¨å°±å¥½äº†, ä½ åªéœ€è¦æŠŠä»¥ä¸‹å†…å®¹æŒ‚è½½å·æˆ–è€…æš´éœ²å‡ºæ¥:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŒ‚è½½å·&lt;ol&gt;
&lt;li&gt;NGINXç›¸å…³é…ç½®(åŒ…æ‹¬: &lt;code&gt;/etc/nginx&lt;/code&gt;ä¸‹é¢çš„nginx.confæ–‡ä»¶, conf.då’Œdefault.dæ–‡ä»¶å¤¹)&lt;/li&gt;
&lt;li&gt;é™æ€ç«™ç‚¹æ–‡ä»¶(pelicanç”Ÿæˆçš„, æ”¾åˆ°&lt;code&gt;/usr/share/nginx/html&lt;/code&gt;çš„æ–‡ä»¶)&lt;/li&gt;
&lt;li&gt;è¯ä¹¦æ–‡ä»¶(å‘äº‘ä¾›åº”å•†æˆ–è¯ä¹¦ä¾›åº”å•†ç”³è¯·åˆ°çš„è¯ä¹¦, æ”¾åˆ°&lt;code&gt;/etc/pki/nginx&lt;/code&gt; æ–‡ä»¶å¤¹)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æš´éœ²ç«¯å£&lt;ol&gt;
&lt;li&gt;80&lt;/li&gt;
&lt;li&gt;443&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‘½ä»¤å¦‚ä¸‹: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo docker run --name my-tencentyun-nginx -d &lt;span class="se"&gt;\&lt;/span&gt;
  -p &lt;span class="m"&gt;80&lt;/span&gt;:80 -p &lt;span class="m"&gt;443&lt;/span&gt;:443 &lt;span class="se"&gt;\&lt;/span&gt;
  -v /etc/nginx/nginx.conf:/etc/nginx/nginx.conf &lt;span class="se"&gt;\&lt;/span&gt;
  -v /etc/nginx/conf.d:/etc/nginx/conf.d &lt;span class="se"&gt;\&lt;/span&gt;
  -v /etc/nginx/default.d:/etc/nginx/default.d &lt;span class="se"&gt;\&lt;/span&gt;
  -v /usr/share/nginx/html:/usr/share/nginx/html &lt;span class="se"&gt;\&lt;/span&gt;
  -v /etc/pki/nginx:/etc/pki/nginx:ro &lt;span class="se"&gt;\&lt;/span&gt;
  nginx
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤å°±ä¸ç»†è¯´äº†, å¾ˆå®¹æ˜“ç†è§£çš„. &lt;code&gt;-p&lt;/code&gt;æ˜¯æš´éœ²ç«¯å£, &lt;code&gt;-v&lt;/code&gt;æ˜¯æŠŠä¸»æœºçš„ç£ç›˜æŒ‚è½½åˆ°å®¹å™¨é‡Œ, &lt;code&gt;-d&lt;/code&gt;æ˜¯åå°è¿è¡Œ.&lt;/p&gt;
&lt;p&gt;å¯åŠ¨å, ä½ çš„NGINX dockerå®¹å™¨å°±ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶å¯åŠ¨è¿è¡Œ, ä½ çš„ç½‘ç«™ä¹Ÿå¯ä»¥æ­£å¼å¯¹å¤–æœåŠ¡å•¦. &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;h2 id="_5"&gt;å…¶ä»–å®¹å™¨åŒ–æ–¹å¼&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è‡ªå·±æœ¬åœ°æˆ–å•æœºç©ç©, ä¸Šè¾¹çš„å®¹å™¨åŒ–æ–¹å¼å®Œå…¨å¤Ÿç”¨äº†. ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰ä»¥ä¸‹éœ€æ±‚:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤šäººåˆä½œ. éœ€è¦å°è£…æˆæ–°çš„é•œåƒ, å°†é•œåƒæä¾›ç»™åˆ«äººä½¿ç”¨.&lt;/li&gt;
&lt;li&gt;æ›´å¥½åœ°ç¼–æ’ä¸ç®¡ç†. ç®¡ç†ä¸€ä¸ªé¡¹ç›®, éœ€è¦å¯åŠ¨å¤šå°‘ä¸ªweb server, å¤šå°‘ä¸ªapp server, å¤šå°‘ä¸ªdb. ç›¸äº’ä¹‹é—´å¦‚ä½•äº¤äº’.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ä¹ˆä¹…éœ€è¦å…¶ä»–çš„å®¹å™¨åŒ–æ–¹å¼.&lt;/p&gt;
&lt;h3 id="dockerfile"&gt;Dockerfile å°è£…é•œåƒ&lt;a class="headerlink" href="#dockerfile" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§å…¶å®æ˜¯å›¢é˜Ÿ, å…¬å¸, æˆ–ç”Ÿäº§ä¸Šæ¨èçš„ä¸€ç§æ–¹å¼. å¼€å‘è´Ÿè´£å†™ä»£ç , ç¼–è¯‘ä»£ç , å†™Dockerfile, æ„å»ºé•œåƒ. å¹¶æŠŠé•œåƒä¸Šä¼ åˆ°å…±æœ‰æˆ–ç§æœ‰çš„é•œåƒä»“åº“. ç„¶åå¦å¤–çš„å›¢é˜Ÿè§’è‰², å¦‚: æµ‹è¯•, è¿ç»´, å†ä»ä»“åº“ä¸­æ‹‰å–é•œåƒå¹¶å¯åŠ¨, æµ‹è¯•, ä¸Šçº¿. &lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿå®ç°äº†dockerçš„æœ€å¤§ä¼˜åŠ¿, ä»–ä»¬çš„slogan: &lt;strong&gt;"build, share and run any application, anywhere"&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;èƒ½åšåˆ°è¿™ä¸€ç‚¹, ä¹Ÿæ˜¯å› ä¸ºOS+è¯­è¨€+ç»„ä»¶+åº”ç”¨åŒ…, æ•´ä¸ªæ‰“åŒ…æˆäº†ä¸€ä¸ªé•œåƒ, å®ç°äº†ç¯å¢ƒçš„ä¸€è‡´æ€§.&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªæœ‰ç‚¹, å› ä¸ºæœ‰Dockerfile, ä¹Ÿæ–¹ä¾¿è¿›è¡Œè¿½æº¯å’Œç†è§£é•œåƒ. (å¦‚æœåªæ˜¯ä¸€ä¸ªé•œåƒçš„è¯, å¾ˆéš¾çŸ¥é“é•œåƒæ˜¯æ€ä¹ˆåšå‡ºæ¥çš„).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºä¸ªé¡¹ç›®, æœ¬åœ°æ–‡ä»¶å¤¹æ˜¯&lt;strong&gt;my-tencentyun-nginx&lt;/strong&gt;, GitHubæ˜¯: https://github.com/east4ming/my-tencentyun-nginx&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†ç›¸å…³æºç å’Œç«™ç‚¹æ–‡ä»¶æ”¾åˆ°è¯¥ç›®å½•ä¸­(é…ç½®æ–‡ä»¶, ç«™ç‚¹æ–‡ä»¶, è¯ä¹¦)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;Â æ³¨æ„: &lt;/p&gt;
&lt;p&gt;è¯ä¹¦keyåŒ…å«é‡è¦çš„ç§å¯†ä¿¡æ¯, åƒä¸‡ä¸è¦ä¸Šä¼ åˆ°å…¬ç½‘ä¸Š!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»º&lt;code&gt;Dockerfile&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ„å»ºé•œåƒ: &lt;code&gt;sudo docker build -t caseycui/my-tencentyun-nginx .&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(å¯é€‰) æ¨é€é•œåƒåˆ°Docker Hub: &lt;code&gt;sudo docker push caseycui/my-tencentyun-nginx&lt;/code&gt; (æˆ‘è¿™è¾¹æ˜¯Docker Hubç›´æ¥oauthè¿æ¥åˆ°Github, æˆ‘çš„å¯¹åº”çš„Githubä»“åº“ä»£ç æœ‰æ›´æ–°, å°±ä¼šè‡ªåŠ¨æ„å»º)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿è¡Œé•œåƒ: &lt;code&gt;sudo docker run --name my-tencentyun-nginx -v /etc/pki/nginx:/etc/pki/nginx:ro -d -p 80:80 -p 443:443 caseycui/my-tencentyun-nginx&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Dockerfile å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;æœ€ç®€å•çš„Dockerfile, å°±æ˜¯åœ¨nginxé•œåƒçš„åŸºç¡€ä¸Š, æŠŠæˆ‘ä»¬è‡ªå·±çš„nginxé…ç½®æ–‡ä»¶å’Œé™æ€ç«™ç‚¹æ–‡ä»¶å¤åˆ¶è¿›å», ç”Ÿæˆä¸€ä¸ªæ–°é•œåƒ.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; nginx:latest&lt;/span&gt;

&lt;span class="k"&gt;COPY&lt;/span&gt; pelican-output /usr/share/nginx/html
&lt;span class="k"&gt;COPY&lt;/span&gt; nginx.conf /etc/nginx/nginx.conf
&lt;span class="k"&gt;COPY&lt;/span&gt; default.d /etc/nginx/default.d
&lt;span class="c"&gt;#COPY conf.d /etc/nginx/conf.d  # è¿™è¾¹æ³¨é‡Šæ‰, æ˜¯å› ä¸ºè¿™ä¸ªç›®å½•é‡Œè¿˜æ²¡æœ‰å†…å®¹&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="-docker-compose"&gt;ç®€å•å®¹å™¨ç¼–æ’å·¥å…· - docker compose&lt;a class="headerlink" href="#-docker-compose" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;docker composeæ˜¯dockerå®˜æ–¹å‡ºå“çš„å®¹å™¨ç¼–æ’å·¥å…·, ç®€å•æ˜“ç”¨. å°è§„æ¨¡ç”¨ç”¨è¿˜æ˜¯æŒºèˆ’æœçš„. å¤§è§„æ¨¡, ä¼ä¸šçº§çš„ç°åœ¨éƒ½æ˜¯ä½¿ç”¨Kubernetes.&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™é‡Œç”¨docker composeå…¶å®æ˜¯æ€é¸¡ç”¨ç‰›åˆ€äº†, æ²¡å•¥å¿…è¦. å®ƒé€‚ç”¨äºå“ªç§åœºæ™¯å‘¢? &lt;/p&gt;
&lt;p&gt;æ¯”å¦‚, æˆ‘ä¸€ä¸ªé¡¹ç›®è¦ä¸Šçº¿, åŒ…æ‹¬: web server, app server, db. é‚£ä¹ˆè¿™æ—¶å€™docker composeå°±å¾ˆåˆé€‚äº†. é€šè¿‡å®ƒæ¥ç¼–æ’è¿™3ç±»å®¹å™¨, ä½¿å®ƒä»¬ç›¸äº’åä½œå’Œäº¤äº’. &lt;/p&gt;
&lt;p&gt;docker-composeæ˜¯é€šè¿‡&lt;code&gt;docker-compose.yaml&lt;/code&gt;æ¥å®šä¹‰è¿™äº›ç¼–æ’å†…å®¹çš„. ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªwebå®¹å™¨, ä¸€ä¸ªrediså®¹å™¨. æŒ‚è½½å“ªäº›å·, æ€ä¹ˆç¼–è¯‘...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;
&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;web&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;build&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;.&lt;/span&gt;
    &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;5000:5000&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;.:/code&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;logvolume01:/var/log&lt;/span&gt;
    &lt;span class="nt"&gt;links&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;redis&lt;/span&gt;
  &lt;span class="nt"&gt;redis&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;redis&lt;/span&gt;
&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;logvolume01&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;åˆ›å»º&lt;code&gt;docker-compose.yaml&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;web&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;nginx&lt;/span&gt;
  &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./nginx.conf:/etc/nginx/nginx.conf&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./default.d:/etc/nginx/default.d&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./conf.d:/etc/nginx/conf.d&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./pelican-output:/usr/share/nginx/html&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;/etc/pki/nginx:/etc/pki/nginx:ro&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;80:80&amp;quot;&lt;/span&gt;
   &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;443:443&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;nginx&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;-g&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;daemon&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;off;&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿è¡Œ: &lt;code&gt;sudo nohup docker-compose up &amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_6"&gt;æŸ¥çœ‹çŠ¶æ€å’Œæ—¥å¿—&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹çŠ¶æ€: &lt;code&gt;sudo docker ps &amp;lt;container name&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹æ—¥å¿—: &lt;code&gt;sudo dockerÂ logsÂ &amp;lt;containerÂ name&amp;gt;&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 10 May 2019 10:32:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-10:/ewhisper-blog-moved-to-docker.html</guid><category>nginx</category><category>github</category><category>docker</category><category>containers</category></item><item><title>ä½¿ç”¨OpenShiftè¿›è¡ŒäºŒè¿›åˆ¶æ„å»º</title><link>https://www.EWhisper.cn/binary-builds-with-openshift.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ä»‹ç»&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ç”¨ä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;é™åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æ•™ç¨‹æ¦‚è¿°&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_5"&gt;æ•™ç¨‹ï¼šæ„å»ºæœ¬åœ°ä»£ç æ›´æ”¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ•™ç¨‹ï¼šæ„å»ºç§æœ‰ä»£ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pipeline"&gt;æ•™ç¨‹ï¼šæ¥è‡ª pipeline çš„äºŒè¿›åˆ¶å·¥ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;ä»‹ç»&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;OpenShift æ¨èå’Œå¸¸ç”¨çš„æ„å»ºæ–¹å¼æ˜¯: ç›´æ¥ä»ä»£ç ä»“åº“(å¦‚GIT æˆ–SVN)ä¸­æ‹‰å–æºç è¿›è¡Œæ„å»º(å³æºç æ„å»º). ä½†æ˜¯è¿™ä¸€ç§æ„å»ºæ–¹å¼å¹¶ä¸èƒ½æ»¡è¶³æ‰€æœ‰çš„éœ€æ±‚, æ‰€ä»¥è¿˜æœ‰ä¸€ç§æ„å»ºæ–¹å¼å°±æ˜¯: äºŒè¿›åˆ¶æ„å»º. äºŒè¿›åˆ¶æ„å»ºé€‚ç”¨äºä»¥ä¸‹2ä¸ªåœºæ™¯:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å‘äººå‘˜æœ¬åœ°å¼€å‘è°ƒè¯•ä»£ç å¹¶æ„å»º;&lt;/li&gt;
&lt;li&gt;OpenShiftå’Œ CI/CDçš„pipelineè¿›è¡Œæ•´åˆ, è·å–ä»å‰è¾¹å¹³å°(å¦‚è‡ªåŠ¨åŒ–å¼€å‘å¹³å°æˆ–æµ‹è¯•å¹³å°)ä¼ è¿‡æ¥çš„å·¥ä»¶(å³äºŒè¿›åˆ¶åŒ…)å¹¶æ„å»ºä¸ºé•œåƒ.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;OpenShiftä¸­çš„äºŒè¿›åˆ¶æ„å»ºåŠŸèƒ½å…è®¸å¼€å‘äººå‘˜å°†æºä»£ç æˆ–å·¥ä»¶ç›´æ¥ä¸Šä¼ åˆ°æ„å»º(build)ï¼Œè€Œä¸æ˜¯ä»Gitå­˜å‚¨åº“URL pulléœ€è¦æ„å»ºçš„æºã€‚é€šè¿‡æºä»£ç ï¼ŒDockeræˆ–è‡ªå®šä¹‰æ„å»ºç­–ç•¥çš„ BuildConfig éƒ½å¯ä»¥ä½œä¸ºäºŒè¿›åˆ¶æ„å»ºå¯åŠ¨ã€‚ä»æœ¬åœ°å·¥ä»¶å¯åŠ¨æ„å»ºæ—¶ï¼Œç°æœ‰æºå¼•ç”¨å°†æ›¿æ¢ä¸ºæ¥è‡ªæœ¬åœ°ç”¨æˆ·è®¡ç®—æœºçš„æºã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨å‡ ç§æ–¹å¼æä¾›æºï¼Œè¿™äº›æ–¹å¼å¯¹åº”äºä½¿ç”¨&lt;code&gt;start-build&lt;/code&gt;å‘½ä»¤æ—¶å¯ç”¨çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»æ–‡ä»¶ï¼ˆ&lt;code&gt;--from-file&lt;/code&gt;ï¼‰ï¼šå½“æ„å»ºçš„æ•´ä¸ªæºåŒ…å«å•ä¸ªæ–‡ä»¶æ—¶å°±æ˜¯è¿™ç§æƒ…å†µã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½æ˜¯ç”¨äºDockeræ„å»ºçš„&lt;code&gt;Dockerfile&lt;/code&gt;ï¼Œç”¨äºJavaåº”ç”¨æ„å»ºçš„&lt;code&gt;pom.xml&lt;/code&gt;ï¼Œæˆ–ç”¨äºRubyæ„å»ºçš„&lt;code&gt;Gemfile&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä»ç›®å½•ï¼ˆ&lt;code&gt;--from-directory&lt;/code&gt;ï¼‰ï¼šå½“æºåœ¨æœ¬åœ°ç›®å½•ä¸­å¹¶ä¸”æœªæäº¤åˆ°Gitå­˜å‚¨åº“æ—¶ä½¿ç”¨æ­¤ç›®å½•ã€‚&lt;code&gt;start-build&lt;/code&gt; å‘½ä»¤å°†åˆ›å»ºç»™å®šç›®å½•çš„å­˜æ¡£ï¼Œå¹¶å°†å…¶ä½œä¸ºæºä¸Šä¼ åˆ°æ„å»ºå™¨(builder)ã€‚&lt;/li&gt;
&lt;li&gt;ä»å­˜æ¡£ï¼ˆ&lt;code&gt;--from-archive&lt;/code&gt;ï¼‰ï¼šå½“å…·æœ‰æºçš„å­˜æ¡£å·²å­˜åœ¨æ—¶ä½¿ç”¨æ­¤é€‰é¡¹ã€‚è¯¥å­˜æ¡£å¯ä»¥æ˜¯&lt;code&gt;tar&lt;/code&gt;ï¼Œ&lt;code&gt;tar.gz&lt;/code&gt;æˆ–&lt;code&gt;zip&lt;/code&gt;æ ¼å¼ã€‚&lt;/li&gt;
&lt;li&gt;ä»Gitå­˜å‚¨åº“ï¼ˆ&lt;code&gt;--from-repo&lt;/code&gt;ï¼‰ï¼šæºæ˜¯å½“å‰ç”¨æˆ·æœ¬åœ°è®¡ç®—æœºä¸Šçš„Gitå­˜å‚¨åº“çš„ä¸€éƒ¨åˆ†ã€‚å½“å‰å­˜å‚¨åº“çš„HEAD commitå°†è¢«å­˜æ¡£å¹¶å‘é€åˆ°OpenShiftè¿›è¡Œæ„å»ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_2"&gt;ç”¨ä¾‹&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;äºŒè¿›åˆ¶æ„å»ºé€‚ç”¨äºæ— æ³•ä»ç°æœ‰Gitå­˜å‚¨åº“ä¸­æå–æºçš„éœ€æ±‚ã€‚ä½¿ç”¨äºŒè¿›åˆ¶æ„å»ºçš„åŸå› åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»ºå’Œæµ‹è¯•æœ¬åœ°ä»£ç çš„å˜æ›´ã€‚å…‹éš†æ¥è‡ªå…¬å…±å­˜å‚¨åº“çš„æºï¼Œå¹¶å°†æœ¬åœ°å˜æ›´ä¸Šä¼ åˆ°OpenShiftè¿›è¡Œæ„å»ºã€‚è€Œæ— éœ€åœ¨ä»»ä½•åœ°æ–¹æäº¤æˆ–æ¨é€æœ¬åœ°æ›´æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;æ„å»ºç§æœ‰ä»£ç ã€‚æ–°æ„å»ºå¯ä»¥ä½œä¸ºäºŒè¿›åˆ¶æ„å»ºä»å¤´å¼€å§‹ã€‚ç„¶åå¯ä»¥å°†æºç›´æ¥ä»æœ¬åœ°å·¥ä½œç«™ä¸Šä¼ åˆ°OpenShiftï¼Œè€Œæ— éœ€å°†å…¶ç­¾å…¥SCMã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…¶ä»–æ¥æºçš„å·¥ä»¶æ„å»ºé•œåƒã€‚é€šè¿‡Jenkins pipelineï¼ŒäºŒè¿›åˆ¶æ„å»ºå¯ä»¥ç”¨äºæ•´åˆä½¿ç”¨Mavenæˆ–Cç¼–è¯‘å™¨ç­‰å·¥å…·æ„å»ºçš„å·¥ä»¶ï¼Œä»¥åŠä½¿ç”¨è¿™äº›æ„å»ºçš„è¿è¡Œæ—¶é•œåƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_3"&gt;é™åˆ¶&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;äºŒè¿›åˆ¶æ„å»ºæ— æ³•é‡å¤ã€‚ç”±äºäºŒè¿›åˆ¶æ„å»ºä¾èµ–äºåœ¨æ„å»ºå¼€å§‹æ—¶ç”¨æˆ·ä¸Šä¼ å·¥ä»¶ï¼Œå› æ­¤OpenShiftæ— æ³•é‡å¤ç›¸åŒçš„æ„å»ºè€Œæ— éœ€ç”¨æˆ·æ¯æ¬¡éƒ½é‡å¤ç›¸åŒçš„ä¸Šè½½ã€‚&lt;/li&gt;
&lt;li&gt;æ— æ³•è‡ªåŠ¨è§¦å‘äºŒè¿›åˆ¶ç”Ÿæˆã€‚å®ƒä»¬åªèƒ½åœ¨ç”¨æˆ·ä¸Šä¼ æ‰€éœ€çš„äºŒè¿›åˆ¶å·¥ä»¶æ—¶æ‰‹åŠ¨å¯åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;ä»¥äºŒè¿›åˆ¶æ„å»ºæ–¹å¼å¯åŠ¨çš„æ„å»ºç‰ˆæœ¬ä¹Ÿå¯èƒ½å…·æœ‰å·²é…ç½®çš„æºURLã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œè§¦å‘å™¨ä¼šæˆåŠŸå¯åŠ¨æ„å»ºï¼Œä½†æºå°†æ¥è‡ªé…ç½®çš„æºURLï¼Œè€Œä¸æ˜¯æ¥è‡ªä¸Šæ¬¡æ„å»ºè¿è¡Œæ—¶ç”¨æˆ·æä¾›çš„æºã€‚(æ¯”å¦‚: ç”¨æˆ·å…ˆä»Gitä»“åº“ä¸‹è½½äº†æºç å¹¶ä¿®æ”¹, ç”¨æœ¬åœ°ä¿®æ”¹åçš„æºç æ‰‹åŠ¨ä¸Šä¼ ã€æ„å»ºï¼Œé‚£ä¹ˆOpenShiftä¼šè·å–åˆ°Gitä»“åº“çš„URL, å¦‚æœé…ç½®äº†è§¦å‘å™¨, ä¸‹æ¬¡æ„å»ºå°±ç›´æ¥é€šè¿‡Git URL pullæºç å¹¶è‡ªåŠ¨æ„å»º, è€Œä¸æ˜¯è‡ªåŠ¨è·å–æœ¬åœ°çš„æºç .)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_4"&gt;æ•™ç¨‹æ¦‚è¿°&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ•™ç¨‹å‡è®¾æ‚¨æœ‰ä¸€ä¸ªå¯ç”¨çš„OpenShifté›†ç¾¤ï¼Œå¹¶ä¸”æ‚¨æœ‰ä¸€ä¸ªå¯ä»¥åˆ›å»ºå·¥ä»¶çš„é¡¹ç›®ã€‚å®ƒè¦æ±‚æ‚¨æ‹¥æœ‰æœ¬åœ°&lt;code&gt;git&lt;/code&gt;å’Œ&lt;code&gt;oc&lt;/code&gt;å®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;h3 id="_5"&gt;æ•™ç¨‹ï¼šæ„å»ºæœ¬åœ°ä»£ç æ›´æ”¹&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºç°æœ‰æºå­˜å‚¨åº“åˆ›å»ºæ–°åº”ç”¨ç¨‹åºå¹¶ä¸ºå…¶åˆ›å»ºè·¯ç”±ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc new-app https://github.com/openshift/ruby-hello-world.git
oc expose svc/ruby-hello-world
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;ç­‰å¾…åˆå§‹æ„å»ºå®Œæˆå¹¶é€šè¿‡routeæ¥æŸ¥çœ‹åº”ç”¨ç¨‹åºçš„é¡µé¢ã€‚ä½ åº”è¯¥å¾—åˆ°ä¸€ä¸ªæ¬¢è¿é¡µé¢ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc get route ruby-hello-world
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;åœ¨æœ¬åœ°å…‹éš†å­˜å‚¨åº“ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/openshift/ruby-hello-world.git
&lt;span class="nb"&gt;cd&lt;/span&gt; ruby-hello-world
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ”¹åº”ç”¨ç¨‹åºçš„è§†å›¾ã€‚ä½¿ç”¨æ‚¨å–œæ¬¢çš„ç¼–è¾‘å™¨ç¼–è¾‘ &lt;code&gt;views/main.rb&lt;/code&gt;ï¼šå°†&lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt;æ ‡ç­¾æ›´æ”¹ä¸º&lt;code&gt;&amp;lt;body style="background-color:blue"&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨æœ¬åœ°ä¿®æ”¹çš„æºå¯åŠ¨æ–°æ„å»ºã€‚åœ¨å­˜å‚¨åº“çš„æœ¬åœ°ç›®å½•ä¸­ï¼Œè¿è¡Œï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc start-build ruby-hello-world --from-dir&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt; --follow
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ„å»ºå®Œæˆå¹¶é‡æ–°éƒ¨ç½²åº”ç”¨ç¨‹åºåï¼ŒæŒ‡å‘åº”ç”¨ç¨‹åºä¸»æœºçš„routeåº”è¯¥ä¼šç”Ÿæˆä¸€ä¸ªè“è‰²èƒŒæ™¯çš„é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;æ‚¨å¯ä»¥ç»§ç»­åœ¨æœ¬åœ°è¿›è¡Œæ›´æ”¹å¹¶ä½¿ç”¨&lt;code&gt;oc start-build --from-dir&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‚¨è¿˜å¯ä»¥åˆ›å»ºä»£ç åˆ†æ”¯ï¼Œåœ¨æœ¬åœ°æäº¤æ›´æ”¹ï¼Œå¹¶ä½¿ç”¨å­˜å‚¨åº“çš„HEADä½œä¸ºæ„å»ºçš„æºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git checkout -b my_branch
git add .
git commit -m &lt;span class="s2"&gt;&amp;quot;My changes&amp;quot;&lt;/span&gt;
oc start-build ruby-hello-world --from-repo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt; --follow
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_6"&gt;æ•™ç¨‹ï¼šæ„å»ºç§æœ‰ä»£ç &lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæœ¬åœ°ç›®å½•æ¥ä¿å­˜æ‚¨çš„ä»£ç ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir myapp
&lt;span class="nb"&gt;cd&lt;/span&gt; myapp
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;åœ¨ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º&lt;code&gt;Dockerfile&lt;/code&gt;çš„æ–‡ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; centos:centos7&lt;/span&gt;
&lt;span class="k"&gt;EXPOSE&lt;/span&gt;&lt;span class="s"&gt; 8080&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; index.html /var/run/web/index.html
&lt;span class="k"&gt;CMD&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; /var/run/web &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; python -m SimpleHTTPServer &lt;span class="m"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª&lt;code&gt;index.html&lt;/code&gt;æ–‡ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;My local app&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Hello World&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;This is my local application&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ–°çš„æ„å»ºï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc new-build --strategy docker --binary --docker-image centos:centos7 --name myapp
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="5"&gt;
&lt;li&gt;ä½¿ç”¨æœ¬åœ°ç›®å½•çš„å†…å®¹å¯åŠ¨äºŒè¿›åˆ¶æ„å»ºï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc start-build myapp --from-dir . --follow
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="6"&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;new-app&lt;/code&gt;éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œç„¶åä¸ºå…¶åˆ›å»ºè·¯ç”±ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc new-app myapp
oc expose svc/myapp
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="7"&gt;
&lt;li&gt;è·å–æŒ‡å‘å¯¹åº”åº”ç”¨ä¸»æœºçš„è·¯ç”±ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc get route myapp
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨æ„å»ºå’Œéƒ¨ç½²ä»£ç ä¹‹åï¼Œæ‚¨å¯ä»¥é€šè¿‡æ›´æ”¹æœ¬åœ°æ–‡ä»¶å¹¶é€šè¿‡&lt;code&gt;oc start-build myapp --from-dir&lt;/code&gt;å†æ¬¡è°ƒç”¨å¯åŠ¨æ–°æ„å»ºæ¥è¿›è¡Œè¿­ä»£ã€‚æ„å»ºå®Œæˆåï¼Œä»£ç å°†è‡ªåŠ¨éƒ¨ç½²ï¼Œæ›´æ–°çš„å†…å®¹å°†åœ¨åˆ·æ–°é¡µé¢æ—¶åæ˜ åœ¨æµè§ˆå™¨ä¸­ã€‚&lt;/p&gt;
&lt;h3 id="pipeline"&gt;æ•™ç¨‹ï¼šæ¥è‡ª pipeline çš„äºŒè¿›åˆ¶å·¥ä»¶&lt;a class="headerlink" href="#pipeline" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;OpenShiftä¸Šçš„Jenkinså…è®¸ä½¿ç”¨å¸¦æœ‰åˆé€‚å·¥å…·çš„slaveé•œåƒæ¥æ„å»ºä»£ç ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨&lt;code&gt;maven&lt;/code&gt; slaveé•œåƒæ¥ä»ä»£ç å­˜å‚¨åº“æ„å»ºWARåŒ…ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æ„å»ºäº†æ­¤å·¥ä»¶ï¼Œæ‚¨éœ€è¦å°†å…¶æäº¤åˆ°åŒ…å«æ­£ç¡®çš„è¿è¡Œæ—¶å·¥ä»¶çš„é•œåƒä»¥è¿è¡Œæ‚¨çš„ä»£ç ã€‚å¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ„å»ºå°†è¿™äº›å·¥ä»¶æ·»åŠ åˆ°è¿è¡Œæ—¶æ˜ åƒã€‚åœ¨ä¸‹é¢çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªJenkins pipelineï¼Œè¯¥pipelineä½¿ç”¨&lt;code&gt;maven&lt;/code&gt; slaveæ„å»ºWARï¼Œç„¶åä½¿ç”¨å¸¦æœ‰&lt;code&gt;Dockerfile&lt;/code&gt;çš„äºŒè¿›åˆ¶æ„å»ºå°†WARæ·»åŠ åˆ° wildfly è¿è¡Œæ—¶æ˜ åƒã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir mavenapp
&lt;span class="nb"&gt;cd&lt;/span&gt; mavenapp
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="2"&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;å°†WARå¤åˆ¶åˆ°wildflyé•œåƒå†…çš„é€‚å½“ä½ç½®ä»¥ä¾›æ‰§è¡Œã€‚å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°åä¸ºçš„æœ¬åœ°æ–‡ä»¶ &lt;code&gt;Dockerfile&lt;/code&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; wildfly:latest&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; ROOT.war /wildfly/standalone/deployments/ROOT.war
&lt;span class="k"&gt;CMD&lt;/span&gt;  &lt;span class="nv"&gt;$STI_SCRIPTS_PATH&lt;/span&gt;/run
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="3"&gt;
&lt;li&gt;ä¸ºè¯¥&lt;code&gt;Dockerfile&lt;/code&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„BuildConfigï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;è¿™å°†è‡ªåŠ¨å¯åŠ¨ä¸€ä¸ªæ„å»º, åˆšå¼€å§‹ä¼šæ„å»ºå¤±è´¥ï¼Œå› ä¸º &lt;code&gt;ROOT.war&lt;/code&gt;å·¥ä»¶å°šä¸å¯ç”¨ã€‚ä¸‹é¢çš„pipelineå°†ä½¿ç”¨äºŒè¿›åˆ¶æ„å»ºå°†è¯¥WARåŒ…ä¼ é€’ç»™æ„å»ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat Dockerfile &lt;span class="p"&gt;|&lt;/span&gt; oc new-build -D - --name mavenapp
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="4"&gt;
&lt;li&gt;åˆ›å»º1ä¸ªä½¿ç”¨Jenkins pipelineçš„BuildConfig, è¿™ä¸ªBuildConfigå°†æ„å»º1ä¸ªWARåŒ…ï¼Œç„¶åä½¿ç”¨è¯¥WARåŒ…å’Œå…ˆå‰åˆ›å»ºçš„&lt;code&gt;Dockerfile&lt;/code&gt;æ¥æ„å»ºé•œåƒã€‚ç›¸åŒçš„æ¨¡å¼å¯ç”¨äºå…¶ä»–å¹³å°ï¼Œå…¶ä¸­äºŒè¿›åˆ¶å·¥ä»¶ç”±ä¸€ç»„å·¥å…·æ„å»ºï¼Œç„¶åä¸æœ€ç»ˆçš„åŒ…å«ä¸åŒè¿è¡Œæ—¶çš„é•œåƒç»„åˆã€‚å°†ä»¥ä¸‹ä»£ç ä¿å­˜åˆ°&lt;code&gt;mavenapp-pipeline.yml&lt;/code&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;BuildConfig&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mavenapp-pipeline&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;strategy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;jenkinsPipelineStrategy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;jenkinsfile&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|-&lt;/span&gt;
        &lt;span class="no"&gt;pipeline {&lt;/span&gt;
          &lt;span class="no"&gt;agent { label &amp;quot;maven&amp;quot; }&lt;/span&gt;
          &lt;span class="no"&gt;stages {&lt;/span&gt;
            &lt;span class="no"&gt;stage(&amp;quot;Clone Source&amp;quot;) {&lt;/span&gt;
              &lt;span class="no"&gt;steps {&lt;/span&gt;
                &lt;span class="no"&gt;checkout([$class: &amp;#39;GitSCM&amp;#39;,&lt;/span&gt;
                            &lt;span class="no"&gt;branches: [[name: &amp;#39;*/master&amp;#39;]],&lt;/span&gt;
                            &lt;span class="no"&gt;extensions: [&lt;/span&gt;
                              &lt;span class="no"&gt;[$class: &amp;#39;RelativeTargetDirectory&amp;#39;, relativeTargetDir: &amp;#39;mavenapp&amp;#39;]&lt;/span&gt;
                            &lt;span class="no"&gt;],&lt;/span&gt;
                            &lt;span class="no"&gt;userRemoteConfigs: [[url: &amp;#39;https://github.com/openshift/openshift-jee-sample.git&amp;#39;]]&lt;/span&gt;
                        &lt;span class="no"&gt;])&lt;/span&gt;
              &lt;span class="no"&gt;}&lt;/span&gt;
            &lt;span class="no"&gt;}&lt;/span&gt;
            &lt;span class="no"&gt;stage(&amp;quot;Build WAR&amp;quot;) {&lt;/span&gt;
              &lt;span class="no"&gt;steps {&lt;/span&gt;
                &lt;span class="no"&gt;dir(&amp;#39;mavenapp&amp;#39;) {&lt;/span&gt;
                  &lt;span class="no"&gt;sh &amp;#39;mvn clean package -Popenshift&amp;#39;&lt;/span&gt;
                &lt;span class="no"&gt;}&lt;/span&gt;
              &lt;span class="no"&gt;}&lt;/span&gt;
            &lt;span class="no"&gt;}&lt;/span&gt;
            &lt;span class="no"&gt;stage(&amp;quot;Build Image&amp;quot;) {&lt;/span&gt;
              &lt;span class="no"&gt;steps {&lt;/span&gt;
                &lt;span class="no"&gt;dir(&amp;#39;mavenapp/target&amp;#39;) {&lt;/span&gt;
                  &lt;span class="no"&gt;sh &amp;#39;oc start-build mavenapp --from-dir . --follow&amp;#39;&lt;/span&gt;
                &lt;span class="no"&gt;}&lt;/span&gt;
              &lt;span class="no"&gt;}&lt;/span&gt;
            &lt;span class="no"&gt;}&lt;/span&gt;
          &lt;span class="no"&gt;}&lt;/span&gt;
        &lt;span class="no"&gt;}&lt;/span&gt;
    &lt;span class="nt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;JenkinsPipeline&lt;/span&gt;
  &lt;span class="nt"&gt;triggers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="5"&gt;
&lt;li&gt;åˆ›å»ºpipeline æ„å»ºã€‚å¦‚æœJenkinsæœªéƒ¨ç½²åˆ°æ‚¨çš„é¡¹ç›®ä¸­ï¼Œåˆ™ä½¿ç”¨ç®¡é“åˆ›å»ºçš„BuildConfigä¼šå…ˆéƒ¨ç½²Jenkinsã€‚åœ¨Jenkinså‡†å¤‡å»ºç«‹æ‚¨çš„ç®¡é“ä¹‹å‰å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ¥å¯åŠ¨ã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;oc rollout status dc/jenkins&lt;/code&gt;æ¥æ£€æŸ¥Jenkinsçš„çŠ¶æ€ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc create -f ./mavenapp-pipeline.yml
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="6"&gt;
&lt;li&gt;ä¸€æ—¦Jenkinså‡†å¤‡å°±ç»ªï¼Œå¯åŠ¨ä¹‹å‰å®šä¹‰çš„ç®¡é“ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc start-build mavenapp-pipeline
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="7"&gt;
&lt;li&gt;ç®¡é“æ„å»ºå®Œæˆåï¼Œä½¿ç”¨&lt;code&gt;new-app&lt;/code&gt;éƒ¨ç½²æ–°åº”ç”¨ç¨‹åºå¹¶å…¬å¼€å…¶routeï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc new-app mavenapp
oc expose svc/mavenapp
&lt;/pre&gt;&lt;/div&gt;


&lt;ol start="8"&gt;
&lt;li&gt;ä½¿ç”¨æµè§ˆå™¨ï¼Œå¯¼èˆªåˆ°åº”ç”¨ç¨‹åºçš„è·¯å¾„ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;oc get route mavenapp
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 08 May 2019 18:41:34 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-08:/binary-builds-with-openshift.html</guid><category>openshift</category><category>docker</category><category>devops</category><category>git</category><category>containers</category></item><item><title>OpenShift å’Œ Kubernetes æœ‰ä»€ä¹ˆåŒºåˆ«?</title><link>https://www.EWhisper.cn/openshift-and-kubernetes-whats-difference.html</link><description>&lt;p&gt;OpenShift 3ä»¥å, æ¶æ„å®Œå…¨åŸºäºK8Sè¿›è¡Œäº†é‡æ„, ä½†æ˜¯åˆæœ‰ä¸€äº›å·®å¼‚. ä»Šå¤©, æˆ‘ä»¬å°±æ·±å…¥ç ”ç©¶ä¸€ä¸‹.&lt;/p&gt;
&lt;h2 id="k8s"&gt;K8S æ˜¯"å†…æ ¸"&lt;a class="headerlink" href="#k8s" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;K8Så¯ä»¥è®¤ä¸ºæ˜¯å½“ä»£åˆ†å¸ƒå¼ç³»ç»Ÿçš„"å†…æ ¸". æˆ‘ä»¬æ„è¯†åˆ°, ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ä½œä¸šè°ƒåº¦ç¨‹åº, è·¨å¤šå°åŠå…¶è¿è¡Œ, èƒ½å¤Ÿåè°ƒæ‰˜ç®¡åœ¨éª‘ä¸Šçš„å·¥ä½œè´Ÿè½½çš„çŠ¶æ€, è‡ªç„¶å°±ä¼šä¿ƒè¿›å†™ä½œ, å°±åƒLinuxå†…æ ¸ä¸ºå•ä¸ªä¸»æœºä¸Šè°ƒåº¦å·¥ä½œè´Ÿè½½æ‰€åšçš„é‚£æ ·. éµå¾ªè¿™ä¸€é€»è¾‘, æˆ‘ä»¬çŸ¥é“ä¸åŒçš„äº§å“ä¼šæ ¹æ®é’ˆå¯¹ç”¨æˆ·çš„ä¸åŒè€Œå·®å¼‚åŒ–åœ°æ‰“é€ .&lt;/p&gt;
&lt;p&gt;åœ¨å¾ˆå¤šæ‰‹æœº, ç”µè„‘, æœåŠ¡å™¨, ç”šè‡³æ˜¯æ ‘è“æ´¾ä¸Š, è¿è¡Œçš„éƒ½æ˜¯ç›¸åŒçš„Linux å†…æ ¸, ä½†æ˜¯é€šè¿‡ä¸åŒçš„ä¸å®šæ¥æ”¯æŒå¤šç§å¤šæ ·çš„ç¡¬ä»¶.&lt;/p&gt;
&lt;p&gt;K8Så’Œå„ç§å„æ ·çš„K8Så‘è¡Œç‰ˆä¹Ÿé€‚ç”¨äºåŒæ ·çš„æ¨¡å‹, é€šè¿‡ä¸åŒç±»å‹çš„è¡¥ä¸, æ¥æ”¯æŒåœ¨K8Sä¸Šé¢çš„ä¸€å±‚. &lt;/p&gt;
&lt;h2 id="openshift"&gt;OpenShift æ˜¯å‘è¡Œç‰ˆ&lt;a class="headerlink" href="#openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¼ºæœ‰åŠ›çš„åŒºåˆ«ã€‚OpenShiftå°±æ˜¯Kubernetesçš„å‘è¡Œç‰ˆï¼Œä¸“æ³¨äºå¼€å‘äººå‘˜çš„ä½“éªŒï¼Œè€Œå¼€å‘äººå‘˜éœ€è¦å¼€å‘ä¸‹ä¸€ä»£äº‘åŸç”Ÿåº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡é€‰æ‹©æ¯1ä¸ªéƒ¨åˆ†å¹¶æŒ‰ç…§æ¯ä¸ªç”¨æˆ·é€‰æ‹©çš„å®šåˆ¶æ–¹å¼ç»„è£…å®ƒä»¬æ¥&lt;a href="http://www.linuxfromscratch.org/"&gt;ä»Scratch &lt;/a&gt;æ„å»º&lt;a href="http://www.linuxfromscratch.org/"&gt;Linux&lt;/a&gt;ï¼Œä½†å¤§å¤šæ•°äººéƒ½æ²¡æœ‰ã€‚å¤§å¤šæ•°ç”¨æˆ·é€‰æ‹©çš„æŠ½è±¡çº§åˆ«æ„å‘³ç€ä»–ä»¬ä¸ä¼šä»ç®¡ç†ï¼ˆç”šè‡³äº†è§£ï¼‰Util-Linuxç‰ˆæœ¬2.31å’Œ2.33ä¹‹é—´çš„å·®å¼‚ä¸­è·å¾—å¾ˆå¤šä»·å€¼ã€‚ä¸ºäº†æ›´è¿›ä¸€æ­¥ï¼Œç”¨æˆ·å…³å¿ƒæœ€ä½çº§åˆ«çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œåªè¦è¶…è¿‡æœ€å°ç‰ˆæœ¬å·ï¼Œä»–ä»¬å°±çŸ¥é“å“ªäº›å‘½ä»¤/ APIå¯ç”¨ï¼‰ï¼Œç„¶åæä¾›æ‰€æä¾›åŠŸèƒ½çš„åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸OpenShiftéå¸¸ç›¸ä¼¼ã€‚OpenShiftå°†Kubernetesæ‰“åŒ…å¹¶åŒ…å«å…¶ä»–å·¥å…·ä½œä¸ºOpenShiftè®¤ä¸ºé‡è¦ä¸”OpenShiftçš„ç”¨æˆ·éœ€æ±‚çš„åŠŸèƒ½ã€‚å°±åƒCoreOSå’ŒCentOSåŒ…å«ä¸åŒçš„å·¥å…·é›†ä¸€æ ·ï¼Œè¿åˆä¸åŒçš„ç”¨æˆ·ï¼Œå› æ­¤Kuberneteså‘è¡Œç‰ˆä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;h2 id="openshiftk8s"&gt;OpenShiftå’ŒK8Sçš„å…·ä½“åŒºåˆ«&lt;a class="headerlink" href="#openshiftk8s" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="openshift_1"&gt;OpenShift æ¶æ„æ¦‚è¿°&lt;a class="headerlink" href="#openshift_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;OpenShiftå®¹å™¨å¹³å°æ˜¯ä¸€ç³»åˆ—æµè¡Œçš„ç»„ä»¶å’ŒæœåŠ¡çš„é›†åˆä½“, æ„å»ºäºRed Hat Enterprise Linux, Docker, å’ŒK8Sä¹‹ä¸Š. OpenShifté’ˆå¯¹å¼€å‘äººå‘˜, å¢å¼ºäº†ä»¥ä¸‹åŠŸèƒ½: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿œç¨‹ç®¡ç†&lt;/li&gt;
&lt;li&gt;å¤šç§Ÿæˆ·&lt;/li&gt;
&lt;li&gt;å®‰å…¨æ€§å¢å¼º&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/li&gt;
&lt;li&gt;è‡ªæœåŠ¡æ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="OpenShift æ¶æ„" src="./images/openshift-architecture-overview.png"&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šå›¾ä¸­, ä»ä¸‹è‡³ä¸Š, ä»å·¦è‡³å³, å±•ç¤ºäº†ç»è¿‡Red Hat åœ¨åŸºæœ¬çš„å®¹å™¨æ¶æ„åŸºç¡€ä¸Šè¿›ä¸€æ­¥é›†æˆã€å¢å¼ºçš„æ¶æ„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬OSæ˜¯Red Hat Enterprise Linux (RHEL)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker&lt;/strong&gt;  æä¾›äº†åŸºæœ¬çš„å®¹å™¨ç®¡ç†APIå’Œå®¹å™¨é•œåƒæ–‡ä»¶æ ¼å¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kubernetes&lt;/strong&gt; ç®¡ç†è¿è¡Œå®¹å™¨çš„ä¸»æœºé›†ç¾¤(å®ä½“çš„æˆ–è™šæ‹Ÿçš„). å®ƒé€šè¿‡èµ„æº(resources)æ¥æè¿°å¤šå®¹å™¨åº”ç”¨æ˜¯ç”±å¤šä¸ªèµ„æºç»„æˆçš„, ä»¥åŠä»–ä»¬é—´å¦‚ä½•äº¤äº’&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Etcd&lt;/strong&gt; æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ key-value å­˜å‚¨, Kubernetes é€šè¿‡å®ƒæ¥å­˜å‚¨é›†ç¾¤å†…çš„å…³äºå®¹å™¨å’Œå…¶ä»–èµ„æºçš„é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨Docker + Kubernetes ä¹‹ä¸Š, OpenShiftå¢åŠ äº†å®¹å™¨å¹³å°æ‰€éœ€è¦çš„å…¶ä»–åŠŸèƒ½. å…·ä½“åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OpenShift-Kubernetes æ‰©å±•&lt;/strong&gt; æ˜¯å­˜å‚¨åœ¨Etcdä¸­, ç”±Kubernetesç®¡ç†çš„é¢å¤–çš„èµ„æºç±»å‹(resource types). è¿™äº›é¢å¤–çš„èµ„æºç±»å‹ç»„æˆäº†OpenShift å†…éƒ¨çŠ¶æ€å’Œé…ç½®, è¿˜æœ‰åº”ç”¨çš„èµ„æº.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¹å™¨åŒ–æœåŠ¡&lt;/strong&gt; å……å®äº†å¾ˆå¤šåŸºç¡€æ¶æ„åŠŸèƒ½, æ¯”å¦‚ç½‘ç»œå’Œè®¤è¯. è¿™äº›åŠŸèƒ½æœ‰äº›æ˜¯ä¸€ç›´è¿è¡Œçš„, æœ‰äº›æ˜¯æŒ‰éœ€å¯åŠ¨çš„. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿è¡Œæ—¶å’ŒxPaaS&lt;/strong&gt; æ˜¯ä¸ºå¼€å‘è€…å‡†å¤‡å¥½çš„å®¹å™¨é•œåƒ, æ¯ä¸ªéƒ½é¢„é…ç½®äº†ç‰¹å®šçš„è¯­è¨€è¿è¡Œæ—¶æˆ–æ•°æ®åº“. å¯ä»¥è¢«ç”¨ä½œé•œåƒæµ(Image Stream)æˆ–åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ ä¸åŒçš„æ¡†æ¶, åº“, ç”šè‡³æ˜¯ä¸­é—´ä»¶æ¥è¿›è¡Œæ‰©å±•. xPaaS æä¾›äº†ä¸€ç³»åˆ—JBossä¸­é—´ä»¶äº§å“çš„åŸºç¡€é•œåƒ, å¦‚: JBoss EAP å’Œ ActiveMQ.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DevOps å·¥å…·é›†å’Œç”¨æˆ·ä½“éªŒ&lt;/strong&gt;: OpenShift ä¸ºå¼€å‘äººå‘˜å’Œç³»ç»Ÿç®¡ç†å‘˜æä¾›äº†ä¸€ä¸ªWeb UIå’ŒCLI ç®¡ç†å·¥å…·, å…è®¸é…ç½®å’Œç›‘æ§åº”ç”¨å’ŒOpenShiftçš„æœåŠ¡å’Œèµ„æº. Webå’Œ CLI éƒ½æ˜¯åŸºäºç›¸åŒçš„REST API, è¿™ä¸ªAPIä¹Ÿå¯ä»¥è¢«å¤–éƒ¨å·¥å…·(å¦‚: IDEå’ŒCIå¹³å°)æ•´åˆ. OpenShiftä¹Ÿå¯ä»¥è®¿é—®å¤–éƒ¨SCMåº“å’Œå®¹å™¨é•œåƒåº“.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;OpenShift å›¢é˜Ÿ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸®åŠ©K8S å®Œæˆäº†Namespace å’Œ quotaåŠŸèƒ½çš„å¼€å‘;&lt;/li&gt;
&lt;li&gt;æ¨åŠ¨äº†RBAC æˆæƒè®¤è¯çš„å¼€å‘&lt;/li&gt;
&lt;li&gt;å¸®åŠ©K8Sè¿è¡Œæ›´å¤šç±»å‹çš„åº”ç”¨, å¹¶ä¸ºå…¶å¼€å‘äº†ä¸€äº›å·æ’ä»¶(Volume Plugin)&lt;/li&gt;
&lt;li&gt;ç›¸æ¯”K8S, å¤šäº†Deployment Config(DC) resource. ä½¿ç”¨è¯¥èµ„æºå¯ä»¥è¿›è¡Œå‚æ•°åŒ–éƒ¨ç½², æ‰§è¡Œæ»šåŠ¨éƒ¨ç½²å’Œå›æ»šç­‰.&lt;/li&gt;
&lt;li&gt;ç›¸æ¯”K8S, å¤šäº†Route resource. è€ŒRouterä¹Ÿæ˜¯K8Sçš„IngressåŠŸèƒ½çš„å‰èº«.&lt;/li&gt;
&lt;li&gt;ç›¸æ¯”K8S, é»˜è®¤é›†æˆäº†SDN (Open vSwitch)&lt;/li&gt;
&lt;li&gt;ç›¸æ¯”K8S, å®ç°äº†å¼€å‘è¿ç»´ä¸€ä½“åŒ–.&lt;/li&gt;
&lt;li&gt;çº³å…¥CoreOS&lt;/li&gt;
&lt;li&gt;OpenShift 3.11, é›†æˆäº†Prometheuså’ŒGrafana&lt;/li&gt;
&lt;li&gt;ç›¸æ¯”K8S, å¢å¼ºäº†ç®¡ç†ç‰©ç†èŠ‚ç‚¹çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;ç›®å‰, OpenShiftè¿˜å’ŒNVåˆä½œ, æœªæ¥ä¼šæä¾›åŸºäºGPUè¿ç®—èƒ½åŠ›çš„æ”¯æŒ.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="_1"&gt;èµ„æºç±»å‹å·®å¼‚&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Kubernetes èµ„æºç±»å‹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pods&lt;/li&gt;
&lt;li&gt;Services&lt;/li&gt;
&lt;li&gt;Replication Controllers&lt;/li&gt;
&lt;li&gt;Persistent Volume (PV)&lt;/li&gt;
&lt;li&gt;Persistent Volume Claims (PVC)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;OpenShift èµ„æºç±»å‹&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;é™¤äº†ä»¥ä¸Šèµ„æºç±»å‹, OpenShift è¿˜å¢åŠ äº†ä»¥ä¸‹ä¸»è¦çš„èµ„æºç±»å‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Deployment Configurations (DC) - ç”¨äº æŒç»­äº¤ä»˜(CD)å·¥ä½œæµ&lt;/li&gt;
&lt;li&gt;Build Configurations (BC) - ç”¨äº æŒç»­é›†æˆ(CI) å·¥ä½œæµ&lt;/li&gt;
&lt;li&gt;Routes - åŸºäºHAProxy, ä½œç”¨ç±»ä¼¼äºK8S Ingress, ä½†æ—©äºIngress.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="openshift-s2i"&gt;OpenShift ç‰¹æœ‰çš„S2I åŠŸèƒ½&lt;a class="headerlink" href="#openshift-s2i" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;OpenShiftä¸­çš„Source-to-Image (S2I) è¿›ç¨‹ä¼šä»SCMä»“åº“ä¸­æ‹‰å–ä»£ç , è‡ªåŠ¨åŒ–ç›‘æµ‹ä»£ç éœ€è¦å“ªç§ç±»å‹çš„è¿è¡Œæ—¶, å¹¶ä»ç‰¹å®šè¿è¡Œæ—¶çš„åŸºç¡€é•œåƒå¯åŠ¨ä¸€ä¸ªpod. åœ¨è¿™ä¸ªpod ä¸­, OpenShift ä»¥å¼€å‘äººå‘˜ç›¸åŒçš„æ–¹å¼æ¥æ„å»ºè¯¥åº”ç”¨(å¦‚, ä½¿ç”¨&lt;strong&gt;maven&lt;/strong&gt;æ¥æ„å»ºjavaç¨‹åº). å¦‚æœæ„å»ºæˆåŠŸ, å¦ä¸€ä¸ªé•œåƒä¼šè¢«åˆ›å»º, æŠŠåº”ç”¨äºŒè¿›åˆ¶é™„åŠ åˆ°è¿è¡Œæ—¶å±‚ä¹‹ä¸Š, å¹¶æŠŠè¿™ä¸ªæ–°é•œåƒæ¨é€åˆ°OpenShiftçš„å†…éƒ¨é•œåƒä»“åº“ä¸­. æ¥ä¸‹æ¥, å¯ä»¥ä»è¿™ä¸ªæ–°é•œåƒåˆ›å»ºä¸€ä¸ªpodæ¥è¿è¡Œè¯¥åº”ç”¨. S2I å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªåµŒå…¥åˆ°OpenShiftå¹³å°ä¸­çš„ CI/CD pipeline.&lt;/p&gt;
&lt;p&gt;CI/CD pipelines ä¼šæœ‰å¾ˆå¤šç§å˜å¼‚, è¿™ä¸ªpipelineä¼šæš´éœ²åœ¨è¿™ä¸ªé¡¹ç›®(project, å°±æ˜¯K8Sçš„namespace)ä¸­, é‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«è°ƒèŠ‚æ¥æ»¡è¶³å¼€å‘äººå‘˜çš„éœ€æ±‚. ä¾‹å¦‚, å¤–éƒ¨CIå·¥å…·(å¦‚Jenkins)å¯ä»¥ç”¨äºæ¥å¯åŠ¨å’Œè¿è¡Œæµ‹è¯•, ç„¶åç»™æ–°é•œåƒæ‰“ä¸Š"æˆåŠŸ"æˆ–"å¤±è´¥"çš„æ ‡ç­¾(label), å¹¶æ¨é€åˆ°QAæˆ–ç”Ÿäº§ç¯å¢ƒ. éšç€æ—¶é—´æ¨ç§», ä¸€ä¸ªç»„ç»‡ä¸€ä¸ªéƒ¨é—¨ä¸€ä¸ªå…¬å¸å¯ä»¥åˆ›å»ºä»–ä»¬è‡ªå·±çš„pipelineæ¨¡æ¿, åŒ…æ‹¬è‡ªå®šä¹‰çš„æ„å»ºå™¨å’Œéƒ¨ç½²å™¨.&lt;/p&gt;
&lt;h2 id="_2"&gt;æ€»ç»“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;OpenShift å¹³å°ç›¸æ¯”K8S, å…·æœ‰ä»¥ä¸‹ç‰¹æ€§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªæœåŠ¡å¹³å°;&lt;/li&gt;
&lt;li&gt;å¤šè¯­è¨€, å¤šä¸­é—´ä»¶, æ•°æ®åº“æ”¯æŒ&lt;/li&gt;
&lt;li&gt;é«˜å¯ç”¨, å¯ä¼¸ç¼©æ€§&lt;/li&gt;
&lt;li&gt;ä¹Ÿæ˜¯å¼€æºçš„(Red Hatæ”¶å–æœåŠ¡è´¹)&lt;/li&gt;
&lt;li&gt;å®‰å…¨ (åŸºäº: RBAC, LDAP, ä¸»æœº, ç½‘ç»œ, å®¹å™¨å„ä¸ªå±‚é¢çš„åŠ å›º)&lt;/li&gt;
&lt;li&gt;åŠ¨æ€å­˜å‚¨ç®¡ç†&lt;/li&gt;
&lt;li&gt;ä¼ä¸šçº§&lt;/li&gt;
&lt;li&gt;æ—¥å¿—æ•´åˆ/ ç›‘æ§æ•´åˆ&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 03 May 2019 16:51:34 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-03:/openshift-and-kubernetes-whats-difference.html</guid><category>docker</category><category>openshift</category><category>k8s</category><category>containers</category><category>PAAS</category></item><item><title>Dynatrace å‘Šè­¦ç®€è¦åˆ†ææµç¨‹</title><link>https://www.EWhisper.cn/analyze-problems-with-dynatrace.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å‘Šè­¦ç±»åˆ«åŠå«ä¹‰&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;åº”ç”¨å‘Šè­¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ä¸­é—´ä»¶å‘Šè­¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ä¸»æœºå‘Šè­¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu"&gt;CPUè¿è¡ŒçŠ¶å†µä¸ä½³&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å‘Šè­¦ç®€è¦åˆ†ææµç¨‹&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_6"&gt;ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;å“åº”æ—¶é—´/é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_8"&gt;å¤±è´¥ç‡è¿‡é«˜/é¡µé¢æ“ä½œ/äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹ä¸å¯ç”¨ï¼ˆéé¢„æœŸï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#jvm"&gt;å¯èƒ½æŒ‚èµ·çš„JVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹å†…å­˜ä¸è¶³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu_1"&gt;CPUè¿è¡ŒçŠ¶å†µä¸ä½³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;ç¡¬ç›˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;å†…å­˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;ç½‘ç»œè¿è¡ŒçŠ¶å†µä¸ä½³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;dynaTraceå‘Šè­¦ç¡®è®¤åŠå…³é—­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;å‘Šè­¦ç±»åˆ«åŠå«ä¹‰&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;åº”ç”¨å‘Šè­¦&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;å“åº”æ—¶é—´/é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å“åº”æ—¶é—´é™ä½--å¯¹åº”çš„åº”ç”¨æˆ–URLå¹³å‡å“åº”æ—¶é—´(ä¸­å€¼)æ˜æ˜¾é«˜äºæœŸæœ›ã€‚å³ä½¿æ‰€è§‚æµ‹çš„å“åº”æ—¶é—´å°šå¯è¢«å®¢æˆ·æ¥å—ï¼Œè¿™ç§çŠ¶æ€æ˜æ˜¾æ˜¯åº”ç”¨ç¨‹åºæˆ–æ˜¯ç¡¬ä»¶é—®é¢˜å¯¼è‡´ï¼Œå¹¶ä¸”ä¼šé™ä½æ‰€èƒ½è¾¾åˆ°çš„æœ€å¤§ååé‡ã€‚&lt;/li&gt;
&lt;li&gt;é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½--è§‚æµ‹ä¸­ 10% æœ€æ…¢è¯·æ±‚çš„ååº”æ—¶é—´æ˜æ˜¾å¢åŠ ã€‚è¿™å°†å¯¼è‡´ç”¨æˆ·ä½“éªŒå˜å·®ã€‚åº”ç”¨ç¨‹åºåŠç¡¬ä»¶é—®é¢˜éƒ½èƒ½å¯¼è‡´è¯¥é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;å¤±è´¥ç‡è¿‡é«˜/é¡µé¢æ“ä½œ/äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¤±è´¥ç‡è¿‡é«˜--äº‹åŠ¡å¤±è´¥ç‡è¿œé«˜äºé¢„æœŸã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢æ“ä½œå¤±è´¥ç‡é«˜--æ€»ä½“é¡µé¢æ“ä½œå¤±è´¥ç‡è¶…è¿‡é¢„è®¾é˜€å€¼ã€‚&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜--äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_3"&gt;ä¸­é—´ä»¶å‘Šè­¦&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹ä¸å¯ç”¨ï¼ˆéé¢„æœŸï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸ä¹‹å‰è¿æ¥çš„åº”ç”¨ç¨‹åºè¿›ç¨‹/Agent ä¹‹é—´çš„è¿æ¥å·²ä¸¢å¤±ï¼Œæ— æ³•ä¸ Agent æ–­å¼€è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬å‡ºç°è¯¥å‘Šè­¦çš„åŸå› ä¸ºåœæ­¢æˆ–æ€æ‰å¯¹åº”ä¸­é—´ä»¶çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h4&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ç”±äºåœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­èŠ±è´¹å¤§é‡æ‰§è¡Œæ—¶é—´ï¼Œå› æ­¤åº”ç”¨ç¨‹åºè¿›ç¨‹çš„æ˜¾è‘—æŒ‚èµ·æ—¶é—´ä¼šæŒç»­ä¸€æ®µæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ˜¯ç”±äºé¢‘ç¹GCå¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;h4&gt;å¯èƒ½æŒ‚èµ·çš„JVM&lt;/h4&gt;
&lt;p&gt;å¯èƒ½çš„java VMæŒ‚èµ·ã€‚å¯èƒ½æ˜¯ç”±äºheap/thread dumpæˆ–è€…GCæ´»åŠ¨ã€‚åŸå› æœªçŸ¥éœ€è¦æ‰‹åŠ¨åˆ†æã€‚&lt;/p&gt;
&lt;h4&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹å†…å­˜ä¸è¶³&lt;/h4&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹æŠ¥å‡ºå†…å­˜ä¸è¶³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ˜¯ç”±äºä¸­é—´ä»¶å†…å­˜ä½¿ç”¨å·²æ»¡æˆ–å†…å­˜æº¢å‡ºã€‚&lt;/p&gt;
&lt;h3 id="_4"&gt;ä¸»æœºå‘Šè­¦&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸»æœºç±»å‘Šè­¦çš„é˜ˆå€¼ä¸æ‰€å±çš„ä¸»æœºç»„æœ‰å…³ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCXRay6p/bea1t.jpg"&gt;&lt;/p&gt;
&lt;h3 id="cpu"&gt;CPUè¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CPUä½¿ç”¨ç‡æˆ–ç³»ç»Ÿæ—¶é—´è¶…è¿‡é¢„è®¾é˜ˆå€¼ã€‚&lt;/p&gt;
&lt;p&gt;CPUçš„é˜ˆå€¼æœ‰2ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ç‡&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ç¡¬ç›˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ä¸»æœºç¡¬ç›˜çš„å¯ç”¨ç©ºé—´å¤§å°åŠç™¾åˆ†æ¯”ä½äºé¢„è®¾é˜ˆå€¼ã€‚æœ‰2ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨ç©ºé—´å¤§å°&lt;/li&gt;
&lt;li&gt;å¯ç”¨ç©ºé—´ç™¾åˆ†æ¯”&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å†…å­˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ä¸»æœºçš„å¯ç”¨å†…å­˜å¤§å°åŠç™¾åˆ†æ¯”ä½äºé¢„è®¾é˜ˆå€¼æˆ–å†…å­˜é¡µé¢æ•…éšœå¤§äºé¢„è®¾é˜ˆå€¼ã€‚æœ‰3ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨å†…å­˜å¤§å°&lt;/li&gt;
&lt;li&gt;å¯ç”¨å†…å­˜ç™¾åˆ†æ¯”&lt;/li&gt;
&lt;li&gt;é¡µé¢æ•…éšœæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ç½‘ç»œè¿è¡ŒçŠ¶å†µä¸ä½³&lt;/h4&gt;
&lt;p&gt;ç½‘ç»œå¸¦å®½ä½¿ç”¨ç‡å¤§äºé¢„è®¾é˜ˆå€¼ã€‚æœ‰1ä¸ªé˜ˆå€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸¦å®½ä½¿ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;å‘Šè­¦ç®€è¦åˆ†ææµç¨‹&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;ç®€ä»‹&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é€šç”¨å…¥å£&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;â€œé©¾é©¶èˆ±â€ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY07pnX/Ry7Q9.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Start Centerï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY32F9u/eT8op.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;â€œç›‘æ§â€ï¼Œå¦‚ä¸‹å›¾ï¼š(ç»¿è‰²æ­£å¸¸/çº¢è‰²å¼‚å¸¸/ç°è‰²æ— æ•°æ®)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY4WDEM/l7JDg.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_7"&gt;å“åº”æ—¶é—´/é€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€äº‹ä»¶ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š(å‘Šè­¦çº¢è‰²ä¸ºSevereçº§åˆ«/é»„è‰²ä¸ºWarningçº§åˆ«ï¼›å‘Šè­¦æ—¶é—´æ®µå¯ä»¥æŒ‰éœ€é€‰æ‹©)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY7f5oF/dYODm.jpg"&gt; &lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç§»åŠ¨åˆ°å¯¹åº”çš„å‘Šè­¦ä¿¡æ¯â†’å³é”®â†’æ·±å…¥åˆ†æâ†’PurePathï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYaxIBv/uWnkT.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;è·³è½¬åˆ°PurePathä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYdl5vQ/10ziUa.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;å³é”®ä»ªè¡¨æ¿â†’ç¼–è¾‘ç­›é€‰å™¨â†’ç­›é€‰å¯¹åº”çš„PurePathå¹¶åº”ç”¨ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYehBhS/Jkp4w.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYfBRlP/NMHo5.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¨é€‰æ‰€æœ‰çš„PurePathâ†’å³é”®â†’æ·±å…¥åˆ†æâ†’å“åº”æ—¶é—´çƒ­ç‚¹ ï¼ˆæ­¤å¤„å¯ä»¥ç‚¹å‡»ç¬¬äºŒåˆ—â€å“åº”æ—¶é—´â€œå¯¹PurePathè¿›è¡Œæ’åºï¼Œé’ˆå¯¹æ€§åˆ†æï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYhLI4x/nAr3y.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;å“åº”æ—¶é—´çƒ­ç‚¹ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹ï¼š(é’ˆå¯¹â€œé€Ÿåº¦è¾ƒæ…¢çš„è¯·æ±‚çš„å“åº”æ—¶é—´é™ä½â€å‘Šè­¦ï¼Œéœ€è¦åœ¨å³ä¸Šè§’â€œç™¾åˆ†æ¯”ç­›é€‰å™¨è¿›è¡Œé€‰æ‹©ã€‚è‡³æ­¤ï¼Œåˆæ­¥åˆ†æç»“æœå·²å¾—å‡º)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYk4En1/n9rDF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;
&lt;p&gt;æœ€ç»ˆåˆ†æç»“æœï¼šAPIç»†åˆ†ä»ªè¡¨æ¿åŠæ–¹æ³•ç»†åˆ†ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQlsd/NpiKX.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQd76/REkXi.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;æ›´è¿‘ä¸€æ­¥åˆ†æï¼šå¯ä»¥ç›´æ¥åˆ†ææºä»£ç ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnAAJy/yrJBF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnwwKB/LynTC.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;å¤±è´¥ç‡è¿‡é«˜/é¡µé¢æ“ä½œ/äº‹åŠ¡æ•´ä½“å¤±è´¥ç‡é«˜&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;äº‹ä»¶â†’Purepathï¼Œå¦‚ä¸Šæ–‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘ç­›é€‰å™¨å†…å®¹ï¼Œå¦‚ä¸Šæ–‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰é”™è¯¯æ’åºï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYrsFLH/Qyujo.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å³é”®ä¸Šå›¾æŠ¥é”™æ–¹æ³•ï¼Œå‡ºç°å…·ä½“çš„æŠ¥é”™/å¼‚å¸¸/æ—¥å¿—ç­‰å†…å®¹ï¼Œå¦‚ä¸‹å›¾ï¼š(å¯ä»¥å¤šçœ‹åå‡ æ¡PurePathï¼Œå¦‚æœæŠ¥é”™å†…å®¹éƒ½ç›¸åŒï¼Œåˆ™å·²ç»åˆæ­¥å®šä½åˆ°å‘Šè­¦åŸå› )&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYsL7Nf/UcVBq.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;å…¨é€‰æ‰€æœ‰PurePathâ†’æ·±å…¥åˆ†æâ†’é”™è¯¯ç‡ç›¸å…³èœå•ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYtOs3i/Myyj4.jpg"&gt; &lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;å®šä½åˆ°å‘Šè­¦åŸå› ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYuXMxi/148DNZ.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_9"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹ä¸å¯ç”¨ï¼ˆéé¢„æœŸï¼‰&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¯¥ç±»æŠ¥é”™é€šå¸¸æ˜¯ç”±äºåœæ­¢æˆ–æ€æ‰æˆ–é‡å¯ä¸­é—´ä»¶ç­‰è¿›ç¨‹å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ç›´æ¥åœ¨â€äº‹ä»¶â€ä»ªè¡¨æ¿ä¸­æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ï¼šï¼ˆå‘Šè­¦å¼€å§‹æ—¶é—´å°±æ˜¯åœè¿›ç¨‹çš„æ—¶é—´ï¼›ç»ˆæ­¢æ—¶é—´å°±æ˜¯å¯åŠ¨è¿›ç¨‹çš„æ—¶é—´ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYwhZNA/gEE3m.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¯¥ç±»æŠ¥é”™åˆ†æèµ·æ¥è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦æœ‰ä¸°å¯Œçš„ä¸­é—´ä»¶è¿ç»´ç»éªŒå’ŒdynaTraceä½¿ç”¨ç»éªŒã€‚è¯¦ç»†ä¿¡æ¯å‚è€ƒé™„ä»¶ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Šåº”ç”¨ç¨‹åºè¿›ç¨‹è¿è¡ŒçŠ¶å†µä¸ä½³åˆ†æç¤ºä¾‹ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="jvm"&gt;å¯èƒ½æŒ‚èµ·çš„JVM&lt;a class="headerlink" href="#jvm" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸Šæ–‡æ‰€è¿°ï¼šå¯èƒ½æ˜¯ç”±äºheap/thread dumpæˆ–è€…GCæ´»åŠ¨ã€‚åŸå› æœªçŸ¥éœ€è¦æ‰‹åŠ¨åˆ†æã€‚å…·ä½“é—®é¢˜å…·ä½“å¯¹å¾…ã€‚&lt;/p&gt;
&lt;h3 id="_11"&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹å†…å­˜ä¸è¶³&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œé€šå¸¸æ˜¯ç”±äºå†…å­˜æº¢å‡ºæˆ–å†…å­˜å¿«æ»¡ã€‚åˆ†ææµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡ä¸Šæ–‡æåˆ°çš„å…¥å£--â€œç›‘æ§â€â†’ç‚¹å‡»â€œè¿›ç¨‹â€â†’æŸ¥çœ‹è¿›ç¨‹ä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYKC06L/RD3sF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYJdo4D/10CMzY.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç‚¹å‡»å†…å­˜å¿«ç…§â†’åˆ›å»ºå†…å­˜å¿«ç…§â†’æŒ‰éœ€é€‰æ‹©å¿«ç…§çš„ç±»å‹å¹¶åº”ç”¨ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYMr7TG/RzIqA.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;dynaTraceä¼šè‡ªåŠ¨åˆ†æå¹¶ç»™å‡ºç»“æœï¼Œå¦‚ä¸‹å›¾ï¼š(è‡³æ­¤å·²ç»å®šä½åˆ°é—®é¢˜æ‰€åœ¨)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYO7UoS/jZMqd.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å¦‚éœ€è¿›ä¸€æ­¥åˆ†æï¼Œå¯ä»¥ç‚¹å‡»å†…å­˜å¿«ç…§åˆ†æçš„å…¶ä»–æ ‡ç­¾é¡µã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYPQTpk/T02uX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTraceæ”¯æŒå†…å­˜æº¢å‡ºæ—¶è‡ªåŠ¨åšå†…å­˜å¿«ç…§ï¼Œä¸”é»˜è®¤å¼€å¯ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­è¯¥åŠŸèƒ½ï¼Œæœ‰éœ€æ±‚å¯ä»¥é’ˆå¯¹æ€§å¼€å¯ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYRN2UG/H6NSX.jpg"&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="cpu_1"&gt;CPUè¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#cpu_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä»å…¥å£â€œç›‘æ§â€è¿›å…¥â†’ä¸»æœºåˆ—è¡¨â†’ä¸»æœºç›‘æ§ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYV9u5l/aweYD.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ä¸»æœºç›‘æ§ä»ªè¡¨å›¾åˆ†æï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYVyY4X/NmNbr.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åšCPUé‡‡æ ·ä¸çº¿ç¨‹å¿«ç…§ï¼ˆæ­¥éª¤ä¸åšå†…å­˜å¿«ç…§ç±»ä¼¼ï¼Œè§ä¸Šæ–‡ï¼‰ã€‚CPUé‡‡æ ·ä¸çº¿ç¨‹å¿«ç…§åˆ†æå¦‚ä¸‹ï¼š(å·²ç»å®šä½åˆ°å‘Šè­¦åŸå› )&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYX1rCQ/RpJ2j.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å¯ä»¥å¯¹çº¿ç¨‹å¿«ç…§è¿›ä¸€æ­¥åˆ†æï¼Œå®šä½åˆ°çº¿ç¨‹çš„å †æ ˆä»¥åŠå½“æ—¶çº¿ç¨‹æ‰§è¡Œçš„URLè¯·æ±‚ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYZHuqt/10KqLh.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_12"&gt;ç¡¬ç›˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç›´æ¥è¿›å…¥ä¸»æœºä»ªè¡¨æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2mxAA/C7G0x.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_13"&gt;å†…å­˜è¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥è¿›å…¥ä¸»æœºä»ªè¡¨æ¿æŸ¥çœ‹å†…å­˜ä½¿ç”¨ç‡ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ3lGA6/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;åˆ†æå ç”¨ç‰©ç†å†…å­˜çš„è¿›ç¨‹æƒ…å†µã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;JVMä½¿ç”¨çš„JVMä»£ç åŒºã€JVMæ•°æ®åŒºã€heapåŒºéƒ½åº”è¯¥æ˜¯å›ºå®šçš„ã€‚ä½†æ˜¯JVMè¿›ç¨‹æ‰€ä½¿ç”¨çš„çº¿ç¨‹æ ˆåŒºã€æ°¸ä¹…ä»£ã€å†…æ ¸å†…å­˜æ˜¯å¯èƒ½éšç€åº”ç”¨ç¨‹åºååé‡ã€ä¸šåŠ¡é‡ã€è´Ÿè½½é‡çš„å˜åŒ–è€Œå˜åŒ–çš„ã€‚&lt;/p&gt;
&lt;p&gt;JVMæ˜¯ä½œä¸ºä¸€ä¸ªè¿›ç¨‹è¿è¡Œåœ¨Linuxä¸Šçš„ã€‚ä»è¿›ç¨‹çš„è§’åº¦æ¥çœ‹ï¼Œè¿›ç¨‹èƒ½ç›´æ¥è®¿é—®çš„ç”¨æˆ·å†…å­˜ï¼ˆè™šæ‹Ÿå†…å­˜ç©ºé—´ï¼‰è¢«åˆ’åˆ†ä¸º5ä¸ªéƒ¨åˆ†ï¼šä»£ç åŒºã€æ•°æ®åŒºã€å †åŒºã€æ ˆåŒºã€æœªä½¿ç”¨åŒºã€‚ä»£ç åŒºä¸­å­˜æ”¾åº”ç”¨ç¨‹åºçš„æœºå™¨ä»£ç ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­ä»£ç ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå…·æœ‰åªè¯»å’Œå›ºå®šå¤§å°çš„ç‰¹ç‚¹ã€‚æ•°æ®åŒºä¸­å­˜æ”¾äº†åº”ç”¨ç¨‹åºä¸­çš„å…¨å±€æ•°æ®ï¼Œé™æ€æ•°æ®å’Œä¸€äº›å¸¸é‡å­—ç¬¦ä¸²ç­‰ï¼Œå…¶å¤§å°ä¹Ÿæ˜¯å›ºå®šçš„ã€‚å †æ˜¯è¿è¡Œæ—¶ç¨‹åºåŠ¨æ€ç”³è¯·çš„ç©ºé—´ï¼Œå±äºç¨‹åºè¿è¡Œæ—¶ç›´æ¥ç”³è¯·ã€é‡Šæ”¾çš„å†…å­˜èµ„æºã€‚æ ˆåŒºç”¨æ¥å­˜æ”¾å‡½æ•°çš„ä¼ å…¥å‚æ•°ã€ä¸´æ—¶å˜é‡ï¼Œä»¥åŠè¿”å›åœ°å€ç­‰æ•°æ®ã€‚æœªä½¿ç”¨åŒºæ˜¯åˆ†é…æ–°å†…å­˜ç©ºé—´çš„é¢„å¤‡åŒºåŸŸã€‚ &lt;/p&gt;
&lt;p&gt;JavaNIOä½¿å¾—JVMå¯ä»¥ä½¿ç”¨å†…æ ¸å†…å­˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_14"&gt;ç½‘ç»œè¿è¡ŒçŠ¶å†µä¸ä½³&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç›´æ¥è¿›å…¥ä¸»æœºä»ªè¡¨æ¿æŸ¥çœ‹ç½‘ç»œåˆ©ç”¨ç‡ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2o2RS/hLaMM.jpg"&gt;&lt;/p&gt;
&lt;h1 id="dynatrace"&gt;dynaTraceå‘Šè­¦ç¡®è®¤åŠå…³é—­&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;dynaTraceçš„å‘Šè­¦ç¡®è®¤åŠå…³é—­éœ€è¦ç™»å½•å®¢æˆ·ç«¯ï¼Œè¿›å…¥åˆ°â€œäº‹ä»¶â€ä»ªè¡¨æ¿è¿›è¡Œæ“ä½œã€‚å…·ä½“å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ6HvHe/eop6b.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 03 May 2019 14:54:12 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-03:/analyze-problems-with-dynatrace.html</guid><category>Dynatrace</category><category>Observability</category><category>æ€§èƒ½è°ƒä¼˜</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 10.Dynatraceæƒé™ç®¡ç†</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-10-authority-management.html</link><description>&lt;ol&gt;
&lt;li&gt;åœ¨Dynatrace Serverè®¾ç½® -&amp;gt; ç”¨æˆ·é¢æ¿ï¼Œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vxzug/YnE01.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Dynatrace å…³äºæƒé™ç®¡ç†æ–¹é¢ï¼Œä»3ä¸ªå±‚é¢å®ç°å¯¹ç”¨æˆ·æƒé™çš„ç²¾ç»†åŒ–ç®¡ç†ï¼Œä»é¢åˆ°ç‚¹ä¾æ¬¡ä¸ºï¼š&lt;strong&gt;è§’è‰²ã€ç»„ã€è´¦æˆ·&lt;/strong&gt;ã€‚åŒæ—¶ï¼ŒDynatraceçš„æƒé™ç®¡ç†æ”¯æŒLDAPä»¥åŠå¯†ç å¤æ‚åº¦çš„é…ç½®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;â€œè§’è‰²â€å±‚é¢ï¼Œä¸»è¦è´Ÿè´£Dynatraceæ‰€æœ‰è¯¦ç»†æƒé™çš„é…ç½®ã€‚Dynatraceé»˜è®¤é…ç½®çš„æœ‰å¦‚ä¸‹è§’è‰²ï¼šAdministratorï¼ˆç®¡ç†å‘˜ï¼‰ã€Guestï¼ˆè®¿å®¢ï¼‰ã€Power Userã€Userï¼ˆæ™®é€šç”¨æˆ·ï¼‰ã€‚å…¶ä¸­ï¼ŒAdministratorå…·æœ‰Dynatraceçš„æ‰€æœ‰æƒé™ã€‚å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuSXj/7BPLt.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å¯ä»¥æ ¹æ®ç”Ÿäº§ç¯å¢ƒçš„å®é™…éœ€è¦ï¼Œåˆ›å»ºæ–°çš„è§’è‰²åŠé…ç½®è¯¦ç»†çš„æƒé™ã€‚å¦‚ï¼šåˆ›å»ºåº”ç”¨é¡¹ç›®ç»„çš„è§’è‰²--Project Teamã€‚æƒé™åŒ…æ‹¬åº”ç”¨åˆ†æçš„æ‰€æœ‰æƒé™åŠä¿å¯†å­—ç¬¦ä¸²çš„æŸ¥çœ‹æƒé™ï¼Œä»¥åŠå¯ä»¥åšçº¿ç¨‹å¿«ç…§è¿›è¡Œåˆ†æã€‚æƒé™ç»†èŠ‚å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuCTD/8Iu8o.png"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;â€œç»„â€å±‚é¢ã€‚å¯¹3ä¸ªæ–¹é¢è¿›è¡Œäº†ç»†åŒ–ï¼Œåˆ†åˆ«æ˜¯ï¼šDynatrace Serverç®¡ç†ï¼ˆæŒ‡å®šè§’è‰²æƒé™ï¼‰ï¼›ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼ˆå¯¹å…·ä½“çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶è¿›è¡Œè¯¦ç»†çš„è§’è‰²æƒé™é…ç½®ï¼‰ï¼›ä»ªè¡¨æ¿ï¼ˆå¯¹å…·ä½“çš„ä»ªè¡¨æ¿è¿›è¡Œæƒé™é…ç½®ï¼Œåˆ†ä¸ºï¼šå¯è¯»å’Œè¯»å†™æƒé™ã€‚ï¼‰é»˜è®¤çš„ç»„æœ‰ï¼šIncident Email Groupï¼ˆäº‹ä»¶é‚®ä»¶å‘Šè­¦ç»„ï¼‰ã€Business Usersã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ ¹æ®å®é™…æƒ…å†µï¼Œåˆ›å»ºæ–°çš„ç»„å¹¶é…ç½®è¯¦ç»†çš„æƒé™ã€‚å¦‚ï¼šåˆ›å»ºilogç»„--ilogã€‚æƒé™ä¸ºProject Teamï¼Œæ‰€æœ‰ä¸ilogç›¸å…³çš„ä»ªè¡¨æ¿éƒ½æœ‰å¯è¯»æƒé™ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuaV7/3bcPr.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vulJK/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuvnf/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;â€œè´¦æˆ·â€å±‚é¢ã€‚å°±æ˜¯å®é™…ä½¿ç”¨Dynatraceçš„è´¦æˆ·ã€‚åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼šç”¨æˆ·IDã€ç”µå­é‚®ä»¶ã€æ‰€å±ç”¨æˆ·ç»„ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuLrs/medium.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-10-authority-management.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 11.Dynatraceåˆ›å»ºå®šæ—¶ä»»åŠ¡</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-11-create-shedule-task.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;æ“ä½œæ­¥éª¤&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;åˆ›å»ºæœˆæŠ¥ï¼Œæ¯æœˆé‚®ä»¶å‘é€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatraceå¯ä»¥è®¾ç½®åœ¨æ¯éš”ä¸€å®šæ—¶é—´åï¼Œæ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;Dynatraceé…ç½®å®šæ—¶ä»»åŠ¡ä¸»è¦æ˜¯åœ¨&lt;strong&gt;System Profile&lt;/strong&gt;ï¼ˆç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼‰å±‚é¢è¿›è¡Œé…ç½®ã€‚ä¸å®šæ—¶ä»»åŠ¡æœ‰å…³çš„é…ç½®é¡¹åŒ…æ‹¬ä»¥ä¸‹2ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Schedule&lt;/strong&gt;ï¼ˆè®¡åˆ’ï¼‰ï¼šä¸»è¦æ˜¯ä¸æ—¶é—´ç›¸å…³çš„é…ç½®ã€‚è®¡åˆ’å¯ä»¥ç”¨äºåˆ›å»º&lt;strong&gt;Task&lt;/strong&gt; ï¼ˆä»»åŠ¡ï¼‰å’Œ&lt;strong&gt;Monitor&lt;/strong&gt;ï¼ˆç›‘è§†å™¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Task&lt;/strong&gt; ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸»è¦æ˜¯å…·ä½“æ‰§è¡Œçš„æ“ä½œã€‚å¦‚ï¼šåšå†…å­˜å¿«ç…§ã€çº¿ç¨‹å¿«ç…§ã€CPUé‡‡æ ·ã€Sessionå­˜å‚¨ä»¥åŠå®šæœŸæŠ¥å‘Šç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;åˆ›å»ºæœˆæŠ¥ï¼Œæ¯æœˆé‚®ä»¶å‘é€&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;åˆ›å»ºè®¡åˆ’&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å³å‡»æŒ‡å®šçš„System Profileï¼ˆç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼‰-&amp;gt; ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚å¯ä»¥çœ‹åˆ°ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶é¦–é€‰é¡¹ï¼Œåœ¨å·¦é¢ç‰ˆä¸­å¯ä»¥æ‰¾åˆ°&lt;strong&gt;è®¡åˆ’&lt;/strong&gt;å’Œ&lt;strong&gt;ä»»åŠ¡&lt;/strong&gt;æ ‡ç­¾é¡µã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»è®¡åˆ’ï¼Œé»˜è®¤çš„è®¡åˆ’æœ‰æ¯10minã€æ¯10sã€æ¯å°æ—¶ã€æ¯åˆ†é’Ÿã€‚æ ¹æ®éœ€è¦ï¼Œåˆ›å»ºä¸€ä¸ª&lt;strong&gt;æ¯æœˆ&lt;/strong&gt;çš„è®¡åˆ’ï¼Œæ¯æœˆè®¡åˆ’ç»†åˆ™ä¸ºï¼šä»20160701 9:35å¼€å§‹æ‰§è¡Œï¼Œæ¯ä¸€ä¸ªæœˆæ‰§è¡Œä¸€æ¬¡ï¼Œç›´åˆ°æ°¸è¿œã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fcrwn/vbDWA.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;ä¸‹è¾¹ä»¥åˆ›å»ºæ›´å¤æ‚çš„&lt;strong&gt;Every workday&lt;/strong&gt;æ¥è¯´æ˜åˆ›å»ºè®¡åˆ’çš„å…·ä½“æ“ä½œã€‚ç‚¹å‡»&lt;strong&gt;åˆ›å»ºè®¡åˆ’...&lt;/strong&gt;è·³å‡ºåˆ›å»ºè®¡åˆ’å¯¹è¯æ¡†ã€‚å¯¹è¯æ¡†åˆ†ä¸º2éƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸º&lt;strong&gt;è¿è¡Œè®¡åˆ’&lt;/strong&gt;å’Œ&lt;strong&gt;æ’é™¤&lt;/strong&gt;ï¼Œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FczTZ/A4ZZf.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;åˆ›å»ºæˆ–ç¼–è¾‘&lt;strong&gt;è®¡åˆ’è¿è¡Œ&lt;/strong&gt;ï¼Œåœ¨å¯¹è¯æ¡†ä¸­å¯ä»¥é€‰æ‹©&lt;strong&gt;å¼€å§‹&lt;/strong&gt;ã€&lt;strong&gt;ç»“æŸ&lt;/strong&gt;æ—¶é—´å’Œ&lt;strong&gt;é‡å¤å‘¨æœŸ&lt;/strong&gt;ã€‚å¼€å§‹æ—¶é—´å¯ä»¥æŒ‡å®šå…·ä½“åˆ°æ—¶åˆ†ç§’ï¼›ç»“æŸæœ‰3ç§æ–¹å¼ï¼šæŒ‡å®šæ—¶é—´ç»“æŸã€æ‰§è¡Œä¸€å®šæ¬¡æ•°åç»“æŸã€æ°¸ä¸ç»“æŸã€‚å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FcLIJ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®&lt;strong&gt;é‡å¤å‘¨æœŸ&lt;/strong&gt;ï¼Œé‡å¤å‘¨æœŸå¯ä»¥é€‰æ‹©å…·ä½“çš„é‡å¤æ—¶é—´å•ä½å’Œå…·ä½“çš„æœˆä»½ã€‚å¦‚ä¸Šå›¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»º&lt;strong&gt;æ’é™¤&lt;/strong&gt;ã€‚æ’é™¤æœ‰3ç§æ–¹å¼ï¼šå§‹ç»ˆæ’é™¤ã€æ’é™¤æ—¶é—´ï¼ˆæ—¥æœŸï¼‰ã€æ’é™¤æ—¶é—´è‡ª-åˆ°ã€‚&lt;strong&gt;Every workday&lt;/strong&gt;å¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œå§‹ç»ˆæ’é™¤1-12æœˆçš„å‘¨å…­ã€å‘¨æ—¥ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FcVKB/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;è‡³æ­¤ï¼Œ&lt;strong&gt;è®¡åˆ’&lt;/strong&gt;åˆ›å»ºå®Œæ¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;åˆ›å»ºä»»åŠ¡&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å›åˆ°ç³»ç»Ÿé…ç½®æ–‡ä»¶é¦–é€‰é¡¹ã€‚ç‚¹å‡»&lt;strong&gt;ä»»åŠ¡&lt;/strong&gt;æ ‡ç­¾é¡µã€‚ä»»åŠ¡æ ‡ç­¾é¡µå¯ä»¥å¯¹ä»»åŠ¡è¿›è¡ŒæŒ‚èµ·å’Œæ¢å¤ä»¥åŠåœæ­¢ã€‚å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fd93j/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;å¯ä»¥åœ¨æ ‡ç­¾é¡µç‚¹å‡»&lt;strong&gt;åˆ›å»º...&lt;/strong&gt;,åœ¨æœ¬é¡µé¢å¯ä»¥åˆ›å»ºçš„ä»»åŠ¡æœ‰ï¼šå†…å­˜å¿«ç…§ã€CPUé‡‡æ ·ã€çº¿ç¨‹å¿«ç…§ã€Sessionå­˜å‚¨ã€‚æ³¨æ„ï¼šæ— æ³•åœ¨æœ¬é¡µé¢åˆ›å»ºæŠ¥å‘Šã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fdi7K/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;å¦‚æœéœ€è¦åˆ›å»ºæŠ¥å‘Šä»»åŠ¡ï¼Œå¯ä»¥åœ¨Dynatraceå®¢æˆ·ç«¯ -&amp;gt; ä»ªè¡¨æ¿ -&amp;gt; æ‰“å¼€éœ€è¦åˆ›å»ºä¸ºæŠ¥å‘Šçš„ä»ªè¡¨æ¿ã€‚å¦‚æŸç³»ç»Ÿçš„æœˆæŠ¥ä»ªè¡¨æ¿ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdrgC/FkwEk.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ä»ªè¡¨æ¿æ ‡ç­¾å³å‡» -&amp;gt; ç‚¹å‡»æŠ¥å‘Šï¼Œå¦‚ä¸Šå›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼¹å‡º&lt;strong&gt;æŠ¥å‘Šåˆ›å»º&lt;/strong&gt;å¯¹è¯æ¡†ï¼Œç‚¹å‡»&lt;strong&gt;åˆ›å»ºè®¡åˆ’...&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdAUJ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;å¼¹å‡ºè®¡åˆ’æŠ¥å‘Šä»»åŠ¡å¯¹è¯æ¡†ï¼Œä¸»è¦æœ‰3ä¸ªæ ‡ç­¾é¡µå¯ä»¥è®¾ç½®ï¼šä»»åŠ¡ã€è®¡åˆ’ã€æŠ¥å‘Šè®¾ç½®ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdNiy/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»»åŠ¡&lt;/strong&gt;æ ‡ç­¾é¡µå¯ä»¥æŒ‡å®šå‘é€é‚®ä»¶ï¼Œé‚®ä»¶æ¥æ”¶äººï¼Œä¸»é¢˜ï¼›æˆ–è€…å­˜æ”¾åˆ°æœ¬æœºæˆ–è¿œç¨‹ä¸»æœºç£ç›˜ä¸Šã€‚æœ¬ä¾‹é€šè¿‡é‚®ä»¶å‘é€ã€‚å¦‚ä¸Šå›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¡åˆ’&lt;/strong&gt;æ ‡ç­¾é¡µå¯ä»¥é€‰æ‹©ä¹‹å‰åˆ›å»ºå¥½çš„&lt;strong&gt;Every Month&lt;/strong&gt;è®¡åˆ’ï¼Œè®¡åˆ’æ‰§è¡ŒäºDynatrace Serverã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdPls/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;&lt;strong&gt;æŠ¥å‘Šè®¾ç½®&lt;/strong&gt;å¯ä»¥é€‰æ‹©æŠ¥å‘Šæ ¼å¼ï¼Œæ”¯æŒä»¥ä¸‹æ ¼å¼ï¼šPDFã€WORDã€HTMLã€XMLã€EXCELã€CSVã€‚è¿™é‡Œé€‰æ‹©HTMLæ ¼å¼ï¼Œå¯ä»¥ç›´æ¥æ˜¾ç¤ºåœ¨é‚®ä»¶é‡Œã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdWZP/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;strong&gt;é«˜çº§&lt;/strong&gt; -&amp;gt; &lt;strong&gt;è¯¦ç»†ä¿¡æ¯&lt;/strong&gt; ä¸­å¯ä»¥è¿›è¡Œæ›´å¤šç»†èŠ‚è®¾ç½®ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fe8zz/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥è‡ªå®šä¹‰logoã€æ˜¾ç¤ºè¡Œæ•°ã€æ˜¾ç¤ºçš„ä»ªè¡¨å›¾ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fecyh/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®å®Œæˆå&lt;strong&gt;è¿è¡Œè®¡åˆ’&lt;/strong&gt;ï¼Œè¿è¡ŒåæœˆæŠ¥æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FejjI/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒDynatraceåˆ›å»ºå®šæ—¶ä»»åŠ¡--æœˆæŠ¥å…¨éƒ¨å®Œæˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-11-create-shedule-task.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 12.Dynatraceç»†èŠ‚ä¼˜åŒ–</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-12-appmon-optimization.html</link><description>&lt;h2 id="_1"&gt;åº”ç”¨å“åº”æ—¶é—´å¤±è´¥ç‡é˜ˆå€¼ä¼˜åŒ–&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatraceçš„åº”ç”¨ç›¸å…³é˜ˆå€¼ï¼ˆåŒ…æ‹¬ï¼šå“åº”æ—¶é—´ã€æœ€æ…¢å“åº”æ—¶é—´ã€å¤±è´¥ç‡ï¼‰æ˜¯ç”±Dynatrace çš„&lt;strong&gt;Smart Baseline&lt;/strong&gt; åŠŸèƒ½æ¥è¿›è¡ŒåŠ¨æ€è°ƒæ•´çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨:&lt;br&gt;
å…·ä½“çš„å®ç°åŸç†å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Baseline+and+Smart+Alerting+Explained"&gt;Baseline and Smart Alerting Explained&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¤§è‡´æ˜¯æ ¹æ®&lt;strong&gt;è¿‡å»7å¤©&lt;/strong&gt;çš„è¡¨ç°æ¥è¿›è¡ŒåŠ¨æ€è°ƒæ•´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨æŸäº›ç‰¹æ®Šåº”ç”¨ä¸­ï¼ŒDynatraceçš„è‡ªåŠ¨åŸºçº¿å¹¶ä¸ç¬¦åˆç”Ÿäº§ç³»ç»Ÿçš„å®é™…æƒ…å†µï¼Œä¼šå‡ºç°è¾ƒå¤šçš„è¯¯æŠ¥ã€‚å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtsLv/5BIUQ.png"&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®åº”ç”¨çš„å®é™…æƒ…å†µå°†åŠ¨æ€åŸºçº¿æ”¹ä¸ºé™æ€åŸºçº¿ã€‚&lt;/p&gt;
&lt;h3 id="_3"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢ä»¥ä¿®æ”¹å…·ä½“è¯·æ±‚çš„å“åº”æ—¶é—´åŸºçº¿ä¸ºä¾‹ï¼Œæ¥è¯´æ˜å¦‚ä½•å¯¹åŸºçº¿ã€é˜ˆå€¼è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨DynatraceæŒ‡å®šç³»ç»Ÿé…ç½®æ–‡ä»¶çš„&lt;strong&gt;ç›‘æ§&lt;/strong&gt;é¡µé¢ -&amp;gt; ç‚¹å‡»ä¸­ä¸‹æ–¹çš„&lt;strong&gt;åº”ç”¨ç¨‹åº&lt;/strong&gt; -&amp;gt; é€‰æ‹©å¯¹åº”çš„åº”ç”¨ -&amp;gt; é€‰æ‹©éœ€è¦è°ƒæ•´çš„&lt;strong&gt;ä¸šåŠ¡åˆ†æ&lt;/strong&gt; -&amp;gt; ç‚¹å‡»å…·ä½“ä¸šåŠ¡åˆ†æçš„&lt;strong&gt;é½¿è½®&lt;/strong&gt;å›¾æ ‡ -&amp;gt; é€‰æ‹©&lt;strong&gt;é…ç½®åŸºå‡†&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRu0Af/aY6N4.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;è·³å‡ºå¦‚ä¸‹&lt;strong&gt;åŸºå‡†è®¾ç½®&lt;/strong&gt;å¯¹è¯æ¡†ã€‚å¯ä»¥è®¾ç½®å¤±è´¥ç‡ã€å“åº”æ—¶é—´ã€æ˜¯å¦å‘Šè­¦ç­‰å†…å®¹ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å°†&lt;strong&gt;å“åº”æ—¶é—´&lt;/strong&gt;è®¾ç½®ä¸ºé™æ€åŸºå‡†ï¼š1000msã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtDaw/nPr34.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;å°†&lt;strong&gt;æœ€æ…¢å“åº”æ—¶é—´&lt;/strong&gt;ï¼ˆæœ€æ…¢çš„10%è¯·æ±‚ï¼‰çš„é™æ€åŸºå‡†è®¾ä¸ºï¼š10000msã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtFcD/WkmXY.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;è‡³æ­¤è®¾ç½®å®Œæˆï¼Œå›åˆ°&lt;strong&gt;åº”ç”¨ç¨‹åº&lt;/strong&gt; -&amp;gt; å…·ä½“çš„ä¸šåŠ¡åˆ†æé¡µé¢ã€‚æˆ‘ä»¬çœ‹åˆ°åŸºå‡†å·²ç»æŒ‰ç…§é…ç½®è°ƒæ•´ä¸ºé™æ€ã€‚ï¼ˆç»¿è‰²çº¿æ¡ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtNUs/QklZs.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-12-appmon-optimization.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 13.Dynatrace Agent è¿ç§»</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-13-move-agent.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç”±äºDynatrace çš„Licenseæœ‰ç±»å‹ã€æ•°é‡ä¸Šçš„é™åˆ¶ï¼ˆé™åˆ¶åŒæ—¶æ¥å…¥çš„agentæ•°é‡ï¼‰ï¼Œä½†æ˜¯å¹¶ä¸é™åˆ¶agentå¿…é¡»æ°¸è¿œåµŒå…¥åŒä¸€ä¸ªJVMä¸­ã€‚è€Œä¸”ï¼Œæ ¹æ®ç”Ÿäº§ç¯å¢ƒä¸­ä¸åŒåº”ç”¨ç³»ç»Ÿçš„ä¸Šä¸‹çº¿ï¼Œä¹Ÿéœ€è¦å¯¹Dynatrace çš„Agentè¿›è¡Œè°ƒæ•´è¿ç§»ï¼Œä»¥æœ€å¤§åŒ–åœ°å‘æŒ¥Dynatraceçš„ç›‘æ§ä»·å€¼ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace Agentè¿ç§»ä¸»è¦åˆ†ä¸º3å¤§æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dynatraceè¿ç§»å‰ç›¸å…³å‘Šè­¦é¡¹çš„ä¸´æ—¶å…³é—­ï¼ˆå³åˆ›å»ºDynatraceäº‹ä»¶&lt;strong&gt;åœæœºæ—¶é—´&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Agentä»åŸæœ‰JVMä¸­ç§»é™¤ï¼Œå¹¶é‡å¯å¯¹åº”JVM&lt;/li&gt;
&lt;li&gt;AgentåµŒå…¥æ–°çš„JVMï¼Œå¹¶é‡å¯å¯¹åº”JVM&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;h3 id="_3"&gt;åˆ›å»ºåœæœºæ—¶é—´&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å·¦ä¾§&lt;strong&gt;é©¾é©¶èˆ±&lt;/strong&gt;ä¸­ï¼ŒåŒå‡»&lt;strong&gt;äº‹ä»¶&lt;/strong&gt;ï¼Œå‡ºç°äº‹ä»¶ä»ªè¡¨æ¿ -&amp;gt; ç‚¹å‡»â€œæ—¦â€å½¢çš„åœæœºæ—¶é—´å›¾æ ‡ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»åˆ›å»ºå¥½çš„åœæœºæ—¶é—´è§„åˆ™ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wRLW/iZTj3.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;å³å‡»&lt;strong&gt;åœæœºæ—¶é—´&lt;/strong&gt;è¡¨æ ¼ç©ºç™½å¤„ -&amp;gt; &lt;strong&gt;åˆ›å»ºåœæœºæ—¶é—´&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wEfp/6NQPj.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;è·³å‡º&lt;strong&gt;åˆ›å»ºåœæœºæ—¶é—´&lt;/strong&gt;å¯¹è¯æ¡†ï¼ŒåŒ…æ‹¬ï¼šåœæœºå¼€å§‹æ—¶é—´åŠæŒç»­æ—¶é—´ï¼›é‡å¤å‘¨æœŸï¼›ç»“æŸæ—¶é—´ã€‚æ­¤å¤„é…ç½®å¦‚ä¸‹å›¾ï¼Œç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3xe7v/11CaLh.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;é€‰æ‹©å¯¹åº”çš„å‘Šè­¦äº‹ä»¶ï¼Œæ­¤å¤„éœ€è¦é€‰æ‹©å¯¹åº”çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶çš„å‘Šè­¦äº‹ä»¶ï¼š&lt;strong&gt;Application Process Unavailable (unexpected)&lt;/strong&gt; ï¼Œå¹¶ç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3xnC3/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;é…ç½®å®Œæˆåï¼Œè¿”å›åœæœºæ—¶é—´è¡¨æŸ¥çœ‹ï¼Œè§„åˆ™å·²å­˜åœ¨ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wJlM/QbX65.jpg"&gt;&lt;/p&gt;
&lt;h3 id="dynatrace-agent"&gt;ç§»é™¤Dynatrace Agent&lt;a class="headerlink" href="#dynatrace-agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;è¯´æ˜:&lt;br&gt;
ä»¥Weblogicä¸ºä¾‹ã€‚å…¶ä»–ä¸­é—´ä»¶æ“ä½œç±»ä¼¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¤‡ä»½å¯¹åº”ä¸­é—´ä»¶å®ä¾‹å¯åŠ¨è„šæœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å–æ¶ˆå¯¹åº”ä¸­é—´ä»¶å®ä¾‹å¯åŠ¨è„šæœ¬ä¸­çš„Dynatrace Agentå­—æ®µï¼Œç§»é™¤å¯åŠ¨è„šæœ¬ä¸­çš„å¦‚ä¸‹å†…å®¹ï¼š&lt;code&gt;-agentpath:&amp;lt;DT_HOME&amp;gt;/agent/lib/libdtagent.so=name=&amp;lt;AgentName&amp;gt;, server=&amp;lt;dynaTraceCollectorName&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é‡å¯çª—å£æ—¶é—´æ®µå†…ï¼Œé‡å¯å¯¹åº”ä¸­é—´ä»¶å®ä¾‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»é™¤Dynatrace Agentå·²å®Œæˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="dynatrace-agent_1"&gt;å®‰è£…Dynatrace Agent&lt;a class="headerlink" href="#dynatrace-agent_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯·å‚è€ƒæ–‡æ¡£ï¼š&lt;a href="http://cloud.189.cn/t/V7VZze3uqERv"&gt;dynaTraceå®‰è£…æ–‡æ¡£- 6.4  Agent é…ç½®&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®‰è£…å®Œæˆåï¼Œå¯ä»¥åœ¨Dynatraceå®¢æˆ·ç«¯å·¦è¾¹&lt;strong&gt;é©¾é©¶èˆ±&lt;/strong&gt; -&amp;gt; åŒå‡»&lt;strong&gt;Agentæ¦‚è¿°&lt;/strong&gt; -&amp;gt; æŸ¥çœ‹è¿ç§»åçš„Agentæ˜¯å¦å­˜åœ¨åŠæŠ“å–çš„Purepathæ€»æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒDynatrace Agentè¿ç§»å®Œæˆã€‚&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-13-move-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 14.Dynatraceåˆ›å»ºServer-sideä¸šåŠ¡åˆ†æ</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-14-create-server-side-bussiness-transaction.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸šåŠ¡åˆ†æï¼ˆ&lt;strong&gt;Business Transaction&lt;/strong&gt;ï¼‰å¯ä»¥ç»è¿‡å¯¹åº”ç”¨çš„åˆ†ææ¥è·Ÿè¸ªä¸€äº›ç‰¹æ®Šçš„äº¤æ˜“ï¼ˆå¦‚ï¼šç™»é™†å’Œè´­ä¹°ï¼‰ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è·Ÿè¸ªæŸåº”ç”¨ç‰¹å®šç”¨æˆ·ç¾¤çš„ç™»é™†æ“ä½œå“åº”æ—¶é—´ã€‚ä¸šåŠ¡åˆ†æåŒ…å«è¿‡æ»¤æ–¹æ³•æ¥æ£€æŸ¥æŒ‡å®šçš„ç”¨æˆ·æ ‡ç­¾çš„å‡ºç°ï¼ˆå¦‚ï¼šä¸€ä¸ªæ ‡è®°è¿‡çš„webè¯·æ±‚æµ‹é‡ï¼‰ã€‚é»˜è®¤ä¼šè®¡ç®—å“åº”æ—¶é—´å’Œè®¡æ•°ã€‚æ‹†åˆ†æ–¹æ³•é»˜è®¤æ˜¯&lt;strong&gt;åº”ç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹Dynatraceçš„ä¸šåŠ¡åˆ†æåˆå¯ä»¥æ ¹æ®æ•°æ®æ¥æºçš„ä¸åŒï¼Œç»†åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºServerç«¯æ•°æ®çš„ä¸šåŠ¡åˆ†æ&lt;/li&gt;
&lt;li&gt;åŸºäºUEMç”¨æˆ·è®¿é—®æ•°æ®çš„ä¸šåŠ¡åˆ†æ&lt;/li&gt;
&lt;li&gt;åŸºäºUEMç”¨æˆ·è¡Œä¸ºæ•°æ®çš„ä¸šåŠ¡åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ¬¡å°†ä»‹ç»å¦‚ä½•åˆ›å»ºServer-sideä¸šåŠ¡åˆ†æã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ¡ˆä¾‹ä»‹ç»&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å®¢æˆ·å‘ç°äººå¯¿æ˜¾ç¤ºå½±åƒèµ„æ–™é¢‘ç¹å‘Šè­¦ç›¸åº”ç¼“æ…¢ã€‚æ€€ç–‘ä¸ç”¨æˆ·å’Œå…·ä½“çš„IPæœ‰å…³ï¼Œå¸Œæœ›åˆ›å»ºé’ˆå¯¹&lt;strong&gt;æ˜¾ç¤ºå½±åƒ&lt;/strong&gt;è¿™ä¸€ä¸šåŠ¡ï¼ŒæŒ‰ç…§ç”¨æˆ·åå’ŒIPåœ°å€è¿›è¡Œæ‹†åˆ†è¿‡æ»¤ã€‚ä»¥è¿›ä¸€æ­¥åˆ†æã€‚&lt;/p&gt;
&lt;h2 id="_3"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨:&lt;br&gt;
æ¨èä½¿ç”¨&lt;strong&gt;ç¬¬ä¸€ä¸ª&lt;/strong&gt;è€Œä¸æ˜¯&lt;strong&gt;æœ€åä¸€ä¸ª&lt;/strong&gt;æ¥ä½œä¸ºä¸šåŠ¡åˆ†æçš„ç­›é€‰æ¡ä»¶ã€‚&lt;br&gt;
è¿™2è€…çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼šå¦‚æœPurePathæ ‘å¾ˆé•¿çš„è¯ï¼Œæœ€åä¸€ä¸ªå°†å¯¼è‡´æ¯ä¸ªæ–¹æ³•éƒ½ä¼šæŸ¥çœ‹ä¸€éï¼Œå¦‚æœæ˜¯ç¬¬ä¸€ä¸ªï¼Œå°±åªçœ‹ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±è¡Œäº†&lt;br&gt;
æ‰€ä»¥&lt;strong&gt;ç¬¬ä¸€ä¸ª&lt;/strong&gt;ä½œä¸ºç­›é€‰æ¡ä»¶æ•ˆç‡ä¼šé«˜å¾ˆå¤šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ“ä½œæ­¥éª¤åˆ†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºç‰¹å®šä¸šåŠ¡çš„&lt;strong&gt;æµ‹é‡ï¼ˆmeasureï¼‰&lt;/strong&gt; -- &lt;em&gt;1-4æ­¥&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä½œä¸ºè¿‡æ»¤æ¡ä»¶çš„&lt;strong&gt;æµ‹é‡&lt;/strong&gt;--å®¢æˆ·ç«¯IPã€ç”¨æˆ·å -- &lt;em&gt;5-7æ­¥&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;strong&gt;ä¸šåŠ¡åˆ†æ&lt;/strong&gt; --  &lt;em&gt;8-11æ­¥&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;è¿›å…¥æŒ‡å®šç³»ç»Ÿé…ç½®æ–‡ä»¶çš„&lt;strong&gt;ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶&lt;/strong&gt;èœå•ï¼Œåœ¨å·¦é¢æ¿æ‰¾åˆ°&lt;strong&gt;æµ‹é‡&lt;/strong&gt;æ ‡ç­¾ï¼Œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeeHe/sgCJu.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;åˆ›å»ºæµ‹é‡...&lt;/strong&gt; ï¼Œè¿™é‡Œéœ€è¦æŒ‰ç…§&lt;strong&gt;URIæ¨¡å¼å€¼&lt;/strong&gt;è¿›è¡Œåˆ›å»ºã€‚å¦‚ä¸Šå›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·³å‡ºåˆ›å»ºæ–°æµ‹é‡å¯¹è¯æ¡†ï¼Œå¯ä»¥é€šè¿‡ctrl+f ç›´æ¥æŸ¥æ‰¾å…³é”®å­—ï¼ˆåœ¨ä»»ä½•åˆ—è¡¨ç±»ç•Œé¢éƒ½å¯ä»¥æœç´¢ï¼‰ -&amp;gt; ç‚¹å‡»&lt;strong&gt;webè¯·æ±‚ - URIæ¨¡å¼å€¼&lt;/strong&gt;ï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚å¡«å†™ï¼šåç§°ã€URIæ¨¡å¼å’Œå€¼ã€æ‹†åˆ†ç­‰å†…å®¹ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeyWo/2g7eJ.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;é…ç½®å¥½çš„&lt;strong&gt;æ˜¾ç¤ºå½±åƒ&lt;/strong&gt;ï¼ˆshowimageï¼‰çš„æµ‹é‡å¦‚ä¸‹ï¼Œå¹¶ç‚¹å‡»&lt;strong&gt;ç¡®å®š&lt;/strong&gt; ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeWmD/x6wu1.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;å†æ¬¡ç‚¹å‡»&lt;strong&gt;åˆ›å»ºæµ‹é‡...&lt;/strong&gt;,æŸ¥æ‰¾å¹¶é€‰æ‹©&lt;strong&gt;Webè¯·æ±‚ - å®¢æˆ·ç«¯IP&lt;/strong&gt;ï¼Œå¹¶ç‚¹å‡»&lt;strong&gt;æ·»åŠ &lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkef6xe/SGhyA.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;å†æ¬¡ç‚¹å‡»&lt;strong&gt;åˆ›å»ºæµ‹é‡...&lt;/strong&gt;,æŸ¥æ‰¾å¹¶é€‰æ‹©&lt;strong&gt;Webè¯·æ±‚ - ä¼šè¯å±æ€§å€¼&lt;/strong&gt; ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefgJ3/mTATJ.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;å¹¶è¿›è¡Œè¯¦ç»†çš„é…ç½®ï¼Œé…ç½®å¯ä»¥æŠ“å–åˆ°ç”¨æˆ·åçš„&lt;strong&gt;ä¼šè¯å±æ€§&lt;/strong&gt;ï¼Œæœ¬ä¾‹ä¸­çš„ä¼šè¯å±æ€§ä¸ºï¼š&lt;strong&gt;lifeuser.getUserName()&lt;/strong&gt;ã€‚å…³äºå…·ä½“çš„ä¼šè¯å±æ€§ï¼Œå¯ä»¥è¯¢é—®åº”ç”¨é¡¹ç›®ç»„çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Dynatraceè¿›è¡Œé…ç½®åå‘ç°ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefpPU/EZUFO.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;å›åˆ°&lt;strong&gt;ç³»ç»Ÿé…ç½®æ–‡ä»¶é¦–é€‰é¡¹&lt;/strong&gt;ï¼Œåœ¨å·¦é¢ç‰ˆç‚¹å‡»ä¸šåŠ¡åˆ†æï¼Œç‚¹å‡»&lt;strong&gt;åˆ›å»º...&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeqoQ/whjeF.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;è·³å‡º&lt;strong&gt;ä¸šåŠ¡åˆ†æç¼–è¾‘å™¨&lt;/strong&gt;å¯¹è¯æ¡†ã€‚å…ˆå¯¹&lt;strong&gt;ç­›é€‰å™¨&lt;/strong&gt;è¿›è¡Œé€‰æ‹©ï¼Œç‚¹å‡»â€œ&lt;strong&gt;+&lt;/strong&gt;â€æŒ‰é’®ï¼Œé€‰æ‹©ä¹‹å‰åˆ›å»ºå¥½çš„&lt;strong&gt;showimage&lt;/strong&gt;æµ‹é‡ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefBbi/10GYpe.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;
&lt;p&gt;å†å¯¹ç»“æœæŠ“å–ç»“æœè¿›è¡Œæ‹†åˆ†ï¼Œåœ¨&lt;strong&gt;æ‹†åˆ†ç»“æœ&lt;/strong&gt;æ  -&amp;gt; ç‚¹å‡»â€œ&lt;strong&gt;+&lt;/strong&gt;â€æŒ‰é’®ï¼Œé€‰æ‹©ä¹‹å‰åˆ›å»ºå¥½çš„æµ‹é‡--ç”¨æˆ·åå’Œå®¢æˆ·ç«¯IPã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefKdS/wNnu6.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®&lt;strong&gt;æ‹†åˆ†é€‰é¡¹&lt;/strong&gt;ï¼ŒæŒ‰ç…§éœ€æ±‚è¿›è¡Œæ‹†åˆ†ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefVOx/xWmhe.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡³æ­¤åˆ›å»ºServer-sideä¸šåŠ¡åˆ†æå®Œæˆã€‚å¯ä»¥é€‰æ‹©æŒ‰ç…§&lt;strong&gt;å¹³å‡å“åº”æ—¶é—´&lt;/strong&gt;æ’åºï¼Œæ’åºåä¸‹æ–¹ä¼šæ˜¾ç¤ºå‡ºå¹³å‡å“åº”æ—¶é—´å æ¯”çš„é¥¼å›¾ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeg73O/5odkC.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;è¯´æ˜:&lt;br&gt;
å…³äºç¬¬7æ­¥ï¼Œå¦‚æœéœ€è¦æµ‹é‡è¯¥æŒ‡æ ‡ï¼Œåˆ™åº”è¯¥å…ˆæŠ“å–è¯¥æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;è¦æŠ“å–è¯¥æŒ‡æ ‡ï¼Œéœ€è¦é…ç½®Servletçš„ä¼ æ„Ÿå™¨å±æ€§ã€‚å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkrJrPK/PRzj5.jpg"&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-14-create-server-side-bussiness-transaction.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 15.Dynatraceåˆ›å»ºServer-sideä¸šåŠ¡åˆ†æ - å®æ—¶æŠ“å–æŸç³»ç»Ÿå¤§äº30sçš„è¯·æ±‚</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-15-create-serverside-bt-another-example.html</link><description>&lt;h2 id="_1"&gt;æ¡ˆä¾‹ä»‹ç»&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æŸç³»ç»Ÿæ˜¯æŸä¿é™©å…¬å¸çš„æ ¸å¿ƒç³»ç»Ÿã€‚éœ€è¦å¯¹ç³»ç»Ÿè¿›è¡Œæ€§èƒ½ä¸Šçš„ä¼˜åŒ–å·¥ä½œï¼Œå¼€å‘åŠé¡¹ç›®ç»„åŒäº‹æƒ³è¦æŠ“å–åˆ°ç³»ç»Ÿä¸Šä¸ªæœˆæ‰€æœ‰å“åº”æ—¶é—´è¶…è¿‡30sçš„è¯·æ±‚ï¼Œä»¥åŠè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚è¯·æ±‚çš„å…·ä½“æ—¶é—´ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ€è·¯åˆ†è§£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºé’ˆå¯¹ &lt;strong&gt;æ ¸å¿ƒç³»ç»Ÿ&lt;/strong&gt;å“åº”æ—¶é—´&lt;strong&gt;å¤§äº30s&lt;/strong&gt;çš„&lt;strong&gt;web è¯·æ±‚&lt;/strong&gt;çš„æµ‹é‡ï¼› -- ç¬¬1-3æ­¥&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸šåŠ¡åˆ†æï¼Œç”¨æ¥ç­›é€‰å¹¶æŒ‰ç…§URIæ‹†åˆ†ç›¸åº”çš„è¯·æ±‚ï¼›-- ç¬¬4-8æ­¥&lt;/li&gt;
&lt;li&gt;ç»“æœå±•ç¤º -- ç¬¬9-10æ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿›å…¥&lt;strong&gt;ç³»ç»Ÿé…ç½®æ–‡ä»¶é¦–é€‰é¡¹&lt;/strong&gt; -&amp;gt; å·¦é¢ç‰ˆ&lt;strong&gt;æµ‹é‡&lt;/strong&gt; -&amp;gt;  æŸ¥æ‰¾&lt;strong&gt;webè¯·æ±‚&lt;/strong&gt;-&lt;strong&gt;æ—¶é—´&lt;/strong&gt; æµ‹é‡ -&amp;gt; å¤åˆ¶&lt;strong&gt;webè¯·æ±‚æµ‹é‡&lt;/strong&gt; ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3gTEn/10SqYN.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;è·³å‡ºç¼–è¾‘æµ‹é‡å±æ€§çš„å¯¹è¯æ¡†ï¼Œåœ¨&lt;strong&gt;é˜ˆå€¼&lt;/strong&gt; -&amp;gt; ä¸¥é‡çº§åˆ«ä¸Šé™å€¼è®¾ç½®ä¸º 30000msï¼Œå¦‚ä¸‹å›¾:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hgdf/5lMEx.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;è½¬åˆ°&lt;strong&gt;è¯¦ç»†ä¿¡æ¯&lt;/strong&gt;æ ‡ç­¾é¡µï¼Œé€‰æ‹©è¦æŠ“å–è¯·æ±‚çš„ç³»ç»Ÿ--&lt;strong&gt;æ ¸å¿ƒç³»ç»Ÿ&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hmv8/pTYrW.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;åœ¨&lt;strong&gt;ç³»ç»Ÿé…ç½®æ–‡ä»¶é¦–é€‰é¡¹&lt;/strong&gt; -&amp;gt; &lt;strong&gt;åˆ›å»º...&lt;/strong&gt; ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hBdF/byLKG.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;è·³å‡º&lt;strong&gt;ä¸šåŠ¡åˆ†æç¼–è¾‘å™¨&lt;/strong&gt;ï¼Œè®¾ç½®ä¸šåŠ¡åˆ†æçš„&lt;strong&gt;åç§°&lt;/strong&gt;ã€&lt;strong&gt;æè¿°&lt;/strong&gt;ã€&lt;strong&gt;ç­›é€‰å™¨&lt;/strong&gt;ã€‚ç‚¹å‡»ç­›é€‰å™¨å³ä¾§â€œ+â€æŒ‰é’®ï¼Œé€‰æ‹©ä¹‹å‰åˆ›å»ºçš„æµ‹é‡ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hRyy/2DyIX.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;é€‰æ‹©ä¸šåŠ¡åˆ†ææ‹†åˆ†æ–¹å¼ã€‚ç‚¹å‡»&lt;strong&gt;æ‹†åˆ†ç»“æœ&lt;/strong&gt; -&amp;gt; ç‚¹å‡»â€œ+â€æŒ‰é’® -&amp;gt; é€‰æ‹©å¯¹åº”çš„æ‹†å°è§„åˆ™ã€‚æœ¬ä¾‹ä¸­åº”è¯¥é€‰æ‹©çš„æ‹†åˆ†è§„åˆ™ä¸ºï¼š&lt;strong&gt;å®Œæ•´çš„URI&lt;/strong&gt;ã€‚ï¼ˆå›¾ç‰‡ä»…ç”¨ä½œè¯´æ˜ï¼‰å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3i4uG/HzFFm.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;é€‰æ‹©æ‹†åˆ†é™åˆ¶ã€‚ç‚¹å‡»&lt;strong&gt;æ‹†åˆ†é€‰é¡¹...&lt;/strong&gt; ï¼Œè·³å‡ºæ‹†åˆ†é€‰é¡¹å¯¹è¯æ¡†ï¼Œé€‰æ‹©&lt;strong&gt;ä¸é™åˆ¶&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3ibxt/KIdRF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;é…ç½®å®Œæˆåçš„&lt;strong&gt;ä¸šåŠ¡åˆ†æ&lt;/strong&gt;å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hHP6/FMqWt.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;è‡³æ­¤ï¼Œä¸šåŠ¡åˆ†æé…ç½®å®Œæˆã€‚æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹å›¾ï¼ˆè¯¥å›¾å±•ç¤ºçš„æ˜¯å…³äºç¬¦åˆæ¡ä»¶çš„URIçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œä¸Šè¡¨æ˜¾ç¤ºçš„ç»“æœæŒ‰ç…§å®Œæ•´çš„URIè¿›è¡Œæ‹†åˆ†ï¼Œæ¯ä¸ªæ‹†åˆ†é¡¹éƒ½æœ‰&lt;strong&gt;è®¡æ•°&lt;/strong&gt;ã€&lt;strong&gt;å¹³å‡å“åº”æ—¶é—´&lt;/strong&gt; ç­‰ç»Ÿè®¡æ•°æ®ï¼›ä¸‹å›¾ä¸­æŒ‰ç…§éœ€æ±‚å¯ä»¥å¯¹&lt;strong&gt;è®¡æ•°&lt;/strong&gt;ã€&lt;strong&gt;å¹³å‡å“åº”æ—¶é—´&lt;/strong&gt;ç­‰ç”Ÿæˆé¥¼å›¾ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3ijPU/14leMe.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;å¦‚æœéœ€è¦æŸ¥çœ‹æ¯ä¸ªURIæ‰§è¡Œçš„&lt;strong&gt;å¼€å§‹æ—¶é—´&lt;/strong&gt;ã€&lt;strong&gt;æŒç»­æ—¶é—´&lt;/strong&gt;ã€&lt;strong&gt;æ‰§è¡Œå †æ ˆ&lt;/strong&gt;ã€&lt;strong&gt;å®¢æˆ·ç«¯IP&lt;/strong&gt;ç­‰è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥å³å‡»å¯¹åº”çš„URIï¼Œç‚¹å‡»&lt;strong&gt;æ·±å…¥åˆ†æ&lt;/strong&gt; -&amp;gt; PurePath è·³è½¬åˆ°PurePathç•Œé¢ï¼Œä»¥æ­¤æ¥æŸ¥çœ‹å®Œæ•´çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-15-create-serverside-bt-another-example.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 16.Dynatraceåˆ›å»ºServer-sideä¸šåŠ¡åˆ†æå®æˆ˜æ¡ˆä¾‹3</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-16-create-serverside-bt-3rd-example.html</link><description>&lt;h2 id="_1"&gt;æ¡ˆä¾‹ä»‹ç»&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æŸå…³é”®ä¸šåŠ¡ä¸ä»…ä»…éœ€è¦URIè¿›è¡Œè¿‡æ»¤ï¼ŒåŒæ—¶éœ€è¦å¯¹queryå­—æ®µ&lt;em&gt;busiid&lt;/em&gt;å’Œ&lt;em&gt;showflag&lt;/em&gt;è¿›è¡Œè¿‡æ»¤ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ€è·¯åˆ†è§£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®sensorå±æ€§ - &lt;strong&gt;Servlet&lt;/strong&gt; çš„&lt;strong&gt;è¯·æ±‚å±æ€§&lt;/strong&gt; -- æ·»åŠ å¯¹åº”çš„queryå­—æ®µï¼›&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸šåŠ¡åˆ†æï¼Œé…ç½®æŒ‡å®šçš„POSTçš„URIã€queryï¼›&lt;/li&gt;
&lt;li&gt;å°†é…ç½®å¥½çš„æµ‹é‡ä½œä¸ºç»„åˆæ¡ä»¶é…ç½®ä¸šåŠ¡åˆ†æã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;è¯´æ˜:&lt;br&gt;
éœ€è¦å®ç°çš„ä¸šåŠ¡åˆ†æç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;:heavy_exclamation_mark:ä¸æ­£ç¡®çš„é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_2.jpg"&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®&lt;strong&gt;servlet&lt;/strong&gt;ä¼ æ„Ÿå™¨å±æ€§ -- &lt;strong&gt;è¯·æ±‚å‚æ•°&lt;/strong&gt; æ¥æŠ“å–å¯¹åº”çš„&lt;strong&gt;query&lt;/strong&gt;ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_4.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;åˆ›å»ºåŒ…å«æŒ‡å®šqueryçš„æµ‹é‡ -- busiid ï¼ˆé€šè¿‡&lt;strong&gt;Webè¯·æ±‚ - å‚æ•°å€¼&lt;/strong&gt; è¿™ä¸ªæ¨¡æ¿æµ‹é‡ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_5.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åˆ›å»ºåŒ…å«æŒ‡å®šqueryçš„æµ‹é‡ -- showflagï¼Œå¦‚ä¸‹å›¾:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_7.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;æ³¨æ„&lt;strong&gt;æµ‹é‡&lt;/strong&gt;çš„&lt;strong&gt;æ‹†åˆ†é˜ˆå€¼&lt;/strong&gt;è¦è®¾ç½®ä¸ºè¶…è¿‡&lt;strong&gt;1&lt;/strong&gt;å°±æ‹†åˆ†ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_6.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;é€šè¿‡ç»„åˆ3ç§æµ‹é‡ - post URI ã€ query å­—æ®µ busiidã€queryå­—æ®µshowFlag é€šè¿‡ç»„åˆ &lt;strong&gt;ä¸&lt;/strong&gt; æ¡ä»¶æ¥åˆ›å»ºä¸šåŠ¡åˆ†æã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_3.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;è‡³æ­¤ï¼Œé€šè¿‡queryè®¾ç½®ä¸šåŠ¡åˆ†æå·²ç»å®Œæˆã€‚&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-16-create-serverside-bt-3rd-example.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 17.Dynatraceä¸Tivoliæ•´åˆ</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-17-appmon-and-tivoli.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatraceä¸Tivoliæ•´åˆæ˜¯é€šè¿‡SNMPåè®®å®Œæˆçš„ã€‚Dynatraceå‘é€SNMPåè®®ä¿¡æ¯åˆ°Tivoliï¼ŒTivoliæ¥æ”¶åˆ°ä¿¡æ¯åè¿›è¡Œåˆ†æï¼Œæ ¹æ®Tivoliä¸Šç›¸åº”çš„è§„åˆ™è¿›è¡Œä¸€ç³»åˆ—çš„åŠ¨ä½œï¼Œå¦‚ï¼šå‘é€å‘Šè­¦é‚®ä»¶ã€å‘Šè­¦çŸ­ä¿¡ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Dynatraceä¸Šæœ‰&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt; æ’ä»¶ï¼Œé€šè¿‡è¯¥æ’ä»¶æ¥å®ç°SNMPåè®®çš„å‘é€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU473ky/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æä¾›MIBåº“æ–‡ä»¶ç»™SNMPç›®æ ‡ç³»ç»Ÿçš„ç®¡ç†å‘˜ã€‚ç®¡ç†å‘˜ä¼šä¸ºå…¶ç³»ç»Ÿè§£æè¯¥æ–‡ä»¶ã€‚MIBåº“æ–‡ä»¶ä¹Ÿä¼šæä¾›SNMP trapå’Œä½ ç›®æ ‡ç³»ç»Ÿé—´çš„æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨Dynatrace Serverè®¾ç½®é‡Œå¯ç”¨SNMP Action Pluginï¼š &lt;strong&gt;Dynatrace Serverè®¾ç½®&lt;/strong&gt; -&amp;gt; &lt;strong&gt;æ’ä»¶&lt;/strong&gt; -&amp;gt; &lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;ã€‚å¯ç”¨ä¹‹åï¼ŒSNMP actionå‡ºç°åœ¨&lt;strong&gt;äº‹ä»¶&lt;/strong&gt;è¡Œä¸ºåˆ—è¡¨ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;è¯´æ˜:&lt;br&gt;
Dynatrace SNMP æ˜ å°„è¯´æ˜æ–‡æ¡£ï¼š&lt;a href="http://cloud.189.cn/t/AfayAfvEjem2"&gt;Dynatrace SNMP Mapping&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“å‰MIBåº“æ–‡ä»¶åœ°å€ï¼š&lt;a href="https://community.dynatrace.com/community/download/attachments/221381746/DYNATRACE-TRAP-MIB-V2?version=1&amp;amp;modificationDate=1432016056067&amp;amp;api=v2"&gt;DYNATRACE-TRAP-MIB-V2&lt;/a&gt;ã€‚MIBä¸º2ç§å—æ”¯æŒçš„trapsæä¾›ä»¥ä¸‹å€¼ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTraceIncidentStart TRAP-TYPE&lt;br&gt;
ENTERPRISE dynaTrace&lt;br&gt;
VARIABLES (name, message, description, severity, violation, server, systemprofile, starttime)&lt;br&gt;
DESCRIPTION "Indicates that a new dynaTrace incident has begun."&lt;br&gt;
::= 1&lt;/p&gt;
&lt;p&gt;dynaTraceIncidentEnd TRAP-TYPE&lt;br&gt;
ENTERPRISE dynaTrace&lt;br&gt;
VARIABLES (name, message, description, severity, violation, server, systemprofile, starttime, endtime, duration)&lt;br&gt;
DESCRIPTION "Indicates that a dynaTrace incident has ended."&lt;br&gt;
::= 2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;é…ç½®æ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»¥é…ç½®&lt;strong&gt;å¤±è´¥ç‡å¤ªé«˜&lt;/strong&gt;äº‹ä»¶ä¸ºä¾‹ï¼Œè¯´æ˜äº‹ä»¶å¦‚ä½•é€šè¿‡SNMPåè®®å‘é€ç»™Tivoliã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å³å‡»æŒ‡å®šç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œå¼¹å‡ºç³»ç»Ÿé…ç½®æ–‡ä»¶é¦–é€‰é¡¹ -&amp;gt; å·¦é¢ç‰ˆé€‰æ‹©&lt;strong&gt;äº‹ä»¶&lt;/strong&gt; -&amp;gt; å³è¾¹ç‚¹å‡»&lt;strong&gt;å¤±è´¥ç‡å¤ªé«˜&lt;/strong&gt;äº‹ä»¶ -&amp;gt; ç‚¹å‡»&lt;strong&gt;ç¼–è¾‘&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47qEb/ZZaXa.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;è·³å‡º&lt;strong&gt;ç¼–è¾‘äº‹ä»¶è§„åˆ™&lt;/strong&gt;å¯¹è¯æ¡†ã€‚å¯ä»¥çœ‹åˆ°åœ¨ä¸‹è¾¹&lt;strong&gt;è®¾ç½®&lt;/strong&gt;é‡Œï¼Œé»˜è®¤çš„æ˜¯åŸºæœ¬è®¾ç½®ï¼Œç‚¹å‡»&lt;strong&gt;é«˜çº§é…ç½®&lt;/strong&gt;è¿›å…¥é«˜çº§è®¾ç½®é¡µé¢ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47xJD/c5CA3.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47CET/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åœ¨é¡µé¢ä¸­ç‚¹å‡»&lt;strong&gt;æ·»åŠ &lt;/strong&gt;ï¼Œè·³å‡ºå¦‚ä¸‹ç•Œé¢ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47az8/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;é€‰ä¸­&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;ï¼Œä¸‹è¾¹å‡ºç°ä¸€ç³»åˆ—ç›¸å…³å±æ€§ã€‚æ ¹æ®å¯¹åº”çš„ç›®æ ‡SNMPç³»ç»Ÿï¼ˆå¦‚Tivoliçš„ä¿¡æ¯ï¼‰æ¥è¿›è¡Œå¡«å†™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Target Host&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Target Port&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SNMP Version&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Community&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Maximum Number of Message Octets&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®Œæˆåç‚¹å‡»ç¡®å®šï¼Œç„¶ååœ¨é«˜çº§è®¾ç½®é‡Œï¼Œé€‰æ‹©æ–°é…ç½®çš„SNMPæ’ä»¶ï¼Œè®¾ç½®å‘é€SNMP trapä¿¡æ¯ çš„ä¸¥é‡æ€§çº§åˆ«ï¼ˆä¸€èˆ¬ã€è­¦å‘Šã€ä¸¥é‡ï¼‰ä»¥åŠæ‰§è¡Œçš„æ¡ä»¶ï¼ˆå¼€å§‹æ—¶ã€ç»“æŸæ—¶ã€å¼€å§‹å’Œç»“æŸæ—¶ï¼‰ã€‚ä¸¥é‡æ€§çº§åˆ«ä¸€èˆ¬è­¦å‘Šé…ç½®é‚®ä»¶å‘Šè­¦ï¼Œä¸¥é‡é…ç½®é‚®ä»¶å’ŒçŸ­ä¿¡å‘Šè­¦ï¼Œæ‰§è¡Œæ¡ä»¶ä¸€èˆ¬é€‰æ‹©&lt;strong&gt;å¼€å§‹å’Œç»“æŸæ—¶&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47iXN/PCCU0.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;åç»­å·¥ä½œç”±SNMPæ¥å—ç³»ç»Ÿçš„ç®¡ç†å‘˜è¿›è¡Œè¿›ä¸€æ­¥çš„é…ç½®ã€‚åŒ…æ‹¬ç¡®è®¤æ¶ˆæ¯é€è¾¾ï¼Œç¼–å†™å‘Šè­¦è§„åˆ™ç­‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;å…¶ä»–é…ç½®è¯´æ˜&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨æŸå…¬å¸Dynatraceä¸Tivolié…ç½®æœŸé—´ï¼Œå‡ºç°äº†è¾ƒå¤šçš„é—®é¢˜ã€‚ç°åœ¨æ•´ç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h3 id="_4"&gt;å­—ç¬¦é›†ç¼–ç &lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace SNMPçš„ç¼–ç æ ¼å¼ä¸º&lt;strong&gt;utf-8&lt;/strong&gt;ï¼Œä¸”ä¸å¯æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;è€Œè¯¥å…¬å¸Tivoliçš„ç¼–ç æ ¼å¼ä¸º&lt;strong&gt;GBK&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºç¼–ç æ ¼å¼çš„ä¸åŒï¼Œå¯¼è‡´Dynatraceé€šè¿‡SNMPåè®®å‘é€åˆ°Tivoliçš„å†…å®¹ï¼Œåœ¨æœ‰ä¸­æ–‡çš„åœ°æ–¹å‘ç”Ÿ&lt;strong&gt;å­—æ®µè·³è¡Œ&lt;/strong&gt;çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å°½é‡å‡å°‘è¯¥é—®é¢˜ï¼ŒDynatraceæµ‹é‡ã€äº‹ä»¶ç­‰ç›¸å…³å†…å®¹çš„åç§°å’Œæè¿°éƒ½å°½é‡ä¿®æ”¹ä¸º&lt;strong&gt;è‹±æ–‡&lt;/strong&gt;ï¼Œä»¥æ­¤æ¥å‡å°‘è·³è¡Œé—®é¢˜çš„å‘ç”Ÿã€‚ä½†æ˜¯å°½ç®¡æ‰€æœ‰çš„ç›¸å…³å†…å®¹éƒ½æ”¹ä¸ºè‹±æ–‡ï¼ŒDynatraceåœ¨å‘é€å‘Šè­¦çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨åŠ å…¥&lt;strong&gt;è¶…è¿‡äº†&lt;/strong&gt; å’Œ&lt;strong&gt;ä¸Šé™&lt;/strong&gt; å­—æ ·ã€‚å…·ä½“è§ç¤ºä¾‹éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œç¡®å®šäº†å¦‚ä¸‹çš„æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;dynaTraceä½¿ç”¨ä¸­æ–‡è¯­è¨€åŒ…ï¼ˆä¸ºäº†Dynatraceçš„æ˜“ç”¨æ€§è€ƒè™‘ï¼‰&lt;/li&gt;
&lt;li&gt;é‚®ä»¶å‘Šè­¦ä½¿ç”¨dynaTraceè‡ªå¸¦çš„é‚®ä»¶å‘Šè­¦æœåŠ¡&lt;/li&gt;
&lt;li&gt;Severeçº§åˆ«ã€é™æ€é˜ˆå€¼éƒ¨åˆ†å‘Šè­¦é€šè¿‡Tivoliæ¥å®ç°çŸ­ä¿¡å‘Šè­¦ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥é™æ€é˜ˆå€¼éƒ¨åˆ†å¯ä»¥é‡‡ç”¨Tivoliå‘Šè­¦ï¼Œæœ‰ä»¥ä¸‹åŸå› ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘Šè­¦æ ¼å¼ã€å­—æ®µã€å†…å®¹å›ºå®šï¼Œå³ä½¿æœ‰ä¸­æ–‡è·³è¡Œï¼Œè·³çš„è¡Œæ•°ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œå¯ä»¥é€šè¿‡Tivolié…ç½®ç»•è¿‡è¯¥é—®é¢˜&lt;/li&gt;
&lt;li&gt;ç”±äºåŠ¨æ€å‘Šè­¦ä»¥åŠDynatraceè‡ªå¸¦å‘Šè­¦æ— æ³•æ‰‹åŠ¨è¿›è¡Œè§¦å‘ï¼Œä¸”è¿™äº›å‘Šè­¦çš„æ ¼å¼ä¸é™æ€é˜ˆå€¼å‘Šè­¦æ ¼å¼ä¸åŒï¼Œæ‰€ä»¥å¹¶æœªå°†è¿™äº›å‘Šè­¦å‘é€åˆ°Tivoliã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;Dynatraceå‘ç»™Tivoliçš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HEX&lt;/strong&gt;æ ¼å¼å†…å®¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;e8 b6 85 e8 bf 87 e4&lt;br&gt;
ba 86 20 57 65 62 4c 6f 67 69 63 20 39 2b 2f 45 4a 42 20 50 6f 6f 6c 20 54 69&lt;br&gt;
6d 65 6f 75 74 20 54 6f 74 61 6c 20 43 6f 75 6e 74 20 3a 20 3c 6c 69 66 65 2d&lt;br&gt;
73 65 72 76 69 63 65 5f 65 69 6e 73 75 3e 20 4a 44 42 43 5f 53 74 61 74 65 20 3c&lt;br&gt;
61 6c 6c 2d 61 70 70 6c 69 63 61 74 69 6f 6e 73 3e 20 28 54 50 4c 69 66 65 5f&lt;br&gt;
77 6c 73 5f 63 78 6a 6b 5f 6c 62 74 5f 33 36 5b 6c 62 74 61 70 70 53 65 72 76&lt;br&gt;
65 72 31 5d 40 73 68 74 70 6c 73 65 65 70 6f 72 74 6c 62 74 30 31 29 20 e4 b8&lt;br&gt;
8a e9 99 90&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;utf-8&lt;/strong&gt; æ ¼å¼å†…å®¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¶…è¿‡äº†&lt;br&gt;
WebLogic 9+/EJB Pool Timeout Total Count : &lt;life-service_einsu&gt;&lt;br&gt;
JDBC_State &lt;all-applications&gt;&lt;br&gt;
(TPLife_wls_cxjk_lbt_36[lbtappServer1]@shtplseeportlbt01) ä¸Šé™&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;GBK&lt;/strong&gt;å†…å®¹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç“’å‘°ç¹ƒæµœ?WebLogic9+/EJB Pool Timeout Total Count : &lt;life-service_einsu&gt; JDBC_State&lt;all-applications&gt;(TPLife_wls_cxjk_lbt_36[lbtappServer1]@shtplseeportlbt01) æ¶“å©‡æªº&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»è¿‡æ’æŸ¥ï¼Œç¡®å®šè¯¥å­—æ ·ä½äºï¼š&lt;strong&gt;oracle jreçš„libåº“--rt.jaråŒ…ä¸­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/path/to/dynatrace/dynatrace-6.2/jre/lib/rt.jar&lt;/p&gt;
&lt;p&gt;å…·ä½“ä½äºï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMessages_zh_CN.class&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åªè¦Dynatrace Serveré€‰æ‹©äº†ä¸­æ–‡è¯­è¨€ï¼Œå°±ä¼šè‡ªåŠ¨åŠ å…¥è¯¥å­—æ ·ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œå‘ç°å› ä¸ºåŠ å…¥çš„å­—æ ·ç±»ä¼¼ï¼Œå¯¼è‡´çš„&lt;strong&gt;è·³è¡Œ&lt;/strong&gt;éƒ½æ˜¯è·³äº†å›ºå®šçš„è¡Œæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨Tivoliä¸Šå¯¹è·³äº†ä¹‹åçš„è¡Œè¿›è¡Œè§£æï¼Œå¾—åˆ°äº†æ­£ç¡®çš„å‘Šè­¦ä¿¡æ¯ã€‚é€šè¿‡è¯¥æ–¹æ³•ç»•è¿‡äº†å­—ç¬¦é›†å†²çªçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id="hostnameip"&gt;HOSTNAMEä¸IPæ˜ å°„&lt;a class="headerlink" href="#hostnameip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç”±äºDynatraceå‘é€çš„å‘Šè­¦ä¿¡æ¯éƒ½æ˜¯å…·ä½“çš„HOSTNAMEè€Œä¸æ˜¯å¯¹åº”çš„IPã€‚è€ŒTivoliæ˜¯é€šè¿‡IPæ¥æ‰¾åˆ°å¯¹åº”çš„ç³»ç»Ÿå¹¶å‘Šè­¦ã€‚æ‰€ä»¥ï¼Œä¸ºäº†æ­£ç¡®åœ°å‘Šè­¦ï¼Œåœ¨Tivoliä¸­åŠ å…¥äº†Dynatraceæ‰€ç›‘æ§ä¸»æœºçš„&lt;strong&gt;HOSTNAME&lt;/strong&gt;å’Œ&lt;strong&gt;IP&lt;/strong&gt;çš„æ˜ å°„è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;åç»­å¦‚æœ‰æ–°å¢æˆ–è°ƒæ•´ç›‘æ§ä¸»æœºï¼Œéœ€è¦è”ç³»Tivoliçš„å¯¹åº”è´Ÿè´£äººè¿›è¡Œç›¸åº”è°ƒæ•´ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;appserverxxx 10.1.1.xxx&lt;/p&gt;
&lt;p&gt;dzbd-app1 10.x.x.x&lt;/p&gt;
&lt;p&gt;hostnamexxx01 10.1.x.x&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;çŸ­ä¿¡å‘Šè­¦&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;çŸ­ä¿¡å‘Šè­¦æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;IP+æœåŠ¡å™¨æè¿°+ç³»ç»Ÿ+Weblogic Server+å‘Šè­¦æè¿°+å½“å‰å€¼+å‘ç”Ÿæ—¶é—´&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¤ºä¾‹ï¼ˆçŸ­ä¿¡å‘Šè­¦å†…å®¹ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;[XXXXå…¬å¸]10.1.129.36:xxç³»ç»Ÿxxåº”ç”¨æœåŠ¡å™¨1ï¼›xxç³»ç»Ÿï¼›WeblogicæœåŠ¡å™¨ï¼šTPLife_wls_cxjk_xx_xx[appServer1]å‘ç”Ÿå‘Šè­¦ï¼š&lt;life-service_einsu&gt; WLS JVM FreeMemory is lowï¼›å½“å‰å€¼ï¼š1698.515644564548å·²æ¢å¤ï¼ï¼›å‘ç”Ÿæ—¶é—´ï¼š2016-05-11&lt;br&gt;
18:40:31&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="severe"&gt;Severeçº§åˆ«é™æ€å‘Šè­¦é˜ˆå€¼&lt;a class="headerlink" href="#severe" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç›®å‰çš„Severeçº§åˆ«é™æ€é˜ˆå€¼å‘Šè­¦æœ‰ï¼šï¼ˆè¯¥çº§åˆ«ä½¿ç”¨çŸ­ä¿¡å‘Šè­¦ã€‚ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;TIPSï¼š&lt;br&gt;
ç›®å‰å·²ç»å®ç°å„ä¸ªç³»ç»Ÿçš„æµ‹é‡å‚æ•°ã€å‘Šè­¦é˜ˆå€¼ã€é‚®ä»¶é€šçŸ¥äººçš„è‡ªå®šä¹‰ã€‚ï¼ˆå¦‚é’ˆå¯¹æ ¸å¿ƒç³»ç»Ÿï¼Œæ´»åŠ¨çº¿ç¨‹æ•°å‘Šè­¦é˜ˆå€¼æ¯”å…¶ä»–å¤§ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Weblogic Hoggingçº¿ç¨‹æ•°è¿‡é«˜     &amp;gt;50 å‘Šè­¦&lt;/li&gt;
&lt;li&gt;Weblogic JDBCè¿æ¥æ± çŠ¶æ€ä¸æ­£å¸¸&lt;/li&gt;
&lt;li&gt;JVMå‰©ä½™å†…å­˜è¿‡å°                    &amp;lt;50M å‘Šè­¦&lt;/li&gt;
&lt;li&gt;WLS weblogic.kernel.System-MaxWaitTime è¿‡é•¿     &amp;gt;10min å‘Šè­¦&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="warning"&gt;Warningçº§åˆ«é™æ€å‘Šè­¦é˜ˆå€¼&lt;a class="headerlink" href="#warning" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹ä¸ºåˆå§‹çš„è®¾ç½®ï¼Œåç»­å¯ä»¥æ ¹æ®å®é™…çš„å‘Šè­¦æƒ…å†µè¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ´»åŠ¨çº¿ç¨‹æ•°     Warningï¼š&amp;gt;250    ï¼ˆæ ¸å¿ƒç³»ç»Ÿçº¿ç¨‹æ•°ä¸º400ï¼Œæš‚å®šï¼šWarningï¼š &amp;gt;300 )&lt;/li&gt;
&lt;li&gt;JDBCè¿æ¥å»¶è¿Ÿæ—¶é—´    Warningï¼š&amp;gt;5s  Severe:&amp;gt;10s&lt;/li&gt;
&lt;li&gt;JDBCå¤±è´¥é‡è¿        Warningï¼š&amp;gt;5      Severe:&amp;gt;10&lt;/li&gt;
&lt;li&gt;JDBCæ³„æ¼è¿æ¥æ•°    Warningï¼š&amp;gt;15   Severe:&amp;gt;30&lt;/li&gt;
&lt;li&gt;JDBCå½“å‰ç­‰å¾…è¿æ¥è®¡æ•°   Warning:&amp;gt;10  Severe:&amp;gt;30&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-17-appmon-and-tivoli.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 18.Dynatraceåˆ›å»ºè‡ªå®šä¹‰å‘Šè­¦äº‹ä»¶</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-18-create-incidents.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatraceæœ‰ä»¥ä¸‹æ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Measure&lt;/strong&gt;ï¼ˆæµ‹é‡ï¼‰ -- å³éœ€è¦ç›‘æ§çš„æŒ‡æ ‡ã€‚ï¼ˆåŒ…æ‹¬éœ€è¦ç›‘æ§çš„æŒ‡æ ‡ã€å¯¹åº”çš„Agentã€é˜ˆå€¼ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Incidents&lt;/strong&gt;ï¼ˆäº‹ä»¶ï¼‰ -- å³å‘Šè­¦äº‹ä»¶ã€‚è®¢é˜…äº†Measureï¼Œé…ç½®äº†Measureçš„é˜ˆå€¼ï¼Œç„¶åæ‰èƒ½åˆ›å»ºIncidentsï¼Œå¹¶ä¸”å®šä¹‰å¥½æ ¹æ®å“ªä¸ªé˜ˆå€¼æ¥å‘Šè­¦ï¼Œä»¥ä½•ç§æ–¹å¼å‘é€ï¼Œäº§ç”Ÿå‘Šè­¦è¯¥åšçš„åŠ¨ä½œï¼ˆå¦‚threaddumpç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ¬¡å°†ä»‹ç»å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å‘Šè­¦äº‹ä»¶ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ“ä½œæ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ¬æ¬¡ä»¥åˆ›å»º&lt;strong&gt;æŒ‡å®šç³»ç»Ÿ&lt;/strong&gt;çš„&lt;strong&gt;WebLogicçš„Hoggingçº¿ç¨‹æ•°&lt;/strong&gt;å‘Šè­¦ä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;æ“ä½œæ­¥éª¤åˆ†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºéœ€è¦ç›‘æ§çš„æŒ‡æ ‡--&lt;strong&gt;Measure&lt;/strong&gt;(æµ‹é‡) -- 1-5æ­¥&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå‘Šè­¦äº‹ä»¶--&lt;strong&gt;Incidents&lt;/strong&gt; -- 6-8æ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€&lt;strong&gt;ç³»ç»Ÿé…ç½®æ–‡ä»¶&lt;/strong&gt; -&amp;gt; &lt;strong&gt;æµ‹é‡ç»“æœ&lt;/strong&gt;æ ‡ç­¾é¡µ -&amp;gt; ç‚¹å‡»&lt;strong&gt;åˆ›å»ºæµ‹é‡&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_1.JPG"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;é»˜è®¤æœ‰æ‰€æœ‰ç³»ç»Ÿçš„Hoggingçº¿ç¨‹æ•°Measureã€‚å¯ä»¥é€šè¿‡å¤åˆ¶ï¼Œå¹¶ä¿®æ”¹æ¥åˆ›å»ºã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_2.JPG"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;å¯¹å¤åˆ¶å‡ºæ¥çš„æµ‹é‡è¿›è¡Œç¼–è¾‘ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_2-1.JPG"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;ç¼–è¾‘Measureï¼ˆæµ‹é‡ï¼‰çš„ç›¸å…³å±æ€§ã€‚ï¼ˆåŒ…æ‹¬ï¼šåç§°ã€å…·ä½“çš„æµ‹é‡å±æ€§ã€é˜ˆå€¼ã€å¯¹åº”çš„Agentç»„ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_3.JPG"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_4.JPG"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_5.JPG"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒMeasureï¼ˆæµ‹é‡ï¼‰åˆ›å»ºå®Œæ¯•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å§‹åˆ›å»º&lt;strong&gt;äº‹ä»¶è§„åˆ™&lt;/strong&gt;ï¼Œç‚¹å‡» &lt;strong&gt;äº‹ä»¶&lt;/strong&gt;æ ‡ç­¾é¡µ -&amp;gt; ç‚¹å‡» &lt;strong&gt;åˆ›å»ºäº‹ä»¶è§„åˆ™&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_6.JPG"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;å‘Šè­¦&lt;strong&gt;æ¡ä»¶&lt;/strong&gt;é€‰æ‹©ä¸Šæ–‡åˆ›å»ºå¥½çš„Measureï¼ˆæµ‹é‡ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘Šè­¦&lt;strong&gt;åŠ¨ä½œ&lt;/strong&gt;å¯ä»¥é…ç½®å‘é‚®ä»¶ï¼Œåšå¿«ç…§ç­‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_7.JPG"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;å‘Šè­¦&lt;strong&gt;æ“ä½œ&lt;/strong&gt;å¯ä»¥è¿›è¡Œæ›´å¤šçš„è®¾ç½®ã€‚å¦å¤–ï¼Œå¯ä»¥å¯¹å‘Šè­¦çš„ç»†ç²’åº¦ã€ä¸¥é‡æ€§ã€å‘Šè­¦æŠ‘åˆ¶æ—¶é—´ç­‰è¿›è¡Œè®¾ç½®ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_8.JPG"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;è‡³æ­¤ï¼Œè‡ªå®šä¹‰å‘Šè­¦åˆ›å»ºå®Œæ¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-18-create-incidents.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 19.Dynatraceåˆ›å»ºå‘Šè­¦äº‹ä»¶åœæœºæ—¶é—´</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-19-create-downtime.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatraceåœ¨ç”Ÿäº§ç¯å¢ƒçš„ä½¿ç”¨ä¸­ï¼Œå¾€å¾€ä¼šç¢°åˆ°æ‰€ç›‘æ§ç³»ç»Ÿçš„æ­£å¸¸ç”Ÿäº§é‡å¯ï¼ˆå¦‚åœæœºçª—å£ã€å‘ç‰ˆæœ¬ã€ç»´æŠ¤ç­‰ï¼‰å¯¼è‡´çš„è¯¯å‘Šè­¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…è¿™ç§é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å‘Šè­¦&lt;strong&gt;åœæœºæ—¶é—´&lt;/strong&gt;ï¼ˆdowntime)æ¥å‡å°‘ä¸å¿…è¦çš„å‘Šè­¦ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;æ“ä½œ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;äº‹ä»¶&lt;/strong&gt;ä»ªè¡¨æ¿å³ä¸Šè§’æŒ‰é’®ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_1.JPG"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ç‚¹å‡»åå‡ºç°&lt;strong&gt;åœæœºçª—å£&lt;/strong&gt;è¡¨ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_2.JPG"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;åœ¨è¡¨ä¸­ç‚¹å‡»å³é”®&lt;strong&gt;åˆ›å»ºåœæœºæ—¶é—´&lt;/strong&gt;ã€‚å‹¾é€‰å¯¹åº”çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸­çš„å¯¹åº”çš„å‘Šè­¦è§„åˆ™ï¼ˆå¦‚åœæœºæˆ–é‡å¯æ—¶ä¼šå‡ºç°çš„å‘Šè­¦ï¼šåº”ç”¨å…³é—­å’Œåº”ç”¨è¿›ç¨‹ä¸å¯ç”¨ï¼‰ã€‚å‡ºç°å¦‚ä¸‹å¯¹è¯æ¡†ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_3.JPG"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè¿›è¡Œè¯¦ç»†çš„è®¾ç½®ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_4.JPG"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;åœæœºæ—¶é—´è§„åˆ™å¯ä»¥æ—¶ä¸´æ—¶æ€§çš„ä¸€æ¬¡ã€‚ä¹Ÿå¯ä»¥æ ¹æ®ç”Ÿäº§é‡å¯çª—å£çš„è¦æ±‚ï¼Œå¦‚è®¾ç½®ä¸ºæ¯æœˆçš„ç¬¬ä¸‰å‘¨å‘¨å…­ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_5.JPG"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;é…ç½®å®Œæˆåæ˜¾ç¤ºå¦‚ä¸‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_6.JPG"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-19-create-downtime.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 5.Dynatrace å®¢æˆ·ç«¯å®‰è£…</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-5-install-client.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#1-dynatrace"&gt;1 Dynatraceå®¢æˆ·ç«¯ç±»å‹ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-web"&gt;2 Web å®¢æˆ·ç«¯å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-webstart32"&gt;3 WebStartå®¢æˆ·ç«¯å®‰è£…ï¼ˆæ¨è32ä½ç³»ç»Ÿå®‰è£…ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4-64"&gt;4 å¯Œå®¢æˆ·ç«¯å®‰è£…ï¼ˆä»…é€‚ç”¨64ä½ç³»ç»Ÿï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5-webwebstart"&gt;5 Webç«¯å’Œå®¢æˆ·ç«¯ï¼ˆWebStart å¯Œå®¢æˆ·ç«¯ï¼‰è”åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="1-dynatrace"&gt;1 Dynatraceå®¢æˆ·ç«¯ç±»å‹ç®€ä»‹&lt;a class="headerlink" href="#1-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatraceæœ‰3ç§ç±»å‹çš„å®¢æˆ·ç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘é¡µç«¯&lt;/li&gt;
&lt;li&gt;WebStartå®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;å¯Œå®¢æˆ·ç«¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‰è€…æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç½‘é¡µç«¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡æµè§ˆå™¨ï¼ˆæœ€æ–°ç‰ˆæœ¬IE/Firefox/Chromeç­‰ï¼‰è®¿é—®&lt;/li&gt;
&lt;li&gt;é»˜è®¤ç«¯å£ï¼š9911ï¼ˆHTTPSï¼‰&lt;/li&gt;
&lt;li&gt;å…·æœ‰åŸºæœ¬çš„ç›‘æ§åŠŸèƒ½ï¼ˆåŒ…æ‹¬ä»ªè¡¨æ¿ã€åº”ç”¨ã€è¿ç»´çš„åŸºæœ¬ç›‘æ§ä¿¡æ¯ï¼‰ï¼Œè¿›ä¸€æ­¥åˆ†æéœ€è¦è·³è½¬åˆ°åä¸¤ç§å®¢æˆ·ç«¯æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;WebStartå®¢æˆ·ç«¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦JRE/JDK  7/8æ”¯æŒ&lt;/li&gt;
&lt;li&gt;éœ€è¦é€šè¿‡ç½‘é¡µä¸‹è½½ä¸€ä¸ªjnlpæ–‡ä»¶å¹¶æ‰“å¼€&lt;/li&gt;
&lt;li&gt;å…·æœ‰å®Œæ•´çš„ç›‘æ§åˆ†æåŠŸèƒ½ï¼ˆä¸å¯Œå®¢æˆ·ç«¯åŠŸèƒ½ç›¸åŒï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒ32ä½ã€64ä½ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;æ”¯æŒçš„ç³»ç»Ÿå–å†³äºJRE/JDKæ‰€æ”¯æŒçš„ç³»ç»Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å¯Œå®¢æˆ·ç«¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºå®‰è£…åŒ…æˆ–ç»¿è‰²å‹ç¼©åŒ…&lt;/li&gt;
&lt;li&gt;åªæ”¯æŒ64ä½ç³»ç»Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="2-web"&gt;2 Web å®¢æˆ·ç«¯å®‰è£…&lt;a class="headerlink" href="#2-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è®¿é—®IPåœ°å€ï¼šhttps://X.X.X.X:9911 ,å¹¶ç»§ç»­æµè§ˆã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVynxlr/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·³è½¬åˆ°Dynatrace Webç™»å½•é¡µï¼Œè¾“å…¥è‡ªå·±çš„è´¦å·å¯†ç ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVynKLL/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç™»å½•åè·³è½¬åˆ°Dynatraceé¦–é¡µï¼Œæœ€ä¸Šä»å·¦åˆ°å³ä¾æ¬¡ä¸ºï¼šï¼ˆå¦‚ä¸‹å›¾ï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èœå•&lt;/li&gt;
&lt;li&gt;ä»ªè¡¨æ¿&lt;/li&gt;
&lt;li&gt;ç­›é€‰åº”ç”¨&lt;/li&gt;
&lt;li&gt;ç­›é€‰æ—¶é—´èŒƒå›´&lt;/li&gt;
&lt;li&gt;åˆ†äº«&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyu6tA/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ—¥å¸¸ä½¿ç”¨çš„ç›¸å…³èœå•åŠè¯´æ˜å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyCwo8/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="3-webstart32"&gt;3 WebStartå®¢æˆ·ç«¯å®‰è£…ï¼ˆæ¨è32ä½ç³»ç»Ÿå®‰è£…ï¼‰&lt;a class="headerlink" href="#3-webstart32" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½å¹¶å®‰è£…JRE/JDK 7/8ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyD3Kn/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyCVEm/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æµè§ˆå™¨è®¿é—®Dynatrace Server IPï¼šhttps://X.X.X.X:8021 ,å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyDEFL/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¿é—®åè·³è½¬åˆ°é¦–é¡µï¼Œç‚¹å‡»&lt;strong&gt;Webstartå®¢æˆ·ç«¯&lt;/strong&gt;ï¼Œä¼šä¸‹è½½ä¸€ä¸ªclient.jnlpæ–‡ä»¶ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyGvZ8/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰“å¼€client.jnlpæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyTbtC/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¿½ç•¥å‘Šè­¦å¹¶ç»§ç»­ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyTEQ2/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¹‹åä¼šè‡ªåŠ¨ä¸‹è½½WebStartå®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyV7rn/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¹‹åä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¿½ç•¥å‘Šè­¦å¹¶ç»§ç»­ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyWtVK/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebStartå®¢æˆ·ç«¯çš„ç•Œé¢æ˜¾ç¤ºï¼Œè¾“å…¥è´¦å·å¯†ç ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz0xXl/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebStartçš„ç•Œé¢å±•ç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz1NOi/pFI7J.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="4-64"&gt;4 å¯Œå®¢æˆ·ç«¯å®‰è£…ï¼ˆä»…é€‚ç”¨64ä½ç³»ç»Ÿï¼‰&lt;a class="headerlink" href="#4-64" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…åŒ…åŒ…æ‹¬è‹¹æœOSå®‰è£…åŒ…ã€windowså®‰è£…åŒ…åŠç»¿è‰²è§£å‹ç‰ˆã€linuxç‰ˆï¼ˆjaråŒ…ï¼‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz8tVT/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹é¢ä»¥windowså®‰è£…åŒ…ä¸ºä¾‹ï¼ˆwindowså‹ç¼©åŒ…ç›´æ¥è§£å‹ä½¿ç”¨ï¼‰ï¼Œç‚¹å‡»å®‰è£…åŒ…è¿è¡Œï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz2dG3/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥å—åè®®ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz2Ruw/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹©è·¯å¾„ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz3f0G/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…å¼€å§‹ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz3JQe/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…å®Œæˆï¼Œè¿è¡Œå®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz47sp/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¡«å…¥IP+ç«¯å£ã€è´¦å·å¯†ç ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz4RqZ/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç™»å½•åä¼šæç¤ºå‡çº§å®¢æˆ·ç«¯ï¼Œç‚¹å‡»'YES'å¹¶ç»§ç»­ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5flw/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½å‡çº§åŒ…ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5sTF/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‡çº§åéœ€é‡å¯å®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5SVf/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡å¯åä¼šæç¤ºé€‰æ‹©&lt;strong&gt;è¯­è¨€&lt;/strong&gt;ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©ä¸­æ–‡æˆ–è‹±æ–‡ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz6OMI/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·³è½¬åˆ°é¦–ç•Œé¢ï¼Œç•Œé¢ç®€ä»‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz7qPQ/12Mkk2.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="5-webwebstart"&gt;5 Webç«¯å’Œå®¢æˆ·ç«¯ï¼ˆWebStart å¯Œå®¢æˆ·ç«¯ï¼‰è”åŠ¨&lt;a class="headerlink" href="#5-webwebstart" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Webç«¯æ— æ³•æ·±å…¥åˆ†æï¼Œå¯ä»¥åœ¨åˆ†ææŒ‡å®šäº‹åŠ¡çš„æ—¶å€™ï¼Œç›´æ¥ç‚¹å‡»&lt;strong&gt;OPEN IN CLIENT&lt;/strong&gt; ååœ¨WebStartæˆ–å¯Œå®¢æˆ·ç«¯ä¸­è¿›è¡Œåˆ†æã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨Webç«¯åˆ†æå…·ä½“çš„äº‹åŠ¡ï¼Œéœ€è¦æ·±å…¥åˆ†æï¼Œç‚¹å‡»&lt;strong&gt;OPEN IN CLIENT&lt;/strong&gt;å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz7I3h/cFcZZ.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¦–æ¬¡å› ä¸ºhttpsä¿¡ä»»ä¼šå¤±è´¥ï¼Œæ¥å—å‘Šè­¦åå†æ¬¡ç‚¹å‡»ä¼šè·³å‡ºå®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz8dUA/FePWL.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-5-install-client.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 7.Dynatrace agentå®‰è£…</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-7-install-agent.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#server"&gt;Server ç«¯é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#agent"&gt;å®‰è£… Agent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tips"&gt;TIPS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="server"&gt;Server ç«¯é…ç½®&lt;a class="headerlink" href="#server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶&lt;br&gt;
&lt;img alt="ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶" src="./images/appmon-install-agent-1.png"&gt;&lt;/li&gt;
&lt;li&gt;æ–°å»ºAgentç»„&lt;br&gt;
&lt;img alt="æ–°å»ºagentç»„" src="./images/appmon-install-agent-2.png"&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®ä¼ æ„Ÿå™¨æ˜ å°„å…³ç³»&lt;ol&gt;
&lt;li&gt;â–½ ä¸agentåå­—åŒ¹é…ï¼š&lt;br&gt;
&lt;img alt="ä¸agentåå­—åŒ¹é…" src="./images/appmon-install-agent-3.png"&gt;&lt;/li&gt;
&lt;li&gt;â–½ é«˜çº§è®¾ç½®ï¼šå–æ¶ˆè‡ªåŠ¨ç”Ÿæˆheapdumpï¼Œå°†è§£æåº¦è®¾ä¸ºæœ€ä½ï¼Œé™ä½ç³»ç»Ÿå¼€é”€ï¼š&lt;br&gt;
&lt;img alt="é«˜çº§è®¾ç½®" src="./images/appmon-install-agent-4.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;â–½ è®¾ç½®æ”¾ç½®å“ªäº›ä¼ æ„Ÿå™¨, æ ¹æ®å®é™…éœ€è¦é€‰å®šä¼ æ„Ÿå™¨ç§ç±»ï¼š&lt;br&gt;
&lt;img alt="ä¼ æ„Ÿå™¨ç§ç±»" src="./images/appmon-install-agent-5.png"&gt;&lt;/li&gt;
&lt;li&gt;é…ç½®ä¸Šä¸€æ­¥æ”¾ç½®çš„ä¼ æ„Ÿå™¨çš„å±æ€§&lt;br&gt;
&lt;img alt="ä¼ æ„Ÿå™¨å±æ€§" src="./images/appmon-install-agent-6.png"&gt;&lt;ol&gt;
&lt;li&gt;â–½ JDBCä¼ æ„Ÿå™¨è®¾ç½®ï¼šå°†SQLå‘½ä»¤æ•è·é•¿åº¦è®¾ä¸º10240ï¼š&lt;br&gt;
&lt;img alt="jdbc 10240" src="./images/appmon-install-agent-7.png"&gt;&lt;/li&gt;
&lt;li&gt;â–½ Java Loggingä¼ æ„Ÿå™¨è®¾ç½®ï¼Œå¢åŠ å‡ ç§çº§åˆ«çš„æ—¥å¿—æ•è·ï¼š&lt;br&gt;
&lt;img alt="javaä¼ æ„Ÿå™¨é…ç½®" src="./images/appmon-install-agent-8.png"&gt;&lt;/li&gt;
&lt;li&gt;â–½ Servletsä¼ æ„Ÿå™¨è®¾ç½®ï¼š&lt;br&gt;
&lt;img alt="servletä¼ æ„Ÿå™¨è®¾ç½®" src="./images/appmon-install-agent-9.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä»–ä¼ æ„Ÿå™¨é»˜è®¤è®¾ç½®å³å¯ã€‚&lt;/p&gt;
&lt;h2 id="agent"&gt;å®‰è£… Agent&lt;a class="headerlink" href="#agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;è¯´æ˜:&lt;br&gt;
æ­¤å¤„ä»¥&lt;strong&gt;dynatrace appmon 6.2&lt;/strong&gt;ç‰ˆæœ¬ä¸¾ä¾‹, è¯·æ ¹æ®å®é™…æƒ…å†µæ¢æˆå¯¹åº”ç‰ˆæœ¬çš„å®‰è£…åŒ….&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šä¼ &lt;code&gt;dynatrace-agent-6.2.0.1239-unix.jar&lt;/code&gt;.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;java  -jar dynatrace-agent-6.2.0.1239-unix.jar&lt;/code&gt; ï¼ˆjavaç‰ˆæœ¬å¿…é¡»ä¸app serverä½¿ç”¨çš„ç›¸åŒï¼‰ï¼Œå®‰è£…è¿‡ç¨‹ä¸­ä¿®æ”¹å®‰è£…è·¯&lt;br&gt;
å¾„ï¼Œeg:&lt;code&gt;/tpsys/dynatrace/dynatrace-6.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†agentåµŒå…¥åˆ°javaä¸­é—´ä»¶(å¦‚:weblogic)å®ä¾‹ä¸­ï¼šåœ¨å¯åŠ¨è„šæœ¬çš„ç¯å¢ƒå˜é‡&lt;code&gt;USER_MEM_ARGS&lt;/code&gt;ä¸­æ·»åŠ ï¼Œ&lt;code&gt;-agentpath:/tpsys/dynatrace/dynatrace-6.2/agent/lib64/libtagent.so=name=TPLife_wls_lbt_10.94.12.232_8001,server=10.94.21.140:9998&lt;/code&gt;ï¼ˆè¯´æ˜ï¼šnameè¡¨ç¤ºè®¾ç½®è¯¥agentçš„åå­—ï¼Œserverè¡¨ç¤ºcollectorï¼‰&lt;/li&gt;
&lt;li&gt;é‡å¯javaä¸­é—´ä»¶ç”Ÿæ•ˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tips"&gt;TIPS&lt;a class="headerlink" href="#tips" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç¡®è®¤agentä¸å“ªä¸ªcollectorç›¸è¿&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon-install-agent-10.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon-install-agent-11.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-7-install-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 8.Dynatraceæ–°å¢ä¸»æœºç»„&amp;æ·»åŠ åº”ç”¨ç¨‹åºå®šä¹‰</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-8-add-application.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ–°å¢ä¸»æœºç»„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;åº”ç”¨ç¨‹åºå®šä¹‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ–°å¢ä¸»æœºç»„&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;â–½ ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶--åŸºç¡€ç»“æ„--åˆ›å»º&lt;br&gt;
&lt;img alt="åŸºç¡€ç»“æ„" src="./images/appmon-add-application-1.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ è¾“å…¥ä¸»æœºç»„åç§°&lt;br&gt;
&lt;img alt="ä¸»æœºç»„" src="./images/appmon-add-application-2.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ æ ¹æ®ä¸»æœºhostnameï¼Œæ·»åŠ ä¸»æœºç»„æ˜ å°„å…³ç³»ï¼šæœ‰å¤šé‡è¯­æ³•ï¼Œâ€œåŒ…å«â€ã€â€œå¼€å¤´ä¸ºâ€ã€â€œç»“å°¾&lt;br&gt;
ä¸ºâ€ç­‰ç­‰ã€‚&lt;br&gt;
&lt;img alt="ä¸»æœºåè§„åˆ™" src="./images/appmon-add-application-3.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ è®¾ç½®ä¸»æœºçš„å‘Šè­¦é˜ˆå€¼&lt;br&gt;
&lt;img alt="ä¸»æœºå‘Šè­¦é˜ˆå€¼" src="./images/appmon-add-application-4.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;åº”ç”¨ç¨‹åºå®šä¹‰&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;â–½ ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶--åº”ç”¨ç¨‹åº--åˆ›å»º&lt;br&gt;
&lt;img alt="åˆ›å»ºåº”ç”¨ç¨‹åº" src="./images/appmon-add-application-5.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ æ·»åŠ åº”ç”¨ç¨‹åºçš„åŒ¹é…å…³ç³»ï¼šå¯ä»¥åŒ…å«åº”ç”¨å®ä¾‹æ‰€åœ¨ä¸»æœºçš„IPã€åº”ç”¨ç¨‹åºåŸŸåç­‰ã€‚&lt;br&gt;
&lt;img alt="åº”ç”¨ç¨‹åºåŒ¹é…è§„åˆ™" src="./images/appmon-add-application-6.png"&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®å®Œæˆå, è¿˜è¦æŸ¥çœ‹ç›‘æ§é¢æ¿ï¼Œå¦‚æœå‘ç°ä»æœ‰ä¸€äº›URIæ²¡æœ‰çº³å…¥åˆ°è‡ªå®šä¹‰çš„åº”ç”¨ç¨‹åºç›‘æ§ï¼Œå¯ä»¥æŸ¥çœ‹webè¯·&lt;br&gt;
æ±‚ï¼Œè¿›è¡Œå…¨é¢çš„çº³å…¥ã€‚&lt;/p&gt;
&lt;p&gt;â–½ ç³»ç»Ÿé…ç½®æ–‡ä»¶--webè¯·æ±‚--å³é”®æ›´å¤šï¼š&lt;br&gt;
&lt;img alt="webè¯·æ±‚" src="./images/appmon-add-application-7.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ æ ¹æ®â€œæºâ€ç¼–è¾‘ç­›é€‰ï¼š&lt;br&gt;
&lt;img alt="ç­›é€‰" src="./images/appmon-add-application-8.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ åº”ç”¨ç¨‹åºæ¡ç›®ç­›é€‰ï¼š&lt;br&gt;
&lt;img alt="æ¡ç›®ç­›é€‰" src="./images/appmon-add-application-9.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ å°†æœªåŒ…å«çš„URIå…¨éƒ¨åŠ å…¥åˆ°å®šä¹‰çš„åº”ç”¨ç¨‹åºä¸­ï¼š&lt;br&gt;
&lt;img alt="æ·»åŠ " src="./images/appmon-add-application-10.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ æŸ¥çœ‹ç›‘æ§é¢æ¿ï¼Œç›´åˆ°Default Applicationç›‘æ§ä¿¡æ¯ä¸ºç©ºã€ä»¥åŠä¸å†å‡ºç°å…¶ä»–æœªçº³å…¥çš„URIä¸ºæ­¢ã€‚&lt;br&gt;
&lt;img alt="default" src="./images/appmon-add-application-11.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-8-add-application.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 6.Dynatrace ç”Ÿäº§ç¯å¢ƒLicenseå¯¼å…¥</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-6-import-license.html</link><description>&lt;ol&gt;
&lt;li&gt;åœ¨Dynatrace eservices -&amp;gt; &lt;a href="https://eservices.dynatrace.com/eservices/customers-licenses.jsf"&gt;My Licenses&lt;/a&gt;æ‰¾åˆ°å¯¹åº”çš„License Keyçš„ä¿¡æ¯ï¼Œç‚¹å‡»&lt;strong&gt;Download License File&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š(ä¸‹è½½åå¾—åˆ°Licenseæ–‡ä»¶åç¤ºä¾‹ï¼š&lt;strong&gt;dynaTrace_license_201608031073.key&lt;/strong&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ä¸‹è½½æœªæ¿€æ´»License" src="http://pic.yupoo.com/east4ming_v/FMMHkMhr/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;è¿›å…¥åˆ°Dynatrace Server è®¾ç½® -&amp;gt; Licenseï¼Œé€‰æ‹©&lt;strong&gt;å¯¼å…¥&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="å¯¼å…¥æœªæ¿€æ´»License" src="http://pic.yupoo.com/east4ming_v/FMMGDsAH/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;ç‚¹å‡»&lt;strong&gt;ä¸‹ä¸€æ­¥&lt;/strong&gt;ï¼Œå‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœDynatrace Serveræ— æ³•è¿æ¥åˆ°Internetï¼Œç‚¹å‡»&lt;strong&gt;è·³è¿‡&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMGbuuD/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;è·³è¿‡åéœ€è¦æ‰‹åŠ¨å¯¼å…¥ä¹‹å‰ä¸‹è½½çš„&lt;strong&gt;æœªæ¿€æ´»çš„Licenseæ–‡ä»¶&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ä»æ–‡ä»¶å¯¼å…¥æœªæ¿€æ´»License" src="http://pic.yupoo.com/east4ming_v/FMMGEfhk/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;å¯¼å…¥&lt;strong&gt;æœªæ¿€æ´»çš„License&lt;/strong&gt;åï¼Œä¼šæç¤ºéœ€è¦åœ¨ç½‘ä¸Šè¿›è¡Œ&lt;strong&gt;æ¿€æ´»&lt;/strong&gt;çš„æ“ä½œï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="éœ€è¦ç½‘ä¸Šæ¿€æ´»" src="http://pic.yupoo.com/east4ming_v/FMMGEMTr/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œä¼šå‡ºç°Licenseæ¿€æ´»çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸»è¦çš„æ˜¯&lt;strong&gt;Activation Key&lt;/strong&gt;ä¿¡æ¯ï¼Œä¸º25ä½çš„å¤§å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="Activation Key" src="http://pic.yupoo.com/east4ming_v/FMMHj38Z/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;è®°ä¸‹è¯¥æ¿€æ´»ç ä¿¡æ¯ï¼Œç™»é™†Dynatrace eservices -&amp;gt; &lt;a href="https://eservices.dynatrace.com/eservices/customers-licenses.jsf"&gt;My Licenses&lt;/a&gt;,è¾“å…¥æ¿€æ´»ç æ¿€æ´»,å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMHj7UN/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;æ¿€æ´»åä¼šæç¤ºæˆåŠŸæ¿€æ´»ï¼Œå¹¶ç»™å‡º&lt;strong&gt;å·²æ¿€æ´»çš„Licenseä¸‹è½½åœ°å€&lt;/strong&gt;ï¼Œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMGFUk2/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;ä¸‹è½½&lt;strong&gt;å·²æ¿€æ´»License&lt;/strong&gt;ï¼Œï¼ˆä¸‹è½½åçš„æ–‡ä»¶ç¤ºä¾‹ï¼š&lt;strong&gt;dynaTrace_license_201608031073__activated.key&lt;/strong&gt;),å†æ¬¡å¯¼å…¥ï¼Œå¦‚ä¸‹å›¾ï¼šï¼ˆå¯¼å…¥&lt;strong&gt;æœªæ¿€æ´»çš„License&lt;/strong&gt;ä¼šæç¤º&lt;strong&gt;å½“å‰è®¸å¯è¯å°šæœªå¯ç”¨&lt;/strong&gt;ï¼›å¯¼å…¥&lt;strong&gt;å·²æ¿€æ´»çš„License&lt;/strong&gt;æç¤ºä¼šæ¶ˆå¤±ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="å¯¼å…¥å·²æ¿€æ´»License" src="http://pic.yupoo.com/east4ming_v/FMMGGbCZ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;é€šè¿‡æ–‡ä»¶å¯¼å…¥&lt;strong&gt;å·²æ¿€æ´»License&lt;/strong&gt;æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="é€šè¿‡æ–‡ä»¶å¯¼å…¥å·²æ¿€æ´»License" src="http://pic.yupoo.com/east4ming_v/FMMGGsUD/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å¯¼å…¥åæˆåŠŸæ¿€æ´»ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="æˆåŠŸæ¿€æ´»" src="http://pic.yupoo.com/east4ming_v/FMMY9dbb/medium.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 04 Apr 2019 21:07:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-6-import-license.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 9.Dynatraceè‡ªå®šä¹‰ä»ªè¡¨æ¿</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-9-customized-dashboard.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;â–½ ä»ªè¡¨æ¿ -&amp;gt; æ–°å»º&lt;br&gt;
&lt;img alt="æ–°å»ºä»ªè¡¨æ¿" src="./images/appmon-add-dashboard-1.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ åœ¨å¯¹åº”çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸‹ï¼Œé€‰æ‹©å›¾æ ‡ç»˜åˆ¶â€”â€”è‡ªå®šä¹‰ï¼Œæ·»åŠ ç³»åˆ—ï¼š&lt;br&gt;
&lt;img alt="æ·»åŠ ç³»åˆ—" src="./images/appmon-add-dashboard-2.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ é€‰æ‹©æµ‹é‡å€¼ï¼Œä»¥ä¸‹ä»¥â€œwebé¡µé¢è¯·æ±‚â€”â€”Purepathå“åº”æ—¶é—´â€ä¸ºä¾‹ï¼ŒæŒ‰åº”ç”¨ç¨‹åºæ‹†åˆ†ï¼š&lt;br&gt;
&lt;img alt="webè¯·æ±‚" src="./images/appmon-add-dashboard-3.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;å¤‡æ³¨:&lt;br&gt;
æ³¨ï¼šdynatraceä¸Šå‡ ä¹æ‰€æœ‰åœ°æ–¹éƒ½å¯ä»¥å¯ä»¥ç›´æ¥ctrl+Fè¿›è¡Œæœç´¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â–½ è°ƒæ•´å›¾è¡¨å±æ€§. å¦‚é‡å‘½åã€é€‰æ‹©æ—¶é—´èŒƒå›´ã€åˆ†è¾¨ç‡ã€å›¾æ ‡ç±»å‹ã€æ‹†åˆ†æ¨¡å¼ã€å¯è§†æ€§ç­‰ï¼š&lt;br&gt;
&lt;img alt="å›¾è¡¨å±æ€§" src="./images/appmon-add-dashboard-4.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ å¯ä»¥ç»§ç»­åœ¨è¯¥ä»ªè¡¨æ¿ä¸­æ·»åŠ ç³»åˆ—ï¼Œå³å°†å¤šä¸ªå›¾è¡¨æ”¾åœ¨ä¸€ä¸ªä»ªè¡¨æ¿ä¸­ï¼š&lt;br&gt;
&lt;img alt="æ·»åŠ å¤šä¸ªå›¾è¡¨" src="./images/appmon-add-dashboard-5.png"&gt;&lt;/p&gt;
&lt;p&gt;â–½ æ‹–åŠ¨å›¾è¡¨çš„æ ‡é¢˜ï¼Œç»“åˆæ¯ä¸ªå›¾è¡¨çš„å±æ€§ï¼Œç›´åˆ°è°ƒåˆ°æ»¡æ„çš„æ•ˆæœã€‚&lt;br&gt;
&lt;img alt="æœ€ç»ˆæ•ˆæœ" src="./images/appmon-add-dashboard-6.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 04 Apr 2019 21:07:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-9-customized-dashboard.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>ç›‘æ§JAVA JMX æŒ‡æ ‡ - é€šè¿‡Dynatrace AppMonè€Œæ— éœ€Agent</title><link>https://www.EWhisper.cn/monitoring-java-soft-with-dynatrace-appmon-without-agent.html</link><description>&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨è¿‘æœŸçš„ä¸­é—´ä»¶ç»„ä¼šè®®ä¸­, å‘ç°å­˜åœ¨ä¸€ä¸ªç›‘æ§ç›²åŒº, å³: &lt;strong&gt;JBoss EAP 6.Xå’ŒWildfly 10çš„ç›‘æ§&lt;/strong&gt;. ç›®å‰CA Wilyå’ŒZabbix(Zabbixåº”è¯¥å¯ä»¥ç›‘æ§çš„)æš‚æ—¶æ— æ³•å®ç°å¯¹å…¶ç›‘æ§, éœ€è¦Dynatraceå¯¹å…¶è¿›è¡Œç›‘æ§.(æœ‰Agentå’Œæ— Agentä¸¤ç§æ–¹å¼). æœ¬æ¬¡ä¸»è¦ä»‹ç»&lt;strong&gt;æ— Agent&lt;/strong&gt;çš„æ–¹å¼.&lt;/p&gt;
&lt;h2 id="_2"&gt;åº”ç”¨æœåŠ¡å™¨ç«¯é…ç½®&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;JBoss EAP 6.Xæˆ–Wildfly 10é…ç½®è°ƒæ•´, &lt;strong&gt;éœ€è¦é…ç½®logmanagerå’Œæš´éœ²JMX Remoteç«¯å£&lt;/strong&gt;. å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;å¯¹äºWildfly 10.1.0  (windowsè„šæœ¬, Linuxä¸‹æŒ‰ç…§shellè¯­æ³•åšç›¸åº”ä¿®æ”¹, ä¸‹åŒ)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;rem # Set LogManager&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Djboss.modules.system.pkgs=org.jboss.logmanager  -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:D:\wildfly-10.1.0.Final\wildfly-10.1.0.Final\modules\system\layers\base\org\jboss\logmanager\main\jboss-logmanager-2.0.4.Final.jar -Xbootclasspath/p:D:\wildfly-10.1.0.Final\wildfly-10.1.0.Final\modules\system\layers\base\org\jboss\log4j\logmanager\main\log4j-jboss-logmanager-1.1.2.Final.jar&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;rem # Set JMX Remote&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1090 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JBoss EAP 6.4&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;rem # Set LogManager&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Djboss.modules.system.pkgs=org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:D:\EAP-6.4.0\modules\system\layers\base\org\jboss\logmanager\main\jboss-logmanager-1.5.4.Final-redhat-1.jar -Xbootclasspath/p:D:\EAP-6.4.0\modules\system\layers\base\org\jboss\log4j\logmanager\main\log4j-jboss-logmanager-1.1.1.Final-redhat-1.jar&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;rem # Set JMX Remote&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1090 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¿®æ”¹å®Œæˆåé‡å¯å¯¹åº”çš„åº”ç”¨æœåŠ¡å™¨.&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;Dynatraceç«¯é…ç½®&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;è¯´æ˜:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatraceé€šè¿‡ä¸€ä¸ªæ’ä»¶: &lt;strong&gt;JMX Enhanced Monitor&lt;/strong&gt;æ¥å®ç°å¯¹JMXæ•°æ®çš„æ”¶é›†.&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨è¯¥æ’ä»¶, éœ€è¦åšä»¥ä¸‹2æ­¥æ“ä½œ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»º&lt;strong&gt;ä»»åŠ¡&lt;/strong&gt;, é€šè¿‡è¯¥ä»»åŠ¡, æ ¹æ®ä¸åŒçš„JVMç±»å‹æ¥æŠ“å–æ‰€æœ‰æƒ³è¦æŠ“å–çš„&lt;strong&gt;ç›‘æ§æŒ‡æ ‡&lt;/strong&gt;, å¹¶ç”Ÿæˆä¸€ä¸ªåŒ…å«ç›¸å…³&lt;strong&gt;ç›‘æ§æŒ‡æ ‡&lt;/strong&gt;çš„jaråŒ…åˆ°æŒ‡å®šç›®å½•.&lt;/li&gt;
&lt;li&gt;å†æŠŠè¯¥jaråŒ…ä»¥æ’ä»¶å½¢å¼å®‰è£…åˆ°Dynatrace Serverä¸Š.&lt;/li&gt;
&lt;li&gt;åˆ›å»º&lt;strong&gt;ç›‘è§†å™¨&lt;/strong&gt;, ä»å¯¹åº”çš„åº”ç”¨æœåŠ¡å™¨ä¸Šè·å–æƒ³è¦ç›‘æ§çš„æŒ‡æ ‡.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ€å, é€šè¿‡ç›‘æ§åˆ°çš„æŒ‡æ ‡, å¯ä»¥å®ç° &lt;strong&gt;ç›‘æ§é¢æ¿å±•ç¤º/å‘Šè­¦/æŠ¥å‘Šå¯¼å‡º&lt;/strong&gt;ç­‰åŠŸèƒ½.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ“ä½œæ­¥éª¤:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨Dynatraceä¸Š, é€šè¿‡å®‰è£…æ’ä»¶&lt;strong&gt;JMX Enhanced Monitor&lt;/strong&gt;æ¥å®ç°å¯¹æ•°æ®çš„æ”¶é›†. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="JMXç›‘æ§æ’ä»¶" src="http://pic.yupoo.com/east4ming_v/ad38044d/358307e5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å…·ä½“çš„é…ç½®æ–‡ä»¶(å¦‚:CCIC2), å³é”®é€‰æ‹©&lt;strong&gt;ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶&lt;/strong&gt; â†’ &lt;strong&gt;ä»»åŠ¡&lt;/strong&gt; â†’ &lt;strong&gt;åˆ›å»ºä»»åŠ¡&lt;/strong&gt;. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºä»»åŠ¡1" src="http://pic.yupoo.com/east4ming_v/2310cada/9d4fc386.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»»åŠ¡å…·ä½“çš„é…ç½®å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/b2d66e68/e951a0be.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;strong&gt;Include MBeans Patterns&lt;/strong&gt;ä¸­, ç¼–è¾‘è¯¥é…ç½®, å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="åŒ…å«MBeans" src="http://pic.yupoo.com/east4ming_v/3516c97c/54ece686.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘æ‰§è¡Œè¯¥ä»»åŠ¡çš„é¢‘ç‡å’Œå…·ä½“çš„ç»„ä»¶. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/bb7f8b32/d8dc5276.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ‰‹åŠ¨æ‰§è¡Œ&lt;/strong&gt;è¯¥ä»»åŠ¡, æ‰§è¡Œå®Œæˆå, å³é”®æŸ¥çœ‹è¯¥ä»»åŠ¡æ˜¯å¦æ‰§è¡ŒæˆåŠŸ. å…·ä½“å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="æ‰§è¡Œä»»åŠ¡" src="http://pic.yupoo.com/east4ming_v/384547c0/1d6444d6.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç¬¬3æ­¥æŒ‡å®šçš„è·¯å¾„çš„&lt;code&gt;mg/build&lt;/code&gt;ä¸‹æ‰¾åˆ°ç”Ÿæˆçš„jaråŒ…. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç”Ÿæˆçš„ç›‘æ§æŒ‡æ ‡jaråŒ…" src="http://pic.yupoo.com/east4ming_v/0fe58827/9eef22a1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®&lt;/strong&gt; â†’ Dynatrace Server â†’ &lt;strong&gt;æ’ä»¶&lt;/strong&gt; â†’ å®‰è£…æ’ä»¶, é€‰æ‹©ä¸Šä¸€æ­¥çš„jaråŒ…è¿›è¡Œå®‰è£…. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/b5e54e54/ad19a4c1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å…·ä½“çš„é…ç½®æ–‡ä»¶(å¦‚:CCIC2), å³é”®é€‰æ‹©&lt;strong&gt;ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶&lt;/strong&gt; â†’ &lt;strong&gt;ç›‘è§†å™¨&lt;/strong&gt; â†’ &lt;strong&gt;åˆ›å»º...&lt;/strong&gt;. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/dec10b0f/193276e5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›‘è§†å™¨çš„å…·ä½“é…ç½®å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;JMX Service URLçš„é€šç”¨å†™æ³•ç¤ºä¾‹: &lt;code&gt;service:jmx:rmi:///jndi/rmi://127.0.0.1:1090/jmxrmi&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ·»åŠ è¦ç›‘æ§çš„ä¸»æœº.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/a7fc275c/04c867d4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œé¢‘ç‡å’Œå…·ä½“çš„æ‰§è¡Œç»„ä»¶é…ç½®å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/5e776a26/85260ee7.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›‘æ§æŒ‡æ ‡(æµ‹é‡ç»“æœ)é…ç½®å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/72fd31d7/4a3b783d.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œè¯¥&lt;strong&gt;ç›‘è§†å™¨&lt;/strong&gt;. æˆåŠŸç»“æœç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/058e36b4/86eae21e.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡³æ­¤, &lt;strong&gt;æ— Agentç›‘æ§æ–¹å¼&lt;/strong&gt;å·²é…ç½®å®Œæˆ. åç»­å¯ä»¥æ ¹æ®è¿™äº›æ”¶é›†åˆ°çš„æŒ‡æ ‡è¿›è¡Œ&lt;strong&gt;ç›‘æ§é¢æ¿å±•ç¤º/å‘Šè­¦/æŠ¥å‘Šå¯¼å‡º&lt;/strong&gt;ç­‰åŠŸèƒ½. ç›‘æ§é¢æ¿å±•ç¤ºç¤ºä¾‹å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/da0ed9f8/2bbec94e.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;ç›‘æ§æŒ‡æ ‡&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»æœºä¿¡æ¯(ç‰©ç†å†…å­˜å’ŒCPU. éœ€è¦JDKæ”¯æŒ)&lt;/li&gt;
&lt;li&gt;å†…å­˜ä½¿ç”¨ç›¸å…³ä¿¡æ¯(å¦‚: heap, perm, newåŒº, oldåŒºç­‰)&lt;/li&gt;
&lt;li&gt;ç±»åŠ è½½ç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;GCç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ç›¸å…³ä¿¡æ¯(æ€»çº¿ç¨‹,peakçº¿ç¨‹, å½“å‰çº¿ç¨‹)&lt;/li&gt;
&lt;li&gt;JAVAè½¯ä»¶ç‰¹å®šJMXä¿¡æ¯(å¦‚:jbossçš„jbossç›¸å…³ä¿¡æ¯, ActiveMQçš„é˜Ÿåˆ—ä¿¡æ¯, Mule ESBçš„å¤„ç†èƒ½åŠ›ç›¸å…³ä¿¡æ¯)&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 03 Apr 2019 10:36:27 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-03:/monitoring-java-soft-with-dynatrace-appmon-without-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 1.å®‰è£…ç»„ä»¶å‰å¿…å¤‡å·¥ä½œ</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-1-before-installation.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å®‰è£…å‰å‡†å¤‡&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#size"&gt;Size&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-server"&gt;Dynatrace Server&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#indexagent"&gt;ç¦ç”¨Indexå”¯ä¸€åŒ–Agentåç§°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#purepath"&gt;PurePathè¶…æ—¶æ—¶é—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ä¸šåŠ¡åˆ†ææœ€å¤§åˆ†è£‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#server-side"&gt;Server SideæŠ¥å‘Šé™åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gc"&gt;GCå‘Šè­¦è®¾ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-analysis-server"&gt;Dynatrace Analysis Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;Dynatrace æ•°æ®åº“&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ä¸åŒåˆ†è¾¨ç‡ç»†èŠ‚è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sql-server"&gt;SQL Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#oracle"&gt;Oracle&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-collector"&gt;Dynatrace Collector&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;æœ€å°éœ€æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#indexagent_1"&gt;ä½¿ç”¨Indexå”¯ä¸€åŒ–Agentåå­—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-client"&gt;Dynatrace Client&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_5"&gt;å®¢æˆ·ç«¯æœ€å°éœ€æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#client-side"&gt;Client Side æŠ¥å‘Šé™åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;å®‰è£…å‰å‡†å¤‡&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç¦ç”¨&lt;strong&gt;è¶…çº¿ç¨‹&lt;/strong&gt;ï¼ˆHyper-Threadingï¼‰&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/proc/cpuinfo&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;è¿™æ˜¯å¼€å¯äº†è¶…çº¿ç¨‹: &lt;code&gt;threads per core: 2&lt;/code&gt;  processor = core * 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯¹äº&lt;strong&gt;Medium&lt;/strong&gt;åŠä»¥ä¸Šè§„æ¨¡ï¼ŒCPUæ—¶é’Ÿé¢‘ç‡éœ€å¤§äºç­‰äº2.6GHz&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="size"&gt;Size&lt;a class="headerlink" href="#size" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="size1" src="http://pic.yupoo.com/east4ming_v/GcvZBqZN/2IfCJ.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="size2" src="http://pic.yupoo.com/east4ming_v/GcvZByIh/RicSG.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="size3" src="http://pic.yupoo.com/east4ming_v/GcvZBDNd/KGXM7.jpg"&gt;&lt;/p&gt;
&lt;h2 id="dynatrace-server"&gt;Dynatrace Server&lt;a class="headerlink" href="#dynatrace-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è¯­è¨€åŠå­—ç¬¦é›†å¿…é¡»ä¸º&lt;strong&gt;LANG=en_US.UTF-8&lt;/strong&gt; (å¦åˆ™å¯èƒ½ä»ªè¡¨æ¿ã€å‘Šè­¦é‚®ä»¶ä¼šä¹±ç )&lt;/li&gt;
&lt;li&gt;Linuxä¿®æ”¹ ~/.bash_profile ï¼ˆç›´æ¥cdåˆ°è½¯ä»¶ç›®å½•æˆ–&lt;code&gt;export DT_HOME=/opt/dynatrace-6.5&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Linuxä¿®æ”¹chkconfigï¼ˆé…ç½®æœåŠ¡é¡¹ï¼‰&lt;/li&gt;
&lt;li&gt;Linuxå…³é—­selinux&lt;/li&gt;
&lt;li&gt;6.3+ Linuxç”¨æˆ·æ³¨æ„è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;Linuxéœ€è¦å®‰è£…JRE 6+ï¼ˆæ¨èOracle JRE 8ï¼‰&lt;/li&gt;
&lt;li&gt;ä¼šè¯å­˜å‚¨ä¸è¦å¤šäº&lt;strong&gt;2T&lt;/strong&gt; ï¼ˆ500tpsï¼Œä¸€å¤©1TBç©ºé—´ï¼‰&lt;/li&gt;
&lt;li&gt;ulimit -n 2048æˆ–æ›´é«˜&lt;/li&gt;
&lt;li&gt;å†…å­˜åˆ†ææœåŠ¡å™¨ï¼šåœ¨dtanalysisserver.iniä¸­è®¾ç½®-Xmxã€‚&lt;/li&gt;
&lt;li&gt;Windowsï¼šç”µæºé€‰é¡¹è®¾ç½®ä¸º&lt;strong&gt;é«˜æ€§èƒ½&lt;/strong&gt; ï¼ˆLinuxä¹Ÿéœ€è¦æŸ¥çœ‹: &lt;code&gt;/proc/cpuinfo&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸å»ºè®®SAN-basedå­˜å‚¨ï¼Œ&lt;strong&gt;å¯èƒ½&lt;/strong&gt;ä¼šæˆä¸ºç“¶é¢ˆ(éœ€è¦æµ‹è¯•æ€§èƒ½)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¹ˆå¤šæ ¸?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace æ˜¯ä¸€ä¸ªå¤æ‚çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆï¼Œæ¯æ—¶æ¯åˆ»éƒ½åœ¨åå°è¿›è¡Œæµ·é‡çš„å¤æ‚è®¡ç®—ã€‚å› æ­¤é«˜æ€§èƒ½çš„CPUæ˜¯ååé‡çš„å¿…è¦ä¿éšœã€‚ä¸‹åˆ—åˆ—å‡ºDynatrace Serveréœ€è¦è¾ƒå¤šCPUæ ¸æ•°çš„ä¸€äº›åŸå› ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…³è”å¼•æ“&lt;/li&gt;
&lt;li&gt;å®æ—¶åˆ†æ&lt;/li&gt;
&lt;li&gt;é€šä¿¡ï¼ˆClients, Collectors, etc.ï¼‰&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;å­˜å‚¨&lt;/li&gt;
&lt;li&gt;åˆ†æç¼“å­˜&lt;/li&gt;
&lt;li&gt;æ•°æ®å¯¼å‡º&lt;/li&gt;
&lt;li&gt;Web servers&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡å’Œç›‘è§†å™¨çš„job center&lt;/li&gt;
&lt;li&gt;äº‹ä»¶ï¼ˆå‘Šè­¦ï¼‰ä¸­å¿ƒ&lt;/li&gt;
&lt;li&gt;åƒåœ¾æ”¶é›†&lt;/li&gt;
&lt;li&gt;è‡ªç›‘æ§å’Œæ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æ“ä½œç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="indexagent"&gt;ç¦ç”¨Indexå”¯ä¸€åŒ–Agentåç§°&lt;a class="headerlink" href="#indexagent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦ç¦ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦åœ¨Dynatrace Serverçš„å¯åŠ¨æ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªå¸ƒå°”å€¼ã€‚é»˜è®¤ä¸ºtrueï¼Œéœ€è¦å°†å…¶è®¾ä¸ºfalseã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;collector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;agentcenter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;unique_agent_names_with_index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="purepath"&gt;PurePathè¶…æ—¶æ—¶é—´&lt;a class="headerlink" href="#purepath" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é»˜è®¤ä¸º600sï¼ˆ10minï¼‰ï¼Œæœ€å¤§å¯ä»¥è®¾ç½®åˆ°3600sï¼ˆ1 hourï¼‰ã€‚åœ¨&lt;strong&gt;dtserver.ini&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;completenessTimeout&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;valueInSeconds&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_2"&gt;ä¸šåŠ¡åˆ†ææœ€å¤§åˆ†è£‚æ•°&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;strong&gt;dtserver.ini&lt;/strong&gt;ä¸­ï¼Œåœ¨ &lt;em&gt;-server&lt;/em&gt; å‰ä¸€è¡Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š(ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹ï¼Œå¦‚ä¿®æ”¹ä¸º75000)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;OverruleMaxSplittingsBTs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;MeasureExplosionPreventionTest&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;ManySplittingsTimeMillis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50000&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MeasureExplosionPreventionTest&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;MeasureExplosionTriggeringBT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="server-side"&gt;Server SideæŠ¥å‘Šé™åˆ¶&lt;a class="headerlink" href="#server-side" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;strong&gt;dtserver.ini&lt;/strong&gt;ä¸­ï¼Œè®¾ç½®å¦‚ä¸‹å‚æ•°ï¼š(éœ€è¦æ·»åŠ åœ¨&lt;em&gt;-vmargs&lt;/em&gt; åä¸€è¡Œ)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vmargs&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reporting&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Xmx1920M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¹¶è¡ŒæŠ¥å‘Šæ•°è®¾ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤ä¸º3&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.maxConcurrentReports=5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŠ¥å‘Šç­‰å¾…è¶…æ—¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤60s&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.reportWaitTimeout=120&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŠ¥å‘Šç­‰å¾…é˜Ÿåˆ—é•¿åº¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤ä¸º3&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.maxWaitingReports=5&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;éæ‹‰ä¸è¯­ç³»PDFæŠ¥å‘Š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.pdf.english=false&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="gc"&gt;GCå‘Šè­¦è®¾ç½®&lt;a class="headerlink" href="#gc" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æœ‰ä»¥ä¸‹3ä¸ªå‚æ•°å¯ä»¥è¿›è¡Œè®¾ç½®ï¼Œåœ¨&lt;strong&gt;dtserver.ini&lt;/strong&gt;ä¸­ï¼Œä½¿ç”¨-D&amp;lt;å‚æ•°&amp;gt;=&amp;lt;å€¼&amp;gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;å€¼&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics.maxRelativeGCActivity&lt;/td&gt;
&lt;td&gt;int (default = 15) %&lt;/td&gt;
&lt;td&gt;Set custom health threshold for max relative GC activity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics.healthWatchPeriodGc&lt;/td&gt;
&lt;td&gt;int (default = 5) min&lt;/td&gt;
&lt;td&gt;Set custom process health threshold for the watch&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics. healthWatchPeriodViolationThresholdGc&lt;/td&gt;
&lt;td&gt;int (default = 4) min&lt;/td&gt;
&lt;td&gt;Set custom process health threshold for the watch&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="dynatrace-analysis-server"&gt;Dynatrace Analysis Server&lt;a class="headerlink" href="#dynatrace-analysis-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‰ç…§ç›‘æ§çš„JVMçš„æœ€å¤§heap+25% ä¿®æ”¹æœ€å¤§å†…å­˜-Xmx&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dynatrace"&gt;Dynatrace æ•°æ®åº“&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;ä¸åŒåˆ†è¾¨ç‡ç»†èŠ‚è¯´æ˜&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="åˆ†è¾¨ç‡ç»†èŠ‚" src="http://pic.yupoo.com/east4ming_v/GcvZCl1E/NcZPS.jpg"&gt;&lt;/p&gt;
&lt;h3 id="sql-server"&gt;SQL Server&lt;a class="headerlink" href="#sql-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;èµ·å§‹ç©ºé—´5G&lt;/li&gt;
&lt;li&gt;DBowneræƒé™&lt;/li&gt;
&lt;li&gt;è¡¨æ’åºè§„åˆ™è¦æ±‚ï¼š&lt;strong&gt;Chinese_PRC_CI_AS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="oracle"&gt;Oracle&lt;a class="headerlink" href="#oracle" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;dba&lt;/li&gt;
&lt;li&gt;å­—ç¬¦é›†ï¼š&lt;strong&gt;UTF-8&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dynatrace-collector"&gt;Dynatrace Collector&lt;a class="headerlink" href="#dynatrace-collector" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é¢„ç½®JDK 8ï¼ˆæ¨èOracleï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linuxä¿®æ”¹ ~/.bash_profile ï¼ˆç›´æ¥cdåˆ°è½¯ä»¶ç›®å½•ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linuxä¿®æ”¹chkconfigï¼ˆé…ç½®æœåŠ¡é¡¹ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linuxå…³é—­selinux&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœCollectorå’ŒServerä¸åœ¨ä¸€å—ï¼Œåœ¨è„šæœ¬æˆ–æ³¨å†Œæ–‡ä»¶ä¸­åŠ å…¥&lt;code&gt;-server &amp;lt;dynaTraceServerName&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœè¦é…ç½®å¤šå®ä¾‹ï¼Œæ·»åŠ &lt;code&gt;./dtcollector -instance collector02 -listen :10001&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºæœåŠ¡é¡¹ï¼Œæ‹·è´$DT_HOME/init.d/dynaTraceCollector è„šæœ¬åˆ°/etc/init.d/dynatraceCollector02ã€‚å¹¶åšä»¥ä¸‹ä¿®æ”¹ï¼š(2é€‰1)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DT_OPTARGS="-instance collector02"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DT_INSTANCE=collector02&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;æœ€å°éœ€æ±‚&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;50ä¸ªJavaæˆ–25ä¸ª.Net Agents&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Diskï¼š30GB&lt;/li&gt;
&lt;li&gt;Memoryï¼š2GBï¼ˆCollectorç»„ä»¶éœ€è¦çš„ï¼ŒOSè¦æ›´å¤šä¸€ç‚¹ï¼Œ3GB+ï¼‰&lt;/li&gt;
&lt;li&gt;CPU Coresï¼š1 ï¼ˆç¦ç”¨è¶…çº¿ç¨‹ï¼Œæ¨è2Core+ï¼‰&lt;/li&gt;
&lt;li&gt;limits.conf æ‰“å¼€æ–‡ä»¶æ•° æœ€å°ä¸ºï¼š(500+3Ã—Agentsæ•°)Ã—Collectorsæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="indexagent_1"&gt;ä½¿ç”¨Indexå”¯ä¸€åŒ–Agentåå­—&lt;a class="headerlink" href="#indexagent_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¦ç¦ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦åœ¨Dynatrace Collectorçš„å¯åŠ¨æ–‡ä»¶&lt;strong&gt;dtcollector.ini&lt;/strong&gt;ä¸­åŠ å…¥ä¸€ä¸ªå¸ƒå°”å€¼ã€‚é»˜è®¤ä¸ºtrueï¼Œéœ€è¦å°†å…¶è®¾ä¸ºfalseã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.collector.agentcenter.unique_agent_names_with_index=false&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="dynatrace-client"&gt;Dynatrace Client&lt;a class="headerlink" href="#dynatrace-client" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_5"&gt;å®¢æˆ·ç«¯æœ€å°éœ€æ±‚&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;x64ï¼ˆDynatrace 6.5+ï¼‰&lt;/li&gt;
&lt;li&gt;Diskï¼š100MB&lt;/li&gt;
&lt;li&gt;Memoryï¼š1GB&lt;/li&gt;
&lt;li&gt;åˆ†è¾¨ç‡ï¼š1024Ã—768&lt;/li&gt;
&lt;li&gt;Webstart Clientï¼š&lt;ul&gt;
&lt;li&gt;IE 8+ Firefox 38-48æ˜¯ç»è¿‡Dynatraceè®¤è¯çš„&lt;/li&gt;
&lt;li&gt;Oracle JRE &amp;gt;= 1.8.0_45&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="client-side"&gt;Client Side æŠ¥å‘Šé™åˆ¶&lt;a class="headerlink" href="#client-side" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥åœ¨&lt;strong&gt;dtclient.ini&lt;/strong&gt;ä¸­ä¿®æ”¹å¦‚ä¸‹å‚æ•°ï¼š(å‚æ•°å¾—åŠ åœ¨ &lt;em&gt;-vmargs&lt;/em&gt; åä¸€è¡Œï¼Œè€Œä¸æ˜¯æœ€åã€‚)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vmargs&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reporting&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Xmx512M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¯¹äºWebstart Clientï¼Œéœ€è¦è®¾ç½®&lt;strong&gt;JAVA_TOOL_OPTIONS&lt;/strong&gt;ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;JAVA_TOOL_OPTIONS=-Dcom.dynatrace.diagnostics.reporting.maxTableRows=10000&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-1-before-installation.html</guid><category>Dynatrace</category><category>Observability</category><category>æ€§èƒ½è°ƒä¼˜</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 2.è¯ä¹¦åˆ›å»º</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-2-create-certificate.html</link><description>&lt;h2 id="_1"&gt;æ­¥éª¤&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨å‘å¯¼&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMaHa/7Bm8Z.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨å†…å­˜åˆ†ææœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMkg2/WyzsU.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¡«å†™ç»„ç»‡åç§°&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMsh5/11IJkW.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºç§é’¥æˆåŠŸ&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMw10/1sjoN.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¼å‡ºç§é’¥å’Œè¯ä¹¦&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMBA4/pfPKT.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªåŠ¨éƒ¨ç½²åˆ°ç»„ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMEOc/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»„ä»¶é‡å¯&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMLBp/tJqrX.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éƒ¨ç½²è¯ä¹¦å®Œæˆ&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMLBp/tJqrX.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-2-create-certificate.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 3.åˆ›å»ºç³»ç»Ÿé…ç½®æ–‡ä»¶æ¨¡æ¿</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-3-create-profile-template.html</link><description>&lt;h2 id="_1"&gt;æ­¥éª¤&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å·¦ä¾§è¾¹æ ä¸­ï¼Œå³é”®&lt;strong&gt;ç³»ç»Ÿé…ç½®æ–‡ä»¶æ¨¡æ¿&lt;/strong&gt; â†’ &lt;strong&gt;åˆ›å»ºç³»ç»Ÿé…ç½®æ–‡ä»¶æ¨¡æ¿&lt;/strong&gt;ï¼Œ å¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcoiwt/hknCr.png"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;é…ç½®ç³»ç»Ÿé…ç½®æ–‡ä»¶æ¨¡æ¿åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcowF1/QOxbw.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹©å¯¹åº”çš„æŠ€æœ¯æ ˆï¼ˆJavaã€.NETã€Web serverã€PHPã€Nativeï¼‰,å¦‚ä¸Šå›¾ã€‚å…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java  .NET  PHPæ— é¡»è§£é‡Š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Web server - å¯¹åº”ä¸€ç³»åˆ—Web serverï¼Œå¦‚Apacheã€Nginxã€IISç­‰&lt;/li&gt;
&lt;li&gt;Native - å¯¹åº”çš„æ˜¯Dynatraceçš„ADKï¼Œé€šè¿‡åœ¨åº”ç”¨ä¸­åµŒå…¥è¯¥ADKï¼Œå¯ä»¥å®ç°å¯¹C++ã€Pythonç­‰çš„ç›‘æ§ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_2"&gt;è¦ç‚¹&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;äº‹ä»¶ï¼ˆå³å‘Šè­¦ï¼‰ç›¸å…³é…ç½®&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½¿æŸäº›äº‹ä»¶æ´»åŠ¨æˆ–ä¸æ´»åŠ¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹äº‹ä»¶è§„åˆ™ä¸éœ€è¦å¯ç”¨ï¼Œå…·ä½“å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éƒ¨ç½²&lt;/li&gt;
&lt;li&gt;æµ‹è¯•è¿ä¾‹&lt;/li&gt;
&lt;li&gt;äº‹ç‰©æ•´ä½“å¤±è´¥ç‡é«˜ï¼ˆ&lt;strong&gt;å¤±è´¥ç‡å¤ªé«˜&lt;/strong&gt;å·²ç»è¦†ç›–ï¼‰&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“Agentç›¸å…³ï¼ˆæ²¡æœ‰è´­ä¹°æ•°æ®åº“Agent licenseåˆ™æ— éœ€å¼€å¯ï¼‰&lt;/li&gt;
&lt;li&gt;é¡µé¢æ“ä½œå¤±è´¥ç‡é«˜ï¼ˆéœ€è¦UEM licenseï¼›&lt;strong&gt;å¤±è´¥ç‡å¤ªé«˜&lt;/strong&gt;æœ‰äº¤é›†ï¼‰&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºè¿›ç¨‹å…³é—­ï¼ˆæ ¹æ®éœ€æ±‚ç¡®å®šæ˜¯å¦å¼€å¯ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoCV4/M1i31.png"&gt;&lt;/p&gt;
&lt;h3 id="_4"&gt;é”™è¯¯æ£€æµ‹é…ç½®&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸è¦å°†æ—¥å¿—æ ‡è®°ä¸ºé”™è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ é™¤&lt;strong&gt;é‡è¦çš„æ—¥å¿—è®°å½•&lt;/strong&gt;è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;åŸå› ï¼š&lt;/p&gt;
&lt;p&gt;æœ‰çš„å¼€å‘ä¸ºäº†åœ¨ç”Ÿäº§ä¸Šæ˜¾ç¤ºæ—¥å¿—ï¼Œä¼šå°†ä¸€äº›Infoç­‰çº§åˆ«çš„ä¿¡æ¯è®¾ç½®ä¸ºErrorï¼Œè€Œå‡ºç°Erroræ—¥å¿—æŠ¥é”™å¹¶ä¸ä¸€å®šæ„å‘³ç€&lt;strong&gt;äº‹åŠ¡&lt;/strong&gt;å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoNLt/P7SbT.png"&gt;&lt;/p&gt;
&lt;h3 id="_5"&gt;é”™è¯¯è§„åˆ™åˆ›å»º&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥æ ¹æ®åº”ç”¨æ‰€ç‰¹æœ‰çš„Exceptionã€Loggingç­‰æ¥åˆ›å»ºï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsOkh/65iq5.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_6"&gt;åº”ç”¨ç¨‹åºå®šä¹‰&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace 6.5 å¯ä»¥é€šè¿‡Web/Mobileï¼ˆ6.5ä¹‹å‰åªæœ‰è¿™ä¸€ç§å®šä¹‰æ–¹æ³•ï¼‰ã€Messagingã€Entry Pointæ¥å®šä¹‰åº”ç”¨ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–åº”ç”¨çš„å®šä¹‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsTQp/R2lT9.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;ç”¨æˆ·ä½“éªŒ&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰è´­ä¹°UEM licenseï¼Œåˆ™ç¦ç”¨UEMï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoZMb/amzM1.png"&gt;&lt;/p&gt;
&lt;h3 id="schedule"&gt;Schedule&lt;a class="headerlink" href="#schedule" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;åˆ›å»ºæ—¶é—´è®¡åˆ’&lt;/strong&gt;ï¼Œå¦‚åˆ›å»º&lt;strong&gt;æ¯ä¸ªå·¥ä½œæ—¥ã€æ¯å‘¨ã€æ¯æœˆ&lt;/strong&gt;è®¡åˆ’ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcp5kE/44NZA.jpg"&gt;&lt;/p&gt;
&lt;h3 id="agent-group-java"&gt;Agent Group - Java&lt;a class="headerlink" href="#agent-group-java" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºJavaæŠ€æœ¯æ ˆçš„Agent Groupæ¨¡æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpaOy/8KhP9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰æ‹©éœ€è¦æ”¾ç½®çš„Sensor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸåˆ™ï¼šæœ€å°‘æœ€éœ€è¦ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;å¿…é¡»çš„Sensorï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDBC&lt;/li&gt;
&lt;li&gt;Exceptions&lt;/li&gt;
&lt;li&gt;Java Logging&lt;/li&gt;
&lt;li&gt;JMX MBean Server&lt;/li&gt;
&lt;li&gt;JMS&lt;/li&gt;
&lt;li&gt;JMS Receive Entry Point&lt;/li&gt;
&lt;li&gt;Executor Tagging&lt;/li&gt;
&lt;li&gt;Thread Start Tagging&lt;/li&gt;
&lt;li&gt;Java Web Requests&lt;/li&gt;
&lt;li&gt;Servers&lt;/li&gt;
&lt;li&gt;Java Web Services&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcpjjm/12bHs1.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Exception (Java)&lt;/h4&gt;
&lt;p&gt;å¯¹Dynatraceé»˜è®¤çš„Exceptionå®šä¹‰è¿›è¡Œç»†åŒ–ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;åŸå› ï¼šåŸæœ‰çš„ç›´æ¥æ’é™¤java.å¼€å¤´çš„Exceptionä¼šæ’é™¤å¤§é‡æˆ‘ä»¬éœ€è¦è·å–çš„Exceptionï¼Œå¦‚ç½‘ç»œç›¸å…³çš„æŠ¥é”™ç­‰ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°½å¯èƒ½ç»†åŒ–ä¸éœ€è¦æŠ“å–çš„Exceptionï¼Œå¦‚&lt;strong&gt;beans&lt;/strong&gt;ã€ &lt;strong&gt;æ–¹æ³•æ‰¾ä¸åˆ°&lt;/strong&gt;ç›¸å…³å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpAV9/YqhSj.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - JDBC&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨èšåˆï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒå¼€å¯ï¼Œå› ä¸ºå•ä¸ªäº‹åŠ¡çš„SQLæ‰§è¡Œæ¬¡æ•°è¾ƒå¤šï¼Œå¦‚æœä¸èšåˆåˆ†æèµ·æ¥å¾ˆä¸æ–¹ä¾¿ã€‚å¯ç”¨èšåˆäº†åˆ™æ— æ³•è·å–&lt;strong&gt;ç»‘å®šå€¼&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;SQLé•¿åº¦è·³å¤§ï¼ˆå¦‚ï¼š10240ï¼‰ï¼ˆé»˜è®¤512é•¿åº¦ï¼Œç»å¸¸ä¼šæŠ“å–åˆ°ä¸å®Œæ•´çš„SQLï¼Œä»è€Œæ— æ³•å®šä½SQLé—®é¢˜ã€‚å»ºè®®è¯¥å€¼å¤§äºæ‰€ç›‘æ§çš„åº”ç”¨ä¸­çš„æœ€å¤§çš„SQLé•¿åº¦ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpVjP/10a2Js.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Logging (Java)&lt;/h4&gt;
&lt;p&gt;æ­¤å¤„Logç­‰çº§å¤§å°å†™æ•æ„Ÿï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æˆ‘ä»¬ç›‘æ§çš„çº§åˆ«ï¼Œå¦‚å¯¹äºWebLogicï¼Œå¯ä»¥æ·»åŠ &lt;strong&gt;Error&lt;/strong&gt;ç­‰çº§åˆ«ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcqeew/5M54W.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Servlet&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é€šå¸¸ï¼Œæˆ‘ä»¬è®¤ä¸ºé™æ€èµ„æºä¸ä¼šå¯¹ç³»ç»Ÿæ€§èƒ½é€ æˆå½±å“ï¼Œæ— éœ€ç›‘æ§ï¼Œæ­¤å¤„è®¾ç½®æ’é™¤å¯¹é™æ€èµ„æºçš„ç›‘æ§ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ï¼Œä¸€äº›ä¸­é—´ä»¶ã€ç¡¬ä»¶è®¾å¤‡ï¼Œä¼šæœ‰ä¸åº”ç”¨æ— å…³çš„URIï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ’é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcqnte/hunpl.jpg"&gt;&lt;/p&gt;
&lt;h3 id="agent-group-net"&gt;Agent Group - .NET&lt;a class="headerlink" href="#agent-group-net" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åˆ›å»º.NET Agent Groupæ¨¡æ¿ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcquzV/Pc4ms.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰æ‹©å¿…è¦çš„Sensor&lt;/strong&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqFMu/CkZXe.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - ADO.NET&lt;/h4&gt;
&lt;p&gt;ä¸JDBC Sensorç±»ä¼¼ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqMPS/iVLgB.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - ASP.NET&lt;/h4&gt;
&lt;p&gt;ä¸Servletç±»ä¼¼ï¼Œè§ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqRLY/8DuGF.jpg"&gt;&lt;/p&gt;
&lt;h3 id="api"&gt;API&lt;a class="headerlink" href="#api" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥é’ˆå¯¹åº”ç”¨å¼€å‘çš„éœ€æ±‚ï¼Œå®šä¹‰APIï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqXC8/th008.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcr2YK/14SZ6f.jpg"&gt;&lt;/p&gt;
&lt;h3 id="measure"&gt;Measure&lt;a class="headerlink" href="#measure" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ ¹æ®åº”ç”¨ç›‘æ§çš„éœ€æ±‚ï¼Œè¿›è¡Œç›¸å…³Measureçš„å®šä¹‰ï¼Œæ­¤ç±»æ•°æ®å¯ä»¥è¿›ä¸€æ­¥ä½œä¸º&lt;strong&gt;è¿‡æ»¤ã€èšåˆã€æ‹†åˆ†&lt;/strong&gt;ç­‰æ¡ä»¶åˆ›å»ºBusiness Transactionã€‚&lt;/p&gt;
&lt;p&gt;å¦‚éœ€è¦åˆ›å»º&lt;strong&gt;å¤§äº10sçš„webè¯·æ±‚&lt;/strong&gt;çš„measureï¼Œåˆ™å…·ä½“åˆ›å»ºå¦‚ä¸‹ï¼š(ç”±&lt;strong&gt;web requests - time&lt;/strong&gt;å¤åˆ¶ä¿®æ”¹è€Œæ¥ï¼Œè®¾ç½®ä¸Šé™é˜ˆå€¼)ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsFyB/4pne8.jpg"&gt;&lt;/p&gt;
&lt;h3 id="business-transaction"&gt;Business Transaction&lt;a class="headerlink" href="#business-transaction" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¦‚éœ€è¦è¿›è¡Œæ›´ä¸ºå¤æ‚çš„åº”ç”¨ç›‘æ§ï¼ˆå¦‚é’ˆå¯¹åº”ç”¨ç»†èŠ‚çš„ç›‘æ§ã€å¯¹å…³é”®ä¸šåŠ¡çš„ç›‘æ§ç­‰ï¼‰ï¼Œå¯ä»¥åˆ›å»ºBusiness Transactionã€‚&lt;/p&gt;
&lt;p&gt;å¦‚è¦æŠ“å–æ‰€æœ‰&lt;strong&gt;webå“åº”æ—¶é—´å¤§äº10s&lt;/strong&gt;çš„è¯·æ±‚ï¼Œå¯ä»¥å°†ä¹‹å‰åˆ›å»ºçš„Measureä½œä¸ºè¿‡æ»¤æ¡ä»¶æ¥åˆ›å»ºã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcrg0x/eFEUX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TIPS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‹¾é€‰&lt;strong&gt;Active&lt;/strong&gt; æ‰ä¼šæ­£å¼å¯ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å‹¾é€‰å¯¹åº”é€‰é¡¹åç»“æœä¼šå­˜æ”¾åˆ°æ•°æ®åº“ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‰å¤§å› å­&lt;ul&gt;
&lt;li&gt;Filter&lt;/li&gt;
&lt;li&gt;Calculate Results&lt;/li&gt;
&lt;li&gt;Split Results&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Splitting ä¹Ÿæ˜¯é‡è¦çš„é€‰é¡¹&lt;/li&gt;
&lt;li&gt;åŸºçº¿è®¾ç½®ç”¨æ¥è®¾ç½®åŠ¨æ€æˆ–é™æ€çš„å‘Šè­¦é˜ˆå€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="monitor"&gt;Monitor&lt;a class="headerlink" href="#monitor" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Monitorè¿™å—å†…å®¹å¾…å®Œå–„åŠä¸°å¯Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Unix Monitor&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrlB8/kLc10.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;VMware Monitor&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Host System Performance Monitor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrlB8/kLc10.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrLyx/9Rh2b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Virtual Machine Performance Monitor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrU8l/7iHmE.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcs3as/cUXUV.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Windows Performance Monitor&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsqFN/hKRir.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_8"&gt;æ€»ç»“&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è‡³æ­¤ï¼Œç³»ç»Ÿé…ç½®æ–‡ä»¶æ¨¡æ¿åŠå…³äºç³»ç»Ÿé…ç½®æ–‡ä»¶å¤§éƒ¨åˆ†è¦ç‚¹å·²ç»é…ç½®å®Œæˆï¼Œåç»­å¯ä»¥åŸºäºè¯¥æ¨¡æ¿åˆ›å»ºæ­£å¼çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¼çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶è¿˜éœ€è¦é…ç½®çš„å†…å®¹æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AgentåŸºç¡€é…ç½®ï¼ˆå¦‚mappingã€åˆ†è¾¨ç‡ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿå±‚ï¼ˆMessagingã€Load Balanceç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦ç»†åŒ–çš„å†…å®¹æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åº”ç”¨å®šä¹‰&lt;/li&gt;
&lt;li&gt;Monitor&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡ï¼ˆå®šæ—¶æŠ¥å‘Šã€å®šæ—¶é‡‡æ ·ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;Measureï¼ˆä¸­é—´ä»¶æŒ‡æ ‡ã€JMXæŒ‡æ ‡ã€åº”ç”¨å…¶ä»–æŒ‡æ ‡ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;Business Transaction ï¼ˆå…³é”®ä¸šåŠ¡ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;Sensorï¼ˆåº”ç”¨ç‰¹å®šSensorï¼Œå¦‚å…³é”®æ–¹æ³•--æ ¸ä¿é‡‘é¢ï¼›å®šä¹‰å…¥å£ç‚¹ï¼Œå¦‚æ‰¹å¤„ç†ã€TCP SocketåŠå…¶ä»–ï¼‰&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-3-create-profile-template.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon å®æˆ˜æ‰‹å†Œ - 4.Dynatraceç»„ä»¶Linuxç³»ç»Ÿé…ç½®ä¸ºæœåŠ¡</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-4-register-linux-system-service.html</link><description>&lt;p&gt;é…ç½®ä¸ºæœåŠ¡ï¼Œå¯ä»¥åœ¨ä¸»æœºå¯åŠ¨çš„æ—¶å€™è‡ªå¯åŠ¨ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤åˆ¶Dynatraceç›¸å…³è„šæœ¬ï¼ˆ$DT_HOME/init.dï¼‰åˆ° /etc/init.d&lt;/li&gt;
&lt;li&gt;åœ¨è„šæœ¬ä¸­å®šä¹‰&lt;strong&gt;DT_RUNASUSER&lt;/strong&gt;åŠå…¶ä»–å˜é‡ï¼ˆå¦‚æœ‰å¿…è¦ï¼Œä¿®æ”¹&lt;strong&gt;DT_OPTARGS&lt;/strong&gt;å’Œ&lt;strong&gt;DT_FE_OPTARGS&lt;/strong&gt;ç­‰ï¼‰(&lt;strong&gt;å¿…éœ€&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;chkconfig --add dynaTraceServer&lt;/code&gt;  (å¦‚æœæ˜¯å…¶ä»–Linuxç‰ˆæœ¬ï¼Œå¦‚Debian(Ubuntu,...)ä½¿ç”¨&lt;code&gt;sudo update -rc.d dynaTraceServerNonRoot defaults&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;å¦‚æœAnalysis Serverå’ŒServerä½äºåŒä¸€å°ï¼Œåˆ™å…ˆå¯åŠ¨Analysis Serverï¼Œè¿‡10så·¦å³ï¼Œå†å¯åŠ¨Serverã€‚ï¼ˆå¯ä»¥å†Severçš„è„šæœ¬å‰åŠ å…¥sleep 10ï¼‰&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-4-register-linux-system-service.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>ä»€ä¹ˆæ˜¯ AIOps?</title><link>https://www.EWhisper.cn/what-is-aiops.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops"&gt;ä»€ä¹ˆæ˜¯ AIOps&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops_1"&gt;AIOps æè¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_2"&gt;å…¸å‹AIOps å¹³å°ä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ä¸Šä¸‹æ–‡åä½œå’ŒçŸ¥è¯†æ•è·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_3"&gt;AIOps è¯ç”ŸèƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;å¸‚åœºåˆ†æ&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;æ•°æ®æ‘„å–å’Œå¤„ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;åˆ†æç»“æœ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;ä»£è¡¨æ€§ä¾›åº”å•†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_4"&gt;AIOps å¹³å°å»ºè®¾å»ºè®®&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops_5"&gt;é€šè¿‡é‡‡ç”¨å¢é‡æ–¹æ³•ç¡®ä¿æˆåŠŸéƒ¨ç½²AIOpsåŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_6"&gt;é€‰æ‹©èƒ½å¤Ÿæ”¯æŒå¹¿æ³›çš„å†å²å’Œæµæ•°æ®ç±»å‹çš„AIOpså¹³å°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ€»ç»“&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_7"&gt;å»ºè®®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="aiops"&gt;ä»€ä¹ˆæ˜¯ AIOps&lt;a class="headerlink" href="#aiops" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;AIOpså¹³å°ç»“åˆäº†&lt;strong&gt;å¤§æ•°æ®&lt;/strong&gt;å’Œ&lt;strong&gt;æœºå™¨å­¦ä¹ &lt;/strong&gt;åŠŸèƒ½, é€šè¿‡å¯æ‰©å±•çš„æå–å’Œåˆ†æITä¸æ–­å¢åŠ çš„&lt;strong&gt;æ•°æ®é‡(volume), æ•°æ®ç§ç±»(variety)å’Œæ•°æ®ç”Ÿæˆé€Ÿåº¦(velocity)&lt;/strong&gt;æ¥æ”¯æŒæ‰€æœ‰çš„ä¸»è¦IPè¿ç»´åŠŸèƒ½. è¯¥&lt;strong&gt;å¹³å°æ”¯æŒä½¿ç”¨å¤šä¸ªæ•°æ®æº(ç›‘æ§çš„æ•°æ®æº), æ•°æ®æ”¶é›†æ–¹æ³•ä»¥åŠåˆ†æå’Œæ¼”ç¤ºæŠ€æœ¯.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="aiops_1"&gt;AIOps æè¿°&lt;a class="headerlink" href="#aiops_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AIOpså¯ä»¥å¢å¼ºå¤šç§å¸¸è§çš„ITè¿è¥æµç¨‹å’Œä»»åŠ¡, åŒ…æ‹¬&lt;strong&gt;æ€§èƒ½åˆ†æ, å¼‚å¸¸æ£€æµ‹, äº‹ä»¶å…³è”å’Œåˆ†æ, ITæœåŠ¡ç®¡ç†å’Œè‡ªåŠ¨åŒ–.&lt;/strong&gt;&lt;br&gt;
å®ƒä»¬çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æå–æ•°æ®&lt;/strong&gt; - ä»ä¸ä¾›åº”å•†æœ‰å…³æˆ–æ— å…³çš„å¤šä¸ªæºä¸­æå–æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åˆ†æ&lt;/strong&gt; - é€šè¿‡ä»¥ä¸‹2ç‚¹å¯ç”¨æ•°æ®åˆ†æ:&lt;ul&gt;
&lt;li&gt;æå–æ—¶çš„å®æ—¶åˆ†æ(æµå¼æ•°æ®å¼•æ“)&lt;/li&gt;
&lt;li&gt;å­˜å‚¨æ•°æ®çš„å†å²åˆ†æ(å¤§æ•°æ®ç¦»çº¿åˆ†æ)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®è®¿é—®&lt;/strong&gt; - æä¾›å¯¹æ•°æ®çš„è®¿é—®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å­˜å‚¨&lt;/strong&gt; - å­˜å‚¨é‡‡é›†çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;strong&gt;æœºå™¨å­¦ä¹ &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³è”æ“ä½œ&lt;/strong&gt; - æ ¹æ®åˆ†æç»“æœå¯åŠ¨æ“ä½œæˆ–ä¸‹ä¸€æ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ†æå·¥ä½œçš„ç›®æ ‡æ˜¯å‘ç°å’Œå»ºç«‹æ¨¡å‹ - ç”¨äºé¢„æµ‹å¯èƒ½çš„äº‹ä»¶å’Œæ–°å‡ºç°çš„ä½¿ç”¨æƒ…å†µ - å¹¶åŠæ—¶å›çœ‹å†å²æ•°æ®å·²ç¡®å®šå½“å‰ç³»ç»Ÿè¡Œä¸ºçš„æ ¹æœ¬åŸå› .&lt;/p&gt;
&lt;p&gt;&lt;img alt="AIOpså¹³å°åœ¨ITè¿è¥ç®¡ç†(ITOM)ä¸­æŒç»­æ´å¯Ÿ" src="./images/340492_0001.png"&gt;&lt;/p&gt;
&lt;h3 id="aiops_2"&gt;å…¸å‹AIOps å¹³å°ä»‹ç»&lt;a class="headerlink" href="#aiops_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢ä»¥å…¸å‹çš„AIOps å¹³å°ä¸ºä¾‹, å¯¹AIOpsçš„ç›¸å…³åŠŸèƒ½è¿›è¡Œä¸€ä¸€ä»‹ç».&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;br&gt;
æˆªå›¾æ¥è‡ª: &lt;a href="https://www.moogsoft.com/"&gt;moogsoft&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;æ¦‚è§ˆ&lt;/h4&gt;
&lt;p&gt;ä¸‹å›¾ä¸ºè½¯ä»¶é¦–é¡µ,  ç€é‡å±•ç¤ºäº†åŠŸèƒ½:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å‘Šè­¦é™å™ª&lt;/strong&gt; - 250000 çš„äº‹ä»¶é™å™ªä¸º55ä¸ªåœºæ™¯, è¿‡æ»¤å™ªå£°99.9%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="æ¦‚è§ˆ" src="./images/moogsoft-ai-ops-overview-in-situ@2x.png"&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯è¿™ä¸ªAIOpsè½¯ä»¶çš„ä¸»è¦åŠŸèƒ½:&lt;/p&gt;
&lt;h4&gt;é›†æˆ&lt;/h4&gt;
&lt;p&gt;ä¸ITç›‘æ§ï¼Œè‡ªåŠ¨åŒ–ï¼ŒæœåŠ¡ç®¡ç†ï¼Œé€šçŸ¥å’Œåä½œå·¥å…·è¿›è¡Œ50å¤šç§å¼€ç®±å³ç”¨çš„é›†æˆ; é€šè¿‡RESTï¼Œsyslogï¼Œwebhookï¼Œsocketæˆ–SNMPï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ•°ç™¾ä¸ªé›†æˆï¼Œä¸ºæ‚¨åœ¨ä¸€ä¸ªå¹³å°ä¸Šçš„æ•´ä¸ªITå·¥å…·é“¾æä¾›å¯è§çš„ä¸Šä¸‹æ–‡ã€‚(é›†æˆ, æºç«¯é›†æˆç›‘æ§, ç›®æ ‡ç«¯é›†æˆè‡ªåŠ¨åŒ–, é€šçŸ¥å·¥å…·ç­‰)&lt;/p&gt;
&lt;p&gt;é›†æˆæ¥å£:&lt;/p&gt;
&lt;p&gt;&lt;img alt="é›†æˆæ–¹å¼" src="./images/plug-graphics-logos-lg.png"&gt;&lt;/p&gt;
&lt;p&gt;é›†æˆçš„ç›‘æ§:&lt;/p&gt;
&lt;p&gt;&lt;img alt="é›†æˆç›‘æ§" src="./images/Integrations-1.png"&gt;&lt;/p&gt;
&lt;h4&gt;é™å™ª&lt;/h4&gt;
&lt;p&gt;é€šè¿‡å¯¹æ•´ä¸ªç›‘æ§å †æ ˆä¸­çš„æ‰€æœ‰äº‹ä»¶è¿›è¡Œæ•°å­¦åˆ†æï¼Œå°†ä¿¡å·ä¸å™ªå£°åˆ†ç¦»ï¼Œå°†è­¦æŠ¥é‡é™ä½90ï¼…æˆ–æ›´å¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="é™å™ª" src="./images/noise-reduction-eduction-reduced.png"&gt;&lt;/p&gt;
&lt;h4&gt;å…³è”&lt;/h4&gt;
&lt;p&gt;å…³è”æ•´ä¸ªç›‘æ§å †æ ˆä¸­çš„ç›¸å…³è­¦æŠ¥ï¼Œä¸ºè¿ç»´äººå‘˜æä¾›ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼Œä»¥æ›´å¿«åœ°å‘ç°äº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="å…³è”" src="./images/Asset-19@3x.png"&gt;&lt;/p&gt;
&lt;h4&gt;æ ¹å› åˆ†æ&lt;/h4&gt;
&lt;p&gt;æœºå™¨å­¦ä¹ å’ŒåŸºäºæ‹“æ‰‘çš„ç®—æ³•åœ¨å½“å‰äº‹ä»¶ä¸­åˆ—å‡ºå¯èƒ½æ ¹æœ¬åŸå› ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬çš„æŠ€æœ¯ä»è¿‡å»å­¦ä¹ ï¼Œæ‰€ä»¥å¦‚æœé—®é¢˜å†æ¬¡å‡ºç°ï¼Œæ‚¨ä¼šè‡ªåŠ¨æ”¶åˆ°æœ‰å…³å¦‚ä½•æ›´å¿«åœ°ä¿®å¤å®ƒçš„è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="æ ¹å› åˆ†æ" src="./images/probable-root-cause-reduced.png"&gt;&lt;/p&gt;
&lt;h3 id="_1"&gt;ä¸Šä¸‹æ–‡åä½œå’ŒçŸ¥è¯†æ•è·&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å°†äº‹ä»¶ä¼ é€’åˆ°åˆé€‚çš„äººå‘˜ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥ä¸€èµ·æ›´å¿«åœ°è§£å†³æ¯ä¸ªäº‹ä»¶ï¼ŒåŒæ—¶è®°å½•ç›¸å…³æ¢å¤æ­¥éª¤ï¼Œç±»ä¼¼äº‹ä»¶ã€‚æˆ‘ä»¬çš„AIOpså¹³å°å¯ä»¥å¿«é€Ÿï¼Œè½»æ¾åœ°è·¨å›¢é˜Ÿå’Œå·¥å…·è¿›è¡Œåä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="åä½œ1" src="./images/Collaboration-1-reduced.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="åä½œ2" src="./images/Collaboration-2-reduced.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="åä½œ3" src="./images/Collaboration-3-reduced.png"&gt;&lt;/p&gt;
&lt;h3 id="aiops_3"&gt;AIOps è¯ç”ŸèƒŒæ™¯&lt;a class="headerlink" href="#aiops_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨è¿‡å»äºŒåå¹´ä¸­ï¼Œäººå·¥æ™ºèƒ½æŠ€æœ¯é—´æ­‡æ€§åœ°å½±å“äº†ITOMçš„å‘å±•ï¼Œè€ŒAIOpså¹³å°åªæ˜¯è¿™ç§å½±å“çš„æœ€æ–°ä¾‹è¯ã€‚ITè¿è¥ä¸€æ–¹é¢è¦æ±‚ç²¾ç»†åŒ–è¿è¥, é™ä½æˆæœ¬ï¼Œå¦ä¸€æ–¹é¢åˆå¢åŠ äº†è¿è¥å¤æ‚æ€§ã€‚å¯ä»¥åœ¨&lt;strong&gt;æ•°æ®é‡(volume), æ•°æ®ç§ç±»(variety)å’Œæ•°æ®ç”Ÿæˆé€Ÿåº¦(velocity)&lt;/strong&gt;çš„ä¸‰ä¸ªç»´åº¦ä¸Šå®šä¹‰å¤æ‚æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ITåŸºç¡€æ¶æ„å’Œåº”ç”¨ç¨‹åºäº§ç”Ÿçš„&lt;strong&gt;æ•°æ®é‡&lt;/strong&gt;å¿«é€Ÿå¢é•¿ï¼ˆæ¯å¹´å¢é•¿2åˆ°3å€ï¼‰&lt;/li&gt;
&lt;li&gt;æœºå™¨å’Œäººç±»ç”Ÿæˆçš„&lt;strong&gt;æ•°æ®ç±»å‹è¶Šæ¥è¶Šå¤š&lt;/strong&gt;ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡æ ‡ï¼Œæ—¥å¿—ï¼Œwireæ•°æ®å’Œæ–‡æ¡£[çŸ¥è¯†ç®¡ç†]ï¼‰&lt;/li&gt;
&lt;li&gt;ç”±äºé‡‡ç”¨äº†äº‘åŸç”Ÿæˆ–å…¶ä»–æ•æ·æ¶æ„ï¼Œ&lt;strong&gt;æ•°æ®ç”Ÿæˆé€Ÿåº¦&lt;/strong&gt;ä¸æ–­æé«˜ï¼ŒITæ¶æ„å†…çš„å˜åŒ–ç‡ä¹Ÿåœ¨ä¸æ–­æé«˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨å¤„ç†å¤§é‡ï¼Œå¤šæ ·åŒ–å’Œé€Ÿåº¦çš„æ•°æ®æ—¶ï¼Œç°æœ‰çš„ç›‘æ§å·¥å…·é¢ä¸´å‹åŠ›ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œç›‘æ§å·¥å…·ä¸ä¼šè·¨è¶Šæå–æœ‰ç”¨è§è§£æ‰€éœ€çš„å¤šç§æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä¼ä¸šéœ€è¦å¤§é‡æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯èƒ½è·¨è¶Š&lt;strong&gt;åŸºç¡€æ¶æ„&lt;/strong&gt;å’Œ&lt;strong&gt;åº”ç”¨ç¨‹åºæŒ‡æ ‡&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç”¨æˆ·ä½“éªŒæ•°æ®&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸šåŠ¡äº¤æ˜“æ•°æ®&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ‹¨æµ‹æ•°æ®&lt;/strong&gt;ä»¥åŠæ¥è‡ªå„ç§&lt;strong&gt;ç³»ç»Ÿçš„æ—¥å¿—&lt;/strong&gt;ï¼Œä»¥è·å¾—æ›´å¤šåˆ†æ, æ´å¯Ÿå’Œè§è§£ã€‚&lt;/p&gt;
&lt;p&gt;éITå›¢é˜Ÿå¦‚ä¸šåŠ¡æ¡çº¿å’ŒITè¿è¥å›¢é˜Ÿï¼ˆå¦‚åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜å’ŒDevOpsï¼‰ï¼Œè¶Šæ¥è¶Šå¤šåœ°è¡¨ç°å‡ºå¯¹AIOpsæŠ€æœ¯çš„å…´è¶£ï¼Œä»¥ä¾¿åœ¨å¤šä¸ªæ•°æ®é›†ä¸­è¡¨ç°å‡ºæ´å¯ŸåŠ›ã€‚&lt;br&gt;
æ­¤å¤–ï¼Œç”±äºæ•°å­—ä¸šåŠ¡ï¼ŒITéœ€è¦é‡‡å–è¡ŒåŠ¨çš„é€Ÿåº¦ä¹Ÿåœ¨ä¸æ–­æé«˜(æ•æ·å¿«é€Ÿ)ï¼Œå› æ­¤éœ€è¦å¯ä»¥æä¾›ä»¥ä¸‹å¸®åŠ©çš„å·¥å…·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é™ä½å™ªéŸ³&lt;/strong&gt;ï¼ˆä¾‹å¦‚ï¼Œä»¥è¯¯æŠ¥æˆ–å†—ä½™äº‹ä»¶çš„å½¢å¼ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¹å› åˆ†æ&lt;/strong&gt; - æä¾›æ›´å¥½çš„å› æœå…³ç³»ï¼Œè¿™æœ‰åŠ©äºç¡®å®šäº‹æ•…çš„å¯èƒ½åŸå› &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€å‘Šè­¦åŸºçº¿&lt;/strong&gt; - æ•è·è¶…å‡ºé™æ€é˜ˆå€¼çš„å¼‚å¸¸ï¼Œä»¥ä¸»åŠ¨æ£€æµ‹å¼‚å¸¸æƒ…å†µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•…éšœé¢„æµ‹&lt;/strong&gt; - æ¨æ–­æœªæ¥äº‹ä»¶ä»¥é˜²æ­¢æ½œåœ¨çš„æ•…éšœ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›†æˆå¤„ç†&lt;/strong&gt;  - å¯åŠ¨è§£å†³é—®é¢˜çš„æ“ä½œï¼ˆç›´æ¥æˆ–é€šè¿‡é›†æˆï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿„ä»Šä¸ºæ­¢ï¼ŒAIOpsåŠŸèƒ½ä¸»è¦ç”¨äºæ”¯æŒITè¿ç»´æµç¨‹ï¼Œä»¥ä¾¿ç›‘æ§æˆ–è§‚å¯ŸITåŸºç¡€æ¶æ„ï¼Œåº”ç”¨ç¨‹åºè¡Œä¸ºæˆ–æ•°å­—ä½“éªŒã€‚AIOpså¹³å°æŠ•èµ„å‡ ä¹æ€»æ˜¯åŸºäºå…¶&lt;strong&gt;å‡å°‘å¹³å‡è§£å†³é—®é¢˜æ—¶é—´&lt;/strong&gt;(æé«˜ä¸šåŠ¡è¿ç»­æ€§)çš„èƒ½åŠ›è€Œå¾—åˆ°è®¤å¯ã€‚æ— è®ºæ˜¯é‡‡ç”¨æœºå™¨å­¦ä¹ è¿˜æ˜¯åœ¨äº‹ä»¶ç®¡ç†ä¸Šä¸‹æ–‡ä¸­å¯¹äº‹ä»¶è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤ï¼Œè¿˜æ˜¯åœ¨APMä¸Šä¸‹æ–‡ä¸­ç»“åˆåŸºäºå­—èŠ‚ç æ£€æµ‹çš„åˆ†å¸ƒå¼è·Ÿè¸ªæ•°æ®æ¥åˆ†æåº”ç”¨ç¨‹åºæ—¥å¿—æ•°æ®ï¼Œå®ƒä»¬éƒ½æ˜¯åˆç†çš„ã€‚&lt;/p&gt;
&lt;p&gt;AIOpsæ­£åœ¨é€æ¸æ¼”å˜ï¼Œä¸ä»…å¯ä»¥æå–æ•°æ®è¿›è¡Œåˆ†æï¼Œè¿˜å¯ä»¥&lt;strong&gt;æ ¹æ®åˆ†æå¯åŠ¨ç›¸åº”æ“ä½œ&lt;/strong&gt;ã€‚è¿™äº›æ“ä½œï¼ˆæœ€æœ‰å¯èƒ½é€šè¿‡ä¸å…¶ä»–ITOMå’ŒITSMå·¥å…·çš„é›†æˆï¼‰å°†é‡‡å–å¤šç§å½¢å¼ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘Šè­¦åŠå‘Šè­¦å¤„ç½®&lt;/li&gt;
&lt;li&gt;é—®é¢˜è‡ªåŠ¨åˆ†ç±»åŠè®°å½•&lt;/li&gt;
&lt;li&gt;CMDBæ¸…æ´—, ä¿®æ­£å’Œå…³è”&lt;/li&gt;
&lt;li&gt;è¿è¡Œé¢„å®šè‡ªåŠ¨åŒ–åŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºå‘å¸ƒç¼–æ’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AIOpså·¥å…·åœ¨ç›‘æ§çš„å››ä¸ªé˜¶æ®µ - &lt;strong&gt;æ•°æ®é‡‡é›†ï¼Œèšåˆï¼Œåˆ†æå’Œè¡ŒåŠ¨&lt;/strong&gt;ï¼ˆè§å›¾2ï¼‰ - æ˜¾ç¤ºäº†â€œå³ç§»â€ - å…·æœ‰æ•°æ®èšåˆå’Œåˆ†æçš„æ ¸å¿ƒåŠŸèƒ½ã€‚éšç€æŠ€æœ¯çš„è¿›ä¸€æ­¥å‘å±•ï¼Œç”¨æˆ·å°†èƒ½å¤Ÿåˆ©ç”¨å¹³å°çš„ä¸»åŠ¨å»ºè®®ï¼Œå®ç°è¡ŒåŠ¨æ“ä½œçš„é˜¶æ®µã€‚&lt;br&gt;
å…³äºç›‘æ§å·¥å…·ä¸AIOpsçš„äº‰è®ºåˆšåˆšå¼€å§‹ï¼Œè€Œä¸”å¯èƒ½ä¼šå¢é•¿ã€‚ç„¶è€Œï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œä¸“å®¶é¢†åŸŸå°†å­˜åœ¨ä¸“ä¸šç›‘æ§å·¥å…·ï¼Œè€Œå¯¹äºITè¿è¥é€šæ‰(SREå›¢å¦’?)ï¼Œä¸»è¦çš„å·¥å…·å°†æ˜¯AIOpsã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç›‘æ§çš„4ä¸ªé˜¶æ®µ" src="./images/340492_0002.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;å¸‚åœºåˆ†æ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿„ä»Šä¸ºæ­¢ï¼Œå¾ˆå°‘æœ‰ä¾›åº”å•†æä¾›å…¨é¢ï¼Œé›†æˆçš„AIOpså¹³å°ã€‚ç„¶è€Œï¼Œè®¸å¤šä¾›åº”å•†æä¾›äº†å¹¿æ³›çš„AIOpsåŠŸèƒ½ï¼Œå…¶å­é›†å½¼æ­¤é›†æˆã€‚ä¸ºäº†æ›´æ¸…æ¥šåœ°äº†è§£å¸‚åœºå¦‚ä½•å‘å±•ä»¥åŠä¾›åº”å•†å½¼æ­¤ä¹‹é—´çš„ä½ç½®ï¼ŒGartnerå°†å½“å‰å¯ç”¨çš„AIOpsåŠŸèƒ½åˆ’åˆ†ä¸ºæ•°æ®ç®¡ç†å’Œåˆ†æç»“æœä¸¤å¤§ç±»ï¼š&lt;/p&gt;
&lt;h3 id="_3"&gt;æ•°æ®æ‘„å–å’Œå¤„ç†&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å†å²å’Œæµæ•°æ®ç®¡ç† - å…è®¸æå–ï¼Œç´¢å¼•å’ŒæŒä¹…åŒ–å­˜å‚¨æ—¥å¿—æ•°æ®ï¼Œwireæ•°æ®ï¼ŒæŒ‡æ ‡å’Œæ–‡æ¡£æ•°æ®çš„è½¯ä»¶æˆ–è®¾å¤‡ã€‚ç”±æ­¤äº§ç”Ÿçš„æ•°æ®åº“å¤§éƒ¨åˆ†æ˜¯éç»“æ„åŒ–çš„æˆ–å¤šç»“æ„åŒ–çš„ï¼Œè€Œå­˜å‚¨çš„æ•°æ®é›†ä»¥é«˜å®¹é‡ç´¯ç§¯ï¼Œä»¥é«˜é€Ÿåº¦å˜åŒ–å¹¶ä¸”æ ¹æ®é«˜åº¦å˜åŒ–çš„æ ¼å¼éšå¼åœ°æ„é€ ã€‚è¿™ç§å†å²æ•°æ®ç®¡ç†åŠŸèƒ½å¯ç§°ä¸ºâ€œå¤§æ•°æ®ç®¡ç†â€ã€‚ä¸ºäº†åœ¨ITè¿è¥ç”¨ä¾‹ä¸‹æä¾›ä»·å€¼ï¼Œè¯¥å·¥å…·è¿˜å¿…é¡»å°†äººç±»ç”¨æˆ·æ„ŸçŸ¥çš„æ—¶é—´å°ºåº¦çš„æ•°æ®å‘ˆç°ä¸ºå®æ—¶ï¼Œç›´æ¥åœ¨æ‘„å–æ—¶æä¾›æ•°æ®æ— éœ€è®¿é—®æŒä¹…æ•°æ®åº“ã€‚å®ƒå¿…é¡»è·¨å¤šä¸ªå®æ—¶å’Œå†å²æ•°æ®æµæä¾›è¿è´¯çš„åˆ†æã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;åˆ†æç»“æœ&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸºæœ¬å’Œé«˜çº§ç»Ÿè®¡åˆ†æ&lt;/strong&gt;- å•å˜é‡å’Œå¤šå˜é‡åˆ†æçš„ç»„åˆï¼ŒåŒ…æ‹¬å¯¹ITå®ä½“æ•è·çš„æŒ‡æ ‡ä»¥åŠæºå¤´ç­–åˆ’æ•°æ®çš„ç›¸å…³æ€§ï¼Œèšç±»ï¼Œåˆ†ç±»å’Œæ¨æ–­çš„ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªåŠ¨å»ºç«‹æ¨¡å‹å’Œé¢„æµ‹&lt;/strong&gt; - ä½¿ç”¨ä¸Šè¿°ä¸€ç§æˆ–å¤šç§ç±»å‹çš„å†å²æˆ–æµæ•°æ®ï¼Œä»¥å¼•å‡ºæè¿°å¯ä»¥ä»æ•°æ®é›†æœ¬èº«æ¨æ–­ä½†ä¸ç«‹å³å­˜åœ¨çš„æ–°ç›¸å…³çš„æ•°å­¦æˆ–ç»“æ„æ¨¡å¼ã€‚ç„¶åå¯ä»¥ä½¿ç”¨è¿™äº›æ¨¡å¼åŠæ—¶å‰è¿›å¹¶ä»¥ä¸åŒç¨‹åº¦çš„æ¦‚ç‡é¢„æµ‹äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚å¸¸æ£€æµ‹&lt;/strong&gt; - ä½¿ç”¨å…ˆå‰ç»„ä»¶å‘ç°çš„æ¨¡å‹é¦–å…ˆç¡®å®šä»€ä¹ˆæ„æˆæ­£å¸¸çš„ç³»ç»Ÿè¡Œä¸ºï¼Œç„¶åè¾¨åˆ«å‡ºä¸æ­£å¸¸ç³»ç»Ÿè¡Œä¸ºçš„åå·®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¹å› åˆ†æ&lt;/strong&gt; - ä¿®å‰ªç”±è‡ªåŠ¨åŒ–æ¨¡å¼å‘ç°å’Œé¢„æµ‹ç»„ä»¶å»ºç«‹çš„ç›¸å…³æ€§ç½‘ç»œï¼Œä»¥éš”ç¦»ä»£è¡¨çœŸæ­£å› æœå…³ç³»çš„ä¾èµ–æ€§é“¾æ¥ï¼Œä»è€Œæä¾›æœ‰æ•ˆå¹²é¢„çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨æ€§å»ºè®®&lt;/strong&gt; - å¯¹é—®é¢˜è¿›è¡Œåˆ†ç±»ï¼Œå°†å…¶åˆ†ç±»ä¸ºå·²çŸ¥ç±»åˆ«ã€‚ç„¶åï¼Œå®ƒå¯ä»¥æŒ–æ˜å…ˆå‰è§£å†³æ–¹æ¡ˆçš„å­˜å‚¨ï¼Œåˆ†æè¿™äº›è§£å†³æ–¹æ¡ˆçš„é€‚ç”¨æ€§å¹¶ä»¥ä¼˜å…ˆçº§å½¢å¼æä¾›å®ƒä»¬ä»¥ç”¨äºè¡¥æ•‘ã€‚æœ€ç»ˆï¼Œè¿™äº›å°†ä½¿ç”¨é—­ç¯æ–¹æ³•ï¼Œå¹¶åœ¨ä½¿ç”¨åå¯¹å…¶æœ‰æ•ˆæ€§è¿›è¡ŒæŠ•ç¥¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹“æ‰‘&lt;/strong&gt;- å¯¹äºAIOpsæ£€æµ‹åˆ°çš„ç›¸å…³ä¸”å¯æ“ä½œçš„æ¨¡å¼ï¼Œå¿…é¡»å›´ç»•æ‰€æ‘„å–çš„æ•°æ®æ”¾ç½®ä¸Šä¸‹æ–‡ã€‚è¯¥ä¸Šä¸‹æ–‡æ˜¯æ‹“æ‰‘ã€‚å¦‚æœæ²¡æœ‰æ‹“æ‰‘çš„ä¸Šä¸‹æ–‡å’Œäº‹å®ä¸Šçš„çº¦æŸï¼Œæ£€æµ‹åˆ°çš„æ¨¡å¼è™½ç„¶æœ‰æ•ˆï¼Œä½†å¯èƒ½æ— ç›Šä¸”åˆ†æ•£æ³¨æ„åŠ›ã€‚ä»æ‹“æ‰‘ä¸­çš„æ•°æ®æ´¾ç”Ÿæ¨¡å¼å°†å‡å°‘æ¨¡å¼çš„æ•°é‡ï¼Œå»ºç«‹ç›¸å…³æ€§å¹¶è¯´æ˜éšè—çš„ä¾èµ–æ€§ã€‚ä½¿ç”¨æ‹“æ‰‘ä½œä¸ºå› æœå…³ç³»ç¡®å®šçš„ä¸€éƒ¨åˆ†å¯ä»¥å¤§å¤§æé«˜å…¶å‡†ç¡®æ€§å’Œæœ‰æ•ˆæ€§ã€‚ä½¿ç”¨å›¾å½¢å’Œç“¶é¢ˆåˆ†ææ•è·äº‹ä»¶å‘ç”Ÿçš„ä½ç½®åŠå…¶ä¸Šä¸‹æ¸¸ä¾èµ–å…³ç³»å¯ä»¥æä¾›å…³äºé‡ç‚¹ä¿®å¤å·¥ä½œçš„é‡ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;ä»£è¡¨æ€§ä¾›åº”å•†&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ä¾›åº”å•†&lt;/th&gt;
&lt;th&gt;æˆç«‹å¹´ä»½&lt;/th&gt;
&lt;th&gt;æ€»éƒ¨&lt;/th&gt;
&lt;th&gt;ç½‘ç«™&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Anodot&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;Israel&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.anodot.com/"&gt;https://www.anodot.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BigPanda&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.bigpanda.io/"&gt;https://www.bigpanda.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BMC&lt;/td&gt;
&lt;td&gt;1980&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.bmc.com/"&gt;https://www.bmc.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Brains Technology&lt;/td&gt;
&lt;td&gt;2008&lt;/td&gt;
&lt;td&gt;Japan&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.brains-tech.co.jp/en/"&gt;https://www.brains-tech.co.jp/en/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CA Technologies&lt;/td&gt;
&lt;td&gt;1974&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.ca.com/us.html"&gt;https://www.ca.com/us.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Devo (Logtrust)&lt;/td&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.devo.com/"&gt;https://www.devo.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Elastic&lt;/td&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.elastic.co/"&gt;https://www.elastic.co/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Evolven&lt;/td&gt;
&lt;td&gt;2007&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.evolven.com/"&gt;https://www.evolven.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FixStream&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://fixstream.com/"&gt;https://fixstream.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IBM&lt;/td&gt;
&lt;td&gt;1911&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="http://www.ibm.com/"&gt;www.ibm.com&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;InfluxData&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.influxdata.com/"&gt;https://www.influxdata.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ITRS&lt;/td&gt;
&lt;td&gt;1993&lt;/td&gt;
&lt;td&gt;United Kingdom&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.itrsgroup.com/"&gt;https://www.itrsgroup.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jKool&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.jkoolcloud.com/"&gt;https://www.jkoolcloud.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Loom Systems&lt;/td&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.loomsystems.com/"&gt;https://www.loomsystems.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Moogsoft&lt;/td&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.moogsoft.com/"&gt;https://www.moogsoft.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Scalyr&lt;/td&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.scalyr.com/"&gt;https://www.scalyr.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ScienceLogic&lt;/td&gt;
&lt;td&gt;2003&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://sciencelogic.com/"&gt;https://sciencelogic.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SignalFx&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://signalfx.com/"&gt;https://signalfx.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Splunk&lt;/td&gt;
&lt;td&gt;2004&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.splunk.com/"&gt;https://www.splunk.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Stackstate&lt;/td&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;Netherlands&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.stackstate.com/"&gt;https://www.stackstate.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Sumo Logic&lt;/td&gt;
&lt;td&gt;2010&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.sumologic.com/"&gt;https://www.sumologic.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="aiops_4"&gt;AIOps å¹³å°å»ºè®¾å»ºè®®&lt;a class="headerlink" href="#aiops_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="aiops_5"&gt;é€šè¿‡é‡‡ç”¨å¢é‡æ–¹æ³•ç¡®ä¿æˆåŠŸéƒ¨ç½²AIOpsåŠŸèƒ½&lt;a class="headerlink" href="#aiops_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AIOpsåŠŸèƒ½çš„æœ‰æ•ˆéƒ¨ç½²éœ€è¦ä»æ ¹æ®æ•°æ®æºé‡ç»„ITåŸŸå¼€å§‹çš„ç»“æ„åŒ–æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•å°†æ‰€éœ€çš„ç„¦ç‚¹è½¬ç§»åˆ°æ•°æ®é›†è€Œä¸æ˜¯å·¥å…·ï¼Œè¿™æ˜¯ä¼ ç»Ÿçš„æ–¹æ³•ã€‚Gartnerå‘ç°ï¼Œæœ€å¥½å…ˆæŒæ¡ä»å„ç§æ¥æºè·å–çš„å¤§å‹æŒä¹…æ•°æ®é›†çš„ä½¿ç”¨ã€‚åªæœ‰åœ¨ITè¿è¥å›¢é˜Ÿç†Ÿç»ƒæŒæ¡AIOpsçš„å¤§æ•°æ®æ–¹é¢ä¹‹åï¼Œæ‰èƒ½å°è¯•æŒæ¡èƒ½åŠ›ç±»åˆ«ã€‚å› æ­¤ï¼Œåœ¨é€‰æ‹©å·¥å…·æˆ–æœåŠ¡æ—¶ï¼Œä¼ä¸šåº”ä¼˜å…ˆè€ƒè™‘é‚£äº›å…è®¸éƒ¨ç½²æ•°æ®æå–ï¼Œå­˜å‚¨å’Œè®¿é—®çš„ä¾›åº”å•†ï¼Œè€Œä¸ä¾èµ–äºå‰©ä½™çš„AIOpsç»„ä»¶ã€‚é‰´äºAIOpså°†ç”¨äºå¤šä¸ªç”¨ä¾‹ï¼ŒIï¼†Oé¢†å¯¼è€…å¿…é¡»ç¡®ä¿ä¾›åº”å•†æ”¯æŒé€æ­¥æ·»åŠ å…¶ä»–åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id="aiops_6"&gt;é€‰æ‹©èƒ½å¤Ÿæ”¯æŒå¹¿æ³›çš„å†å²å’Œæµæ•°æ®ç±»å‹çš„AIOpså¹³å°&lt;a class="headerlink" href="#aiops_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç°ä»£ITè¿è¥æ—¨åœ¨è·å¾—ITå®ä½“çš„ç»¼åˆå¯è§æ€§ï¼ŒåŒ…æ‹¬åº”ç”¨ç¨‹åºï¼Œå…¶å…³ç³»ï¼Œç›¸äº’ä¾èµ–æ€§å’Œè¿‡å»çš„è½¬æ¢ï¼Œä»¥æ·±å…¥äº†è§£æ•´ä½“ITç¯å¢ƒçš„ç°çŠ¶ã€‚é€‰æ‹©æ­£ç¡®çš„æ•°æ®æºå¯¹äºé¿å…ç›²ç‚¹è‡³å…³é‡è¦ã€‚éƒ¨ç½²æˆç†Ÿåº¦å’Œä¸æ–­å˜åŒ–çš„ç”¨ä¾‹çš„æ¸è¿›æ€§éœ€è¦å‡†å¤‡å¥½æ‘„å–å„ç§æ•°æ®æºã€‚Iï¼†Oé¢†å¯¼è€…å¿…é¡»é€‰æ‹©èƒ½å¤Ÿæ‘„å–å’Œæä¾›å¯¹å„ç§å†å²å’Œæµæ•°æ®ç±»å‹çš„è®¿é—®çš„AIOpså¹³å°ï¼ˆå‚è§å›¾3ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="AIOpsè·å–çš„æ•°æ®ç±»å‹" src="./images/340492_0003.png"&gt;&lt;/p&gt;
&lt;h2 id="_6"&gt;æ€»ç»“&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_7"&gt;å»ºè®®&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è´Ÿè´£ä¼˜åŒ–ITè¿è¥çš„æ•°æ®ä¸­å¿ƒè´Ÿè´£äººåº”è¯¥:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡é‡‡ç”¨ä»¥å†å²æ•°æ®å¼€å§‹çš„å¢é‡æ–¹æ³•éƒ¨ç½²AIOps, å¹¶é€æ­¥ä½¿ç”¨&lt;strong&gt;æµæ•°æ®&lt;/strong&gt;, ä¸ä¸æ–­æ”¹è¿›çš„ITè¿è¥æˆç†Ÿåº¦ä¿æŒä¸€è‡´.&lt;/li&gt;
&lt;li&gt;è¦é€‰æ‹©è¿™æ ·çš„ AIOpså¹³å°: é€šè¿‡è¯†åˆ«èƒ½å¤Ÿæ‘„å–å’Œæä¾›å¯¹æ–‡æœ¬å’ŒæŒ‡æ ‡æ•°æ®è®¿é—®çš„AIOpså¹³å°, èƒ½å¤Ÿå…¨é¢äº†è§£ITç³»ç»Ÿè¿‡å»å’Œç°åœ¨çš„å¹³å°.&lt;/li&gt;
&lt;li&gt;é€šè¿‡é€‰æ‹©æ”¯æŒé€æ­¥éƒ¨ç½²é¢å‘ITè¿ç»´çš„æœºå™¨å­¦ä¹ å››ä¸ªé˜¶æ®µçš„å·¥å…·, æ·±åŒ–å…¶ITè¿è¥å›¢é˜Ÿçš„åˆ†ææŠ€èƒ½: æè¿°æ€§, è¯Šæ–­æ€§, ä¸»åŠ¨æ€§èƒ½åŠ›å’Œæ ¹æœ¬åŸå› åˆ†æ, ä»¥å¸®åŠ©é¿å…é«˜ä¸¥é‡æ€§ä¸­æ–­.&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Tue, 02 Apr 2019 22:21:31 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/what-is-aiops.html</guid><category>gartner</category><category>aiops</category><category>å¯è§‚å¯Ÿæ€§</category><category>å¤§æ•°æ®</category><category>æœºå™¨å­¦ä¹ </category></item><item><title>SRE å®£è¨€</title><link>https://www.EWhisper.cn/the-declaration-of-sre.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#sre"&gt;SRE å®£è¨€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sre_1"&gt;SRE æˆç«‹èƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sre_2"&gt;ä½•ä¸ºSRE&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#sre_3"&gt;SRE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sre_4"&gt;SRE çš„ç›®æ ‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sre_5"&gt;SRE è¿ç»´ä½“ç³»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#sre_6"&gt;SRE å»ºè®¾é˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="sre"&gt;SRE å®£è¨€&lt;a class="headerlink" href="#sre" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©(2019å¹´4æœˆ1æ—¥)æ˜¯ä¸ªå¯¹äºæˆ‘æ¥è¯´å€¼å¾—æ°¸è¿œé“­è®°çš„æ—¥å­.&lt;/p&gt;
&lt;p&gt;ä»ä»Šå¤©èµ·, æˆ‘ç”±ä¸€åæ™®é€šçš„è¿ç»´è½¬å˜ä¸ºä¸€åæ™®é€šçš„SRE. æˆ‘ä»¬ä¸“æ³¨äº: æé«˜æ•ˆç‡, æé«˜ä¸šåŠ¡è¿ç»­æ€§, æœ€ç»ˆæé«˜ç”¨æˆ·æ»¡æ„åº¦. æ— è®ºæ˜¯å…¬å¸çš„å®¢æˆ·, è¿˜æ˜¯åˆ†å…¬å¸ã€å­å…¬å¸çš„ç”¨æˆ·, äº¦æˆ–æ˜¯ITå¼€å‘åˆ†éƒ¨çš„åŒäº‹, ä½ ä»¬éƒ½æ˜¯æˆ‘ä»¬çš„æœåŠ¡"ç”¨æˆ·". æˆ‘ä¼šç”¨æˆ‘çš„ååˆ†åŠªåŠ›, æ¥æ¢å¾—æ•ˆç‡çš„+1%, æ¥æ¢å¾—ä¸šåŠ¡è¿ç»­æ€§çš„+1s, æ¥æ¢å¾—ä½ ä»¬ç‚¹èµä¸ç¬‘è„¸çš„+1+1.&lt;/p&gt;
&lt;h2 id="sre_1"&gt;SRE æˆç«‹èƒŒæ™¯&lt;a class="headerlink" href="#sre_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿‡å»ä¸€æ®µæ—¶é—´, æˆ‘ä»¬å‘ç°æˆ‘ä»¬è¿ç»´åˆ‡å®åœ°å­˜åœ¨ä»¥ä¸‹é—®é¢˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿ç»´å’Œå¼€å‘è¡”æ¥ä¸ç•…. è¿ç»´åˆ†éƒ¨æ˜¯ä¸“ä¸šç»„çš„ç»„ç»‡æ¶æ„, å°±æ‹¿æ–°ç³»ç»Ÿä¸Šçº¿æ¥ä¸¾ä¾‹, å¼€å‘å‡ ä¹éœ€è¦é—®éè¿ç»´åˆ†éƒ¨å†…çš„å„ä¸ªä¸“ä¸šç»„, ä»: ä¸»æœºã€ä¸­é—´ä»¶ã€æ•°æ®åº“ã€ç½‘ç»œå†åˆ°å®‰å…¨ã€ç›‘æ§ç­‰ç­‰ç­‰ç­‰ã€‚è€Œä¸”æ—¶é•¿é¢ä¸´ç€å¯¹æ–¹â€œä¸æ˜¯æˆ‘è´Ÿè´£çš„ï¼Œä½ æ‰¾å…¶ä»–äººå§â€å¼çš„è¢«è¸¢çš®çƒçš„æ„Ÿå—ã€‚&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²è§„æ¨¡è¶Šæ¥è¶Šåºå¤§ã€‚éšç€å„ç±»ç§æœ‰äº‘ã€å…¬æœ‰äº‘çš„å¼•å…¥ï¼Œå¾®æœåŠ¡æ¶æ„çš„å¼•å…¥ï¼Œä»¥åŠæ•°å­—åŒ–è½¬å‹ï¼Œç«äº‰çš„æ¿€çƒˆã€‚è¿‘äº›å¹´ï¼Œç³»ç»Ÿçš„éƒ¨ç½²è§„æ¨¡è¾ƒå‰å¹´ç”šè‡³éƒ½æœ‰æˆå€æ•°çš„å¢é•¿ï¼Œç°æœ‰çš„è¿ç»´æ¨¡å¼å¯¹äºè¶Šæ¥è¶Šåºå¤§çš„è§„æ¨¡æœ‰äº›åŠ›ä¸ä»å¿ƒã€‚&lt;/li&gt;
&lt;li&gt;æ–°æŠ€æœ¯çš„å¼•å…¥ã€‚è¿˜æ˜¯ä¸Šé¢æåˆ°çš„ï¼Œäº‘çš„å¼•å…¥ï¼Œå®¹å™¨çš„å¼•å…¥ï¼Œå¼€æºæŠ€æœ¯æ ˆï¼ˆåŒ…æ‹¬ï¼šweb serverï¼Œä¸­é—´ä»¶ï¼ŒMQï¼Œç¼“å­˜ï¼ŒNoSQL...)çš„å¼•å…¥ä»¥åŠéšä¹‹è€Œæ¥çš„å·¥å…·é“¾çš„å¼•å…¥(Ansible, SaltStack, Jenkins, Zabbix, ELK...)ä¹Ÿå¸¦æ¥æŠ€æœ¯é“¾çš„çˆ†ç‚¸å¼å¢é•¿. è€Œè¿™äº›ä¹Ÿéƒ½æ˜¯éœ€è¦è¿ç»´å…·æœ‰ç›¸åº”çš„æŠ€æœ¯å‚¨å¤‡çš„.&lt;/li&gt;
&lt;li&gt;å¼€å‘åˆ†éƒ¨DevOps. å¼€å‘åˆ†éƒ¨ä¹Ÿåœ¨æ¨åŠ¨DevOpsçš„ä½“ç³». æˆ‘ä»¬çš„ä½“ç³»ä¹Ÿè¦å’Œå¼€å‘åˆ†éƒ¨ç›¸å¯¹åº”.&lt;/li&gt;
&lt;li&gt;æŠ€æœ¯èƒ½åŠ›çš„ç§¯ç´¯å’Œå˜ç°.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sre_2"&gt;ä½•ä¸ºSRE&lt;a class="headerlink" href="#sre_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="sre_3"&gt;SRE&lt;a class="headerlink" href="#sre_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="SRE logo" src="./images/reliability-icon-t_0.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®šä¹‰:&lt;br&gt;
SRE æ˜¯è°·æ­Œé’ˆå¯¹DevOpsçš„ç”Ÿäº§å®è·µå’Œè¿è¡Œæ¨¡å‹. è½¯ä»¶ç”±å¼€å‘å›¢é˜Ÿæ˜¾ç¤º"äº¤æ¥ç»™"è¿è¡Œè½¯ä»¶çš„å›¢é˜Ÿ, å³Site Reliability Engineer(SRE, ç½‘ç«™å¯é æ€§å·¥ç¨‹å›¢é˜Ÿ). åœ¨è¿™ä¸ªæ¨¡å‹ä¸­, Devå›¢é˜Ÿéœ€è¦å‘ SRE å›¢é˜Ÿæä¾›æµ‹è¯•è¯æ®(æ—¥å¿—, æŒ‡æ ‡ç­‰), è¯æ˜ä»–ä»¬çš„è½¯ä»¶å·²ç»è¾¾åˆ°ä¸€ä¸ª SRE å›¢é˜Ÿè®¤ä¸ºè¶³å¤Ÿå¥½çš„æ ‡å‡†.&lt;br&gt;
è‡³å…³é‡è¦çš„æ˜¯, SRE å›¢é˜Ÿå¯ä»¥æ‹’ç»ä¸ç¬¦åˆè¿ç»´æ ‡å‡†çš„è½¯ä»¶(åŒ…æ‹¬å¼€å‘åˆ†éƒ¨å’Œè¿ç»´åˆ†éƒ¨çš„è½¯ä»¶), è¦æ±‚å¼€å‘äººå‘˜åœ¨æŠ•å…¥ç”Ÿäº§ä¹‹å‰æ”¹è¿›ä»£ç . Dev å’Œ SREä¹‹é—´çš„åä½œå›´ç»•ç€&lt;strong&gt;è¿ç»´æ ‡å‡†&lt;/strong&gt;å±•å¼€, ä½†æ˜¯, ä¸€æ—¦ SRE å›¢é˜Ÿå¯¹ä»£ç æ»¡æ„, ä»–ä»¬(è€Œä¸æ˜¯Devå›¢é˜Ÿ)å°±ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æä¾›æ”¯æŒ.&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¨¡å‹åªé€‚ç”¨äºå·¥ç¨‹å’Œç»„ç»‡æˆç†Ÿåº¦è¾ƒé«˜çš„ç»„ç»‡, å¦‚æœè¿è¡Œä¸å½“, å¯èƒ½å˜ä¸º "Dev å’Œ Opsç­’ä»“"çš„æ¨¡å¼.&lt;br&gt;
èŠ‚é€‰è‡ª: &lt;a href="https://www.infoq.cn/article/DcIUD_gi17sQjvSt5XSS"&gt;DevOpså›¢é˜Ÿç»“æ„ç±»å‹æ±‡æ€»ï¼šæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ &lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="SREæ¨¡å‹" src="./images/devops-models-type-7.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="dev ops ç­’ä»“" src="./images/anti-devops-models-1.png"&gt;&lt;/p&gt;
&lt;h3 id="sre_4"&gt;SRE çš„ç›®æ ‡&lt;a class="headerlink" href="#sre_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;SREçš„ç›®æ ‡æœ‰"ä¸‰åŒ–", ä¹Ÿæ˜¯æ‰¿æ¥äº†å®ç°å…¬å¸çš„"ä¸‰åŒ–"æˆ˜ç•¥. SREç›®æ ‡ä¸º:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹³å°åŒ–&lt;/li&gt;
&lt;li&gt;æœåŠ¡åŒ–&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="sre_5"&gt;SRE è¿ç»´ä½“ç³»&lt;a class="headerlink" href="#sre_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;SRE è¿ç»´ä½“ç³»æœ‰"ä¸‰é©¾é©¬è½¦". &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SRE. ä½äºé‡‘å­—å¡”å°–, å¯¹å¤–æä¾›æœåŠ¡.&lt;/li&gt;
&lt;li&gt;æŠ€æœ¯æœåŠ¡. å³: ä¸“ä¸šç»„. "ä½¿èƒ½"SREå›¢é˜Ÿ.&lt;/li&gt;
&lt;li&gt;è¿ç»´å¼€å‘. æ–°æˆç«‹(ç›®å‰è¿˜æœªæˆç«‹, è¿‡æ¸¡æœŸ). "èµ‹èƒ½"SREå›¢é˜Ÿ. æ‰“é€ ä»¥"ä¸‰åŒ–"ä¸ºç›®æ ‡çš„å¹³å°, å·¥å…·é›†.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sre_6"&gt;SRE å»ºè®¾é˜¶æ®µ&lt;a class="headerlink" href="#sre_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯å…¬å¸è¿ç»´åˆ†éƒ¨è¿‘åå¹´æ¥çš„é¦–æ¬¡å˜é©, å˜é©éœ€è¦é€æ­¥ç¨³æ­¥æ¨è¿›. SRE å»ºè®¾ä¹Ÿä¼šåˆ†é˜¶æ®µè¿›è¡Œ:&lt;br&gt;
å½“å‰é˜¶æ®µçš„ä¸»è¦å·¥ä½œæ˜¯:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ‰å£&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›‘æ§å‘Šè­¦æ‰å£&lt;/li&gt;
&lt;li&gt;åº”ç”¨, æ•°æ®åº“å‘å¸ƒæ‰å£&lt;/li&gt;
&lt;li&gt;èµ„æº, é›†æˆéƒ¨ç½²æ‰å£&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å·¥å…·å¹³å°å»ºè®¾&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–è¿ç»´å¹³å°å»ºè®¾&lt;/li&gt;
&lt;li&gt;ç»Ÿä¸€ç›‘æ§å‘Šè­¦å¹³å°å»ºè®¾&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_1"&gt;æ€»ç»“&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æœ€ç»ˆç›®æ ‡&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æé«˜æ•ˆç‡&lt;/li&gt;
&lt;li&gt;æé«˜ä¸šåŠ¡è¿ç»­æ€§&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆæé«˜å®¢æˆ·æ»¡æ„åº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ†é˜¶æ®µ, åˆ†æ­¥éª¤æ¨è¿›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;è¿ç»´å›¢é˜Ÿä»¥å¾€ç§¯ç´¯äº†ä¸€äº›ä¼˜ç§€çš„å“è´¨, ä½†ä¹Ÿæ…¢æ…¢ç§¯ç´¯äº†æƒ°æ€§. æ‡’æƒ°, å›ºæ­¥è‡ªå°è¦è¢«ä¸¥è‚ƒå¤„ç†.&lt;/li&gt;
&lt;li&gt;ç”¨äºæ¢ç´¢å’Œå®è·µ. æ•¢äºè¯•é”™, ä»å¤±è´¥ä¸­å¸å–ç»éªŒæ•™è®­.&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 02 Apr 2019 08:32:07 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/the-declaration-of-sre.html</guid><category>DevOps</category><category>SRE</category></item><item><title>DevOpsèƒ½åŠ›æˆç†Ÿåº¦è°ƒæŸ¥é—®å·</title><link>https://www.EWhisper.cn/devops-questionnaire.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ï¼ˆä¸€ï¼‰é…ç½®ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ï¼ˆäºŒï¼‰æ„å»ºä¸æŒç»­é›†æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ï¼ˆä¸‰ï¼‰æ„å»ºä¸æŒç»­é›†æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ï¼ˆå››ï¼‰æµ‹è¯•ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;ï¼ˆäº”ï¼‰éƒ¨ç½²ä¸å‘å¸ƒç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;ï¼ˆå…­ï¼‰ç¯å¢ƒç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;ï¼ˆä¸ƒï¼‰æ•°æ®ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;ï¼ˆå…«ï¼‰åº¦é‡ä¸åé¦ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;ï¼ˆä¹ï¼‰åˆ†å¸ƒå¼åº”ç”¨æ¶æ„&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; é—®å·è¯´æ˜:&lt;/p&gt;
&lt;p&gt;æœ¬é—®å·æ¥è‡ªäº’è”ç½‘.&lt;br&gt;
æœ¬é—®å·ç”±ä¹ä¸ªæ¿å—æ„æˆ,ä¸€å…±73é“é¢˜, å…¨éƒ¨ä¸ºå•é€‰é¢˜.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_1"&gt;ï¼ˆä¸€ï¼‰é…ç½®ç®¡ç†&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;Â·       Aã€æœªä½¿ç”¨ç»Ÿä¸€çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæºä»£ç åˆ†æ•£åœ¨ç ”å‘æœ¬åœ°è®¾å¤‡ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä½¿ç”¨é›†ä¸­å¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¹¶å°†æ‰€æœ‰æºä»£ç çº³å…¥ç³»ç»Ÿç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä½¿ç”¨åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¹¶å°†æ‰€æœ‰æºä»£ç ã€é…ç½®æ–‡ä»¶ã€æ„å»ºå’Œéƒ¨ç½²ç­‰è‡ªåŠ¨åŒ–è„šæœ¬çº³å…¥ç³»ç»Ÿç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å°†æ•°æ®åº“å˜æ›´è„šæœ¬å’Œç¯å¢ƒé…ç½®ç­‰çº³å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ”¯æŒè‡ªåŠ¨åŒ–çš„å˜æ›´æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å°†è½¯ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ‰€æœ‰é…ç½®é¡¹çº³å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†ï¼Œå¯å®Œæ•´å›æº¯è½¯ä»¶äº¤ä»˜è¿‡ç¨‹æ»¡è¶³å®¡è®¡è¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;2ã€åˆ†æ”¯ç®¡ç†&lt;/p&gt;
&lt;p&gt;Â·       Aã€ç¼ºä¹æ˜ç¡®çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼Œåˆ†æ”¯ç”Ÿå‘½å‘¨æœŸæ··ä¹±ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€é‡‡å–é•¿å‘¨æœŸå’Œå¤§æ‰¹é‡çš„æ–¹å¼è¿›è¡Œä»£ç æäº¤ï¼Œä»£ç åˆå¹¶è¿‡ç¨‹å­˜åœ¨å¤§é‡å†²çªå’Œé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€é‡‡å–çŸ­åˆ†æ”¯é¢‘ç¹æäº¤çš„æ–¹å¼ï¼Œç ”ç©¶äººå‘˜è‡³å°‘æ¯å¤©å®Œæˆä¸€æ¬¡ä»£ç æäº¤ï¼Œä»£ç åˆå¹¶è¿‡ç¨‹é¡ºç•…ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€åˆ†æ”¯ç­–ç•¥æ»¡è¶³æŒç»­äº¤ä»˜éœ€æ±‚ï¼Œå¯çµæ´»é€‚åº”äº§å“äº¤ä»˜ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼Œå¯æ”¯æŒå›¢é˜Ÿé«˜æ•ˆåä½œã€‚&lt;/p&gt;
&lt;p&gt;3ã€æ„å»ºäº§ç‰©ç®¡ç†&lt;/p&gt;
&lt;p&gt;Â·       Aã€æœªä½¿ç”¨ç»Ÿä¸€çš„åˆ¶å“åº“ï¼Œæ„å»ºäº§ç‰©é€šè¿‡ç›´æ¥æ‹·è´æˆ–æœ¬åœ°å…±äº«ç­‰æ–¹å¼è¿›è¡Œåˆ†å‘ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä½¿ç”¨ç»Ÿä¸€çš„åˆ¶å“åº“ç®¡ç†æ„å»ºäº§ç‰©ï¼Œæœ‰æ¸…æ™°çš„åˆ†çº§å’Œç›®å½•ç»“æ„åŠæƒé™ç®¡æ§å¹¶é€šè¿‡å•ä¸€åˆ¶å“åº“åœ°å€è¿›è¡Œåˆ†å‘ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä½¿ç”¨ç»Ÿä¸€çš„åˆ¶å“åº“ç®¡ç†æ„å»ºäº§ç‰©ï¼Œå¹¶å°†äºŒè¿›åˆ¶åº“æ–‡ä»¶å’Œä¸‰æ–¹ä¾èµ–è½¯ä»¶å·¥å…·ç­‰çº³å…¥åªå‡­åº“ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¯¹åˆ¶å“åº“å®Œæˆåˆ†çº§ç®¡ç†ï¼Œæœ‰æˆç†Ÿçš„å¤‡ä»½æ¢å¤æ¸…ç†ç­–ç•¥ï¼Œå¦‚é‡‡ç”¨åˆ†å¸ƒå¼åˆ¶å“åº“ã€‚&lt;/p&gt;
&lt;p&gt;4ã€å•ä¸€å¯ä¿¡æ•°æ®æº&lt;/p&gt;
&lt;p&gt;Â·       Aã€ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå’Œåˆ¶å“åº“ä½œä¸ºå•ä¸€å¯ä¿¡æ•°æ®æºï¼Œè¦†ç›–ç”Ÿäº§éƒ¨ç½²ç¯èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å•ä¸€å¯ä¿¡æ•°æ®æºè¿›ä¸€æ­¥è¦†ç›–ç ”å‘æœ¬åœ°ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å•ä¸€å¯ä¿¡æ•°æ®æºè´¯ç©¿æ•´ä¸ªç ”å‘ä»·å€¼æµäº¤ä»˜è¿‡ç¨‹ï¼Œåœ¨ç»„ç»‡å†…éƒ¨å¼€æ”¾å…±äº«ï¼Œå»ºç«‹çŸ¥è¯†ç§¯ç´¯å’Œç»éªŒå¤ç”¨ä½“ç³»ã€‚&lt;/p&gt;
&lt;p&gt;5ã€å˜æ›´è¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;Â·       Aã€å˜æ›´è¿‡ç¨‹ä¸å—æ§ä¸”å˜æ›´ä¿¡å˜æ›´é—®é¢˜å®šä½å›°éš¾ä¸”å›æ»šæ“ä½œå…·æœ‰é«˜é£é™©åˆ†æ•£åœ¨æ¯ä¸ªç³»ç»Ÿå†…éƒ¨ï¼Œç¼ºä¹ä¿¡æ¯çš„æœ‰æ•ˆå…±äº«æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä»£ç å˜æ›´è¿‡ç¨‹åº”é™„å¸¦å˜æ›´ç®¡ç†ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ‰€æœ‰é…ç½®é¡¹å˜æ›´ç”±å˜æ›´ç®¡ç†ç³»ç»Ÿè§¦å‘ï¼Œå¹¶ä½œä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å¼ºåˆ¶è¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ä½¿ç”¨åŒä¸€å¥—å˜æ›´ç®¡ç†ç³»ç»Ÿè¦†ç›–ä»éœ€æ±‚åˆ°éƒ¨ç½²å‘å¸ƒå…¨æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å¯è§†åŒ–å˜æ›´ç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå…¨ç¨‹æ•°æ®åˆ†æç®¡ç†å’Œæ»¡è¶³å®¡è®¡è¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;6ã€å˜æ›´è¿½æº¯&lt;/p&gt;
&lt;p&gt;Â·       Aã€å˜æ›´ç¼ºä¹åŸºæœ¬çš„å¯è¿½æº¯æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æœ‰æ¸…æ™°å®šä¹‰çš„è½¯ä»¶ç‰ˆæœ¬å·è§„åˆ™ï¼Œå®ç°ç‰ˆæœ¬å’Œä»£ç çš„å…³è”ï¼Œå¯è¿½æº¯ç‰ˆæœ¬æ„å»ºå¯¹åº”çš„å®Œæ•´æºä»£ç ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å®ç°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå’Œå˜æ›´ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨åŒ–å…³è”ï¼Œä¿¡æ¯åŒå‘åŒæ­¥å’Œå®æ—¶å¯è¿½æº¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å˜æ›´ä¾èµ–è¢«è¯†åˆ«å’Œæ ‡è®°ï¼Œå®ç°æ•°æ®åº“å’Œç¯å¢ƒå˜æ›´ä¿¡æ¯çš„å¯è¿½æº¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å®ç°ä»éœ€æ±‚åˆ°éƒ¨ç½²å‘å¸ƒå„ä¸ªç¯èŠ‚çš„ç›¸å…³å…¨éƒ¨ä¿¡æ¯çš„å…¨ç¨‹å¯è¿½æº¯ã€‚&lt;/p&gt;
&lt;p&gt;7ã€å˜æ›´å›æ»š&lt;/p&gt;
&lt;p&gt;Â·       Aã€å˜æ›´é—®é¢˜å®šä½å›°éš¾ä¸”å›æ»šæ“ä½œå…·æœ‰é«˜é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å¯æ”¯æŒç‰ˆæœ¬é—´å·®å¼‚å¯¹æ¯”å’Œä»£ç çº§åˆ«é—®é¢˜å®šä½å’Œå›æ»šã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å®ç°å˜æ›´ç®¡ç†ç³»ç»Ÿå’Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„åŒæ­¥å›æ»šï¼Œä¿è¯çŠ¶æ€çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¯æ ¹æ®å˜æ›´ç®¡ç†ç³»ç»ŸæŒ‰éœ€å¿«é€Ÿå¯¼å‡ºå¤ç”¨è½¯ä»¶ä»£ç å˜æ›´é›†ï¼Œå¦‚å»ºç«‹ä»å˜æ›´ç®¡ç†ç³»ç»Ÿåˆ°è½¯ä»¶ä»£ç å˜æ›´é›†çš„å…³ç³»æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æ”¯æŒä»»ä½•æ—¶é—´ç‚¹å…¨éƒ¨çŠ¶æ€çš„è‡ªåŠ¨åŒ–å›æ»šéœ€æ±‚ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;ï¼ˆäºŒï¼‰æ„å»ºä¸æŒç»­é›†æˆ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€æ„å»ºæ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€é‡‡ç”¨æ‰‹å·¥æ–¹å¼è¿›è¡Œæ„å»ºï¼Œæ„å»ºè¿‡ç¨‹ä¸å¯é‡å¤ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å®ç°è„šæœ¬è‡ªåŠ¨åŒ–ï¼Œé€šè¿‡æ‰‹å·¥é…ç½®å®Œæˆæ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å®šä¹‰ç»“æ„åŒ–æ„å»ºè„šæœ¬ï¼Œå®ç°æ¨¡å—çº§å…±äº«å¤ç”¨å’Œç»Ÿä¸€ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å®ç°æ„å»ºæœåŠ¡åŒ–ï¼Œå¯æŒ‰éœ€æä¾›æ¥å£å’Œç”¨æˆ·ç•Œé¢ç”¨äºå¯è§†åŒ–æ„å»ºç¼–æ’ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„æ„å»ºæœåŠ¡å¹³å°ï¼ŒæŒç»­æ”¹è¿›æœåŠ¡æ˜“ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;2ã€æ„å»ºç¯å¢ƒ&lt;/p&gt;
&lt;p&gt;Â·       Aã€ä½¿ç”¨æœ¬åœ°è®¾å¤‡ï¼Œæ„å»ºç¯å¢ƒä¸å¯é ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æœ‰ç‹¬ç«‹çš„æ„å»ºæœåŠ¡å™¨ï¼Œå¤šç§ä»»åŠ¡å…±äº«æ„å»ºç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ„å»ºç¯å¢ƒé…ç½®å®ç°æ ‡å‡†åŒ–ï¼Œæœ‰ç‹¬ç«‹çš„æ„å»ºé›†ç¾¤ï¼Œå•æ¬¡æ„å»ºæ§åˆ¶åœ¨å°æ—¶çº§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ä¼˜åŒ–æ„å»ºé€Ÿåº¦ï¼Œå®ç°å¢é‡åŒ–æ„å»ºå’Œæ¨¡å—åŒ–æ„å»ºï¼Œå•æ¬¡æ„å»ºæ§åˆ¶åœ¨åˆ†é’Ÿçº§ï¼Œå¦‚å¯é‡‡ç”¨åˆ†å¸ƒå¼æ„å»ºé›†ç¾¤ã€æ„å»ºç¼“å­˜ç­‰æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­æ”¹è¿›æ„å»ºæ€§èƒ½ï¼Œå®ç°æ„å»ºèµ„æºå…±äº«å’ŒåŠ¨æ€æŒ‰éœ€åˆ†é…å›æ”¶ï¼Œå¦‚æ­å»ºåŸºäºäº‘æœåŠ¡è™šæ‹ŸåŒ–å’Œå®¹å™¨åŒ–çš„åˆ†å¸ƒå¼æ„å»ºé›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;3ã€æ„å»ºè®¡åˆ’&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ²¡æœ‰æ˜ç¡®çš„ç‰ˆæœ¬å·è§„åˆ™å’Œæ„å»ºä»»åŠ¡è®¡åˆ’ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ˜ç¡®å®šä¹‰ç‰ˆæœ¬å·è§„åˆ™ï¼Œå¹¶æ ¹æ®å‘å¸ƒç­–ç•¥ç»†åˆ†æ„å»ºç±»å‹ï¼Œå®ç°æ¯æ—¥è‡ªåŠ¨æ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ˜ç¡®å®šä¹‰æ„å»ºè®¡åˆ’å’Œè§„åˆ™ï¼Œå®ç°ä»£ç æäº¤è§¦å‘æ„å»ºå’Œå®šæœŸè‡ªåŠ¨æ‰§è¡Œæ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€åˆ†çº§æ„å»ºè®¡åˆ’ï¼Œå®ç°æŒ‰éœ€æ„å»ºå¹¶è¾¾åˆ°èµ„æºå’Œé€Ÿåº¦çš„æœ‰æ•ˆå¹³è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€åˆ†çº§æ„å»ºè®¡åˆ’ï¼Œå®ç°æŒ‰éœ€æ„å»ºå¹¶è¾¾åˆ°èµ„æºå’Œé€Ÿåº¦çš„æœ‰æ•ˆå¹³è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;4ã€æ„å»ºèŒè´£&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ„å»ºå·¥å…·å’Œç¯å¢ƒå—é™äºå›¢é˜Ÿäººå‘˜èƒ½åŠ›ï¼Œé¢‘ç¹æ‰‹åŠ¨å¹²é¢„ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ„å»ºå·¥å…·å’Œç¯å¢ƒç”±ä¸“äººè´Ÿè´£ç»´æŠ¤ï¼Œå¹¶ä½¿ç”¨æƒé™éš”ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ„å»ºå·¥å…·å’Œç¯å¢ƒç”±ä¸“é—¨å›¢é˜Ÿç»´æŠ¤ï¼Œå¹¶ç»†åˆ†å›¢é˜Ÿäººå‘˜èŒè´£ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ„å»ºç³»ç»ŸæœåŠ¡åŒ–æä¾›æ›´å¤šç”¨æˆ·ä½¿ç”¨ï¼Œæ„å»ºä¸å†å±€é™äºä¸“ä¸šå›¢é˜Ÿè¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å°†æ„å»ºèƒ½åŠ›èµ‹äºˆå…¨éƒ¨å›¢é˜Ÿæˆå‘˜ï¼Œå¹¶æŒ‰éœ€è§¦å‘æ„å»ºå®ç°å¿«é€Ÿåé¦ˆã€‚&lt;/p&gt;
&lt;h2 id="_3"&gt;ï¼ˆä¸‰ï¼‰æ„å»ºä¸æŒç»­é›†æˆ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€é›†æˆæœåŠ¡&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ²¡æœ‰æ­å»ºæŒç»­é›†æˆæœåŠ¡ï¼Œå›¢é˜Ÿæˆå‘˜ç¼ºä¹å¯¹æŒç»­é›†æˆçš„ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ­å»ºç»Ÿä¸€çš„æŒç»­é›†æˆæœåŠ¡å¹¶å¯¹ç³»ç»Ÿè¿› è¡Œæ—¥å¸¸ç»´æŠ¤å’Œç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ç»„å»ºä¸“é—¨çš„æŒç»­é›†æˆå›¢é˜Ÿï¼Œè´Ÿè´£ä¼˜åŒ–æŒç»­é›†æˆç³»ç»Ÿå’ŒæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æŒç»­é›†æˆåµŒå…¥æ¯ä¸ªç ”å‘å›¢é˜Ÿæ—¥å¸¸æ´»åŠ¨ï¼Œå®ç°æŒç»­é›†æˆç³»ç»ŸæœåŠ¡åŒ–å’Œè‡ªåŠ©åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–å’Œæ”¹è¿›å›¢é˜ŸæŒç»­é›†æˆæœåŠ¡ï¼Œå®ç°ç»„ç»‡äº¤ä»˜èƒ½åŠ›æå‡ã€‚&lt;/p&gt;
&lt;p&gt;2ã€é›†æˆé¢‘ç‡&lt;/p&gt;
&lt;p&gt;Â·       Aã€é•¿æœŸæœ¬åœ°å¼€å‘ä»£ç é›†æˆé¢‘ç‡å‡ å‘¨æˆ–è€…å‡ æœˆä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€é‡‡ç”¨å›¢é˜Ÿå®šæœŸç»Ÿä¸€é›†æˆçš„ç­–ç•¥ï¼Œä»£ç é›†æˆé¢‘ç‡å‡ å¤©æˆ–è€…å‡ å‘¨ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ç ”å‘äººå‘˜è‡³å°‘æ¯å¤©å‘ä»£ç ä¸»å¹²é›†æˆä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ç ”å‘äººå‘˜æ¯å¤©å¤šæ¬¡å‘ä»£ç ä¸»å¹²é›†æˆï¼Œæ¯æ¬¡é›†æˆä»£ä»·è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€ä»»ä½•å˜æ›´(ä»£ç ï¼Œé…ç½®ï¼Œç¯å¢ƒ)éƒ½ä¼šè§¦å‘å®Œæ•´çš„æŒç»­é›†æˆæµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;3ã€é›†æˆæ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€ä»£ç é›†æˆä½œä¸ºè½¯ä»¶äº¤ä»˜æµç¨‹ä¸­çš„ä¸€ä¸ªç‹¬ç«‹é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åœ¨éƒ¨åˆ†åˆ†æ”¯ä¸Šè¿›è¡Œæ¯å¤©å¤šæ¬¡çš„å®šæ—¶æ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ¯æ¬¡ä»£ç æäº¤è§¦å‘è‡ªåŠ¨åŒ–æ„å»ºï¼Œæ„å»ºé—®é¢˜é€šè¿‡è‡ªåŠ¨åˆ†æç²¾å‡†æ¨é€ç›¸å…³äººå‘˜å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ¯æ¬¡ä»£ç æäº¤æ„å»ºè§¦å‘è‡ªåŠ¨åŒ–æµ‹è¯•å’Œé™æ€ä»£ç æ£€æŸ¥ï¼Œæµ‹è¯•é—®é¢˜è‡ªåŠ¨ä¸ŠæŠ¥å˜æ›´ç®¡ç†ç³»ç»Ÿï¼Œæµ‹è¯•ç»“æœä½œä¸ºç‰ˆæœ¬è´¨é‡æ ‡å‡†è¦æ±‚ï¼Œå¦‚ï¼šé‡‡å–è´¨é‡é—¨ç¦ç­‰æ–¹å¼å¼ºåŒ–ä¸»å¹²ä»£ç è´¨é‡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å®ç°æŒç»­é›†æˆåˆ†çº§å’Œè‡ªåŠ¨åŒ–æµ‹è¯•åˆ†çº§ï¼Œæ»¡è¶³ä¸åŒæ¨¡å—å’Œé›†æˆé˜¶æ®µçš„å·®å¼‚åŒ–éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;4ã€åé¦ˆå‘¨æœŸ&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ¯æ¬¡é›†æˆä¼´éšå¤§é‡çš„é—®é¢˜å’Œå†²çªï¼Œé›†æˆæœŸé—´ä¸»å¹²åˆ†æ”¯é•¿æœŸä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€é›†æˆé—®é¢˜åé¦ˆå’Œè§£å†³éœ€è¦åŠå¤©æˆ–è€…æ›´é•¿æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€é›†æˆé—®é¢˜åé¦ˆå’Œè§£å†³å¯ä»¥åœ¨å‡ ä¸ªå°æ—¶å†…å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€é›†æˆé—®é¢˜åé¦ˆå’Œè§£å†³æ§åˆ¶åœ¨ 30åˆ†é’Ÿä»¥å†…å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€é›†æˆé—®é¢˜åé¦ˆå’Œè§£å†³æ§åˆ¶åœ¨ 10åˆ†é’Ÿä»¥å†…å®Œæˆã€‚&lt;/p&gt;
&lt;h2 id="_4"&gt;ï¼ˆå››ï¼‰æµ‹è¯•ç®¡ç†&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€åˆ†å±‚æ–¹æ³•&lt;/p&gt;
&lt;p&gt;Â·       Aã€åªè¿›è¡Œç”¨æˆ·/ä¸šåŠ¡çº§çš„ UI æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€é‡‡ç”¨æ¥å£/æœåŠ¡çº§æµ‹è¯•å¯¹æ¨¡å—/æœåŠ¡è¿›è¡Œè¦†ç›–å…¨é¢çš„æ¥å£æµ‹è¯•ï¼›é‡‡ç”¨ä»£ç çº§æµ‹è¯•å¯¹æ ¸å¿ƒæ¨¡å—çš„å‡½æ•°æˆ–ç±»æ–¹æ³•è¿›è¡Œå•å…ƒæµ‹è¯•ï¼›å¯¹ç³»ç»Ÿè¿›è¡ŒåŸºæœ¬çš„æ€§èƒ½æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€é‡‡ç”¨ä»£ç çº§æµ‹è¯•å¯¹æ¨¡å—çš„å‡½æ•°æˆ–ç±»æ–¹æ³•è¿›è¡Œè¦†ç›–å…¨é¢çš„å•å…ƒæµ‹è¯•ï¼›ç³»ç»Ÿå…¨é¢çš„è¿›è¡Œæ€§èƒ½ã€å®¹é‡ã€ç¨³å®šæ€§ã€å¯é æ€§ã€æ˜“ç”¨æ€§ã€å…¼å®¹æ€§ã€å®‰å…¨æ€§ç­‰éåŠŸèƒ½æ€§æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€é‡‡ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘çš„æ–¹å¼,è¿›è¡Œä»£ç çº§ã€æ¥å£çº§æµ‹è¯•ï¼›é‡‡ç”¨æ¢ç´¢æ€§æµ‹è¯•æ–¹æ³•å¯¹éœ€æ±‚è¿›è¡Œæ·±å…¥æŒ–æ˜æµ‹è¯•&lt;/p&gt;
&lt;p&gt;Â·       Eã€é‡‡ç”¨éªŒæ”¶æµ‹è¯•é©±åŠ¨å¼€å‘çš„æ–¹å¼è¿›è¡Œç”¨æˆ·/ä¸šåŠ¡çº§çš„ UIæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;2ã€åˆ†å±‚ç­–ç•¥&lt;/p&gt;
&lt;p&gt;Â·       Aã€å°šæœªå»ºç«‹æµ‹è¯•åˆ†å±‚ç­–ç•¥ï¼Œæµ‹è¯•ä¸åˆ†å±‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æµ‹è¯•å¼€å§‹åˆ†å±‚ï¼Œä½†å¯¹æµ‹è¯•åˆ†å±‚ç­–ç•¥ç¼ºä¹ç³»ç»Ÿçš„è§„åˆ’ï¼Œå¯¹ç”¨æˆ·/ä¸šåŠ¡çº§æµ‹è¯•ã€æ¥å£/æœåŠ¡çº§ã€ä»£ç çº§æµ‹è¯•åˆ†å¸ƒæ¯”ä¾‹ç”±é«˜åˆ°ä½ï¼Œå„å±‚æµ‹è¯•ç¼ºä¹æœ‰æ•ˆçš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å¯¹æµ‹è¯•åˆ†å±‚ç­–ç•¥è¿›è¡Œç³»ç»Ÿçš„è§„åˆ’ï¼Œç”¨æˆ·/ä¸šåŠ¡çº§ã€æ¥å£/æœåŠ¡çº§ã€ä»£ç çº§æµ‹è¯•åˆ†å¸ƒæ¯”ä¾‹ç”±ä½åˆ°é«˜ï¼Œå……åˆ†è®¾è®¡;ä»£ç å¯¹éåŠŸèƒ½æ€§æµ‹è¯•è¿›è¡Œå…¨é¢ç³»ç»Ÿçš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æµ‹è¯•åˆ†å±‚ç­–ç•¥çš„å„å±‚æµ‹è¯•å…·æœ‰äº¤å‰äº’è¡¥æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å®šæœŸéªŒè¯æµ‹è¯•åˆ†å±‚ç­–ç•¥ï¼Œæ˜¯å¦å®Œæ•´æœ‰æ•ˆï¼ŒæŒç»­ä¼˜åŒ–ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;3ã€æµ‹è¯•æ—¶æœº&lt;/p&gt;
&lt;p&gt;Â·       Aã€æµ‹è¯•åœ¨è½¯ä»¶äº¤ä»˜è¿‡ç¨‹ä¸­åœ¨å¼€å‘å®Œæˆåæ‰ä»‹å…¥ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æµ‹è¯•åœ¨æŒç»­äº¤ä»˜è¿‡ç¨‹ä¸­çš„ä»‹å…¥æ—¶é—´æå‰åˆ°å¼€å‘çš„é›†æˆé˜¶æ®µï¼Œæ¥å£/æœåŠ¡çº§æµ‹è¯•åœ¨æ¨¡å—çš„æ¥å£å¼€å‘å®Œæˆåè¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æµ‹è¯•åœ¨æŒç»­äº¤ä»˜è¿‡ç¨‹ä¸­çš„ä»‹å…¥æ—¶é—´æå‰åˆ°å¼€å‘çš„ç¼–ç é˜¶æ®µï¼Œä»£ç çº§æµ‹è¯•åœ¨æ¨¡å—çš„å‡½æ•°æˆ–ç±»æ–¹æ³•å¼€å‘å®Œæˆåè¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ä»£ç çº§æµ‹è¯•åœ¨æ¨¡å—çš„å‡½æ•°æˆ–ç±»æ–¹æ³•å¼€å‘è¿‡ç¨‹ä¸­åŒæ­¥è¿›è¡Œå’Œå®Œæˆï¼›æ¥å£/æœåŠ¡çº§æµ‹è¯•åœ¨æ¨¡å—çš„æ¥å£å¼€å‘è¿‡ç¨‹ä¸­åŒæ­¥è¿›è¡Œå’Œå®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€åœ¨éœ€æ±‚é˜¶æ®µè¿›è¡Œç”¨æˆ·/ä¸šåŠ¡çº§æµ‹å®šæœŸéªŒè¯æµ‹è¯•è®¾è®¡ï¼Œåœ¨éœ€æ±‚ç‰¹æ€§å¹¶å‘ã€äº¤ä»˜ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­åŒæ­¥è¿›è¡Œå¹¶å®Œæˆæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;4ã€è´¨é‡è§„çº¦&lt;/p&gt;
&lt;p&gt;Â·       Aã€ä»£ç è´¨é‡æ£€æŸ¥æ— ä»»ä½•è§„çº¦ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä»£ç è´¨é‡æ£€æŸ¥å…·å¤‡åŸºæœ¬è§„çº¦ï¼Œä½†è¿˜ç¼ºä¹å®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä»£ç è´¨é‡æ£€æŸ¥å…·å¤‡å®Œæ•´ã€æœ‰æ•ˆå’Œå¼ºåˆ¶æ‰§è¡Œçš„è§„çº¦ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ä»£ç è´¨é‡æ£€æŸ¥è§„çº¦æ ¹æ®éœ€è¦å¯è¿›è¡Œæ‰©å±•å’Œå®šåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å®šæœŸéªŒè¯ä»£ç è´¨é‡è§„çº¦çš„å®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼ŒæŒç»­ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;5ã€æ£€æŸ¥ç­–ç•¥&lt;/p&gt;
&lt;p&gt;Â·       Aã€ä»£ç è´¨é‡æ£€æŸ¥æ— é’ˆå¯¹æ£€æŸ¥èŒƒå›´ã€è´¨é‡é—¨é™ç­‰ç›¸å…³çš„ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä»£ç è´¨é‡æ£€æŸ¥æœ‰é’ˆå¯¹æ£€æŸ¥èŒƒå›´ã€è´¨é‡é—¨é™çš„ç­–ç•¥ï¼Œå¯¹ä»£ç è§„èŒƒã€é”™è¯¯å’Œåœˆå¤æ‚åº¦ã€é‡å¤åº¦ç­‰è´¨é‡æŒ‡æ ‡è¿›ã€‚è¡Œæ£€æŸ¥åˆ†æ&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä»£ç è´¨é‡æ£€æŸ¥å°†å®‰å…¨æ¼æ´æ£€æŸ¥ã€åˆè§„æ£€æŸ¥çº³å…¥åˆ°æ£€æŸ¥èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ä»£ç è´¨é‡æ£€æŸ¥é’ˆå¯¹æ£€æŸ¥èŒƒå›´ã€è´¨é‡é—¨é™çš„ç­–ç•¥å¯æ ¹æ®éœ€è¦çµæ´»è°ƒæ•´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å®šæœŸéªŒè¯ä»£ç è´¨é‡ç­–ç•¥çš„å®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼ŒæŒç»­ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;6ã€æ£€æŸ¥æ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€ä»£ç è´¨é‡æ£€æŸ¥é‡‡ç”¨äººå·¥æ–¹å¼è¿›è¡Œè¯„å®¡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä»£ç è´¨é‡æ£€æŸ¥é‡‡ç”¨è‡ªåŠ¨åŒ–ç»“åˆæ‰‹å·¥æ–¹å¼è¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä»£ç è´¨é‡æ£€æŸ¥å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œä¸éœ€è¦æ‰‹å·¥å¹²é¢„ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¯¹ä»£ç è´¨é‡æ£€æŸ¥å‘ç°çš„éƒ¨åˆ†é—®é¢˜è‡ªåŠ¨æå‡ºä¿®æ”¹å»ºè®®ï¼Œæ”¯æŒå¯è§†åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å…·å¤‡ä¼ä¸šçº§çš„ä»£ç è´¨é‡ç®¡ç†å¹³å°ï¼Œä»¥æœåŠ¡çš„å½¢å¼æä¾›å¯¹ä»£ç è´¨é‡çš„æ£€æŸ¥åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;7ã€åé¦ˆå¤„ç†&lt;/p&gt;
&lt;p&gt;Â·       Aã€å¯¹ä»£ç è´¨é‡æ£€æŸ¥ç»“æœå¤„ç†ä¸åŠæ—¶ï¼Œé—ç•™å¤§é‡æŠ€æœ¯å€ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å¯¹ä»£ç è´¨é‡æ£€æŸ¥ç»“æœç»™å‡ºåé¦ˆï¼Œæ ¹æ®åé¦ˆè¿›è¡Œå¤„ç†ï¼Œå¯¹é—ç•™çš„éƒ¨åˆ†æŠ€æœ¯å€ºä¹è·Ÿè¸ªå’Œç®¡ç†ï¼Œå¯¼è‡´é—æ¼ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ ¹æ®ä»£ç è´¨é‡æ£€æŸ¥ç»“æœåé¦ˆåŠæ—¶å¤„ç†ï¼ŒæŠ€æœ¯å€ºä»æœ‰çŸ­æœŸé—ç•™ï¼Œä½†è¿›è¡Œæœ‰æ•ˆçš„è·Ÿè¸ªã€ç®¡ç†å’Œå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å°†æ£€æŸ¥ç»“æœå¼ºåˆ¶ä½œä¸ºç‰ˆæœ¬è´¨é‡æ ‡å‡†è¦æ±‚ï¼Œæ ¹æ®ä»£ç è´¨é‡æ£€æŸ¥æå‡ºçš„ä¿®æ”¹å»ºè®®ï¼Œå¯¹é—®é¢˜åŠæ—¶å¤„ç†ï¼Œåœ¨ç ”å‘é˜¶æ®µä¸»åŠ¨è§£å†³æŠ€æœ¯å€ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å¯¹ä»£ç è´¨é‡æ•°æ®è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå¯æœ‰æ•ˆè¿½æº¯å¹¶å¯¹ä»£ç è´¨é‡è¿›è¡Œæœ‰æ•ˆåº¦é‡ã€‚&lt;/p&gt;
&lt;p&gt;8ã€è‡ªåŠ¨åŒ–è®¾è®¡&lt;/p&gt;
&lt;p&gt;Â·       Aã€æœªé‡‡ç”¨è‡ªåŠ¨åŒ–æ–¹å¼æµ‹è¯•ï¼Œçº¯æ‰‹å·¥æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å°šæœªå¯¹æµ‹è¯•ç”¨ä¾‹ä¸­è‡ªåŠ¨åŒ–éƒ¨åˆ†è¿›è¡Œè§„åˆ’å’Œè®¾è®¡ï¼Œè¦†ç›–ä¸å®Œæ•´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ ¹æ®éœ€æ±‚ã€æ¥å£å’Œä»£ç å¯¹ä¸åŒæµ‹è¯•åˆ†å±‚ä¸­è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹è¿›è¡Œè§„åˆ’å’Œè®¾è®¡ï¼Œè‡ªåŠ¨åŒ–è¦†ç›–æ¯”è¾ƒå®Œæ•´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¯¹æ€§èƒ½ã€ç¨³å®šæ€§ã€å¯é æ€§ã€å®‰å…¨æ€§ç­‰éåŠŸèƒ½æ€§æµ‹è¯•ä¸­è‡ªåŠ¨åŒ–ç”¨ä¾‹è¿›è¡Œè§„åˆ’å’Œè®¾è®¡ï¼Œè‡ªåŠ¨åŒ–è¦†ç›–å®Œæ•´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å¯¹æ•…éšœå’Œæµ‹è¯•è¿›è¡Œå¤ç›˜ï¼Œå¯¹é—æ¼çš„æµ‹è¯•ç”¨ä¾‹è¿›è¡Œè¡¥å……ï¼Œä¸æ–­ä¼˜åŒ–å’Œå®Œå–„ï¼ŒæŒç»­æå‡è¦†ç›–ç‡ã€‚&lt;/p&gt;
&lt;p&gt;9ã€è‡ªåŠ¨åŒ–å¼€å‘&lt;/p&gt;
&lt;p&gt;Â·       Aã€å°šæœªå¯¹è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬è¿›è¡Œå¼€å‘å’Œç®¡ç†ï¼Œæ‰‹å·¥æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬è¿›è¡Œå¼€å‘å’Œæœ¬åœ°ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬å¼€å‘é‡‡ç”¨æ•°æ®é©±åŠ¨ã€å…³é”®å­—é©±åŠ¨ç­‰æ–¹æ³•ï¼›ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯¹è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬è¿›è¡Œæœ‰æ•ˆç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹è„šæœ¬é—´å…·å¤‡ç‹¬ç«‹æ€§å’Œå¤§æ‰¹é‡æ‰§è¡Œçš„å¥å£®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€è‡ªåŠ¨åŒ–è„šæœ¬æ˜¯æµ‹è¯•ç”¨ä¾‹è®¾è®¡çš„æ´»æ–‡æ¡£ï¼Œè‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘å’Œæµ‹è¯•ç”¨ä¾‹è®¾è®¡å®Œå…¨ç»Ÿä¸€ã€‚&lt;/p&gt;
&lt;p&gt;10ã€è‡ªåŠ¨åŒ–æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ‰‹å·¥æµ‹è¯•æ‰§è¡Œæ•ˆç‡ä½ä¸‹ï¼Œä»¥å‘¨çº§ä¸ºå•ä½ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å¯¹ç”¨æˆ·/ä¸šåŠ¡çº§æµ‹è¯•é‡‡ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•çš„æ‰§è¡Œæ•ˆç‡ä¸é«˜ï¼Œä»¥å¤©çº§ä¸ºå•ä½ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä»ä»£ç çº§ã€æ¥å£çº§UIçº§æµ‹è¯•å®ç°äº†ç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ‰“é€šï¼›è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œæ•ˆç‡è¾ƒé«˜ï¼Œä»£ç çº§æµ‹è¯•åˆ†é’Ÿçº§ï¼ŒUIçº§æµ‹è¯•å°æ—¶çº§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æœ‰ç»„ç»‡çº§çš„ç»Ÿä¸€è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼Œå’Œä¸Šä¸‹æ¸¸éœ€æ±‚ã€æ•…éšœç³»ç»Ÿæ‰“é€šï¼›å¯ä»¥æ ¹æ®éœ€æ±‚é’ˆå¯¹æ€§è‡ªåŠ¨å…³è”é€‰æ‹©è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹è„šæœ¬æ‰§è¡Œï¼›å¯ä»¥å°†ç”±äºç‰ˆå’Œæ•…éšœå…³è”ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€é‡‡ç”¨ä¼ä¸šçº§ç»Ÿä¸€çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼Œä»¥äº‘åŒ–çš„æ–¹å¼æä¾›æµ‹è¯•æœåŠ¡ï¼Œè¿›è¡Œåˆ†å¸ƒå¼æµ‹è¯•è°ƒåº¦æ‰§è¡Œï¼Œæé«˜æµ‹è¯•æ‰§è¡Œæ•ˆç‡å’Œèµ„æºåˆ©ç”¨ç‡ï¼›å®šæœŸéªŒè¯è‡ªåŠ¨åŒ–æ‰§è¡Œç­–ç•¥,æŒç»­ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;11ã€è‡ªåŠ¨åŒ–åˆ†æ&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ‰‹å·¥å¯¹æµ‹è¯•ç»“æœè¿›è¡Œåˆ†æåˆ¤æ–­ï¼Œé”™è¯¯é«˜ï¼Œå¯ä¿¡åº¦ä½ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•ç»“æœå…·å¤‡ä¸€å®šçš„è‡ªåŠ¨åˆ¤æ–­èƒ½åŠ›ï¼Œå­˜åœ¨ä¸€å®šçš„è¯¯æŠ¥ï¼Œå¯ä¿¡åº¦ä¸è¶³ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•ç»“æœå…·å¤‡è¾ƒå¼ºçš„è‡ªåŠ¨åˆ¤æ–­èƒ½åŠ›ï¼Œè¯¯æŠ¥å°‘ï¼Œå¯ä¿¡åº¦é«˜ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€è‡ªåŠ¨åŒ–æµ‹è¯•æ•°æ®æ¨¡å‹æ ‡å‡†åŒ–ï¼Œå’Œä¸Šä¸‹æ¸¸éœ€æ±‚ã€æ•…éšœç­‰ç ”å‘æ•°æ®å…³è”ï¼Œå¯ä»¥å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•æ•ˆæœè¿›è¡Œåº¦é‡åˆ†æã€‚ä¾‹å¦‚ï¼šéœ€æ±‚æµ‹è¯•è¦†ç›–ç‡ã€æµ‹è¯•é€šè¿‡ç‡å’Œæµ‹è¯•æ•ˆç‡ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•ç»“æœå¯ä»¥æ™ºèƒ½åˆ†æï¼Œè‡ªåŠ¨åˆ†æå¤±è´¥ç”¨ä¾‹çš„å¤±è´¥ç±»å‹åŠåŸå› ï¼Œå¯ä»¥è‡ªåŠ¨å‘æ•…éšœç®¡ç†ç³»ç»Ÿæäº¤æ•…éšœï¼Œå¯ä¿¡åº¦é«˜ã€‚&lt;/p&gt;
&lt;h2 id="_5"&gt;ï¼ˆäº”ï¼‰éƒ¨ç½²ä¸å‘å¸ƒç®¡ç†&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€éƒ¨ç½²æ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€è¿ç»´äººå‘˜æ‰‹å·¥å®Œæˆæ‰€æœ‰ç¯å¢ƒçš„éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€è¿ç»´äººå‘˜é€šè¿‡è‡ªåŠ¨åŒ–è„šæœ¬å®ç°éƒ¨ç½²è¿‡ç¨‹éƒ¨åˆ†è‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€éƒ¨ç½²å’Œå‘å¸ƒå®ç°å…¨è‡ªåŠ¨åŒ–ï¼ŒåŒæ—¶æ”¯æŒæ•°æ®åº“è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€éƒ¨ç½²å‘å¸ƒæœåŠ¡åŒ–ï¼Œå®ç°äº¤ä»˜å›¢é˜Ÿè‡ªåŠ©ä¸€é”®å¼å¤šç¯å¢ƒè‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„éƒ¨ç½²å‘å¸ƒæ¨¡å¼å’Œå·¥å…·ç³»ç»Ÿå¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;2ã€éƒ¨ç½²æ´»åŠ¨&lt;/p&gt;
&lt;p&gt;Â·       Aã€éƒ¨ç½²è¿‡ç¨‹å¤æ‚ä¸å¯æ§ï¼Œä¼´éšå¤§é‡é—®é¢˜å’Œè¾ƒé•¿çš„åœæœºæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€éƒ¨ç½²è¿‡ç¨‹é€šè¿‡æµç¨‹æ–‡æ¡£å®šä¹‰å®ç°æ ‡å‡†åŒ–æ•´ä½“å¯æ§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä½¿ç”¨ç›¸åŒçš„è¿‡ç¨‹å’Œå·¥å…·å®Œæˆæ‰€æœ‰ç¯å¢ƒéƒ¨ç½²ï¼Œä¸€æ¬¡éƒ¨ç½²è¿‡ç¨‹ä¸­ä½¿ç”¨ç›¸åŒçš„æ„å»ºäº§ç‰©ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€éƒ¨ç½²è¿‡ç¨‹å¯çµæ´»å“åº”ä¸šåŠ¡éœ€æ±‚å˜åŒ–é€šè¿‡åˆç†ç»„åˆé«˜æ•ˆç¼–æ’ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­éƒ¨ç½²ï¼Œæ¯æ¬¡å˜æ›´éƒ½è§¦å‘ä¸€æ¬¡è‡ªåŠ¨åŒ–ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;3ã€éƒ¨ç½²ç­–ç•¥&lt;/p&gt;
&lt;p&gt;Â·       Aã€é‡‡ç”¨å®šæœŸå¤§æ‰¹é‡éƒ¨ç½²ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åº”ç”¨ä½œä¸ºéƒ¨ç½²çš„æœ€å°å•ä½ï¼Œåº”ç”¨å’Œæ•°æ®åº“éƒ¨ç½²å®ç°åˆ†ç¦»ï¼Œå®ç°æµ‹è¯•ç¯å¢ƒçš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å¯è¿è¡Œçš„ç¯å¢ƒä½œä¸ºéƒ¨ç½²çš„æœ€å°å•ä½ï¼Œåº”ç”¨å’Œé…ç½®è¿›è¡Œåˆ†ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€é€šè¿‡å¤šç§éƒ¨ç½²å‘å¸ƒç­–ç•¥ä¿è¯æµç¨‹é£é™©å¯æ§ï¼Œå¦‚ï¼šè“ç»¿éƒ¨ç½²ï¼Œé‡‘ä¸é›€å‘å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€è½¯ä»¶äº¤ä»˜å›¢é˜Ÿè‡ªä¸»è¿›è¡Œå®‰å…¨å¯é çš„éƒ¨ç½²å’Œå‘å¸ƒæ´»åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;4ã€éƒ¨ç½²è´¨é‡&lt;/p&gt;
&lt;p&gt;Â·       Aã€éƒ¨ç½²æ•´ä½“å¤±è´¥ç‡è¾ƒé«˜ï¼Œå¹¶ä¸”æ— æ³•å®ç°å›æ»šï¼Œç”Ÿäº§é—®é¢˜åªèƒ½åœ¨çº¿ä¸Šä¿®å¤ï¼Œä¿®å¤æ—¶é—´ä¸å¯æ§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å®ç°åº”ç”¨éƒ¨ç½²çš„å›æ»šæ“ä½œï¼Œéƒ¨ç½²å¤±è´¥ç‡ä¸­ç­‰ï¼Œé—®é¢˜å¯åŠæ—¶ä¿®å¤ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€éƒ¨ç½²æ´»åŠ¨é›†æˆè‡ªåŠ¨åŒ–æµ‹è¯•åŠŸèƒ½ï¼Œå¹¶ä»¥æµ‹è¯•ç»“æœä¸ºéƒ¨ç½²å‰ç½®æ¡ä»¶æ¯æ¬¡éƒ¨ç½²æ´»åŠ¨æä¾›å˜æ›´å¯¹è±¡èŒƒå›´æŠ¥å‘Šå’Œæµ‹è¯•æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å»ºç«‹ç›‘æ§ä½“ç³»è·Ÿè¸ªå’Œåˆ†æéƒ¨ç½²è¿‡ç¨‹ï¼Œå‡ºç°é—®é¢˜è‡ªåŠ¨åŒ–é™çº§å›æ»šï¼Œå¤±è´¥ç‡è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„éƒ¨ç½²ç›‘æ§ä½“ç³»å’Œæµ‹è¯•ä½“ç³»ï¼Œéƒ¨ç½²å¤±è´¥ç‡ç»´æŒåœ¨æä½æ°´å¹³ã€‚&lt;/p&gt;
&lt;p&gt;5ã€åä½œæ¨¡å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ•´ä¸ªè½¯ä»¶äº¤ä»˜è¿‡ç¨‹ä¸¥æ ¼éµå¾ªé¢„å…ˆè®¡åˆ’ï¼Œå­˜åœ¨å¤æ‚çš„éƒ¨é—¨é—´åä½œå’Œç­‰å¾…ï¼Œåªæœ‰åœ¨å¼€å‘å®Œæˆåæ‰è¿›è¡Œæµ‹è¯•å’Œéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€é€šè¿‡å®šä¹‰å®Œæ•´çš„è½¯ä»¶äº¤ä»˜è¿‡ç¨‹å’Œæ¸…æ™°çš„äº¤ä»˜è§„èŒƒï¼Œä¿è¯å›¢é˜Ÿä¹‹é—´äº¤ä»˜çš„æœ‰åºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å›¢é˜Ÿé—´äº¤ä»˜æŒ‰ç…§çº¦å®šç”±ç³»ç»Ÿé—´è°ƒç”¨å®Œæˆï¼Œä»…åœ¨å¿…è¦ç¯èŠ‚è¿›è¡Œæ‰‹å·¥ç¡®è®¤ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å›¢é˜Ÿé—´ä¾èµ–è§£è€¦ï¼Œå¯å®ç°ç‹¬ç«‹å®‰å…¨çš„è‡ªä¸»éƒ¨ç½²äº¤ä»˜ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„äº¤ä»˜ä¸šåŠ¡ç»„ç»‡çµæ´»å“åº”ä¸šåŠ¡å˜åŒ–æ”¹å–„å‘å¸ƒæ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;6ã€æµæ°´çº¿è¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;Â·       Aã€è½¯ä»¶äº¤ä»˜è¿‡ç¨‹ä¸­çš„å¤§éƒ¨åˆ†å·¥ä½œé€šè¿‡æ‰‹å·¥æ–¹å¼å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€è½¯ä»¶äº¤ä»˜è¿‡ç¨‹ä¸­çš„å„ä¸ªç¯èŠ‚å»ºç«‹è‡ªåŠ¨åŒ–èƒ½åŠ›ä»¥æå‡å¤„ç†æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ‰“é€šè½¯ä»¶äº¤ä»˜è¿‡ç¨‹ä¸­çš„å„ä¸ªç¯èŠ‚ï¼Œå»ºç«‹å…¨æµç¨‹çš„è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼Œå¹¶æ ¹æ®è‡ªåŠ¨åŒ–æµ‹è¯•ç»“æœæ§åˆ¶è½¯ä»¶äº¤ä»˜è´¨é‡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å»ºç«‹å¯è§†åŒ–éƒ¨ç½²æµæ°´çº¿ï¼Œè¦†ç›–æ•´ä¸ªè½¯ä»¶äº¤ä»˜è¿‡ç¨‹ï¼Œæ¯æ¬¡å˜æ›´éƒ½ä¼šè§¦å‘å®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æµæ°´çº¿ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­éƒ¨ç½²æµæ°´çº¿é©±åŠ¨æŒç»­æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p&gt;7ã€è¿‡ç¨‹å¯è§†åŒ–&lt;/p&gt;
&lt;p&gt;Â·       Aã€äº¤ä»˜è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ˜¯å°é—­çš„ï¼Œäº¤ä»˜çŠ¶æ€ä¸å¯è¿½æº¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€äº¤ä»˜è¿‡ç¨‹åœ¨å›¢é˜Ÿå†…éƒ¨å¯è§ï¼Œä¿¡æ¯åœ¨å›¢é˜Ÿé—´å…±äº«ï¼Œäº¤ä»˜çŠ¶æ€å¯è¿½æº¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€äº¤ä»˜è¿‡ç¨‹ç»„ç»‡å†…éƒ¨å¯è§ï¼Œå›¢é˜Ÿå…±äº«åº¦é‡æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€éƒ¨ç½²æµæ°´çº¿å…¨å‘˜å¯è§ï¼Œå¯¹è¿‡ç¨‹ä¿¡æ¯è¿›è¡Œæœ‰æ•ˆèšåˆåˆ†æå±•ç¤ºè¶‹åŠ¿ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€éƒ¨ç½²æµæ°´çº¿è¿‡ç¨‹ä¿¡æ¯è¿›è¡Œæ•°æ®ä»·å€¼æŒ–æ˜ï¼Œæ¨åŠ¨ä¸šåŠ¡æ”¹è¿›ã€‚&lt;/p&gt;
&lt;h2 id="_6"&gt;ï¼ˆå…­ï¼‰ç¯å¢ƒç®¡ç†&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€ç¯å¢ƒç±»å‹&lt;/p&gt;
&lt;p&gt;Â·       Aã€ç¯å¢ƒç±»å‹åªæœ‰ç”Ÿäº§ç¯å¢ƒå’Œéç”Ÿäº§ç¯å¢ƒçš„åˆ’åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ITäº¤ä»˜è¿‡ç¨‹æ„è¯†åˆ°éƒ¨åˆ†æµ‹è¯•ç¯å¢ƒçš„é‡è¦æ€§ï¼Œå¼€å§‹æä¾›åŠŸèƒ½æµ‹è¯•ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æŒç»­äº¤ä»˜è¿‡ç¨‹æ„è¯†åˆ°ç ”å‘ç¯å¢ƒçš„é‡è¦æ€§ï¼Œå¼€å§‹æä¾›é¢å‘å„ç±»å¼€å‘è€…ç‹¬ç«‹çš„ç ”å‘ å·¥ä½œåŒºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å…¨é¢çš„æµ‹è¯•ä¸ç°åº¦ç¯å¢ƒå¯¹äºè´¨é‡äº¤ä»˜è¿‡ç¨‹æ¥è¯´éå¸¸é‡è¦ï¼Œæœ‰å„ç±»çš„ç¯å¢ƒç±»å‹åˆ’åˆ†ï¼ŒåŒºåˆ†äº†å¼€å‘è€…ï¼ŒæŠ€æœ¯æµ‹è¯•åŠä¸šåŠ¡æµ‹è¯•ç¯å¢ƒä»¥åŠç°åº¦å‘å¸ƒç¯å¢ƒç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æ ¹æ®ä¸šåŠ¡ä¸åº”ç”¨çš„éœ€è¦ï¼Œå¼¹æ€§åˆ†é…å„ç±»ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;2ã€ç¯å¢ƒæ¶æ„&lt;/p&gt;
&lt;p&gt;Â·       Aã€ç¯å¢ƒçš„æ„å»ºé€šè¿‡äººå·¥åˆ›å»ºå®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ç¯å¢ƒæ„å»ºé€šè¿‡ä¸€é”®åŒ–çš„è„šæœ¬æˆ–è€…è™šæ‹Ÿæœºæ¥å®Œæˆçš„ï¼Œæ„å»ºè¿‡ç¨‹å®Œå…¨é»‘ç›’ åŒ–å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ç¯å¢ƒçš„æ„å»ºé€šè¿‡èµ„æºäº¤ä»˜å¹³å°æ¥å®Œæˆï¼Œå¹¶ä¸”åº•å±‚æ˜¯ç”±äº‘æ¥äº¤ä»˜ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ç¯å¢ƒçš„æ„å»ºå¯ä»¥é€šè¿‡ Docker å®¹å™¨åŒ–å¿«é€Ÿäº¤ä»˜ï¼Œä½æˆæœ¬æ„å»ºä¸€ä¸ªæ–°çš„ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€ç¯å¢ƒçš„æ„å»ºç»“åˆåº•å±‚ITèµ„æºçŠ¶å†µï¼Œé‡‡ç”¨äº†å„ç±»æ··åˆITæŠ€æœ¯ï¼Œæ ¹æ®ä¸šåŠ¡åŠåº”ç”¨æ¶æ„å¼¹æ€§æ„å»ºã€‚&lt;/p&gt;
&lt;p&gt;3ã€ç¯å¢ƒä¾èµ–ä¸é…ç½®ç®¡ç†&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ— ä¾èµ–ç®¡ç†ï¼Œç¯å¢ƒçš„ç®¡ç†å°±æ˜¯ä¸€ä¸ªOSçš„äº¤ä»˜ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä»¥åº”ç”¨ä¸ºä¸­å¿ƒæœ‰OSçº§åˆ«çš„ä¾èµ–å’Œé…ç½®ç®¡ç†èƒ½åŠ›ï¼Œæ¯”å¦‚è¯´æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€ç»„ä»¶ç‰ˆæœ¬ã€ç¨‹åºåŒ…ç‰ˆæœ¬ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä»¥åº”ç”¨ä¸ºä¸­å¿ƒï¼Œæœ‰æœåŠ¡çº§ä¾èµ–çš„é…ç½®ç®¡ç†èƒ½åŠ›ï¼Œæ¯”å¦‚è¯´ä¾èµ–çš„å…³è”æœåŠ¡ï¼ŒMysql æœåŠ¡ã€cache æœåŠ¡ã€å…³è”åº”ç”¨æœåŠ¡ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€ç¯å¢ƒå’Œä¾èµ–é…ç½®ç®¡ç†å¯ä»¥èµ„æºåŒ–æè¿°ï¼Œç±»ä¼¼dockerfileï¼Œå¤§å¤§æå‡å…¶é…ç½®ç®¡ç†èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€ç¯å¢ƒä¾èµ–å’Œé…ç½®å¯ä»¥åšåˆ°å®ä¾‹çº§çš„åŠ¨æ€é…ç½®ç®¡ç†èƒ½åŠ›ï¼Œæ ¹æ®ä¸šåŠ¡å’Œåº”ç”¨æ¶æ„çš„å˜åŒ–è€Œå˜åŒ–ã€‚&lt;/p&gt;
&lt;h2 id="_7"&gt;ï¼ˆä¸ƒï¼‰æ•°æ®ç®¡ç†&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€æ•°æ®æ¥æº&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ¯æ¬¡æµ‹è¯•æ—¶æ‰‹å·¥åˆ›å»ºæ•°æ®ï¼Œæµ‹è¯•æ•°æ®éƒ½æ˜¯ä¸´æ—¶æ€§çš„ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä»ç”Ÿäº§ç¯å¢ƒå¯¼å‡ºä¸€ä¸ªå­é›†å¹¶è¿›è¡Œæ¸…æ´—åï¼Œå½¢æˆåŸºå‡†çš„æµ‹è¯•æ•°æ®é›†ï¼Œæ»¡è¶³éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä»ç”Ÿäº§ç¯å¢ƒå¯¼å‡ºä¸€ä¸ªå­é›†å¹¶è¿›è¡Œæ¸…æ´—åï¼Œå½¢æˆåŸºå‡†çš„æµ‹è¯•æ•°æ®é›†ï¼Œæ»¡è¶³éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸“å±çš„æµ‹è¯•æ•°æ®éƒ½å¯ä»¥é€šè¿‡æ¨¡æ‹Ÿæˆ–è°ƒç”¨åº”ç”¨ç¨‹åº API çš„æ–¹å¼è‡ªåŠ¨ç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æ‰€æœ‰çš„åŠŸèƒ½ã€éåŠŸèƒ½æµ‹è¯•çš„æµ‹è¯•æ•°æ®ï¼Œéƒ½å¯ä»¥é€šè¿‡æ¨¡æ‹Ÿã€æ•°æ®åº“è½¬å‚¨æˆ–è°ƒç”¨åº”ç”¨ç¨‹åº API çš„æ–¹å¼è‡ªåŠ¨ç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;2ã€æ•°æ®è¦†ç›–&lt;/p&gt;
&lt;p&gt;Â·       Aã€æµ‹è¯•æ•°æ®è¦†ç›–ç‡ä½ï¼Œä»…æ”¯æŒéƒ¨åˆ†æµ‹è¯•åœºæ™¯ï¼Œæ— æ³•æœ‰æ•ˆæ”¯æŒæµ‹è¯•å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æµ‹è¯•æ•°æ®è¦†ç›–ä¸»è¦åœºæ™¯ï¼ŒåŒ…æ‹¬æ­£å¸¸ç±»å‹ï¼Œé”™è¯¯ç±»å‹ä»¥åŠè¾¹ç•Œç±»å‹ï¼Œå¹¶è¿›è¡Œåˆæ­¥çš„åˆ†ç±»åˆ†çº§ï¼Œæ»¡è¶³ä¸åŒæµ‹ã€‚è¯•ç±»å‹éœ€è¦ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å»ºç«‹ä½“ç³»åŒ–æµ‹è¯•æ•°æ®ï¼Œè¿›è¡Œæ•°æ®ä¾èµ–ç®¡ç†ï¼Œè¦†ç›–æ›´åŠ å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æµ‹è¯•æ•°æ®è¦†ç›–å®‰å…¨æ¼æ´å’Œå¼€æºåˆè§„ç­‰éœ€æ±‚åœºæ™¯å¹¶å»ºç«‹å®šæœŸæ›´æ–°æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„æŒç»­æ•°æ®ç®¡ç†æ–¹å¼å’Œç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;3ã€æ•°æ®ç‹¬ç«‹æ€§&lt;/p&gt;
&lt;p&gt;Â·       Aã€æµ‹è¯•æ•°æ®æ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶å’Œå¤‡ä»½æ¢å¤æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æµ‹è¯•æ•°æ®æœ‰æ˜ç¡®å¤‡ä»½æ¢å¤æœºåˆ¶ï¼Œå®ç°æµ‹è¯•æ•°æ®å¤ç”¨å’Œä¿è¯æµ‹è¯•ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‹¥æœ‰ä¸“å±çš„æµ‹è¯•æ•°æ®ï¼Œæœ‰æ˜ç¡®çš„æµ‹è¯•åˆå§‹çŠ¶æ€æµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œä¸ä¾èµ–å…¶ä»–æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œæ‰€ã€‚äº§ç”Ÿçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€é€šè¿‡æµ‹è¯•æ•°æ®åˆ†çº§ï¼Œå®ç°ä¸“å±æµ‹è¯•æ•°æ®å’Œé€šç”¨æµ‹è¯•æ•°æ®çš„æœ‰æ•ˆç®¡ç†å’Œçµæ´»ç»„åˆï¼Œä¿è¯æµ‹è¯•æ•°æ®çš„ç‹¬ç«‹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€é€šè¿‡æµ‹è¯•æ•°æ®åˆ†çº§ï¼Œå®ç°ä¸“å±æµ‹è¯•æ•°æ®å’Œé€šç”¨æµ‹è¯•æ•°æ®çš„æœ‰æ•ˆç®¡ç†å’Œçµæ´»ç»„åˆï¼Œä¿è¯æµ‹è¯•æ•°æ®çš„ç‹¬ç«‹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;4ã€æ•°æ®å®‰å…¨&lt;/p&gt;
&lt;p&gt;Â·       Aã€æµ‹è¯•æ•°æ®æ¥æºå¤æ‚ï¼Œæ··å…¥æ ¸å¿ƒç”Ÿäº§æ•°æ®ï¼Œå¸¦æ¥ä¿¡æ¯å®‰å…¨é£é™©&lt;/p&gt;
&lt;p&gt;Â·       Bã€æµ‹è¯•æ•°æ®ç»è¿‡æ¸…æ´—ï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œæœ‰æ•ˆé¿å…ä¿¡æ¯å®‰å…¨é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æµ‹è¯•æ•°æ®ç»è¿‡æ¸…æ´—ï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œæœ‰æ•ˆé¿å…ä¿¡æ¯å®‰å…¨é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æµ‹è¯•æ•°æ®ç»è¿‡æ¸…æ´—ï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œæœ‰æ•ˆé¿å…ä¿¡æ¯å®‰å…¨é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æµ‹è¯•æ•°æ®ç»è¿‡æ¸…æ´—ï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œæœ‰æ•ˆé¿å…ä¿¡æ¯å®‰å…¨é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;5ã€å˜æ›´è¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ•°æ®å˜æ›´ç”±ä¸“ä¸šäººå‘˜åœ¨åå°æ‰‹å·¥å®Œæˆ æ•°æ®å˜æ›´ä½œä¸ºè½¯ä»¶å‘å¸ƒçš„ä¸€ä¸ªç‹¬ç«‹ç¯èŠ‚ï¼Œå•ç‹¬å®æ–½å’Œäº¤ä»˜&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ•°æ®å˜æ›´é€šè¿‡æ–‡æ¡£å®ç°æ ‡å‡†åŒ–ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬å®Œæˆå˜æ›´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ•°æ®å˜æ›´ä½œä¸ºæŒç»­éƒ¨ç½²æµæ°´çº¿çš„ä¸€ä¸ªç¯èŠ‚ï¼Œéšåº”ç”¨çš„éƒ¨ç½²è‡ªåŠ¨åŒ–å®Œæˆï¼Œæ— éœ€ä¸“ä¸šäººå‘˜å•ç‹¬æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€åº”ç”¨ç¨‹åºéƒ¨ç½²å’Œæ•°æ®åº“è¿ç§»è§£è€¦ï¼Œå¯å•ç‹¬æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„æ•°æ®ç®¡ç†æ–¹æ³•ï¼ŒæŒç»­æ”¹è¿›æ•°æ®ç®¡ç†æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;6ã€å…¼å®¹å›æ»š&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ²¡æœ‰è¯†åˆ«æ•°æ®åº“å’Œåº”ç”¨ç‰ˆæœ¬ï¼Œå­˜åœ¨ä¸å…¼å®¹é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å»ºç«‹æ•°æ®åº“å’Œåº”ç”¨çš„ç‰ˆæœ¬å¯¹åº”å…³ç³»ï¼Œå¹¶è·Ÿè¸ªå˜æ›´æœ‰æ•ˆæ€§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ¯æ¬¡æ•°æ®å˜æ›´åŒæ—¶æä¾›æ˜ç¡®çš„æ¢å¤å›æ»šæœºåˆ¶ï¼Œå¹¶è¿›è¡Œå˜æ›´æµ‹è¯•ï¼Œå¦‚ï¼šæä¾›å‡çº§å’Œå›æ»šä¸¤ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ•°æ®å˜æ›´å…·å¤‡å‘ä¸‹å…¼å®¹æ€§ï¼Œæ”¯æŒä¿ç•™æ•°æ®çš„å›æ»šæ“ä½œå’Œé›¶åœæœºéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;7ã€ç‰ˆæœ¬æ§åˆ¶&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ•°æ®å˜æ›´æ²¡æœ‰çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå˜æ›´è¿‡ç¨‹ä¸å¯é‡å¤ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ•°æ®å˜æ›´è„šæœ¬çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå¹¶ä¸æ•°æ®åº“ç‰ˆæœ¬è¿›è¡Œå…³è”ã€‚&lt;/p&gt;
&lt;p&gt;8ã€æ•°æ®ç›‘æ§&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ²¡æœ‰å»ºç«‹å˜æ›´ç›‘æ§ä½“ç³»ï¼Œå˜æ›´ç»“æœä¸å¯è§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€å¯¹å˜æ›´æ—¥å¿—è¿›è¡Œæ”¶é›†åˆ†æï¼Œå¸®åŠ©é—®é¢˜å¿«é€Ÿå®šä½ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å¯¹æ•°æ®å˜æ›´è¿›è¡Œæµç¨‹åˆ†çº§å®šä¹‰ï¼Œåº”å¯¹ä¸åŒç¯å¢ƒä¸‹çš„é«˜å±æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¯¹æ•°æ®å˜æ›´è¿›è¡Œç›‘æ§ï¼Œè‡ªåŠ¨å‘ç°å¼‚å¸¸å˜æ›´çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€ç›‘æ§æ•°æ®åº“æ€§èƒ½å¹¶æŒç»­ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h2 id="_8"&gt;ï¼ˆå…«ï¼‰åº¦é‡ä¸åé¦ˆ&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€åº¦é‡æŒ‡æ ‡å®šä¹‰&lt;/p&gt;
&lt;p&gt;Â·       Aã€åº¦é‡æŒ‡æ ‡æ²¡æœ‰æ˜ç¡®å®šä¹‰ï¼Œå¯¹åº¦é‡ä»·å€¼çš„ç†è§£æ˜¯æ¨¡ç³Šçš„ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åœ¨æŒç»­äº¤ä»˜å„ä¸ªé˜¶æ®µå®šä¹‰åº¦é‡æŒ‡æ ‡ï¼Œåº¦é‡æŒ‡æ ‡å±€é™äºèŒèƒ½éƒ¨é—¨å†…éƒ¨ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å»ºç«‹è·¨ç»„ç»‡åº¦é‡æŒ‡æ ‡ï¼Œè¿›è¡Œè·¨é¢†åŸŸç»¼åˆç»´åº¦çš„åº¦é‡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ•´ä¸ªç ”å‘å›¢é˜Ÿå…±äº«ä¸šåŠ¡ä»·å€¼å¯¼å‘çš„åº¦é‡æŒ‡æ ‡ï¼Œå®ç°æŒ‡æ ‡çš„æŠ½è±¡åˆ†çº§ï¼Œå…³æ³¨æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„åº¦é‡æŒ‡æ ‡ï¼Œå›¢é˜Ÿè‡ªæˆ‘é©±åŠ¨æŒç»­æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p&gt;2ã€åº¦é‡æŒ‡æ ‡ç±»å‹&lt;/p&gt;
&lt;p&gt;Â·       Aã€åº¦é‡æŒ‡æ ‡ä»¥ç»“æœæŒ‡æ ‡ä¸ºä¸»ï¼Œå¦‚å˜æ›´é¢‘ç‡ï¼Œéœ€æ±‚äº¤ä»˜å‰ç½®æ—¶é—´ï¼Œå˜æ›´å¤±è´¥ç‡å’Œå¹³å‡ä¿®å¤æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åº¦é‡æŒ‡æ ‡è¦†ç›–è¿‡ç¨‹æŒ‡æ ‡ï¼Œå®¢è§‚åæ˜ ç»„ç»‡ç ”å‘ç°çŠ¶ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€åº¦é‡æŒ‡æ ‡è¦†ç›–æ¢ç´¢æ€§æŒ‡æ ‡ï¼Œå…³æ³¨å±•ç¤ºè¶‹åŠ¿å’Œè¯†åˆ«æ½œåœ¨æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ”¯æŒæ”¹è¿›ç›®æ ‡å’Œè¯•éªŒç»“æœçš„æœ‰æ•ˆåé¦ˆï¼Œç”¨äºç»éªŒç§¯ç´¯å’ŒæŒ‡å¯¼ä¸‹ä¸€é˜¶æ®µçš„æ”¹è¿›å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;3ã€åº¦é‡æ•°æ®ç®¡ç†&lt;/p&gt;
&lt;p&gt;Â·       Aã€åº¦é‡æ•°æ®æ˜¯ä¸´æ—¶æ€§çš„ï¼Œæ²¡æœ‰æ”¶é›†ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åº¦é‡æ•°æ®çš„æ”¶é›†æ˜¯ç¦»æ•£çš„ä¸è¿ç»­çš„ï¼Œå†å²åº¦é‡æ•°æ®æ²¡æœ‰è¿›è¡Œæœ‰æ•ˆç†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€åº¦é‡æ•°æ®çš„æ”¶é›†æ˜¯è¿ç»­çš„ï¼Œå†å²åº¦é‡æ•°æ®æœ‰æ˜ç¡®çš„ç®¡ç†è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€åº¦é‡æ•°æ®çš„æ”¶é›†æ˜¯è¿ç»­ä¸”ä¼˜åŒ–çš„ï¼Œå¯¹å†å²æ•°æ®æ•°æ®è¿›è¡Œæœ‰æ•ˆçš„æŒ–æ˜åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€åº¦é‡æ•°æ®çš„æ”¶é›†æ˜¯è¿ç»­ä¸”ä¼˜åŒ–çš„ï¼Œå¯¹å†å²æ•°æ®æ•°æ®è¿›è¡Œæœ‰æ•ˆçš„æŒ–æ˜åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;4ã€åº¦é‡æŒ‡æ ‡æ›´æ–°&lt;/p&gt;
&lt;p&gt;Â·       Aã€åº¦é‡æŒ‡æ ‡çš„è®¾ç«‹å’Œæ›´æ–°æ˜¯å›ºåŒ–çš„ï¼Œåº¦é‡æŒ‡æ ‡æ²¡æœ‰æ˜ç¡®çš„ä¼˜å…ˆçº§ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åº¦é‡æŒ‡æ ‡çš„è®¾ç«‹å’Œæ›´æ–°æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥æŒ‰ç…§ç»„ç»‡éœ€æ±‚å®šæœŸå˜æ›´ï¼Œåº¦é‡æŒ‡æ ‡çš„ä¼˜å…ˆçº§åœ¨å›¢é˜Ÿå†…éƒ¨å¯ä»¥è¾¾ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å»ºç«‹å®Œæ•´çš„åº¦é‡ä½“ç³»å’Œæˆç†Ÿçš„åº¦é‡æ¡†æ¶ï¼Œåº¦é‡æŒ‡æ ‡çš„è®¾ç«‹å’Œæ›´æ–°å¯æŒ‰éœ€å®ç°å¿«é€Ÿå®šä¹‰å¹¶çº³å…¥åº¦é‡ä½“ç³»ï¼Œæ¨åŠ¨æµç¨‹çš„æŒç»­æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€åº¦é‡æŒ‡æ ‡å¯åŸºäºå¤§æ•°æ®åˆ†æå’Œäººå·¥æ™ºèƒ½è‡ªåŠ¨è¯†åˆ«æ¨èï¼Œå¹¶ä¸”åŠ¨æ€è°ƒæ•´æŒ‡æ ‡ä¼˜å…ˆçº§ã€‚&lt;/p&gt;
&lt;p&gt;5ã€æŠ¥å‘Šç”Ÿæˆæ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€åº¦é‡æŠ¥å‘Šé€šè¿‡æ‰‹å·¥æ–¹å¼ç”Ÿæˆï¼Œæ²¡æœ‰æ ‡å‡†åŒ–çš„æ ¼å¼å®šä¹‰ï¼Œå†…å®¹ç¼ºä¹ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€åº¦é‡æŠ¥å‘Šä»¥è‡ªåŠ¨åŒ–æ–¹å¼ç”Ÿæˆï¼Œé€šè¿‡é¢„å®šä¹‰æ ¼å¼å’Œå†…å®¹æ ‡å‡†åŒ–åº¦é‡æŠ¥å‘Šã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€åº¦é‡æŠ¥å‘Šè¿›è¡Œåˆ†ç±»åˆ†çº§ï¼Œå»ºç«‹å¤šç§åº¦é‡åé¦ˆæ¸ é“ï¼Œå†…å®¹æŒ‰éœ€ç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å»ºç«‹è·¨ç»„ç»‡çº§ç»Ÿä¸€çš„æ•°æ®åº¦é‡å¹³å°ï¼Œæ•°æ®çœ‹æ¿å†…å®¹å¯å®šåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€æŒç»­ä¼˜åŒ–çš„åº¦é‡æ–¹æ³•ï¼Œå¹³å°å’Œå±•ç°å½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;6ã€æŠ¥å‘Šæœ‰æ•ˆæ€§&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ•°æ®æ—¶æ•ˆæ€§æ— æ³•ä¿è¯èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ•°æ®ä½“ç°æŠ¥å‘Šç”Ÿæˆæ—¶é—´ç‚¹çš„æœ€æ–°çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€é€šè¿‡å¯è§†åŒ–çœ‹æ¿å®æ—¶å±•ç¤ºæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€é€šè¿‡å¯è§†åŒ–çœ‹æ¿èšåˆæŠ¥å‘Šå†…å®¹ï¼Œè‡ªåŠ¨ç”Ÿæˆè¶‹åŠ¿å›¾ï¼Œè¿›è¡Œè¶‹åŠ¿åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€é€šè¿‡å¯è§†åŒ–çœ‹æ¿èšåˆæŠ¥å‘Šå†…å®¹ï¼Œè‡ªåŠ¨ç”Ÿæˆè¶‹åŠ¿å›¾ï¼Œè¿›è¡Œè¶‹åŠ¿åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;7ã€æŠ¥å‘Šè¦†ç›–èŒƒå›´&lt;/p&gt;
&lt;p&gt;Â·       Aã€å—ä¼—å±€é™äºæŠ¥å‘Šç”Ÿæˆäººå‘˜åŠç›¸å…³çš„å°èŒƒå›´å†…éƒ¨ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€ç”±é¢„å…ˆå®šä¹‰çš„äº‹ä»¶è§¦å‘è‡ªåŠ¨åŒ–æŠ¥å‘Šå‘é€ï¼Œå—ä¼—è¦†ç›–å›¢é˜Ÿå†…éƒ¨æˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€å®ç°æŠ¥å‘Šç²¾å‡†èŒƒå›´æ¨é€ï¼Œæ”¯æŒä¸»åŠ¨è®¢é˜…ï¼Œå—ä¼—è¦†ç›–è·¨éƒ¨é—¨å›¢é˜Ÿã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¤šç»´åº¦äº§å“çŠ¶æ€å®æ—¶ä¿¡æ¯å±•ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€å¤šç»´åº¦äº§å“çŠ¶æ€å®æ—¶ä¿¡æ¯å±•ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;8ã€åé¦ˆæ”¹è¿›&lt;/p&gt;
&lt;p&gt;Â·       Aã€æŠ¥å‘Šå‘ç°çš„é—®é¢˜æ²¡æœ‰è¿›è¡Œæœ‰æ•ˆè·Ÿè¸ªè½å®ï¼Œé—®é¢˜é•¿æœŸæ— æ³•æ”¹è¿›ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æµ‹è¯•æŠ¥å‘Šä¸­åé¦ˆçš„é—®é¢˜å½•å…¥é—®é¢˜è¿½è¸ªç³»ç»Ÿï¼Œè¿›è¡ŒæŒç»­è·Ÿè¸ªã€‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€åº¦é‡åé¦ˆé—®é¢˜çº³å…¥ç ”å‘è¿­ä»£çš„å¾…åŠäº‹é¡¹ï¼Œä½œä¸ºæŒç»­æ”¹è¿›çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€åº¦é‡åé¦ˆçš„æŒç»­æ”¹è¿›çº³å…¥ç ”å‘æ—¥å¸¸å·¥ä½œï¼Œé¢„ç•™æ—¶é—´å¤„ç†éåŠŸèƒ½æ€§éœ€æ±‚å’ŒæŠ€æœ¯å€ºåŠ¡ï¼Œå¹¶ä¸”è¯†åˆ«æœ‰æ•ˆæ”¹è¿›å¹¶æ‰©å±•åˆ°æ•´ä¸ªç»„ç»‡ï¼Œä½œä¸ºä¼ä¸šçº§çŸ¥è¯†ä½“ç³»ç§¯ç´¯ä¿ç•™ã€‚&lt;/p&gt;
&lt;p&gt;Â·       Eã€é€šè¿‡æ•°æ®æŒ–æ˜å®ç°è·¨ç»„ç»‡è·¨æµç¨‹æ•°æ®åº¦é‡åˆ†æï¼Œåˆ†æç»“æœä½œä¸ºä¸šåŠ¡å†³ç­–çš„é‡è¦ä¾æ®ï¼Œå¸®åŠ©ç»„ç»‡æŒç»­æ”¹è¿›ä»·å€¼äº¤ä»˜æµç¨‹ã€‚&lt;/p&gt;
&lt;h2 id="_9"&gt;ï¼ˆä¹ï¼‰åˆ†å¸ƒå¼åº”ç”¨æ¶æ„&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1ã€åˆ†å¸ƒå¼åº”ç”¨æ•°é‡&lt;/p&gt;
&lt;p&gt;Â·       Aã€20ä¸ªä»¥ä¸Š&lt;/p&gt;
&lt;p&gt;Â·       Bã€10~20ä¸ª&lt;/p&gt;
&lt;p&gt;Â·       Cã€5~10ä¸ª&lt;/p&gt;
&lt;p&gt;Â·       Dã€5ä¸ªä»¥ä¸‹&lt;/p&gt;
&lt;p&gt;2ã€å®æ–½è®¡åˆ’&lt;/p&gt;
&lt;p&gt;Â·       Aã€å¤§è§„æ¨¡è¿ç§»&lt;/p&gt;
&lt;p&gt;Â·       Bã€ä¿æŒç°çŠ¶&lt;/p&gt;
&lt;p&gt;Â·       Cã€å¯èƒ½å›é€€&lt;/p&gt;
&lt;p&gt;3ã€æŠ€æœ¯æˆç†Ÿåº¦&lt;/p&gt;
&lt;p&gt;Â·       Aã€ç¨³å®šè¿è¡Œ&lt;/p&gt;
&lt;p&gt;Â·       Bã€åŸºæœ¬æˆç†Ÿ&lt;/p&gt;
&lt;p&gt;Â·       Cã€å‰æœŸæ¢ç´¢&lt;/p&gt;
&lt;p&gt;Â·       Dã€ç ”ç©¶é˜¶æ®µ&lt;/p&gt;
&lt;p&gt;4ã€äº‘æŠ€æœ¯&lt;/p&gt;
&lt;p&gt;Â·       Aã€è™šæ‹ŸåŒ–&lt;/p&gt;
&lt;p&gt;Â·       Bã€å®¹å™¨(K8Sã€MESOSç­‰)&lt;/p&gt;
&lt;p&gt;Â·       Cã€ç‰©ç†æœº&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¤–éƒ¨éƒ¨ç½²&lt;/p&gt;
&lt;p&gt;5ã€ç®¡ç†å·¥å…·&lt;/p&gt;
&lt;p&gt;Â·       Aã€openstackç³»åˆ—&lt;/p&gt;
&lt;p&gt;Â·       Bã€openshiftç³»åˆ—&lt;/p&gt;
&lt;p&gt;Â·       Cã€å…¶ä»–&lt;/p&gt;
&lt;p&gt;5ã€æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;Â·       Aã€UNIXæ•°æ®åº“&lt;/p&gt;
&lt;p&gt;Â·       Bã€Linuxå•†ä¸šæ•°æ®åº“&lt;/p&gt;
&lt;p&gt;Â·       Cã€å¼€æºåˆ†å¸ƒå¼æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;Â·       Dã€å¼€æºå•æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;6ã€å¾®æœåŠ¡æ¡†æ¶&lt;/p&gt;
&lt;p&gt;Â·       Aã€dobbo/dobbox&lt;/p&gt;
&lt;p&gt;Â·       Bã€spring cloud&lt;/p&gt;
&lt;p&gt;Â·       Cã€éƒ½ç”¨&lt;/p&gt;
&lt;p&gt;Â·       Dã€å…¶ä»–&lt;/p&gt;
&lt;p&gt;7ã€å¼€å‘&lt;/p&gt;
&lt;p&gt;Â·       Aã€å®Œå…¨æ•æ·&lt;/p&gt;
&lt;p&gt;Â·       Bã€éƒ¨åˆ†æ•æ·&lt;/p&gt;
&lt;p&gt;Â·       Cã€ä¼ ç»Ÿæ–¹æ³•&lt;/p&gt;
&lt;p&gt;8ã€è‡ªåŠ¨åŒ–æµ‹è¯•&lt;/p&gt;
&lt;p&gt;Â·       Aã€å®Œæ•´å•å…ƒæµ‹è¯•&lt;/p&gt;
&lt;p&gt;Â·       Bã€éƒ¨åˆ†å•å…ƒæµ‹è¯•&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ— å•å…ƒæµ‹è¯•&lt;/p&gt;
&lt;p&gt;9ã€éƒ¨ç½²ç­–ç•¥&lt;/p&gt;
&lt;p&gt;Â·       Aã€ç°åº¦éƒ¨ç½²&lt;/p&gt;
&lt;p&gt;Â·       Bã€è“ç»¿éƒ¨ç½²&lt;/p&gt;
&lt;p&gt;Â·       Cã€ABéƒ¨ç½²&lt;/p&gt;
&lt;p&gt;Â·       Dã€ç›´æ¥æ›¿æ¢&lt;/p&gt;
&lt;p&gt;10ã€éƒ¨ç½²å·¥å…·&lt;/p&gt;
&lt;p&gt;Â·       Aã€SSH&lt;/p&gt;
&lt;p&gt;Â·       Bã€SALT&lt;/p&gt;
&lt;p&gt;Â·       Cã€å®¹å™¨ç¼–æ’å·¥å…·&lt;/p&gt;
&lt;p&gt;Â·       Dã€å…¶ä»–&lt;/p&gt;
&lt;p&gt;11ã€å›æ»šç­–ç•¥&lt;/p&gt;
&lt;p&gt;Â·       Aã€è‡ªåŠ¨å›æ»š&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ‰‹å·¥å›æ»š&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ— å›æ»šç­–ç•¥&lt;/p&gt;
&lt;p&gt;12ã€å¼¹æ€§éƒ¨ç½²&lt;/p&gt;
&lt;p&gt;Â·       Aã€è‡ªåŠ¨æ‰©å®¹&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ‰‹å·¥æ‰©å®¹&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ— æ³•æ‰©å®¹&lt;/p&gt;
&lt;p&gt;13ã€éƒ¨ç½²å¯¹è±¡&lt;/p&gt;
&lt;p&gt;Â·       Aã€docker&lt;/p&gt;
&lt;p&gt;Â·       Bã€war&lt;/p&gt;
&lt;p&gt;Â·       Cã€å…¶ä»–&lt;/p&gt;
&lt;p&gt;14ã€éƒ¨ç½²æ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€è™šæ‹ŸåŒ–+docker&lt;/p&gt;
&lt;p&gt;Â·       Bã€è™šæ‹ŸåŒ–+war&lt;/p&gt;
&lt;p&gt;Â·       Cã€å®¹å™¨+docker&lt;/p&gt;
&lt;p&gt;15ã€éƒ¨ç½²æ•°é‡&lt;/p&gt;
&lt;p&gt;Â·       Aã€1000+&lt;/p&gt;
&lt;p&gt;Â·       Bã€500~1000&lt;/p&gt;
&lt;p&gt;Â·       Cã€100~500&lt;/p&gt;
&lt;p&gt;Â·       Dã€100ä»¥ä¸‹&lt;/p&gt;
&lt;p&gt;16ã€æ›´æ–°é¢‘ç‡&lt;/p&gt;
&lt;p&gt;Â·       Aã€æœˆæ›´æ–°&lt;/p&gt;
&lt;p&gt;Â·       Bã€å‘¨æ›´æ–°&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ—¥æ›´æ–°&lt;/p&gt;
&lt;p&gt;Â·       Dã€æ¯æ—¥å¤šæ¬¡&lt;/p&gt;
&lt;p&gt;17ã€æ›´æ–°æ–¹å¼&lt;/p&gt;
&lt;p&gt;Â·       Aã€å…¨é‡æ›´æ–°&lt;/p&gt;
&lt;p&gt;Â·       Bã€å±€éƒ¨æ›´æ–°&lt;/p&gt;
&lt;p&gt;18ã€éƒ¨ç½²å·¥ä½œé‡&lt;/p&gt;
&lt;p&gt;Â·       Aã€æ¯”ä»¥å‰å¤æ‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€è¾ƒä»¥å‰ç®€å•&lt;/p&gt;
&lt;p&gt;Â·       Cã€éå¸¸ç®€å•&lt;/p&gt;
&lt;p&gt;Â·       Dã€å‡ ä¹è‡ªåŠ¨åŒ–&lt;/p&gt;
&lt;p&gt;19ã€æœ€å¤§éšœç¢&lt;/p&gt;
&lt;p&gt;Â·       Aã€åˆ†æå¤æ‚&lt;/p&gt;
&lt;p&gt;Â·       Bã€æŠ€æœ¯å¤æ‚&lt;/p&gt;
&lt;p&gt;Â·       Cã€è¿ç»´å¤æ‚&lt;/p&gt;
&lt;p&gt;Â·       Dã€æˆæœ¬æé«˜&lt;/p&gt;
&lt;p&gt;Â·       Eã€å…¶ä»–&lt;/p&gt;
&lt;p&gt;20ã€ç»¼åˆæ•ˆæœ&lt;/p&gt;
&lt;p&gt;Â·       Aã€ä¸æ˜æ˜¾&lt;/p&gt;
&lt;p&gt;Â·       Bã€æ˜æ˜¾æé«˜&lt;/p&gt;
&lt;p&gt;Â·       Cã€æ•ˆæœå˜å·®&lt;/p&gt;
&lt;p&gt;Â·       Dã€éƒ¨åˆ†æé«˜&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸ªäººæŠ€æœ¯åˆ†äº«</dc:creator><pubDate>Sat, 30 Mar 2019 19:43:07 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-30:/devops-questionnaire.html</guid><category>DevOps</category></item><item><title>è‹¹æœATSåˆè§„å¯¹WebæœåŠ¡å™¨çš„å½±å“</title><link>https://www.EWhisper.cn/apple-ats-effect-on-web-server.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;ä¸€ å‰è¨€&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#11-ats"&gt;1.1 ATSè¦æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;äºŒ æ£€æŸ¥é¡¹&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#21-apache"&gt;2.1 Apache æ£€æŸ¥é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#22-nginx"&gt;2.2 NGINXæ£€æŸ¥é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#23-weblogic"&gt;2.3 WebLogic æ£€æŸ¥é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;ä¸‰ ä¿®æ”¹é…ç½®é¡¹&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#31-apache"&gt;3.1 Apache é…ç½®é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#32-nginx"&gt;3.2 NGINX é…ç½®é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#33-weblogic"&gt;3.3 WebLogic é…ç½®é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å›› æ³¨æ„é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;ä¸€ å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æ˜¯åœ¨å¤ªå¹³ä¿é™©æœŸé—´, æˆ‘å’ŒåŒæ—¶Huang Wentaoä¸€èµ·æ”¶é›†èµ„æ–™å¹¶å®éªŒååä½œå®Œæˆçš„.&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å†™äº2å¹´å‰, æ—¶è‡³ä»Šæ—¥å¯èƒ½è§„èŒƒ, è½¯ä»¶ç‰ˆæœ¬æˆ–é…ç½®é¡¹éƒ½å‘ç”Ÿå˜åŒ–. å¦‚æœè¦åº”ç”¨, è¯·åº”ç”¨å‰è¿›è¡Œå®Œå–„æµ‹è¯•.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="11-ats"&gt;1.1 ATSè¦æ±‚&lt;a class="headerlink" href="#11-ats" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åå•†çš„ä¼ è¾“å±‚å®‰å…¨ï¼ˆTLSï¼‰ç‰ˆæœ¬å¿…é¡»ä¸ºTLS 1.2;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿æ¥å¿…é¡»ä½¿ç”¨AES-128æˆ–AES-256å¯¹ç§°å¯†ç ï¼Œåå•†çš„ç§˜é’¥äº¤æ¢åè®®å¿…é¡»æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&lt;/li&gt;
&lt;li&gt;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Leaf serverï¼ˆè®¾å¤‡æœåŠ¡å™¨ï¼‰è¯ä¹¦å¿…é¡»ä½¿ç”¨ä»¥ä¸‹ç±»å‹çš„å¯†é’¥ä¹‹ä¸€ç­¾å&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Rivest-Shamir-Adleman (RSA)ç§˜é’¥ï¼Œé•¿åº¦è‡³å°‘ä¸º2048ä½&lt;/li&gt;
&lt;li&gt;Elliptic-Curve Cryptography (ECC) ç§˜é’¥ï¼Œé•¿åº¦è‡³å°‘ä¸º256ä½&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ï¼Œleaf serverè¯ä¹¦æ•£åˆ—ç®—æ³•å¿…é¡»æ˜¯å…·æœ‰è‡³å°‘256ï¼ˆå³SHA-256æˆ–æ›´å¤§ï¼‰çš„æ‘˜è¦é•¿åº¦ï¼ˆæœ‰æ—¶ç§°ä¸ºâ€œæŒ‡çº¹â€ï¼‰çš„å®‰å…¨æ•£åˆ—ç®—æ³•2ï¼ˆSHA-2ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_2"&gt;äºŒ æ£€æŸ¥é¡¹&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="21-apache"&gt;2.1 Apache æ£€æŸ¥é¡¹&lt;a class="headerlink" href="#21-apache" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;OpenSSLç‰ˆæœ¬: éœ€è¦å¤§äº &lt;a href="https://www.openssl.org/news/changelog.txt"&gt;1.0.1&lt;/a&gt; (OpenSSLä»1.0.1ä»¥åå¼€å§‹æ”¯æŒTLS 1.2)&lt;/li&gt;
&lt;li&gt;å½“å‰åŠ å¯†å¥—ä»¶ä½¿ç”¨çš„å¯†é’¥äº¤æ¢åè®®.&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹å½“å‰åŠ å¯†å¥—ä»¶æ”¯æŒçš„åè®®. è¦ä¿è¯æ”¯æŒçš„åè®®ä¸­æœ‰ä»¥ä¸ŠATS ä¸­æ‰€è¦æ±‚çš„.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“å‰å¯†é’¥é•¿åº¦/æŒ‡çº¹ç®—æ³•æ˜¯å¦æ»¡è¶³:&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯RSAå¯†é’¥, åˆ™è‡³å°‘è¦ä¸º2048ä½;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯ECCå¯†é’¥, åˆ™è‡³å°‘ä¸º256ä½.&lt;/li&gt;
&lt;li&gt;æŒ‡çº¹å®‰å…¨æ•£åˆ—ç®—æ³•è¦ä¸º SHA-2&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Apacheç‰ˆæœ¬:&lt;ol&gt;
&lt;li&gt;&lt;a href="http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/CHANGES"&gt;Apache 2.2.23&lt;/a&gt; æˆ–&lt;a href="http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/CHANGES"&gt;2.4.0&lt;/a&gt; ä»¥ä¸Šç‰ˆæœ¬éƒ½æ˜¯æ”¯æŒçš„.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="22-nginx"&gt;2.2 NGINXæ£€æŸ¥é¡¹&lt;a class="headerlink" href="#22-nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;OpenSSL ç‰ˆæœ¬: éœ€è¦å¤§äº1.0.1&lt;/li&gt;
&lt;li&gt;å½“å‰åŠ å¯†å¥—ä»¶ä½¿ç”¨çš„å¯†é’¥äº¤æ¢åè®®.&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹å½“å‰åŠ å¯†å¥—ä»¶æ”¯æŒçš„åè®®. è¦ä¿è¯æ”¯æŒçš„åè®®ä¸­æœ‰ä»¥ä¸ŠATS ä¸­æ‰€è¦æ±‚çš„.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“å‰å¯†é’¥é•¿åº¦/æŒ‡çº¹ç®—æ³•æ˜¯å¦æ»¡è¶³:&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯RSAå¯†é’¥, åˆ™è‡³å°‘è¦ä¸º2048ä½;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯ECCå¯†é’¥, åˆ™è‡³å°‘ä¸º256ä½.&lt;/li&gt;
&lt;li&gt;æŒ‡çº¹å®‰å…¨æ•£åˆ—ç®—æ³•è¦ä¸º SHA-2&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;NGINXç‰ˆæœ¬: å»ºè®®ä½¿ç”¨&lt;a href="http://nginx.org/en/CHANGES-1.12"&gt;1.1.13&lt;/a&gt;ä»¥ä¸Šç‰ˆæœ¬.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="23-weblogic"&gt;2.3 WebLogic æ£€æŸ¥é¡¹&lt;a class="headerlink" href="#23-weblogic" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;JDKç‰ˆæœ¬: éœ€è¦ç‰ˆæœ¬ä¸ºJDK 7 ä»¥ä¸Š.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;ä¸‰ ä¿®æ”¹é…ç½®é¡¹&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;é™¤äº†ä»¥ä¸Šæ£€æŸ¥é¡¹ä¸­ç‰ˆæœ¬ä¸ç¬¦åˆçš„éœ€è¦å‡çº§ã€è¯ä¹¦çš„ç®—æ³•ã€ç§˜é’¥é•¿åº¦éœ€è¦è¾¾åˆ°è¦æ±‚å¤–ï¼Œè¿˜æœ‰å…¶ä»–é…ç½®é¡¹è¦è¿›è¡Œé…ç½®.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="31-apache"&gt;3.1 Apache é…ç½®é¡¹&lt;a class="headerlink" href="#31-apache" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç¤ºä¾‹: Apacheç‰ˆæœ¬2.2.23(~~å¾…ç¡®å®š~~)ï¼ŒOpenSSLç‰ˆæœ¬1.0.1e. (æœ€å¤§å…¼å®¹æ€§é…ç½®)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class="err"&gt;*:443&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    ...
    SSLEngine on
    SSLCertificateFile      /path/to/signed_certificate
    SSLCertificateChainFile /path/to/intermediate_certificate
    SSLCertificateKeyFile   /path/to/private/key

    # Uncomment the following directive when using client certificate authentication
    #SSLCACertificateFile    /path/to/ca_certs_for_client_authentication


    # HSTS (mod_headers is required) (15768000 seconds = 6 months)
    Header always set Strict-Transport-Security &amp;quot;max-age=15768000&amp;quot;
    ...
&lt;span class="nt"&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;

# old configuration, tweak to your needs
SSLProtocol             all -SSLv2
SSLCipherSuite          ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:DES-CBC3-SHA:HIGH:SEED:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!RSAPSK:!aDH:!aECDH:!EDH-DSS-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA:!SRP
SSLHonorCipherOrder     on
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="32-nginx"&gt;3.2 NGINX é…ç½®é¡¹&lt;a class="headerlink" href="#32-nginx" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼šNginxç‰ˆæœ¬1.11.0ï¼ŒOpenSSLç‰ˆæœ¬1.0.1e (æœ€å¤§å…¼å®¹æ€§é…ç½®)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="s"&gt;[::]:80&lt;/span&gt; &lt;span class="s"&gt;default_server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# Redirect all HTTP requests to HTTPS with a 301 Moved Permanently response.&lt;/span&gt;
    &lt;span class="kn"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;301&lt;/span&gt; &lt;span class="s"&gt;https://&lt;/span&gt;&lt;span class="nv"&gt;$host$request_uri&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="mi"&gt;443&lt;/span&gt; &lt;span class="s"&gt;ssl&lt;/span&gt; &lt;span class="s"&gt;http2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;listen&lt;/span&gt; &lt;span class="s"&gt;[::]:443&lt;/span&gt; &lt;span class="s"&gt;ssl&lt;/span&gt; &lt;span class="s"&gt;http2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# certs sent to the client in SERVER HELLO are concatenated in ssl_certificate&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_certificate&lt;/span&gt; &lt;span class="s"&gt;/path/to/signed_cert_plus_intermediates&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="s"&gt;/path/to/private_key&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_session_timeout&lt;/span&gt; &lt;span class="s"&gt;1d&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_session_cache&lt;/span&gt; &lt;span class="s"&gt;shared:SSL:50m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_session_tickets&lt;/span&gt; &lt;span class="no"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# Diffie-Hellman parameter for DHE ciphersuites, recommended 2048 bits&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_dhparam&lt;/span&gt; &lt;span class="s"&gt;/path/to/dhparam.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# old configuration. tweak to your needs.&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_protocols&lt;/span&gt; &lt;span class="s"&gt;SSLv3&lt;/span&gt; &lt;span class="s"&gt;TLSv1&lt;/span&gt; &lt;span class="s"&gt;TLSv1.1&lt;/span&gt; &lt;span class="s"&gt;TLSv1.2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_ciphers&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:DES-CBC3-SHA:HIGH:SEED:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!RSAPSK:!aDH:!aECDH:!EDH-DSS-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA:!SRP&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)&lt;/span&gt;
    &lt;span class="kn"&gt;add_header&lt;/span&gt; &lt;span class="s"&gt;Strict-Transport-Security&lt;/span&gt; &lt;span class="s"&gt;max-age=15768000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;# OCSP Stapling ---&lt;/span&gt;
    &lt;span class="c1"&gt;# fetch OCSP records from URL in ssl_certificate and cache them&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_stapling&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_stapling_verify&lt;/span&gt; &lt;span class="no"&gt;on&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;## verify chain of trust of OCSP response using Root CA and Intermediate certs&lt;/span&gt;
    &lt;span class="kn"&gt;ssl_trusted_certificate&lt;/span&gt; &lt;span class="s"&gt;/path/to/root_CA_cert_plus_intermediates&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kn"&gt;resolver&lt;/span&gt; &lt;span class="s"&gt;&amp;lt;IP&lt;/span&gt; &lt;span class="s"&gt;DNS&lt;/span&gt; &lt;span class="s"&gt;resolver&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kn"&gt;....&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="33-weblogic"&gt;3.3 WebLogic é…ç½®é¡¹&lt;a class="headerlink" href="#33-weblogic" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;éœ€è¦åœ¨Oracleå®˜ç½‘ä¸‹è½½java 7ç›¸å…³çš„policyfile&lt;br&gt;
è§£å‹åï¼Œæ›¿æ¢&lt;code&gt;JAVA_HOME/jre/lib/security&lt;/code&gt;ä¸‹çš„&lt;code&gt;local_policy.jar&lt;/code&gt;ã€&lt;code&gt;US_export_policy.jar&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id="_4"&gt;å›› æ³¨æ„é¡¹&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;å‡çº§OpenSSLï¼Œå¯èƒ½ä¼šå½±å“sftpã€sshç­‰å’Œsslæœ‰å…³çš„åè®®ï¼Œéœ€è°¨æ…æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;è€ƒè™‘åˆ°æ—§çš„sslç‰ˆæœ¬æ¼æ´ï¼Œä»¥åŠå…¼å®¹æ€§ï¼Œå»ºè®®éƒ½è¦ç¦ç”¨æ‰ssl V2åŠä»¥ä¸‹ç‰ˆæœ¬åè®®ã€‚(æœ€æ–°çš„å»ºè®®æ˜¯SSL v3ä¹Ÿç¦ç”¨)&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Sat, 30 Mar 2019 19:37:41 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-30:/apple-ats-effect-on-web-server.html</guid><category>ATS</category><category>apple</category><category>ssl</category><category>nginx</category><category>apache</category><category>tls</category><category>openssl</category></item><item><title>ä½¿ç”¨ Ansible æ‰¹é‡ç®¡ç† Windows</title><link>https://www.EWhisper.cn/use-ansible-manage-multi-windows.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;å®‰è£…æŒ‡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;æœåŠ¡å™¨ç«¯çš„è¦æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible"&gt;æœåŠ¡å™¨ç«¯å®‰è£…Ansible&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#windows"&gt;Windows æŒ‡å—&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#windows_1"&gt;è®¾ç½®Windowsä¸»æœº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansiblewindows"&gt;AnsibleæœåŠ¡å™¨ç«¯é…ç½®å¹¶ç®¡ç†Windows&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#ping-windows"&gt;ping è¿œç¨‹windowsä¸»æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;åˆ›å»ºç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;ä¸‹å‘æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;åˆ é™¤æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;åˆ é™¤ç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cmd"&gt;æ‰§è¡Œcmdå‘½ä»¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#windows_2"&gt;é‡å¯windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;åˆ›å»ºç”¨æˆ·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#windows_3"&gt;windowsæœåŠ¡ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Ansibleæ˜¯è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼ŒåŸºäºPythonå¼€å‘ï¼Œå®ç°äº†æ‰¹é‡ç³»ç»Ÿé…ç½®ã€æ‰¹é‡ç¨‹åºéƒ¨ç½²ã€æ‰¹é‡è¿è¡Œå‘½ä»¤ç­‰åŠŸèƒ½ã€‚Ansibleæ˜¯åŸºäºæ¨¡å—(module)å’Œå‰§æœ¬(playbook)å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;å®‰è£…æŒ‡å—&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ¬¡åœ¨Ubuntuä¸Šå®‰è£…Ansible 2.7 . æ›´è¯¦ç»†å®‰è£…æ–¹å¼å‚è§: &lt;a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html"&gt;Ansible å®‰è£…æŒ‡å—&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_3"&gt;æœåŠ¡å™¨ç«¯çš„è¦æ±‚&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç›®å‰Ansibleå¯ä»¥ä»å®‰è£…äº†Python 2ï¼ˆ2.7ç‰ˆï¼‰æˆ–Python 3ï¼ˆ3.5åŠæ›´é«˜ç‰ˆæœ¬ï¼‰çš„ä»»ä½•æœºå™¨ä¸Šè¿è¡Œã€‚æ§åˆ¶è®¡ç®—æœº&lt;strong&gt;ä¸æ”¯æŒWindows&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™åŒ…æ‹¬Red Hatï¼ŒDebianï¼ŒCentOSï¼ŒmacOSï¼Œä»»ä½•BSDç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h3 id="ansible"&gt;æœåŠ¡å™¨ç«¯å®‰è£…Ansible&lt;a class="headerlink" href="#ansible" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;é€šè¿‡Apt (Ubuntu)å®‰è£…æœ€æ–°ç‰ˆæœ¬&lt;/h4&gt;
&lt;p&gt;è¿™é‡Œæœ‰&lt;a href="https://launchpad.net/~ansible/+archive/ubuntu/ansible"&gt;ä¸€ä¸ªPPA&lt;/a&gt;ç‰ˆæœ¬çš„Ubuntuæºã€‚&lt;/p&gt;
&lt;p&gt;è¦åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šé…ç½®PPAå¹¶å®‰è£…ansibleï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get update
sudo apt-get install software-properties-common
sudo apt-add-repository --yes --update ppa:ansible/ansible
sudo apt-get install ansible
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;æ³¨æ„:&lt;/p&gt;
&lt;p&gt;åœ¨è¾ƒæ—§çš„Ubuntuå‘è¡Œç‰ˆä¸­ï¼Œâ€œsoftware-properties-commonâ€è¢«ç§°ä¸ºâ€œpython-software-propertiesâ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="windows"&gt;Windows æŒ‡å—&lt;a class="headerlink" href="#windows" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="windows_1"&gt;è®¾ç½®Windowsä¸»æœº&lt;a class="headerlink" href="#windows_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;ä¸»æœºè¦æ±‚&lt;/h4&gt;
&lt;p&gt;è¦ä½¿Ansibleä¸Windowsä¸»æœºé€šä¿¡å¹¶ä½¿ç”¨Windowsæ¨¡å—ï¼ŒWindowsä¸»æœºå¿…é¡»æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ansibleæ”¯æŒçš„Windowsç‰ˆæœ¬é€šå¸¸ä¸Microsoftå½“å‰å’Œæ‰©å±•æ”¯æŒä¸‹çš„ç‰ˆæœ¬ç›¸åŒ¹é…ã€‚æ”¯æŒçš„æ¡Œé¢æ“ä½œç³»ç»ŸåŒ…æ‹¬&lt;strong&gt;Windows 7,8.1å’Œ10&lt;/strong&gt;ï¼Œå—æ”¯æŒçš„æœåŠ¡å™¨æ“ä½œç³»ç»ŸåŒ…æ‹¬&lt;strong&gt;Windows Server 2008,2008 R2,2012,2012 R2å’Œ2016&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Ansibleéœ€è¦&lt;strong&gt;PowerShell 3.0&lt;/strong&gt;æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå¹¶ä¸”è‡³å°‘è¦åœ¨Windowsä¸»æœºä¸Šå®‰è£…&lt;strong&gt;.NET 4.0&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åº”åˆ›å»ºå¹¶æ¿€æ´»&lt;strong&gt;WinRM listener &lt;/strong&gt;ã€‚æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;æ³¨æ„:&lt;/p&gt;
&lt;p&gt;è™½ç„¶è¿™äº›æ˜¯Ansibleè¿æ¥çš„åŸºæœ¬è¦æ±‚ï¼Œä½†æ˜¯ä¸€äº›Ansibleæ¨¡å—è¿˜æœ‰å…¶ä»–è¦æ±‚ï¼Œä¾‹å¦‚è¾ƒæ–°çš„OSæˆ–PowerShellç‰ˆæœ¬ã€‚è¯·å‚é˜…æ¨¡å—çš„æ–‡æ¡£é¡µé¢ä»¥ç¡®å®šä¸»æœºæ˜¯å¦æ»¡è¶³è¿™äº›è¦æ±‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;å‡çº§PowerShellå’Œ.NETæ¡†æ¶&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å‡çº§powershelléœ€è¦&lt;strong&gt;é‡å¯æœåŠ¡å™¨&lt;/strong&gt;æ‰èƒ½ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ansibleéœ€è¦PowerShell 3.0ç‰ˆå’Œ.NET Framework 4.0æˆ–æ›´é«˜ç‰ˆæœ¬æ‰èƒ½åœ¨è¾ƒæ—§çš„æ“ä½œç³»ç»Ÿï¼ˆå¦‚Server 2008å’ŒWindows 7ï¼‰ä¸Šè¿è¡Œã€‚åŸºæœ¬OSé•œåƒä¸ç¬¦åˆæ­¤è¦æ±‚ã€‚æ‚¨å¯ä»¥ä½¿ç”¨&lt;a href="https://github.com/jborean93/ansible-windows/blob/master/scripts/Upgrade-PowerShell.ps1"&gt;Upgrade-PowerShell.ps1&lt;/a&gt;è„šæœ¬æ¥æ›´æ–°è¿™äº›è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å¦‚ä½•ä»PowerShellè¿è¡Œæ­¤è„šæœ¬çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://raw.githubusercontent.com/jborean93/ansible-windows/master/scripts/Upgrade-PowerShell.ps1&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$env:temp\Upgrade-PowerShell.ps1&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$username&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Administrator&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$password&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Password&amp;quot;&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;New-Object&lt;/span&gt; &lt;span class="n"&gt;-TypeName&lt;/span&gt; &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Net&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WebClient&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;DownloadFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;Set-ExecutionPolicy&lt;/span&gt; &lt;span class="n"&gt;-ExecutionPolicy&lt;/span&gt; &lt;span class="n"&gt;Unrestricted&lt;/span&gt; &lt;span class="n"&gt;-Force&lt;/span&gt;

&lt;span class="c"&gt;# version can be 3.0, 4.0 or 5.1&lt;/span&gt;
&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="n"&gt;-Version&lt;/span&gt; &lt;span class="n"&gt;5&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;1&lt;/span&gt; &lt;span class="n"&gt;-Username&lt;/span&gt; &lt;span class="nv"&gt;$username&lt;/span&gt; &lt;span class="n"&gt;-Password&lt;/span&gt; &lt;span class="nv"&gt;$password&lt;/span&gt; &lt;span class="n"&gt;-Verbose&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®Œæˆåï¼Œæ‚¨å°†éœ€è¦åˆ é™¤è‡ªåŠ¨ç™»å½•å¹¶å°†æ‰§è¡Œç­–ç•¥è®¾ç½®å›é»˜è®¤å€¼&lt;code&gt;Restricted&lt;/code&gt;ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹PowerShellå‘½ä»¤æ‰§è¡Œæ­¤æ“ä½œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# this isn&amp;#39;t needed but is a good security practice to complete&lt;/span&gt;
&lt;span class="nb"&gt;Set-ExecutionPolicy&lt;/span&gt; &lt;span class="n"&gt;-ExecutionPolicy&lt;/span&gt; &lt;span class="n"&gt;Restricted&lt;/span&gt; &lt;span class="n"&gt;-Force&lt;/span&gt;

&lt;span class="nv"&gt;$reg_winlogon_path&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;HKLM:\Software\Microsoft\Windows NT\CurrentVersion\Winlogon&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;Set-ItemProperty&lt;/span&gt; &lt;span class="n"&gt;-Path&lt;/span&gt; &lt;span class="nv"&gt;$reg_winlogon_path&lt;/span&gt; &lt;span class="n"&gt;-Name&lt;/span&gt; &lt;span class="n"&gt;AutoAdminLogon&lt;/span&gt; &lt;span class="n"&gt;-Value&lt;/span&gt; &lt;span class="n"&gt;0&lt;/span&gt;
&lt;span class="nb"&gt;Remove-ItemProperty&lt;/span&gt; &lt;span class="n"&gt;-Path&lt;/span&gt; &lt;span class="nv"&gt;$reg_winlogon_path&lt;/span&gt; &lt;span class="n"&gt;-Name&lt;/span&gt; &lt;span class="n"&gt;DefaultUserName&lt;/span&gt; &lt;span class="n"&gt;-ErrorAction&lt;/span&gt; &lt;span class="n"&gt;SilentlyContinue&lt;/span&gt;
&lt;span class="nb"&gt;Remove-ItemProperty&lt;/span&gt; &lt;span class="n"&gt;-Path&lt;/span&gt; &lt;span class="nv"&gt;$reg_winlogon_path&lt;/span&gt; &lt;span class="n"&gt;-Name&lt;/span&gt; &lt;span class="n"&gt;DefaultPassword&lt;/span&gt; &lt;span class="n"&gt;-ErrorAction&lt;/span&gt; &lt;span class="n"&gt;SilentlyContinue&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¯¥è„šæœ¬çš„å·¥ä½œåŸç†æ˜¯æ£€æŸ¥éœ€è¦å®‰è£…å“ªäº›ç¨‹åºï¼ˆä¾‹å¦‚.NET Framework 4.5.2ï¼‰ä»¥åŠéœ€è¦ä»€ä¹ˆæ ·çš„PowerShellç‰ˆæœ¬ã€‚å¦‚æœ&lt;strong&gt;éœ€è¦é‡æ–°å¯åŠ¨&lt;/strong&gt;å¹¶ä¸”è®¾ç½®äº†&lt;code&gt;username&lt;/code&gt;å’Œ&lt;code&gt;password&lt;/code&gt;å‚æ•°ï¼Œåˆ™è„šæœ¬å°†åœ¨é‡æ–°å¯åŠ¨æ—¶è‡ªåŠ¨é‡æ–°å¯åŠ¨å¹¶ç™»å½•ã€‚è¯¥è„šæœ¬å°†ç»§ç»­ï¼Œç›´åˆ°ä¸å†éœ€è¦æ‰§è¡Œä»»ä½•æ“ä½œä¸”PowerShellç‰ˆæœ¬ä¸ç›®æ ‡ç‰ˆæœ¬åŒ¹é…ä¸ºæ­¢ã€‚å¦‚æœæœªè®¾ç½®&lt;code&gt;username&lt;/code&gt;å’Œ &lt;code&gt;password&lt;/code&gt;å‚æ•°ï¼Œè„šæœ¬å°†æç¤ºç”¨æˆ·æ‰‹åŠ¨é‡æ–°å¼•å¯¼å¹¶åœ¨éœ€è¦æ—¶ç™»å½•ã€‚å½“ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ï¼Œè„šæœ¬å°†ä»åœæ­¢çš„ä½ç½®ç»§ç»­ï¼Œå¹¶ä¸”è¯¥è¿‡ç¨‹å°†ç»§ç»­ï¼Œç›´åˆ°ä¸å†éœ€è¦å…¶ä»–æ“ä½œä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;æ³¨æ„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœåœ¨Server 2008ä¸Šè¿è¡Œï¼Œåˆ™å¿…é¡»å®‰è£…SP2ã€‚å¦‚æœåœ¨Server 2008 R2æˆ–Windows 7ä¸Šè¿è¡Œï¼Œåˆ™å¿…é¡»å®‰è£…SP1ã€‚&lt;/li&gt;
&lt;li&gt;Windows Server 2008åªèƒ½å®‰è£…PowerShell 3.0; æŒ‡å®šè¾ƒæ–°çš„ç‰ˆæœ¬å°†å¯¼è‡´è„šæœ¬å¤±è´¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;username&lt;/code&gt;å’Œ&lt;code&gt;password&lt;/code&gt;å‚æ•°éƒ½æ˜¯å­˜å‚¨åœ¨æ³¨å†Œè¡¨ä¸­çš„çº¯æ–‡æœ¬ã€‚ç¡®ä¿åœ¨è„šæœ¬å®Œæˆåè¿è¡Œæ¸…ç†å‘½ä»¤ï¼Œä»¥ç¡®ä¿ä¸»æœºä¸Šä»æœªå­˜å‚¨å‡­æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4&gt;WinRMå†…å­˜è¡¥ä¸&lt;/h4&gt;
&lt;p&gt;åœ¨PowerShell v3.0ä¸Šè¿è¡Œæ—¶ï¼ŒWinRMæœåŠ¡å­˜åœ¨ä¸€ä¸ªé”™è¯¯ï¼Œå®ƒé™åˆ¶äº†WinRMå¯ç”¨çš„å†…å­˜é‡ã€‚å¦‚æœæœªå®‰è£…æ­¤è¡¥ä¸ï¼ŒAnsibleå°†æ— æ³•åœ¨Windowsä¸»æœºä¸Šæ‰§è¡ŒæŸäº›å‘½ä»¤ã€‚è¿™äº›è¡¥ä¸åº”ä½œä¸ºç³»ç»Ÿå¼•å¯¼æˆ–æ˜ åƒè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†å®‰è£…ã€‚&lt;a href="https://github.com/jborean93/ansible-windows/blob/master/scripts/Install-WMF3Hotfix.ps1"&gt;Install-WMF3Hotfix.ps1&lt;/a&gt;è„šæœ¬å¯ç”¨äºåœ¨å—å½±å“çš„ä¸»æœºä¸Šå®‰è£…æ­¤ä¿®è¡¥ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹PowerShellå‘½ä»¤å°†å®‰è£…æ­¤ä¿®è¡¥ç¨‹åºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://raw.githubusercontent.com/jborean93/ansible-windows/master/scripts/Install-WMF3Hotfix.ps1&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$env:temp\Install-WMF3Hotfix.ps1&amp;quot;&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;New-Object&lt;/span&gt; &lt;span class="n"&gt;-TypeName&lt;/span&gt; &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Net&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WebClient&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;DownloadFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;powershell&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exe&lt;/span&gt; &lt;span class="n"&gt;-ExecutionPolicy&lt;/span&gt; &lt;span class="n"&gt;ByPass&lt;/span&gt; &lt;span class="o"&gt;-File&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="n"&gt;-Verbose&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;WinRMè®¾ç½®&lt;/h4&gt;
&lt;p&gt;ä¸€æ—¦Powershellå‡çº§åˆ°è‡³å°‘3.0ç‰ˆæœ¬ï¼Œæœ€åä¸€æ­¥æ˜¯é…ç½®WinRMæœåŠ¡ï¼Œä»¥ä¾¿Ansibleå¯ä»¥è¿æ¥åˆ°å®ƒã€‚WinRMæœåŠ¡æœ‰ä¸¤ä¸ªä¸»è¦ç»„ä»¶ï¼Œç”¨äºç®¡ç†Ansibleå¦‚ä½•ä¸Windowsä¸»æœºè¿æ¥ï¼š&lt;code&gt;listener&lt;/code&gt;å’Œ&lt;code&gt;service&lt;/code&gt;é…ç½®è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥åœ¨ä¸‹é¢é˜…è¯»æœ‰å…³æ¯ä¸ªç»„ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è„šæœ¬&lt;a href="https://github.com/ansible/ansible/blob/devel/examples/scripts/ConfigureRemotingForAnsible.ps1"&gt;ConfigureRemotingForAnsible.ps1&lt;/a&gt;æ¥è¿›è¡ŒåŸºæœ¬è®¾ç½®ã€‚æ­¤è„šæœ¬ä½¿ç”¨è‡ªç­¾åè¯ä¹¦è®¾ç½®HTTPå’ŒHTTPSä¾¦å¬å™¨ï¼Œå¹¶åœ¨æœåŠ¡ä¸Šå¯ç”¨&lt;code&gt;Basic&lt;/code&gt; èº«ä»½éªŒè¯é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨æ­¤è„šæœ¬ï¼Œè¯·åœ¨PowerShellä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$env:temp\ConfigureRemotingForAnsible.ps1&amp;quot;&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;New-Object&lt;/span&gt; &lt;span class="n"&gt;-TypeName&lt;/span&gt; &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Net&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WebClient&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;DownloadFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;powershell&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exe&lt;/span&gt; &lt;span class="n"&gt;-ExecutionPolicy&lt;/span&gt; &lt;span class="n"&gt;ByPass&lt;/span&gt; &lt;span class="o"&gt;-File&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;æ³¨æ„:&lt;/p&gt;
&lt;p&gt;ConfigureRemotingForAnsible.ps1è„šæœ¬ä»…ç”¨äºåŸ¹è®­å’Œå¼€å‘ç›®çš„ï¼Œä¸åº”åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå¯ç”¨äº†&lt;code&gt;Basic&lt;/code&gt; è¿™æœ¬è´¨ä¸Šä¸å®‰å…¨ï¼ˆå¦‚èº«ä»½éªŒè¯ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;WinRM Listener&lt;/h4&gt;
&lt;p&gt;WinRMæœåŠ¡ä¾¦å¬ä¸€ä¸ªæˆ–å¤šä¸ªç«¯å£ä¸Šçš„è¯·æ±‚ã€‚æ¯ä¸ªç«¯å£éƒ½å¿…é¡»åˆ›å»ºå¹¶é…ç½®ä¸€ä¸ªä¾¦å¬å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è¦æŸ¥çœ‹åœ¨WinRMæœåŠ¡ä¸Šè¿è¡Œçš„å½“å‰ä¾¦å¬å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;winrm&lt;/span&gt; &lt;span class="n"&gt;quickconfig&lt;/span&gt;
&lt;span class="n"&gt;winrm&lt;/span&gt; &lt;span class="n"&gt;enumerate&lt;/span&gt; &lt;span class="n"&gt;winrm&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Listener&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿è¡Œåè¾“å‡ºå¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Listener&lt;/span&gt;
    &lt;span class="n"&gt;Address&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt;
    &lt;span class="n"&gt;Transport&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HTTP&lt;/span&gt;
    &lt;span class="n"&gt;Port&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;5985&lt;/span&gt;
    &lt;span class="n"&gt;Hostname&lt;/span&gt;
    &lt;span class="n"&gt;Enabled&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;true&lt;/span&gt;
    &lt;span class="n"&gt;URLPrefix&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;wsman&lt;/span&gt;
    &lt;span class="n"&gt;CertificateThumbprint&lt;/span&gt;
    &lt;span class="n"&gt;ListeningOn&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;56&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;155&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;5efe&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;15&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;5efe&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;56&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;155&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
&lt;span class="n"&gt;ffff&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;ffff&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;fffe&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;203d&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;7d97&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;c2ed&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;ec78&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;e8ea&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;d765&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;2c69&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;7756&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;7&lt;/span&gt;

&lt;span class="n"&gt;Listener&lt;/span&gt;
    &lt;span class="n"&gt;Address&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt;
    &lt;span class="n"&gt;Transport&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HTTPS&lt;/span&gt;
    &lt;span class="n"&gt;Port&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;5986&lt;/span&gt;
    &lt;span class="n"&gt;Hostname&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SERVER2016&lt;/span&gt;
    &lt;span class="n"&gt;Enabled&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;true&lt;/span&gt;
    &lt;span class="n"&gt;URLPrefix&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;wsman&lt;/span&gt;
    &lt;span class="n"&gt;CertificateThumbprint&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;E6CDAA82EEAF2ECE8546E05DB7F3E01AA47D76CE&lt;/span&gt;
    &lt;span class="n"&gt;ListeningOn&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;56&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;155&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;5efe&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;15&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;5efe&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;56&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;155&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
&lt;span class="n"&gt;ffff&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;ffff&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;fffe&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;203d&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;7d97&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;c2ed&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;ec78&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fe80&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;e8ea&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;d765&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;2c69&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;7756&lt;/span&gt;&lt;span class="k"&gt;%&lt;/span&gt;&lt;span class="n"&gt;7&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¿®æ”¹winrmé…ç½®ï¼Œå¯ç”¨è¿œç¨‹è¿æ¥è®¤è¯&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;winrm&lt;/span&gt; &lt;span class="nb"&gt;set &lt;/span&gt;&lt;span class="n"&gt;winrm&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;service&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;auth&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;@{Basic=&amp;quot;true&amp;quot;}&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;winrm&lt;/span&gt; &lt;span class="nb"&gt;set &lt;/span&gt;&lt;span class="n"&gt;winrm&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;service&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;@{AllowUnencrypted=&amp;quot;true&amp;quot;}&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;windows é˜²ç«å¢™é…ç½®&lt;/h4&gt;
&lt;p&gt;é…ç½®é˜²ç«å¢™:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ é˜²ç«å¢™ä¿¡ä»»è§„åˆ™ï¼Œå…è®¸5985-5986ç«¯å£é€šè¿‡&lt;/li&gt;
&lt;li&gt;æ‰“å¼€é˜²ç«å¢™é«˜çº§é…ç½®ï¼Œé€‰æ‹©&lt;strong&gt;å…¥ç«™è§„åˆ™&lt;/strong&gt;ï¼Œåœ¨ç‚¹å‡»æ–°å»ºè§„åˆ™&lt;/li&gt;
&lt;li&gt;å¡«å†™ä¸€ä¸‹ä¿¡æ¯&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;TCP&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¿¡ä»»ç«¯å£&lt;strong&gt;5985-5986&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¡«å†™æ–°å»ºè§„åˆ™åç§°&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ansiblewindows"&gt;AnsibleæœåŠ¡å™¨ç«¯é…ç½®å¹¶ç®¡ç†Windows&lt;a class="headerlink" href="#ansiblewindows" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ·»åŠ windowså®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯: ç¼–è¾‘&lt;code&gt;/etc/ansible/hosts&lt;/code&gt;, æ·»åŠ å®¢æˆ·ç«¯ä¸»æœºä¿¡æ¯(ansibleæœåŠ¡ç«¯çš„é…ç½®)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[windows]&lt;/span&gt;

&lt;span class="na"&gt;192.168.2.2 ansible_user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Administrator&amp;quot; ansible_password=&amp;quot;Password&amp;quot; ansible_port=5986 ansible_connection=&amp;quot;winrm&amp;quot; ansible_winrm_server_cert_validation=ignore ansible_winrm_transport=basic&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="ping-windows"&gt;ping è¿œç¨‹windowsä¸»æœº&lt;a class="headerlink" href="#ping-windows" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ ansible &lt;span class="m"&gt;192&lt;/span&gt;.168.2.2 -m win_ping
&lt;span class="m"&gt;192&lt;/span&gt;.168.2.2 &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;SUCCESS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;changed&amp;quot;&lt;/span&gt;: false,
    &lt;span class="s2"&gt;&amp;quot;ping&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;pong&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_4"&gt;åˆ›å»ºç›®å½•&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ ansible &lt;span class="m"&gt;192&lt;/span&gt;.168.2.2 -m win_file -a &lt;span class="s1"&gt;&amp;#39;path=D:\\test state=directory&amp;#39;&lt;/span&gt;
&lt;span class="m"&gt;192&lt;/span&gt;.168.2.2 &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;CHANGED&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;changed&amp;quot;&lt;/span&gt;: &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_5"&gt;ä¸‹å‘æ–‡ä»¶&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ ansible &lt;span class="m"&gt;192&lt;/span&gt;.168.2.2 -m win_copy -a &lt;span class="s1"&gt;&amp;#39;src=/etc/hosts dest=D:\\hosts.txt&amp;#39;&lt;/span&gt;
&lt;span class="m"&gt;192&lt;/span&gt;.168.2.2 &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;CHANGED&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;changed&amp;quot;&lt;/span&gt;: true,
    &lt;span class="s2"&gt;&amp;quot;checksum&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;f6d471689e1233342a8e43a130ff40a6ea0b9f51&amp;quot;&lt;/span&gt;,
    &lt;span class="s2"&gt;&amp;quot;dest&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;D:\\hosts.txt&amp;quot;&lt;/span&gt;,
    &lt;span class="s2"&gt;&amp;quot;operation&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;file_copy&amp;quot;&lt;/span&gt;,
    &lt;span class="s2"&gt;&amp;quot;original_basename&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;hosts&amp;quot;&lt;/span&gt;,
    &lt;span class="s2"&gt;&amp;quot;size&amp;quot;&lt;/span&gt;: &lt;span class="m"&gt;635&lt;/span&gt;,
    &lt;span class="s2"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;/etc/hosts&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_6"&gt;åˆ é™¤æ–‡ä»¶&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_file -a &amp;#39;dest=d:\\config_dir\\hosts.txt state=absent&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_7"&gt;åˆ é™¤ç›®å½•&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_file -a &amp;#39;dest=d:\\config_dir2 state=absent&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="cmd"&gt;æ‰§è¡Œcmdå‘½ä»¤&lt;a class="headerlink" href="#cmd" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_shell -a &amp;#39;ipconfig&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="windows_2"&gt;é‡å¯windows&lt;a class="headerlink" href="#windows_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_reboot&lt;/span&gt;
&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_shell -a &amp;#39;shutdown -r -t 0&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_8"&gt;åˆ›å»ºç”¨æˆ·&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;è¿œç¨‹åœ¨windowså®¢æˆ·ç«¯ä¸Šåˆ›å»ºç”¨æˆ·&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_user -a &amp;quot;name=testuser1 passwd=123456&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="windows_3"&gt;windowsæœåŠ¡ç®¡ç†&lt;a class="headerlink" href="#windows_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ansible 192.168.2.2 -m win_shell -a â€œnet stop|start zabbix_agentâ€&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;è¯´æ˜:&lt;/p&gt;
&lt;p&gt;å®Œæ•´çš„windows moduleè§: &lt;a href="https://docs.ansible.com/ansible/latest/modules/list_of_windows_modules.html"&gt;Windows modules&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Sat, 30 Mar 2019 19:37:41 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-30:/use-ansible-manage-multi-windows.html</guid><category>ansible</category><category>windows</category><category>devops</category></item><item><title>HTTPSåŸºç¡€åŸç†å’Œé…ç½® - åŠ å¯†åè®®SSLå’ŒTLS</title><link>https://www.EWhisper.cn/https-101-chapter-1.html</link><description>&lt;blockquote&gt;
&lt;p&gt;è¿‘æœŸåˆç¢°åˆ°äº†SSLç›¸å…³çš„äº‹æƒ…, å°±å¿ƒè¡€æ¥æ½®å¼€ä¸ªæ–°ä¸“é¢˜ - ã€ŠHTTPSåŸºç¡€åŸç†å’Œé…ç½®ã€‹&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œ ä¸»è¦ä»‹ç»SSL TLSåŠ å¯†åè®®çš„ç›¸å…³å†…å®¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_1"&gt;åŠ å¯†åè®®å†å²æ¦‚è¦&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;SSL TLSåŠ å¯†åè®®å…¶å®å¹¶æ²¡æœ‰å¾ˆé•¿çš„å†å²ï¼Œ1995å¹´&lt;strong&gt;ç½‘æ™¯&lt;/strong&gt;å‘å¸ƒäº†SSL v2.0ï¼Œè¿™ä¹Ÿæ˜¯webåŠ å¯†çš„å¼€å§‹ã€‚è¿™ä½¿å¾—ç”µå­å•†åŠ¡é¢†åŸŸï¼Œäººä»¬å¯ä»¥åœ¨çº¿æäº¤å¯†ç å’Œä¿¡ç”¨å¡ï¼Œå¹¶ä¸”è‡³å°‘æ˜¯ç›¸å½“å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;SSLv3.0å¾ˆå¿«å‘å¸ƒï¼Œè¿™ç‰ˆè¢«ä¿ç½—Â·æŸ¯å…‹ï¼ˆPaul Cokerï¼‰åŠå…¶ä»–äººå®Œå…¨é‡å†™ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸åšå®çš„åè®®ã€‚äº‹å®ä¸Šï¼ŒIETFé‡‡ç”¨SSL v3.0ï¼Œå¹¶ä½¿å®ƒæˆä¸ºå¹¶ä¸æ˜¯ç½‘æ™¯ç‹¬æœ‰çš„åè®®ï¼Œå«åšTLSï¼ˆTransport Layer Securityï¼‰ã€‚SSLæ„æ€æ˜¯å®‰å…¨å¥—æ¥å­—å±‚ï¼Œä½†ç°åœ¨å«ä¼ è¾“å±‚å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒTLS v1.0å‡ ä¹å’ŒSSL v3.0 ä¸€æ¨¡ä¸€æ ·ï¼Œåªæ˜¯è¿›è¡Œäº†ä¸€ä¸¤ä¸ªå°ä¼˜åŒ–ï¼Œå¹¶ä¸”IAFä½¿ä¹‹æ ‡å‡†åŒ–ã€‚å¦‚æœä½ æ·±ç©¶è¿™äº›åè®®ï¼ŒTLS v1.0å®é™…ä¸Šå°±æ˜¯SSL v3.1ï¼›æ‰€ä»¥ä½ å¯ä»¥è®¤ä¸ºä»–ä»¬æ˜¯è¿ç»­çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æœ€ç»ˆIETFæå‡ºäº†æ–°ç‰ˆæœ¬v1.1ï¼ˆä¸€äº›å°ä¼˜åŒ–ï¼‰ï¼Œç„¶åæ˜¯v1.2ï¼Œå¼•å…¥äº†ä¸€äº›æ–°çš„åŠ å¯†ç®—æ³•ã€‚ä½†æ˜¯çœ‹åˆ°è¿™ä½ å¯èƒ½ä¼šæƒ³â€œå¥½å§ï¼Œæœ‰äº›å®¢æˆ·ç«¯æ”¯æŒè¿™äº›ï¼Œæœ‰äº›å®¢æˆ·ç«¯æ”¯æŒæ›´æ–°çš„ï¼Œè¿™å–å†³äºå®ƒä»¬å‘å¸ƒçš„æ—¶é—´. å®‰å…¨æ€§ä¸Šå¯èƒ½å·®ä¸å¤ªå¤š". ä½†å®é™…åœ¨å®‰å…¨æ„ä¹‰ä¸Šï¼Œè¿™äº›ä¸­çš„å¤§å¤šæ•°å·²ç»ä»¥è¢«ç ´è§£äº†ã€‚&lt;/p&gt;
&lt;h3 id="_2"&gt;å…³é”®å†å²èŠ‚ç‚¹&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;SSL v2.0 1995å¹´ ç½‘æ™¯ å‘å¸ƒ&lt;/li&gt;
&lt;li&gt;SSL v3.0 1996å¹´å‘å¸ƒ ä¿®å¤v2çš„ä¸»è¦é—®é¢˜&lt;/li&gt;
&lt;li&gt;TLS v1.0 1999å¹´ IETFå‘å¸ƒï¼›å¯¹SSLv3å°ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;TLS v1.1 2006å¹´ å‘å¸ƒ å°ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;TLS v1.2 2008å¹´å‘å¸ƒ æ”¹è¿›hashå’ŒAEADæ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;è¢«ç ´è§£å†å²æ¦‚è¦&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ˜¯SSL v2.0, è®¾è®¡ä¹‹åˆå°±è¢«ç ´è§£&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;, æ‰€ä»¥ï¼Œssl v2.0ç¡®å®ä¸æ¨èä½¿ç”¨ï¼›å·²ç»è¢«ç ´è§£å¾ˆé•¿å¾ˆé•¿æ—¶é—´äº†ï¼Œä¸å®‰å…¨ã€‚ æˆ‘ä»¬ç»å¸¸å¬åˆ°çš„æ”¯æŒçš„SSLç‰ˆæœ¬ä¸€èˆ¬ä¹Ÿæ˜¯ä»SSL v3.0å¼€å§‹çš„.&lt;/p&gt;
&lt;p&gt;SSL v3.0å‘¢, ä¹‹å‰ä¸€ç›´åœ¨ç”¨ï¼Œç›´åˆ°2014å¹´11æœˆè¢«ç ´è§£ã€‚&lt;/p&gt;
&lt;p&gt;TLSå‘¢, v1.0å’Œv1.1åŸºæœ¬å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ€æ–°çš„v1.2(å…¶å®ç°åœ¨å·²ç»ä¸ç®—æœ€æ–°çš„äº†, TLS v1.3å·²ç»å‡ºæ¥äº†, ä½†æ˜¯ç›®å‰ä¸»æµçš„æœ€æ–°åè®®è¿˜æ˜¯1.2), æ˜¯å”¯ä¸€ä¸€ä¸ªè¿˜æ²¡æœ‰é’ˆå¯¹æ€§æ”»å‡»çš„ç‰ˆæœ¬(PS: å½“ç„¶, è¿‘æœŸä¹Ÿæœ‰é’ˆå¯¹TLS v1.2çš„æ¼æ´çˆ†å‡º, ä½†è¿˜ç®—OK)ã€‚&lt;/p&gt;
&lt;p&gt;TLSæœ‰ä¸€ä¸ªæ··ä¹±çš„å†å²ï¼Œå¹¶æ²¡æœ‰çœŸæ­£æœ€å¥½çš„å®‰å…¨è®°å½•ï¼Œä½†TLS v1.2ä¸€ç›´è¿˜æ˜¯æœ€å¥½çš„ï¼Œå½“æ¶‰åŠåˆ°ä¸æµè§ˆå™¨å’ŒæœåŠ¡çš„äº¤äº’ï¼Œå®ƒå†…ç½®åœ¨å‡ ä¹ä¸€åˆ‡çš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¸­(æœ€æ–°çš„)ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒTLS v1.2æ˜¯å¤§åŠ¿æ‰€è¶‹, å¦‚æœæ¶‰åŠåˆ°å…³é”®ä¸šåŠ¡æ•°æ®äº¤äº’, å¦‚&lt;strong&gt;ç”¨æˆ·å…³é”®ä¿¡æ¯&lt;/strong&gt; &lt;strong&gt;æ”¯ä»˜&lt;/strong&gt; &lt;strong&gt;é‡‘è&lt;/strong&gt;ç­‰åœºæ™¯, TLS v1.2æ‰èƒ½çœŸæ­£æœ‰ä¿éšœ, è€Œå…¶ä»–è€çš„åŠ å¯†åè®®, éƒ½å·²ç»è¢«ç ´è§£äº†, é»‘å®¢æƒ³æ‹¿åˆ°ä½ çš„æ•°æ®(å¦‚æœä½ ç”¨è€çš„åŠ å¯†åè®®)åªæ˜¯æ—¶é—´é—®é¢˜, å¹¶ä¸å­˜åœ¨æŠ€æœ¯ä¸Šçš„éš¾ç‚¹ã€‚æ‰€ä»¥è¯„ä¼°ATS(è‹¹æœçš„å®‰å…¨ç›¸å…³è¦æ±‚)åˆè§„ä¹Ÿè¦æ±‚è¯¥ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h3 id="_4"&gt;&lt;img align="absmiddle" alt="ğŸ˜‚" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f602.png" title=":joy:" width="20px"&gt;è¢«ç ´è§£å…³é”®å†å²èŠ‚ç‚¹&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;SSL v2.0 1995å‘å¸ƒ - è®¾è®¡ä¹‹åˆè¢«ç ´è§£&lt;/li&gt;
&lt;li&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;SSL v3.0 1996å‘å¸ƒ â€“ è¢«POODLEç ´è§£ï¼ˆ2014 .11ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;TSL v1.0 1999å‘å¸ƒ â€“ BEAST(2011)å’ŒLucky 13(2013)å‘ç°æ¼æ´&lt;/li&gt;
&lt;li&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;Tâ€‹LS v1.1 2006å‘å¸ƒ â€“ è¢«Lucky 13(2013)å’ŒRC4(2013,2015)å‘ç°æ¼æ´&lt;/li&gt;
&lt;li&gt;TLS v1.2 2008å‘å¸ƒ â€“ åªæœ‰åœ¨AEADæ¨¡å¼ä¸‹æ˜¯å®‰å…¨çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;å®¢æˆ·ç«¯å…¼å®¹æ€§&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; æ³¨æ„:&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰æ¡ä»¶, å¼ºçƒˆå»ºè®®&lt;strong&gt;åªé€‰æ‹© TLS v1.2&lt;/strong&gt;ç‰ˆæœ¬. (å¯¹äºä¼ ç»Ÿä¼ä¸š, çœŸçš„æŒºéš¾åšåˆ°çš„)â€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸Šçš„å†…å®¹æ¥çœ‹, é‚£æˆ‘åªé€‰æ‹©TLS v1.2åè®®å¥½äº†, ä½†å®é™…æƒ…å†µæ˜¯, TLS v1.2 æ˜¯&lt;strong&gt;2008&lt;/strong&gt;å¹´æ‰å‘å¸ƒçš„(æ ‡æ³¨å‘å¸ƒ), è€ŒçœŸæ­£è¦è½åˆ°å®å¤„æ‰€éœ€è¦çš„æ—¶é—´æ›´é•¿. æ‰€ä»¥å¾ˆå¤šå®¢æˆ·ç«¯å¹¶ä¸æ”¯æŒTLS v1.2. &lt;/p&gt;
&lt;p&gt;è¿™äº›å®¢æˆ·ç«¯, æ˜¯&lt;strong&gt;å¹¿ä¹‰&lt;/strong&gt;çš„å®¢æˆ·ç«¯, åŒ…æ‹¬: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ“ä½œç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;æµè§ˆå™¨&lt;/li&gt;
&lt;li&gt;æ‰‹æœº&lt;/li&gt;
&lt;li&gt;èƒ–å®¢æˆ·ç«¯(å¦‚Javaå®¢æˆ·ç«¯)&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚æœä½ è®¡åˆ’æœåŠ¡å™¨åªé€‰æ‹©1.2ç‰ˆæœ¬ï¼Œä½ å°±å¯èƒ½å¤±å»äº†å¾ˆå¤šæ½œåœ¨å®¢æˆ·(è¿˜åœ¨ç”¨æ—§çš„å®¢æˆ·ç«¯çš„å®¢æˆ·, å½“ç„¶, è¯´ä¸å®šç”¨ç€æ—§ç”µè„‘çš„å‘˜å·¥ä¹Ÿè¢«æ‹’ä¹‹é—¨å¤–äº†...)ã€‚è¿™å¹¶ä¸æ˜¯æœ€å¥½çš„ä¸¾åŠ¨ï¼Œé™¤éå¯¹ç»å¯¹å®‰å…¨éå¸¸æ•æ„Ÿã€‚å¦åˆ™çš„è¯, è¿˜æ˜¯å»ºè®®æ”¯æŒæ›´å¤šçš„å®‰å…¨åè®®è®©æ›´å¤šçš„å®¢æˆ·å¯ä»¥å…¼å®¹. æ˜¯å§? æ¯•ç«Ÿæ¯”èµ·httpè¿™ç§è£¸å¥”, å…¶ä»–æ—§çš„åè®®å¥½æ­¹è¿˜æ˜¯ç©¿ç€è¡£æœçš„.&lt;img align="absmiddle" alt="ğŸ˜" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f60f.png" title=":smirk:" width="20px"&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯, å¦ä¸€äº›å¤§å¹³å°, å·²ç»å¼€å§‹å€¾å‘äºv1.2ã€‚æ¯”å¦‚iosä¹‹å‰çš„&lt;a href="https://developer.apple.com/news/?id=12212016b&amp;amp;1482372961"&gt;ATSåˆè§„è¦æ±‚&lt;/a&gt;, æ¯”å¦‚&lt;a href="https://www.microsoft.com/security/blog/2017/06/20/tls-1-2-support-at-microsoft/"&gt;å¾®è½¯å»ºè®®ä½ æ”¾å¼ƒTLS v1.0å’Œ TLS v1.1çš„æ”¯æŒ&lt;/a&gt;ã€‚å› æ­¤ï¼Œè¡Œä¸šæ­£åœ¨æœç€æ ‡å‡†è¿ˆè¿›ã€‚&lt;/p&gt;
&lt;h3 id="tls-v12"&gt;æ”¯æŒTLS v1.2å®¢æˆ·ç«¯åˆ—è¡¨&lt;a class="headerlink" href="#tls-v12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Windows 8 ä»¥ä¸Š (Windows Server 2008ä»¥ä¸Š - 2017å¹´ä¸‹åŠå¹´æ‰æ”¯æŒ) (&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; win7ä¸æ”¯æŒ! æ›´åˆ«æwin xpäº†)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/blogs/766093/posts/1976123"&gt;RHEL æˆ– CentOS â‰¥ 6.5&lt;/a&gt; (&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;ç”¨CentOS 5.Xçš„æ³¨æ„äº†å•Š, ä¸æ”¯æŒTLS v1.2 â€‹)&lt;/li&gt;
&lt;li&gt;Chrome â‰¥ 30&lt;/li&gt;
&lt;li&gt;å®‰å“ â‰¥ 5.0&lt;/li&gt;
&lt;li&gt;ç«ç‹æµè§ˆå™¨ â‰¥ 27&lt;/li&gt;
&lt;li&gt;IE/Edge â‰¥ 11 (&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;ä¸»æµçš„IE8 9 10éƒ½ä¸æ”¯æŒ!)&lt;/li&gt;
&lt;li&gt;iOS â‰¥ 5&lt;ul&gt;
&lt;li&gt;æ³¨æ„ï¼šiOS 9åº”ç”¨éœ€è¦TLS 1.2æ”¯æŒã€‚(ATSåˆè§„è¦æ±‚, å½“æ—¶åæ¥å¥½åƒå¾ˆéš¾æ¨ä¸‹å»)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="tls-10"&gt;æ”¯æŒTLS 1.0 å®¢æˆ·ç«¯åˆ—è¡¨&lt;a class="headerlink" href="#tls-10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;TLS 1.0 ï¼ˆçœŸæ­£å®‰å…¨çš„æœ€è€ç‰ˆæœ¬ï¼‰å‡ ä¹éƒ½æ”¯æŒï¼ˆé™¤äº†win xp sp2)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="win xp sp2" src="./images/winxpsp2.png"&gt;&lt;/p&gt;
&lt;h2 id="_6"&gt;é…ç½®å»ºè®®&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å†æ¬¡æ¨è&lt;a href="https://www.ssllabs.com/"&gt;SSL Labs&lt;/a&gt;, æ‰“åˆ†å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="SSL Labsæ‰“åˆ†ç¤ºä¾‹" src="./images/ssl-labs-example.png"&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_7"&gt;é«˜å®‰å…¨æ€§ ä½å…¼å®¹æ€§&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;SSLProtocol             all -SSLv3 -TLSv1 -TLSv1.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åªæ”¯æŒTLS v1.2.&lt;/strong&gt; å½“ä½ é…ç½®åŠ å¯†åè®®æ—¶ï¼Œå¦‚æœåªé€‰æ‹©TLS&lt;br&gt;
1.2,å¾—åˆ†ä¼šæ˜¯&lt;strong&gt;A&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id="_8"&gt;ä¸­å®‰å…¨æ€§ é«˜å…¼å®¹æ€§&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;SSLProtocol             all -SSLv3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åªæ”¯æŒ&lt;strong&gt;TLS&lt;/strong&gt;åè®®, å¾—åˆ†ä¹Ÿä¼šæ˜¯&lt;strong&gt;A&lt;/strong&gt;. (ä¹‹å‰çš„, è¿‘æœŸä¸ç¡®å®š, æ„Ÿå…´è¶£çš„å¯ä»¥æµ‹ä¸€ä¸‹).&lt;/p&gt;
&lt;h3 id="_9"&gt;ä½å®‰å…¨æ€§ æœ€å¤§å…¼å®¹æ€§&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;SSLProtocol             all&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨SSLv3.0ï¼Œæœ‰é£é™©ï¼Œå¾—Cã€‚&lt;/p&gt;
&lt;h2 id="_10"&gt;æ€»ç»“&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;é€‰æ‹©åŠ å¯†åè®®, è¦æ ¹æ®å…·ä½“çš„éœ€æ±‚, æœ‰ä¾§é‡, ä¹Ÿè¦åšåˆ°å®‰å…¨æ€§å’Œå…¼å®¹æ€§çš„å…¼é¡¾.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä¹‹å‰æœ‰ä¸ªç›¸å…³çš„PPT, æ„Ÿå…´è¶£çš„è¯åç»­å‘ä¸Šæ¥.&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Sat, 30 Mar 2019 00:08:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-30:/https-101-chapter-1.html</guid><category>linux</category><category>openssl</category><category>ssl</category><category>nginx</category><category>centos</category></item><item><title>CentOS 7.5 å®‰è£…X11æ¡Œé¢å’Œä¸­æ–‡æ”¯æŒ</title><link>https://www.EWhisper.cn/centos-7-install-x11-desktop-and-chinese-support.html</link><description>&lt;h1 id="_1"&gt;æ¦‚è¿°&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;é€šè¿‡åœ¨CentOS 7.5 ä¸Šå®‰è£…X11æ¡Œé¢ç¯å¢ƒå’Œä¸­æ–‡è¯­è¨€ã€å­—ä½“ã€è¾“å…¥æ³•æ¥å°†äº‘æœåŠ¡å™¨æ‰“é€ æˆ Python é›†æˆå¼€å‘ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦å®‰è£…çš„è½¯ä»¶æˆ–è½¯ä»¶åŒ…æœ‰:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;X Window System&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Fonts&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;input-methods&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="x11"&gt;å®‰è£… X11 æ¡Œé¢ç³»ç»Ÿ&lt;a class="headerlink" href="#x11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;è½¯ä»¶åŒ…ç»„: X Window System åŒ…å«çš„ä¿¡æ¯å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo yum group info &lt;span class="s2"&gt;&amp;quot;X Window System&amp;quot;&lt;/span&gt;
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile

Group: X Window System
 Group-Id: x11
 Description: X Window System Support.
 Mandatory Packages:
   &lt;span class="o"&gt;=&lt;/span&gt;glx-utils
   &lt;span class="o"&gt;=&lt;/span&gt;initial-setup-gui
   &lt;span class="o"&gt;=&lt;/span&gt;mesa-dri-drivers
   &lt;span class="o"&gt;=&lt;/span&gt;plymouth-system-theme
   &lt;span class="o"&gt;=&lt;/span&gt;spice-vdagent
   &lt;span class="o"&gt;=&lt;/span&gt;xorg-x11-drivers
   &lt;span class="o"&gt;=&lt;/span&gt;xorg-x11-server-Xorg
   &lt;span class="o"&gt;=&lt;/span&gt;xorg-x11-utils
   &lt;span class="o"&gt;=&lt;/span&gt;xorg-x11-xauth
   &lt;span class="o"&gt;=&lt;/span&gt;xorg-x11-xinit
   &lt;span class="o"&gt;=&lt;/span&gt;xvattr
 Optional Packages:
   mesa-libGLES
   tigervnc-server
   wayland-protocols-devel
   xorg-x11-drv-keyboard
   xorg-x11-drv-libinput
   xorg-x11-drv-mouse
   xorg-x11-drv-openchrome
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®‰è£…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo yum group install -y &lt;span class="s2"&gt;&amp;quot;X Window System&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="_2"&gt;å®‰è£…å­—ä½“&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;è½¯ä»¶åŒ…ç»„: "Fonts"åŒ…å«ä»¥ä¸‹åŒ…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo yum group info &lt;span class="s2"&gt;&amp;quot;Fonts&amp;quot;&lt;/span&gt;
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile

Group: Fonts
 Group-Id: fonts
 Description: Fonts &lt;span class="k"&gt;for&lt;/span&gt; rendering text in a variety of languages and scripts.
 Default Packages:
   &lt;span class="o"&gt;=&lt;/span&gt;cjkuni-uming-fonts
    dejavu-sans-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;dejavu-sans-mono-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;dejavu-serif-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;gnu-free-mono-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;gnu-free-sans-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;gnu-free-serif-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;google-crosextra-caladea-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;google-crosextra-carlito-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;google-noto-emoji-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;jomolhari-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;khmeros-base-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;liberation-mono-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;liberation-sans-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;liberation-serif-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lklug-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-assamese-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-bengali-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-devanagari-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-gujarati-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-kannada-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-malayalam-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-marathi-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-nepali-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-oriya-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-punjabi-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-tamil-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;lohit-telugu-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;madan-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;nhn-nanum-gothic-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;open-sans-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;overpass-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;paktype-naskh-basic-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;paratype-pt-sans-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;sil-abyssinica-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;sil-nuosu-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;sil-padauk-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;smc-meera-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;stix-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;thai-scalable-waree-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;ucs-miscfixed-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;vlgothic-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;wqy-microhei-fonts
   &lt;span class="o"&gt;=&lt;/span&gt;wqy-zenhei-fonts
 Optional Packages:
   aajohan-comfortaa-fonts
   bitmap-fixed-fonts
   bitmap-lucida-typewriter-fonts
   bpg-chveulebrivi-fonts
   bpg-courier-fonts
   bpg-glaho-fonts
   cjkuni-ukai-fonts
   comic-neue-fonts
   culmus-aharoni-clm-fonts
   culmus-caladings-clm-fonts
   culmus-david-clm-fonts
   culmus-drugulin-clm-fonts
   culmus-ellinia-clm-fonts
   culmus-frank-ruehl-clm-fonts
   culmus-hadasim-clm-fonts
   culmus-keteryg-fonts
   culmus-miriam-clm-fonts
   culmus-miriam-mono-clm-fonts
   culmus-nachlieli-clm-fonts
   culmus-simple-clm-fonts
   culmus-stamashkenaz-clm-fonts
   culmus-stamsefarad-clm-fonts
   culmus-yehuda-clm-fonts
   freefont
   ghostscript-chinese
   google-noto-sans-armenian-fonts
   google-noto-sans-devanagari-fonts
   google-noto-sans-devanagari-ui-fonts
   google-noto-sans-ethiopic-fonts
   google-noto-sans-fonts
   google-noto-sans-georgian-fonts
   google-noto-sans-hebrew-fonts
   google-noto-sans-khmer-fonts
   google-noto-sans-khmer-ui-fonts
   google-noto-sans-lao-fonts
   google-noto-sans-lao-ui-fonts
   google-noto-sans-tamil-fonts
   google-noto-sans-tamil-ui-fonts
   google-noto-sans-thai-fonts
   google-noto-sans-thai-ui-fonts
   google-noto-sans-ui-fonts
   google-noto-serif-armenian-fonts
   google-noto-serif-fonts
   google-noto-serif-georgian-fonts
   google-noto-serif-lao-fonts
   google-noto-serif-thai-fonts
   gubbi-fonts
   horai-ume-gothic-fonts
   horai-ume-mincho-fonts
   horai-ume-pgothic-fonts
   horai-ume-pmincho-fonts
   horai-ume-uigothic-fonts
   ipa-gothic-fonts
   ipa-mincho-fonts
   ipa-pgothic-fonts
   ipa-pmincho-fonts
   kacst-art-fonts
   kacst-book-fonts
   kacst-decorative-fonts
   kacst-digital-fonts
   kacst-farsi-fonts
   kacst-letter-fonts
   kacst-naskh-fonts
   kacst-office-fonts
   kacst-one-fonts
   kacst-pen-fonts
   kacst-poster-fonts
   kacst-qurn-fonts
   kacst-screen-fonts
   kacst-title-fonts
   kacst-titlel-fonts
   khmeros-battambang-fonts
   khmeros-bokor-fonts
   khmeros-handwritten-fonts
   khmeros-metal-chrieng-fonts
   khmeros-muol-fonts
   khmeros-siemreap-fonts
   kurdit-unikurd-web-fonts
   liberation-narrow-fonts
   nafees-web-naskh-fonts
   navilu-fonts
   nhn-nanum-brush-fonts
   nhn-nanum-myeongjo-fonts
   nhn-nanum-pen-fonts
   paktype-naqsh-fonts
   paktype-tehreer-fonts
   pothana2000-fonts
   saab-fonts
   samyak-devanagari-fonts
   samyak-gujarati-fonts
   samyak-malayalam-fonts
   samyak-oriya-fonts
   samyak-tamil-fonts
   smc-anjalioldlipi-fonts
   smc-dyuthi-fonts
   smc-kalyani-fonts
   smc-rachana-fonts
   smc-raghumalayalam-fonts
   smc-suruma-fonts
   thai-scalable-garuda-fonts
   thai-scalable-kinnari-fonts
   thai-scalable-loma-fonts
   thai-scalable-norasi-fonts
   thai-scalable-purisa-fonts
   thai-scalable-sawasdee-fonts
   thai-scalable-tlwgmono-fonts
   thai-scalable-tlwgtypewriter-fonts
   thai-scalable-tlwgtypist-fonts
   thai-scalable-tlwgtypo-fonts
   thai-scalable-umpush-fonts
   tibetan-machine-uni-fonts
   vemana2000-fonts
   vlgothic-p-fonts
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®‰è£…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo yum group install -y &lt;span class="s2"&gt;&amp;quot;Fonts&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å®‰è£…å®Œæˆåå¯ä»¥æ‰‹åŠ¨åˆ·æ–°å­—ä½“ç¼“å­˜:&lt;/p&gt;
&lt;p&gt;å®‰è£…å­—ä½“ç›¸å…³çš„åŒ…:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ sudo yum install -y fontconfig mkfontscale&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œä¸‹é¢3æ¡å‘½ä»¤åˆ·æ–°å­—ä½“ç¼“å­˜:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ mkfontscale&lt;/code&gt;&lt;br&gt;
&lt;code&gt;$ mkfontdir&lt;/code&gt;&lt;br&gt;
&lt;code&gt;$ fc-cache -fv&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id="_3"&gt;å®‰è£…è¾“å…¥æ³•&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;è½¯ä»¶åŒ…ç»„: "input-methods"åŒ…å«:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo yum group info &lt;span class="s2"&gt;&amp;quot;input-methods&amp;quot;&lt;/span&gt;
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile

Group: Input Methods
 Group-Id: input-methods
 Description: Software &lt;span class="k"&gt;for&lt;/span&gt; the input of international text.
 Default Packages:
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-chewing
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-hangul
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-kkc
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-libpinyin
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-m17n
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-rawcode
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-sayura
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-table
   &lt;span class="o"&gt;=&lt;/span&gt;ibus-table-chinese
   &lt;span class="o"&gt;=&lt;/span&gt;m17n-contrib
   &lt;span class="o"&gt;=&lt;/span&gt;m17n-db
 Optional Packages:
   ibus-typing-booster
   iok
 Conditional Packages:
    gtk2-immodule-xim
    gtk3-immodule-xim
    ibus-gtk2
    ibus-gtk3
   -ibus-qt
   -imsettings-cinnamon
   -imsettings-gsettings
   -imsettings-qt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®‰è£…:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$  sudo yum group install -y &lt;span class="s2"&gt;&amp;quot;input-methods&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="x11forwarding"&gt;å¯ç”¨ X11Forwarding&lt;a class="headerlink" href="#x11forwarding" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;ä¿®æ”¹&lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;X11Forwarding yes
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡å¯æœåŠ¡ç”Ÿæ•ˆ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo systemctl restart sshd.service
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="_4"&gt;é…ç½®è¾“å…¥æ³•&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;å¯ç”¨äº† X11Forwardingä¹‹å, å°±å¯ä»¥é…ç½®è¾“å…¥æ³• ibus äº†, é€‰æ‹©ä½¿ç”¨ä¸­æ–‡pinyinè¾“å…¥æ³•.&lt;/p&gt;
&lt;h2 id="_5"&gt;è‹±æ–‡ç¯å¢ƒä¸‹ä½¿ç”¨ä¸­æ–‡è¾“å…¥æ³•&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä¸ªäººä¹°ä¸ªäº†æœåŠ¡å™¨, æ‰“ç®—æ—¢ä½œä¸ºå¼€å‘ç¯å¢ƒ, åˆä½œä¸ºç½‘ç«™åšå®¢ä½¿ç”¨. æ‰€ä»¥è¯­è¨€ç¯å¢ƒå°±é€‰æ‹©é»˜è®¤çš„: &lt;em&gt;en_US.utf8&lt;/em&gt; . è€Œå¹¶æ²¡æœ‰æ”¹ä¸ºä¸­æ–‡ç¯å¢ƒ. è‹±æ–‡ç¯å¢ƒä¸‹ä½¿ç”¨ä¸­æ–‡è¾“å…¥æ³•æ­¥éª¤å¦‚ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å°†å®‰è£…åˆ°æ–‡ä»¶å¤åˆ¶åˆ°è‹±æ–‡ç¯å¢ƒä¸‹: (æ³¨æ„æ˜¯&lt;code&gt;ibus*&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ sudo cp /usr/share/locale/zh_CN/LC_MESSAGES/ibus* /usr/share/locale/en_US/LC_MESSAGES&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†ibusè®¾ç½®ä¸ºè‹±æ–‡ç¯å¢ƒçš„å¼€æœºå¯åŠ¨é¡¹, ç¼–è¾‘æ–‡ä»¶&lt;code&gt;/etc/X11/xinit/xinputrc&lt;/code&gt;, åŠ å…¥å¦‚ä¸‹ä¸€è¡Œ:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;_im_language_list=â€en zhâ€&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ibus"&gt;è¾“å…¥æ³• ibus é…ç½®&lt;a class="headerlink" href="#ibus" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¾“å…¥å¦‚ä¸‹ibus è¾“å…¥æ³•å‘½ä»¤&lt;br&gt;
&lt;code&gt;$ ibus-setup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;ibus-deamon&lt;/code&gt; æ²¡æœ‰è¿è¡Œ, ä¼šå¼¹å‡ºå¦‚ä¸‹ç•Œé¢æç¤º, ç‚¹å‡»&lt;em&gt;Yes&lt;/em&gt;. ä¼šåå°æ‰§è¡Œå‘½ä»¤: &lt;code&gt;ibus-daemon --xim&lt;/code&gt;&lt;br&gt;
&lt;img alt="ibus-daemon æç¤ºè¿è¡Œ" src="images/1552980351961.png"&gt;&lt;/li&gt;
&lt;li&gt;å¯åŠ¨åä¼šå¼¹å‡ºå¦‚ä¸‹æç¤º:&lt;br/&gt;&lt;br&gt;
&lt;img alt="ibusåŠ å…¥bashrc" src="images/1552981039781.png"&gt;&lt;br/&gt;&lt;br&gt;
    ä»¥ä¸‹éœ€è¦åŠ å…¥åˆ°&lt;code&gt;~/.bashrc&lt;/code&gt;  æˆ– &lt;code&gt;~/.zshrc&lt;/code&gt;ä¸­:&lt;br&gt;
&lt;code&gt;export GTK_IM_MODULE=ibus&lt;/code&gt;&lt;br&gt;
&lt;code&gt;export XMODIFIERS=@im=ibus&lt;/code&gt;&lt;br&gt;
&lt;code&gt;export QT_IM_MODULE=ibus&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ibus-daemon -rdx&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»&lt;em&gt;OK&lt;/em&gt;åä¼šå¼¹å‡º ibus çš„é…ç½®ç•Œé¢, å¦‚ä¸‹:&lt;br&gt;
&lt;img alt="ibus é¦–é€‰é¡¹" src="images/1552981185401.png"&gt;&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»&lt;em&gt;è¾“å…¥æ³•&lt;/em&gt; â†’ &lt;em&gt;æ·»åŠ &lt;/em&gt; â†’ &lt;em&gt;Chinese&lt;/em&gt; â†’ &lt;em&gt;pinyin&lt;/em&gt; æ¥æ·»åŠ æ‹¼éŸ³è¾“å…¥æ³•, å¦‚ä¸‹å›¾:&lt;br&gt;
&lt;img alt="æ·»åŠ è¾“å…¥æ³•" src="images/1552981294294.png"&gt;&lt;br&gt;
&lt;img alt="æ·»åŠ æ‹¼éŸ³è¾“å…¥æ³•" src="images/1552981424476.png"&gt;&lt;/li&gt;
&lt;li&gt;æ·»åŠ å®Œæˆå, å¯ä»¥é€šè¿‡X11å¯åŠ¨, firefox æˆ– pycharmç­‰æ¥æµ‹è¯•æ‹¼éŸ³è¾“å…¥æ³•æ˜¯å¦ç”Ÿæ•ˆ. é»˜è®¤å¯ä»¥é€šè¿‡: &lt;code&gt;&amp;lt;Super&amp;gt;+&amp;lt;Space&amp;gt;&lt;/code&gt;æŒ‰é”®æ¥åˆ‡æ¢è¾“å…¥æ³•.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹åå° ibusç›¸å…³è¿›ç¨‹, å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ibus ç›¸å…³è¿›ç¨‹" src="images/1552981628167.png"&gt;&lt;/p&gt;
&lt;p&gt;å¦å¤–, å¦‚æœæŸäº›é…ç½®ä¸ç”Ÿæ•ˆ, å¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œæ¥ä½¿ä¹‹ç”Ÿæ•ˆ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;source&lt;/code&gt; å¯¹åº”çš„æ–‡ä»¶. å¦‚: &lt;code&gt;source ~/.bashrc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é‡æ–°ç™»é™†&lt;/li&gt;
&lt;li&gt;é‡å¯ç›¸å…³æœåŠ¡, å¦‚: &lt;code&gt;ibus-daemon -rdx&lt;/code&gt; æˆ– &lt;code&gt;sudo systemctl restart sshd.service&lt;/code&gt;ç­‰&lt;/li&gt;
&lt;li&gt;é‡å¯ä¸»æœº.&lt;br&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€å, å°±æ˜¯å®‰è£…è‡ªå·±å–œæ¬¢çš„ç¼–è¾‘å™¨å’ŒIDEäº†, æ¨èVSCODEå’ŒPyCharm.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 29 Mar 2019 11:01:50 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-29:/centos-7-install-x11-desktop-and-chinese-support.html</guid><category>linux</category><category>è…¾è®¯äº‘</category><category>äº‘</category></item><item><title>è…¾è®¯äº‘ç”³è¯·å…è´¹SSLè¯ä¹¦</title><link>https://www.EWhisper.cn/tencentyun-apply-ssl-certificate.html</link><description>&lt;h2 id="_1"&gt;å‰è¨€&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç°åœ¨ç”³è¯·SSLè¯ä¹¦çš„é—¨æ§›å’Œè´¹ç”¨éƒ½å¤§å¤§é™ä½äº†. å‡ºç°äº†å¾ˆå¤šå…è´¹æä¾›åŠ å¯†è¯ä¹¦çš„æœºæ„, æ¯”è¾ƒçŸ¥åçš„æ˜¯å›½å¤–çš„&lt;a href="https://letsencrypt.org/"&gt;Letâ€™s Encrypt&lt;/a&gt;, å…è´¹, è‡ªåŠ¨åŒ–, å¼€æ”¾. å›½å†…çš„äº‘æœåŠ¡å•†ä¹Ÿä¼šæä¾›å…è´¹çš„SSLè¯ä¹¦. ä¸‹é¢æ˜¯æˆ‘åœ¨è…¾è®¯äº‘ä¸Šç”³è¯·SSLè¯ä¹¦çš„æ­¥éª¤.&lt;/p&gt;
&lt;p&gt;&lt;img alt="SSL" src="./images/SSL-Certificate.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;æ­¥éª¤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¿›å…¥è…¾è®¯äº‘&lt;a href="https://console.cloud.tencent.com/ssl"&gt;SSLè¯ä¹¦ç®¡ç†é¡µé¢&lt;/a&gt;, ç‚¹å‡» &lt;strong&gt;ç”³è¯·å…è´¹è¯ä¹¦&lt;/strong&gt;, å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç”³è¯·å…è´¹è¯ä¹¦" src="./images/tencentyun_app_ssl_1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›®å‰è…¾è®¯äº‘ä¸Šæä¾›çš„å…è´¹è¯ä¹¦æ˜¯ &lt;strong&gt;TRUSTAsia&lt;/strong&gt;å®¶çš„, é€‰æ‹©å¹¶ç¡®å®š. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="TRUSTAsia" src="./images/tencentyun_app_ssl_2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±å¡«å†™è¯ä¹¦éœ€è¦çš„ç›¸å…³ä¿¡æ¯, å¾ˆç®€å•, åªæœ‰2é¡¹å¿…å¡«é¡¹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šç”¨åç§°, å…·ä½“çš„&lt;strong&gt;å•åŸŸå&lt;/strong&gt;. (&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; å¦‚: www.ewhisper.cn, blog.ewhisper.cn. ä¸èƒ½æ˜¯*.ewhisper.cn è¿™ç§é€šç”¨åŸŸå.)&lt;/li&gt;
&lt;li&gt;ç”³è¯·é‚®ç®±&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="è¯ä¹¦ä¿¡æ¯" src="./images/tencentyun_app_ssl_3.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ˜¯åŸŸåèº«ä»½éªŒè¯. è…¾è®¯äº‘ä¸€å¥—çš„è¯, ç›´æ¥é€‰æ‹© &lt;strong&gt;è‡ªåŠ¨DNSéªŒè¯&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;&lt;img alt="åŸŸåèº«ä»½éªŒè¯" src="./images/tencentyun_app_ssl_4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™æ ·å°±å®Œæˆç”³è¯·äº†, æ¥ä¸‹æ¥å°±æ˜¯ç­‰å¾…å®¡æ ¸äº†. æˆ‘çš„sslå®¡æ ¸çš„éå¸¸å¿«, ä¹Ÿå°±åå‡ åˆ†é’Ÿå°±ä¸‹æ¥äº†. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç­‰å¾…å®¡æ ¸" src="./images/tencentyun_app_ssl_5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯ä¹¦è¯¦æƒ…å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="è¯ä¹¦è¯¦æƒ…" src="./images/tencentyun_app_ssl_6.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯ä¹¦ä¿¡æ¯åˆ—è¡¨å¦‚ä¸‹, è¯ä¹¦æœ‰æ•ˆæœŸä¸€å¹´. å¯ä»¥é€‰æ‹©éƒ¨ç½²åˆ°CDNå’Œè´Ÿè½½å‡è¡¡ä¸Š. (å¦‚æœæœ‰çš„è¯) ä¹Ÿå¯ä»¥ä¸‹è½½éƒ¨ç½²åˆ°nginxä¸Š.&lt;/p&gt;
&lt;p&gt;&lt;img alt="è¯ä¹¦ä¿¡æ¯åˆ—è¡¨" src="./images/tencentyun_app_ssl_7.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½çš„æ˜¯ä¸ªè¯ä¹¦å‹ç¼©åŒ…. åŒ…æ‹¬å„ç±»web serverçš„è¯ä¹¦ç±»å‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Apache: key, crt, å’Œbundle.crt&lt;/li&gt;
&lt;li&gt;IIS: pfx&lt;/li&gt;
&lt;li&gt;Nginx: crt, key&lt;/li&gt;
&lt;li&gt;Tomcat: jks&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±æ˜¯NGINXé…ç½®çš„äº‹æƒ…äº†. &lt;a href="https://www.EWhisper.cn/nginx-conf-add-ssl-support.html"&gt;æˆ³è¿™å„¿æŸ¥çœ‹&lt;img align="absmiddle" alt="ğŸ‘‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f449.png" title=":point_right:" width="20px"&gt;&lt;/a&gt; &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 29 Mar 2019 10:41:49 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-29:/tencentyun-apply-ssl-certificate.html</guid><category>SSL</category><category>è…¾è®¯äº‘</category><category>äº‘</category><category>å®‰å…¨</category></item><item><title>Docker å­¦ä¹ ç¬”è®° - é•œåƒ</title><link>https://www.EWhisper.cn/docker-handbook-image.html</link><description>&lt;h2 id="_1"&gt;è·å–é•œåƒ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;docker pull&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;æŸ¥çœ‹é•œåƒä¿¡æ¯&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;docker images&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker inspect &amp;lt;images id&amp;gt;  # è·å–é•œåƒçš„è¯¦ç»†ä¿¡æ¯&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_3"&gt;æœå¯»é•œåƒ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;docker search&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_4"&gt;åˆ é™¤é•œåƒ&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;docker rmi&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ä¸€ä¸ªé•œåƒæ‹¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œ&lt;code&gt;docker rmi&lt;/code&gt;åªæ˜¯åˆ é™¤è¯¥é•œåƒæŒ‡å®šçš„æ ‡ç­¾ï¼Œå¹¶ä¸å½±å“é•œåƒæ–‡ä»¶&lt;br&gt;
å½“é•œåƒåªå‰©ä¸‹ä¸€ä¸ªæ ‡ç­¾æ—¶ï¼Œå†ä½¿ç”¨ä¼šå½»åº•åˆ é™¤è¯¥é•œåƒ&lt;br&gt;
å…ˆåˆ é™¤è¯¥é•œåƒçš„æ‰€æœ‰å®¹å™¨ï¼Œå†åˆ é™¤é•œåƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_5"&gt;åˆ›å»ºé•œåƒ&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;3ç§æ–¹æ³•ï¼š&lt;br&gt;
- åŸºäºå·²æœ‰é•œåƒçš„&lt;strong&gt;å®¹å™¨&lt;/strong&gt;åˆ›å»º&lt;br&gt;
- åŸºäºæœ¬åœ°æ¨¡æ¿å¯¼å…¥&lt;br&gt;
- åŸºäºDockerfileåˆ›å»º&lt;/p&gt;
&lt;h3 id="_6"&gt;åŸºäºå·²æœ‰é•œåƒçš„å®¹å™¨åˆ›å»º&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;docker commit&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-a: ä½œè€…ä¿¡æ¯&lt;br&gt;
-m: æäº¤ä¿¡æ¯&lt;br&gt;
-p æäº¤æ—¶æš‚åœå®¹å™¨è¿è¡Œ&lt;br&gt;
-c changelist&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_7"&gt;åŸºäºæœ¬åœ°æ¨¡æ¿çš„å¯¼å…¥&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ¨èä½¿ç”¨OpenVZ æä¾›çš„æ¨¡æ¿æ¥åˆ›å»ºã€‚ä¸‹è½½åœ°å€ï¼šhttps://openvz.org/Download/template/precreated&lt;br&gt;
&lt;code&gt;sudo cat ubuntu-16.04-x86_64.tar.gz | docker import - ubuntu:16.04&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_8"&gt;å¯¼å‡ºå’Œè½½å…¥é•œåƒ&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¯¼å‡º&lt;/strong&gt;ï¼š&lt;code&gt;sudo docker save -o ubuntu_16.04.tar ubuntu:16.04&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;è½½å…¥&lt;/strong&gt;ï¼š&lt;code&gt;sudo docker load --input ubuntu_16.04.tar&lt;/code&gt; æˆ–è€… &lt;code&gt;sudo docker load &amp;lt; ubuntu_16.04.tar&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤ä¼šè½½å…¥é•œåƒï¼Œä»¥åŠå…¶ç›¸å…³çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ˆåŒ…æ‹¬æ ‡ç­¾ç­‰ï¼‰. å…³äº&lt;code&gt;docker load&lt;/code&gt;å’Œ&lt;code&gt;docker import&lt;/code&gt;æŒ‡ä»¤çš„åŒºåˆ«è§ä¸‹ä¸€ç« .&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Thu, 28 Mar 2019 22:17:48 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-28:/docker-handbook-image.html</guid><category>docker</category></item><item><title>åœ¨äº‘æœåŠ¡å™¨ä¸Šæ­å»ºé›†æˆå¼€å‘ç¯å¢ƒ</title><link>https://www.EWhisper.cn/build-ide-on-tencentyun.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#python"&gt;pythonä¼˜åŒ–é…ç½®&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#python-36"&gt;å®‰è£…python 3.6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pipenv-python-36"&gt;å®‰è£…pipenv: (ä¸»è¦ä½¿ç”¨python 3.6)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#python-37"&gt;ç¼–è¯‘å®‰è£…Python 3.7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#docker"&gt;Docker é…ç½®&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;ä¿®æ”¹ä»“åº“æº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;å¼€æœºå¯åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;ä½¿ç”¨è…¾è®¯äº‘å®¹å™¨çš„ç›¸å…³æœåŠ¡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="python"&gt;pythonä¼˜åŒ–é…ç½®&lt;a class="headerlink" href="#python" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å®‰è£…ç›¸å…³è½¯ä»¶:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo yum install -y --setopt&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;tsflags&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nodocs gcc make patch  &lt;span class="c1"&gt;# å®‰è£…ç¼–è¯‘è½¯ä»¶&lt;/span&gt;
sudo yum group install -y development  &lt;span class="c1"&gt;# å®‰è£…å¼€å‘åŒ…ç»„&lt;/span&gt;
sudo yum install -y --setopt&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;tsflags&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nodocs gdbm-devel openssl-libs openssl-devel openssl-devel ncurses-devel libsqlite3x-devel sqlite-devel readline-devel zlib-devel bzip2-devel python2-bz2file db4-devel libpcap-devel xz-devel libffi-devel sqlite3 sqlite python-ujson  &lt;span class="c1"&gt;# å®‰è£…ä¾èµ–&lt;/span&gt;

sudo yum install -y mariadb mariadb-server redis memcached &lt;span class="c1"&gt;# å®‰è£…mariadb&lt;/span&gt;
sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; mariadb.service redis.service  &lt;span class="c1"&gt;# mariadb redis å¼€æœºå¯åŠ¨&lt;/span&gt;
sudo systemctl start mariadb.service redis.service  &lt;span class="c1"&gt;# å¯åŠ¨mariadbæœåŠ¡&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="python-36"&gt;å®‰è£…python 3.6&lt;a class="headerlink" href="#python-36" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo yum install -y python36
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®‰è£…pip:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo yum -y install python-pip python34-pip python36-pip
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;pip conf: &lt;/p&gt;
&lt;p&gt;åœ¨æ–‡ä»¶&lt;code&gt;~/.pip/pip.conf&lt;/code&gt;ä¸­æ·»åŠ æˆ–ä¿®æ”¹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[global]&lt;/span&gt;
&lt;span class="na"&gt;index-url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;http://mirrors.tencentyun.com/pypi/simple&lt;/span&gt;
&lt;span class="na"&gt;trusted-host&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;mirrors.tencentyun.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒæ–‡ç« :&lt;/p&gt;
&lt;p&gt;&lt;a href="https://cloud.tencent.com/document/product/213/8623"&gt;è…¾è®¯äº‘è½¯ä»¶æºåŠ é€Ÿè½¯ä»¶åŒ…ä¸‹è½½å’Œæ›´æ–°&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="pipenv-python-36"&gt;å®‰è£…pipenv: (ä¸»è¦ä½¿ç”¨python 3.6)&lt;a class="headerlink" href="#pipenv-python-36" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip3.6 install pipenv --user
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç¼–è¾‘&lt;code&gt;~/.zshrc&lt;/code&gt;, åŠ å…¥ä»¥ä¸‹å†…å®¹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/casey/.local/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åç»­ä½¿ç”¨&lt;code&gt;pipenv&lt;/code&gt;ç®¡ç†æ–‡ä»¶, æœ‰ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹:&lt;br&gt;
1. å®‰è£…æ—¶å€™æ ¹æ®éœ€è¦, æ ¹æ®OSç°æœ‰pythonæŒ‡å®š, å¦‚: &lt;code&gt;pipenv install --python /usr/bin/python36&lt;/code&gt;&lt;br&gt;
2. å¯ä»¥ä¿®æ”¹&lt;code&gt;Pipfile&lt;/code&gt;çš„ä»¥ä¸‹é…ç½®, åŠ å¿«ä¾èµ–ä¸‹è½½:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[[source]]&lt;/span&gt;
&lt;span class="na"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://mirrors.tencentyun.com/pypi/simple --trusted-host mirrors.tencentyun.com&amp;quot;&lt;/span&gt;
&lt;span class="na"&gt;verify_ssl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;false&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="python-37"&gt;ç¼–è¯‘å®‰è£…Python 3.7&lt;a class="headerlink" href="#python-37" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦å…ˆyumå®‰è£…&lt;code&gt;libffi-devel&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ä¸‹è½½æºç åŒ…å¹¶è§£å‹&lt;/span&gt;
wget https://www.python.org/ftp/python/3.7.2/Python-3.7.2.tgz
tar -xvzf Python-3.7.2.tgz
&lt;span class="nb"&gt;cd&lt;/span&gt; Python-3.7.2
&lt;span class="c1"&gt;# configure &lt;/span&gt;
sudo mkdir -p /usr/lib64/python3.7
sudo ./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib64/python3.7
&lt;span class="c1"&gt;# install&lt;/span&gt;
sudo make &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo make install
&lt;span class="c1"&gt;# åˆ›å»ºè½¯è¿æ¥&lt;/span&gt;
sudo rm -f /usr/bin/python3
sudo ln -s /usr/lib64/python3.7/bin/python3 /usr/bin/python3
&lt;span class="c1"&gt;# åŠ å…¥PATH&lt;/span&gt;
vi ~/.zshrc
&lt;span class="c1"&gt;# .zshrcä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib64/python3.7/bin:/home/casey/.local/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;
&lt;span class="c1"&gt;# ä½¿å¾—é…ç½®ç”Ÿæ•ˆ&lt;/span&gt;
&lt;span class="nb"&gt;source&lt;/span&gt; ~/.zshrc
&lt;span class="c1"&gt;# éªŒè¯&lt;/span&gt;
python3 -V 
&lt;span class="c1"&gt;# è¾“å‡º: Python 3.7.2&lt;/span&gt;
pip3 -V                     
&lt;span class="c1"&gt;# è¾“å‡º: pip 18.1 from /usr/lib64/python3.7/lib/python3.7/site-packages/pip (python 3.7)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="docker"&gt;Docker é…ç½®&lt;a class="headerlink" href="#docker" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_1"&gt;å®‰è£…&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo yum install -y --setopt&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;tsflags&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nodocs docker docker-compose docker-distribution docker-logrotate docker-lvm-plugin 
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_2"&gt;ä¿®æ”¹ä»“åº“æº&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é€‚ç”¨äº CentOS 7 ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ Docker é…ç½®æ–‡ä»¶ &lt;code&gt;sudo vi /etc/sysconfig/docker&lt;/code&gt;ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;--registry-mirror=https://mirror.ccs.tencentyun.com&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒæ–‡ç« :&lt;/p&gt;
&lt;p&gt;&lt;a href="https://cloud.tencent.com/document/product/457/9113"&gt;ä½¿ç”¨ DockerHub åŠ é€Ÿå™¨&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_3"&gt;å¼€æœºå¯åŠ¨&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; docker
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_4"&gt;ä½¿ç”¨è…¾è®¯äº‘å®¹å™¨çš„ç›¸å…³æœåŠ¡&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ§åˆ¶å°, è¿›å…¥&lt;strong&gt;å®¹å™¨æœåŠ¡&lt;/strong&gt; â†’ &lt;strong&gt;é•œåƒä»“åº“&lt;/strong&gt; â†’ &lt;strong&gt;æˆ‘çš„é•œåƒ&lt;/strong&gt; , è¾“å…¥é•œåƒä»“åº“çš„ä¸ªäººå¯†ç . (è´¦å·æ˜¯AppID)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(å¯é€‰): åœ¨&lt;strong&gt;è®¿é—®ç®¡ç†&lt;/strong&gt; â†’ &lt;strong&gt;ç”¨æˆ·ç»„&lt;/strong&gt; â†’ &lt;strong&gt;å½“å‰ç”¨æˆ·ç»„&lt;/strong&gt;é‡Œ â†’ &lt;strong&gt;å…³è”ç­–ç•¥&lt;/strong&gt; : &lt;a href="https://console.cloud.tencent.com/cam/policy/detail/419082&amp;amp;QcloudCCRFullAccess&amp;amp;2"&gt;QcloudCCRFullAccess&lt;/a&gt; (é•œåƒä»“åº“å…¨è¯»å†™æƒé™)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äº‘æœåŠ¡å™¨ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç™»å½•:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo docker login --username=appid ccr.ccs.tencentyun.com&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½é•œåƒ:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo docker pull ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 27 Mar 2019 09:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-27:/build-ide-on-tencentyun.html</guid><category>è…¾è®¯äº‘</category><category>äº‘</category><category>python</category><category>pipenv</category><category>docker</category></item><item><title>è…¾è®¯äº‘æœåŠ¡å™¨åˆå§‹åŒ–æ“ä½œ</title><link>https://www.EWhisper.cn/initialize-my-tencentyun-server.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;é‡è£…ç³»ç»Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;è®¾ç½®ç›‘æ§å‘Šè­¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;åˆ›å»ºå¯†é’¥å¹¶ç»‘å®šä¸»æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;å®‰å…¨ç»„é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#centos-75"&gt;CentOS 7.5 ä¼˜åŒ–é…ç½®&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_5"&gt;ç”¨æˆ·/ç™»å½•ç›¸å…³ä¼˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;æ›´æ–°ç³»ç»Ÿå’Œè½¯ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#git"&gt;å®‰è£…åŠé…ç½® Git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#shell"&gt;ä¼˜åŒ–é…ç½®shell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-oh-my-zsh"&gt;Using Oh My Zsh&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#plugins"&gt;Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#themes"&gt;Themes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;é‡è£…ç³»ç»Ÿ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯´æ˜:&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä¹°çš„æ—¶å€™, CentOSæœ€æ–°åªæä¾›åˆ°7.3, æˆ‘å¸Œæœ›ä½¿ç”¨CentOS 7.5. çœ‹åˆ°é•œåƒåº“é‡Œæœ‰(ä»€ä¹ˆæ¯›ç—…, ä¹°çš„æ—¶å€™ä¸ºå•¥ä¸æä¾›&lt;img align="absmiddle" alt="ğŸ˜•" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f615.png" title=":confused:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜•" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f615.png" title=":confused:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ˜•" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f615.png" title=":confused:" width="20px"&gt;), æ‰€ä»¥é‡æ–°å®‰è£…ä¸‹ç³»ç»Ÿ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é€‰ä¸­å®ä¾‹, ç‚¹å‡»&lt;strong&gt;æ›´å¤š&lt;/strong&gt;, é€‰æ‹©&lt;strong&gt;é‡è£…ç³»ç»Ÿ&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="é‡è£…ç³»ç»Ÿ" src="./images/init_tencentyun_install_os_1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹©&lt;strong&gt;å…¬å…±é•œåƒ&lt;/strong&gt; -&amp;gt; &lt;strong&gt;CentOS&lt;/strong&gt; -&amp;gt; &lt;strong&gt;CentOS 7.5 64ä½&lt;/strong&gt; -&amp;gt; è¾“å…¥rootå¯†ç . ç‚¹å‡»&lt;strong&gt;å¼€å§‹é‡è£…&lt;/strong&gt;. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="é‡è£…ç³»ç»Ÿå…·ä½“é€‰é¡¹" src="./images/init_tencentyun_install_os_2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç­‰å¾…é‡è£…å®Œæ¯•å³å¯.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_2"&gt;è®¾ç½®ç›‘æ§å‘Šè­¦&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;ç›‘æ§&lt;/strong&gt;å›¾æ ‡:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç‚¹å‡»ç›‘æ§" src="./images/init_tencentyun_monitor_1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ‰ä»¥ä¸‹ç›‘æ§æŒ‡æ ‡, å¦‚ä¸‹å›¾, ç‚¹å‡»&lt;strong&gt;è®¾ç½®å‘Šè­¦&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CPU&lt;/li&gt;
&lt;li&gt;å†…å­˜&lt;/li&gt;
&lt;li&gt;å®½å¸¦(å†…å¤–ç½‘)&lt;/li&gt;
&lt;li&gt;ç£ç›˜IO&lt;/li&gt;
&lt;li&gt;åˆ†åŒºä½¿ç”¨è¯·çœ‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="è®¾ç½®å‘Šè­¦" src="./images/init_tencentyun_monitor_2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ ¹æ®è‡ªå·±çš„éœ€è¦, å®šåˆ¶å‘Šè­¦ç­–ç•¥. ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="å‘Šè­¦ç­–ç•¥" src="./images/init_tencentyun_monitor_3.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¦é…ç½®å‘Šè­¦é€šçŸ¥æ¸ é“, éœ€è¦å…ˆ&lt;strong&gt;æ–°å¢ç”¨æˆ·ç»„&lt;/strong&gt;. å¦‚ä¸‹(æˆ‘å’Œå…¶ä»–äººåˆç”¨, æ‰€ä»¥å»ºç«‹ä¸€ä¸ªç”¨æˆ·ç»„è¿˜æ˜¯æœ‰å¿…è¦çš„):&lt;/p&gt;
&lt;p&gt;&lt;img alt="æ–°å¢ç”¨æˆ·ç»„" src="./images/init_tencentyun_monitor_4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–°å¢ç”¨æˆ·ç»„çš„æ“ä½œå¦‚ä¸‹, å…ˆç›´æ¥ä½¿ç”¨é¢„è®¾ç­–ç•¥ - ç®¡ç†å‘˜å°±å¯ä»¥äº†.&lt;/p&gt;
&lt;p&gt;&lt;img alt="æ–°å¢ç”¨æˆ·ç»„" src="./images/init_tencentyun_groupuser_3.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥ä¸‹æ¥å…³è”åˆ°å…·ä½“çš„ç”¨æˆ·ç»„&lt;/p&gt;
&lt;p&gt;&lt;img alt="å…³è”æ¥å—ç»„" src="./images/init_tencentyun_monitor_5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;å®Œæˆ&lt;/strong&gt;, é…ç½®å®Œæˆåå¦‚ä¸‹æ‰€ç¤º: (å¯ä»¥æŠŠé»˜è®¤çš„ç¦ç”¨æ‰äº†)&lt;/p&gt;
&lt;p&gt;&lt;img alt="å‘Šè­¦ç­–ç•¥" src="./images/init_tencentyun_monitor_6.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;åˆ›å»ºå¯†é’¥å¹¶ç»‘å®šä¸»æœº&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;strong&gt;SSHå¯†é’¥&lt;/strong&gt; èœå•, ç‚¹å‡»&lt;strong&gt;åˆ›å»ºå¯†é’¥&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºå¯†é’¥" src="./images/init_tencentyun_key_1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºå¯†é’¥(&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt;  å¯†é’¥è¯·å¦¥å–„ä¿å­˜, å‹¿å¤–ä¼ ).&lt;/p&gt;
&lt;p&gt;&lt;img alt="åˆ›å»ºå¯†é’¥" src="./images/init_tencentyun_key_2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºå, å…ˆå…³é—­ä¸»æœº(å…³é—­åçš„ä¸»æœºæ‰èƒ½ç»‘å®šå¯†é’¥, å¾ˆå¥½, å…³æœºä¹Ÿå—åˆ°å‘Šè­¦äº†ğŸ‘Œ), å†é€‰æ‹©&lt;strong&gt;ç»‘å®š/è§£ç»‘å®ä¾‹&lt;/strong&gt;, å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ç»‘å®šå®ä¾‹" src="./images/init_tencentyun_key_3.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_4"&gt;å®‰å…¨ç»„é…ç½®&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼äºé˜²ç«å¢™æƒé™.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;å®‰å…¨ç»„&lt;/strong&gt; -&amp;gt; &lt;strong&gt;æ–°å»º&lt;/strong&gt;. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="æ–°å»ºå®‰å…¨ç»„" src="./images/init_tencentyun_securegroup_1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹©&lt;strong&gt;ç«‹å³è®¾ç½®è§„åˆ™&lt;/strong&gt;. å…·ä½“åŸå› å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="è®¾ç½®è§„åˆ™" src="./images/init_tencentyun_securegroup_2.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥å…ˆå…³è”åˆ°æˆ‘è‡ªå·±çš„äº‘ä¸»æœºå®ä¾‹. å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img alt="å…³è”åˆ°å®ä¾‹" src="./images/init_tencentyun_securegroup_3.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åå†é…ç½®å‡º/å…¥ç«™è§„åˆ™, å…ˆé…ç½®å…¥ç«™, å…ˆé€‰æ‹©&lt;strong&gt;ä¸€é”®æ”¾é€š&lt;/strong&gt;. æ”¾é€šä»¥ä¸‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Linux SSHç™»å½•: 22ç«¯å£&lt;/li&gt;
&lt;li&gt;Windowsç™»å½•: 3389&lt;/li&gt;
&lt;li&gt;ping: ICMPåè®®&lt;/li&gt;
&lt;li&gt;HTTP: 80&lt;/li&gt;
&lt;li&gt;HTTPS: 443&lt;/li&gt;
&lt;li&gt;FTP: 20å’Œ21&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="ä¸€é”®æ”¾é€šå…¥ç«™" src="./images/init_tencentyun_securegroup_4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†æ ¹æ®è‡ªå·±éœ€è¦æ·»åŠ è§„åˆ™, å¦‚ä¸‹: (æ”¾é€šTCPçš„8000ç«¯å£)&lt;/p&gt;
&lt;p&gt;&lt;img alt="è‡ªå®šä¹‰è§„åˆ™" src="./images/init_tencentyun_securegroup_5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ€åé…ç½®å‡ºç«™è§„åˆ™, é€‰æ‹©&lt;strong&gt;ä¸€é”®æ”¾é€š&lt;/strong&gt;. ä»¥åå†æ…¢æ…¢ç»†åŒ–, å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ä¸€é”®æ”¾é€šå‡ºæ ˆ" src="./images/init_tencentyun_securegroup_6.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è‡³æ­¤, æ§åˆ¶å°ä¸Šè¯¥é…ç½®çš„å°±é…ç½®çš„å·®ä¸å¤šäº†, æ¥ä¸‹æ¥ç™»å½•ä¸»æœºè¿›è¡Œé…ç½®.&lt;/p&gt;
&lt;h2 id="centos-75"&gt;CentOS 7.5 ä¼˜åŒ–é…ç½®&lt;a class="headerlink" href="#centos-75" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_5"&gt;ç”¨æˆ·/ç™»å½•ç›¸å…³ä¼˜åŒ–&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;åˆ›å»ºæ™®é€šç”¨æˆ· åŸºäºå…¬é’¥ç™»å½•&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºæ™®é€šç”¨æˆ·: &lt;code&gt;useradd -m  -p yourpassword casey&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ™®é€šç”¨æˆ·åŸºäºå…¬é’¥ç™»å½•: (å› ä¸ºä¹‹å‰&lt;strong&gt;åˆ›å»ºå¯†é’¥å¹¶ç»‘å®šä¸»æœº&lt;/strong&gt;, å…¬é’¥å·²ç»å­˜åœ¨äºä¸»æœºä¸Šäº†, æ‰€ä»¥ä¸éœ€è¦keygenäº†, ç›´æ¥å¤åˆ¶å°±å¯ä»¥äº†)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cp /root/.ssh/authorized_keys /home/casey/.ssh &amp;amp;&amp;amp; chown -R casey:casey /home/casey/.ssh/&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¡®è®¤åŸºäºsshå…¬é’¥çš„ç™»å½•æ˜¯å¦å·¥ä½œ&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; å¤‡æ³¨:&lt;/p&gt;
&lt;p&gt;å®Œæ•´çš„&lt;strong&gt;åŸºäºå…¬é’¥&lt;/strong&gt;ç™»å½•çš„æ­¥éª¤å¦‚ä¸‹: (å‰ææ˜¯åˆšå¼€å§‹è¯¥è´¦æˆ·èƒ½é€šè¿‡è´¦å·å¯†ç æ–¹å¼ç™»å½•)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨äº‘ä¸»æœºä¸Šåˆ›å»ºæ™®é€šç”¨æˆ·: &lt;code&gt;useradd -m -p yourpassword hellowordomain&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ ssh-keygenå‘½ä»¤åœ¨äº‘ä¸»æœºä¸Šåˆ›å»ºå¯†åŒ™å¯¹: &lt;code&gt;ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa_tencent_$(date +%Y-%m-%d) -C "tencent key for hellowordomain"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ ssh-copy-id å‘½ä»¤å®‰è£…å…¬åŒ™ï¼š&lt;code&gt;ssh-copy-id -i /path/to/public-key-file user@host&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¡®è®¤åŸºäºsshå…¬é’¥çš„ç™»å½•æ˜¯å¦å·¥ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h4&gt;æ™®é€šç”¨æˆ·é…ç½®sudoæƒé™&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ CentOS/RHEL ç³»ç»Ÿä¸­å¦‚ä½•å°†ç”¨æˆ· vivek æ·»åŠ åˆ° sudo ç»„ä¸­&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ CentOS/RHEL å’Œ Fedora ç³»ç»Ÿä¸­å…è®¸ wheel ç»„ä¸­çš„ç”¨æˆ·æ‰§è¡Œæ‰€æœ‰çš„å‘½ä»¤ã€‚ä½¿ç”¨ usermod å‘½ä»¤å°†ç”¨æˆ· vivek æ·»åŠ åˆ° wheel ç»„ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo usermod -aG wheel vivek
$ id vivek
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;sudoæ— éœ€è¾“å…¥å¯†ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# rootç”¨æˆ·&lt;/span&gt;
visudo

&lt;span class="c1"&gt;# ä¿®æ”¹å¦‚ä¸‹å†…å®¹åä¿å­˜é€€å‡º&lt;/span&gt;
&lt;span class="c1"&gt;## Allows people in group wheel to run all commands&lt;/span&gt;
&lt;span class="c1"&gt;# %wheel        ALL=(ALL)       ALL&lt;/span&gt;

&lt;span class="c1"&gt;## Same thing without a password&lt;/span&gt;
%wheel  &lt;span class="nv"&gt;ALL&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;ALL&lt;span class="o"&gt;)&lt;/span&gt;       NOPASSWD: ALL
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æµ‹è¯•å¹¶ç¡®ä¿ç”¨æˆ· vivek å¯ä»¥ä»¥ root èº«ä»½ç™»å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo -i  &lt;span class="c1"&gt;# åˆ‡æ¢åˆ°rootç”¨æˆ·&lt;/span&gt;
sudo systemctl status sshd  &lt;span class="c1"&gt;# æŸ¥çœ‹sshdçš„çŠ¶æ€&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;&lt;code&gt;sshd_config&lt;/code&gt; ä¼˜åŒ–&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# ç¦ç”¨rootç™»å½•
PermitRootLogin no
ChallengeResponseAuthentication no
PasswordAuthentication no
UsePAM no
# ç¦ç”¨å¯†ç ç™»å½• ä»…ç•™ä¸‹å…¬åŒ™ç™»å½•
AuthenticationMethods publickey
PubkeyAuthentication yes
# ç¦ç”¨ç©ºå¯†ç 
PermitEmptyPasswords no
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æœ€åæµ‹è¯• &lt;code&gt;sshd_config&lt;/code&gt; æ–‡ä»¶å¹¶é‡å¯/é‡æ–°åŠ è½½ SSH æœåŠ¡&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo sshd -t
sudo systemctl restart sshd.service
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_6"&gt;æ›´æ–°ç³»ç»Ÿå’Œè½¯ä»¶&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo yum upgrade -y  &lt;span class="c1"&gt;# å‡çº§æ‰€æœ‰è½¯ä»¶&lt;/span&gt;
sudo yum clean all -y  &lt;span class="c1"&gt;# æ¸…ç†ç¼“å­˜&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="git"&gt;å®‰è£…åŠé…ç½® Git&lt;a class="headerlink" href="#git" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…Git&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo yum install -y --setopt=tsflags=nodocs git&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®git&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git config --global user.name "east4ming"&lt;/code&gt;&lt;br&gt;
&lt;code&gt;git config --global user.email "cuikaidong@foxmail.com"&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ssh-keygen -t rsa -b 4096 -C "cuikaidong@foxmail.com"  # å·²æœ‰ç§é’¥ä¹Ÿå¯ä»¥é‡å¤ä½¿ç”¨&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cat .ssh/id_rsa.pub&lt;/code&gt; å¹¶å¤åˆ¶ (id_rsa.pubæ˜¯å¯¹åº”çš„å…¬é’¥ä¿¡æ¯)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;æ‰“å¼€githubç½‘é¡µç™»å…¥è´¦æˆ·è¿›å…¥è´¦æˆ·settingså·¦è¾¹æ‰¾åˆ°SSHï¼Œå¯ä»¥æ¸…ç†ä¸€ä¸‹æ²¡ç”¨çš„SSH keysï¼Œç„¶åæ–°å»ºä¸€ä¸ª ï¼Œå–åä»»æ„ï¼Œç²˜è´´è¿›å»catäº§ç”Ÿçš„æ‰€æœ‰å­—ç¬¦ã€‚ä¿å­˜å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼“å­˜HTTPSæ–¹å¼çš„å¯†ç : &lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git config --global credential.helper 'cache --timeout=3600'  # Set the cache to timeout after 1 hour (setting is in seconds)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="shell"&gt;ä¼˜åŒ–é…ç½®shell&lt;a class="headerlink" href="#shell" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;å®‰è£…zsh&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo yum install -y --setopt&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;tsflags&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nodocs zsh
zsh --version
sudo chsh -s &lt;span class="k"&gt;$(&lt;/span&gt;which zsh&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# æ³¨é”€&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®‰è£…powerline&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install powerline-status --user
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;å®‰è£…&lt;a href="https://github.com/robbyrussell/oh-my-zsh"&gt;&lt;strong&gt;oh-my-zsh&lt;/strong&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh -c &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="using-oh-my-zsh"&gt;Using Oh My Zsh&lt;a class="headerlink" href="#using-oh-my-zsh" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹æ¥è‡ª oh-my-zsh github&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="plugins"&gt;Plugins&lt;a class="headerlink" href="#plugins" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Oh My Zsh comes with a shitload of plugins to take advantage of. You can take a look in the &lt;a href="https://github.com/robbyrussell/oh-my-zsh/tree/master/plugins"&gt;plugins&lt;/a&gt; directory and/or the &lt;a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins"&gt;wiki&lt;/a&gt;to see what's currently available.&lt;/p&gt;
&lt;h4&gt;Enabling Plugins&lt;/h4&gt;
&lt;p&gt;Once you spot a plugin (or several) that you'd like to use with Oh My Zsh, you'll need to enable them in the &lt;code&gt;.zshrc&lt;/code&gt; file. You'll find the zshrc file in your &lt;code&gt;$HOME&lt;/code&gt; directory. Open it with your favorite text editor and you'll see a spot to list all the plugins you want to load.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vi ~/.zshrc
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For example, this might begin to look like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;plugins=(
git
bundler
dotenv
osx
rake
rbenv
ruby
)
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Using Plugins&lt;/h4&gt;
&lt;p&gt;Most plugins (should! we're working on this) include a &lt;strong&gt;README&lt;/strong&gt;, which documents how to use them.&lt;/p&gt;
&lt;h3 id="themes"&gt;Themes&lt;a class="headerlink" href="#themes" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;We'll admit it. Early in the Oh My Zsh world, we may have gotten a bit too theme happy. We have over one hundred themes now bundled. Most of them have &lt;a href="https://wiki.github.com/robbyrussell/oh-my-zsh/themes"&gt;screenshots&lt;/a&gt; on the wiki. Check them out!&lt;/p&gt;
&lt;h4&gt;Selecting a Theme&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;Robby's theme is the default one. It's not the fanciest one. It's not the simplest one. It's just the right one (for him).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Once you find a theme that you'd like to use, you will need to edit the &lt;code&gt;~/.zshrc&lt;/code&gt; file. You'll see an environment variable (all caps) in there that looks like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;ZSH_THEME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;robbyrussell&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To use a different theme, simply change the value to match the name of your desired theme. For example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;ZSH_THEME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;agnoster&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# (this is one of the fancy ones)&lt;/span&gt;
&lt;span class="c1"&gt;# see https://github.com/robbyrussell/oh-my-zsh/wiki/Themes#agnoster&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;Note: many themes require installing the Powerline Fonts in order to render properly.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Open up a new terminal window and your prompt should look something like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Agnoster theme" src="https://cloud.githubusercontent.com/assets/2618447/6316862/70f58fb6-ba03-11e4-82c9-c083bf9a6574.png"&gt;&lt;/p&gt;
&lt;p&gt;In case you did not find a suitable theme for your needs, please have a look at the wiki for &lt;a href="https://github.com/robbyrussell/oh-my-zsh/wiki/External-themes"&gt;more of them&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you're feeling feisty, you can let the computer select one randomly for you each time you open a new terminal window.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ZSH_THEME=&amp;quot;random&amp;quot; # (...please let it be pie... please be some pie..)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And if you want to pick random theme from a list of your favorite themes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ZSH_THEME_RANDOM_CANDIDATES=(
&amp;quot;robbyrussell&amp;quot;
&amp;quot;agnoster&amp;quot;
)
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 26 Mar 2019 21:09:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-26:/initialize-my-tencentyun-server.html</guid><category>è…¾è®¯äº‘</category><category>äº‘</category><category>centos</category><category>ç›‘æ§</category><category>å‘Šè­¦</category><category>å¯è§‚å¯Ÿæ€§</category><category>å®‰å…¨</category><category>å¯†é’¥</category><category>git</category><category>shell</category></item><item><title>Oracle WebLogic Server 11.1.1.9å‘å¸ƒè¯´æ˜</title><link>https://www.EWhisper.cn/oracle-webLogic-server-11.1.1.9-release-notes.html</link><description>&lt;p&gt;&lt;a href="https://docs.oracle.com/middleware/11119/wls/WLSRN/issues.htm#WLSRN114"&gt;å‚ç…§é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="oracle-weblogic-server"&gt;Oracle WebLogic Serveré—®é¢˜&lt;a class="headerlink" href="#oracle-weblogic-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ¬ç« èŠ‚æè¿°äº†Oracle WebLogic Serverç›¸å…³çš„é—®é¢˜ã€‚å®ƒåŒ…å«ä»¥ä¸‹ä¸»é¢˜ã€‚&lt;br&gt;
ä¸€èˆ¬æ€§é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
ç®¡ç†æ§åˆ¶å°é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
Apache Beehiveæ”¯æŒé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
é›†ç¾¤é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
é…ç½®é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
è¿æ¥å™¨ï¼ˆèµ„æºé€‚é…å™¨ï¼‰é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
æ§åˆ¶å°æ‰©å±•é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
æ ¸å¿ƒæœåŠ¡å™¨å’Œæ ¸å¿ƒå·¥ä½œç®¡ç†å™¨é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
éƒ¨ç½²é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
EJBé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
ç¤ºä¾‹é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
HTTPé—®é¢˜å‘å¸ƒ/è®¢é˜…æœåŠ¡å™¨é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
å®‰è£…é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
JavaEEé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
JDBCé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
JMSé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
JBDIé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
JSPå’ŒServleté—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
JTAé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å’Œè§£å†³åŠæ³•&lt;br&gt;
ç›‘æµ‹é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
èŠ‚ç‚¹ç®¡ç†å™¨é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
æ“ä½œã€ç®¡ç†å’Œå—ç®¡ç†é—®é¢˜åŠè§£å†³åŠæ³•&lt;br&gt;
Oracle Kodoé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
æ’ä»¶é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
åè®®é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
RMI-IIOPé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
å®‰å…¨é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
SNMPé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
WebLogic Serverä¸ŠSpringæ¡†æ¶çš„é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
ç³»ç»Ÿç»„ä»¶ä½“ç³»è§£æ•‘ï¼ˆSCAï¼‰é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
å‡çº§é—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
Webåº”ç”¨ç¨‹åºé—®é¢˜å’Œè§£å†³åŠæ³•&lt;br&gt;
WebLogic Serverè„šæœ¬å·¥å…·ï¼ˆWLSTï¼‰é—®é¢˜åŠè§£å†³åŠæ³•&lt;br&gt;
!!!&lt;br&gt;
WebæœåŠ¡å™¨æ’ä»¶é—®é¢˜å’Œè§£å†³æ–¹æ³•&lt;br&gt;
WebæœåŠ¡å’ŒXMLé—®é¢˜åŠè§£å†³åŠæ³•&lt;br&gt;
æ–‡ä»¶ Errata&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼š&lt;br&gt;
è·å–WebLogic Server 11gï¼ˆ10.3.6ï¼‰ä¿®å¤çš„Bugåˆ—è¡¨ï¼Œè¯·åœ¨ç›´å±åº“å­—æ®µä¸­è¾“å…¥ä»¥ä¸‹æ–‡æ¡£ID 1302753.1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_1"&gt;ä¸€èˆ¬æ€§é—®é¢˜å’Œè§£å†³åŠæ³•&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æœ¬ç« èŠ‚ä»‹ç»ä»¥ä¸‹é—®é¢˜å’Œè§£å†³åŠæ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨Safariæ—¶ï¼Œå¤šå­—èŠ‚å­—ç¬¦åœ¨æ–‡ä»¶åä¸­æ˜¾ç¤ºé”™è¯¯&lt;/li&gt;
&lt;li&gt;Oracle WebLogicçš„ç‰ˆæœ¬å·&lt;/li&gt;
&lt;li&gt;Oracle ojdbc14.jaræ–‡ä»¶æ›´æ”¹ä¸ºojdbc6.jar&lt;/li&gt;
&lt;li&gt;å¼ºå¯†ç å¼ºåˆ¶æ‰§è¡Œå¯èƒ½å¯¼è‡´WLSTç¦»çº¿è„šæœ¬å‡ºç°é—®é¢˜&lt;/li&gt;
&lt;li&gt;åœ¨åœŸè€³å…¶åœ°åŒºï¼Œmdsåˆå§‹åŒ–å¤±è´¥&lt;/li&gt;
&lt;li&gt;ç®¡ç†æœåŠ¡å™¨åœ¨EMæ§åˆ¶å°ä¸ŠæŠ¥å‘Šâ€œå¤ªå¤šæ‰“å¼€æ–‡ä»¶â€æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äº10.3.5.0 Oracle WLSé€šç”¨å®‰è£…çš„Sun JDK 6 U35-B52çš„å¯ç”¨æ€§ã€‚&lt;/li&gt;
&lt;li&gt;IBM JDK SR16 FP3æˆ– JDK 7.0 SR8 FP10ä¿®å¤ç¨‹åºçš„å¯ç”¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ä½¿ç”¨Safariæ—¶ï¼Œå¤šå­—èŠ‚å­—ç¬¦åœ¨æ–‡ä»¶åä¸­æ˜¾ç¤ºé”™è¯¯&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¹³å°ï¼š&lt;/strong&gt; å…¨éƒ¨&lt;br&gt;
å½“ä½¿ç”¨Safariæµè§ˆå™¨ä¸‹è½½å†…å®¹æ—¶ï¼Œå¦‚æœæ–‡ä»¶ååŒ…å«å¤šå­—èŠ‚å­—ç¬¦ï¼Œåˆ™è¿™äº›å­—ç¬¦åœ¨æ–‡ä»¶ä¸­æ˜¾ç¤ºä¸ºä¹±ç &lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;&lt;br&gt;
åœ¨å—ç®¡æœåŠ¡å™¨ä¸Šè®¾ç½®&lt;code&gt;UserHeaderEncoding&lt;/code&gt; ä¸º &lt;code&gt;true&lt;/code&gt; .&lt;br&gt;
ä½¿ç”¨å¦‚ä¸‹WLSTå‘½ä»¤å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;connect(&amp;quot;admin_name&amp;quot;, &amp;quot;admin_password&amp;quot;, &amp;quot;t3://localhost:port&amp;quot;)
edit()
startEdit()
cd(&amp;quot;Servers/server_name/WebServer/server_name&amp;quot;)
set(&amp;quot;UseHeaderEncoding&amp;quot;, &amp;quot;true&amp;quot;)
save()
activate()
exit()
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Oracle WebLogic Server ç‰ˆæœ¬å·&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¹³å°ï¼š&lt;/strong&gt; å…¨éƒ¨&lt;br&gt;
Oracleèåˆä¸­é—´ä»¶11gåŒ…å«Oracle WebLogic Server 11g. Oracle WebLogic Serverç‰ˆæœ¬ä¸º10.3.6.&lt;/p&gt;
&lt;h4&gt;Oracle ojdbc14.jaræ–‡ä»¶æ›´æ”¹ä¸ºojdbc6.jar&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¹³å°ï¼š&lt;/strong&gt; å…¨éƒ¨&lt;br&gt;
Oracle ojdbc14.jar æ›´æ”¹ä¸ºä¸ºojdbc6.jarï¼Œä½¿ç”¨JDK 5æˆ–è€…JDK 6ï¼Œå› æ­¤ï¼Œæ‚¨å¯¹ojdbc14.jarçš„ä»»ä½•æ˜¾ç¤ºå¼•ç”¨éƒ½å¿…é¡»æ›´æ”¹ä¸ºojdbc6.jar&lt;/p&gt;
&lt;h4&gt;å¼ºå¯†ç å¼ºåˆ¶æ‰§è¡Œå¯èƒ½å¯¼è‡´WLSTç¦»çº¿è„šæœ¬å‡ºç°é—®é¢˜&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¹³å°ï¼š&lt;/strong&gt; å…¨éƒ¨&lt;br&gt;
åœ¨æ­¤ç‰ˆæœ¬çš„WebLogic Serverä¸­å®æ–½å¼ºå¯†ç å®æ–½ï¼ˆæœ€å°‘8ä¸ªå­—ç¬¦ï¼Œå¸¦æœ‰ä¸€ä¸ªæ•°å­—æˆ–ç‰¹æ®Šå­—ç¬¦ï¼‰ï¼Œç°æœ‰è„šæœ¬å¯èƒ½é‡åˆ°é—®é¢˜ã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;&lt;br&gt;
&lt;em&gt; å°†&lt;code&gt;ACKWARD_COMPAT_PW_CHECK&lt;/code&gt;å¢ƒå˜é‡è®¾ç½®ä¸º&lt;code&gt;ture&lt;/code&gt;.&lt;br&gt;
&lt;/em&gt; ä½¿ç”¨WLSTæ—¶ï¼Œå¼•ç”¨å‚æ•°&lt;code&gt;-Dbackward.compat.pw.check=true&lt;/code&gt;&lt;br&gt;
&amp;lt;æœªå®Œå¾…ç»­&amp;gt;&lt;br&gt;
Oracleå»ºè®®æ‚¨æ›´æ”¹å¯†ç ä»¥å¤æ ¸æ–°çš„å¯†ç è¦æ±‚ï¼Œå› ä¸ºæ­¤å˜é‡å’Œé€‰é¡¹å°†åœ¨æœªæ¥çš„WebLogic Serverç‰ˆæœ¬ä¸­åˆ é™¤ã€‚&lt;/p&gt;
&lt;h4&gt;åœ¨åœŸè€³å…¶åœ°åŒºï¼Œmdsåˆå§‹åŒ–å¤±è´¥&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¹³å°ï¼š&lt;/strong&gt; å…¨éƒ¨&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">HelloWorDomain</dc:creator><pubDate>Thu, 14 Mar 2019 22:06:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-14:/oracle-webLogic-server-11.1.1.9-release-notes.html</guid><category>WebLogic</category><category>è¯‘æ–‡</category><category>java</category></item><item><title>ä½¿ç”¨ Dynatrace AppMon ç›‘æ§ Docker åº”ç”¨</title><link>https://www.EWhisper.cn/monitoring-docker-app-with-dynatrace.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#appmon-dockerized-apps-basic"&gt;ä½¿ç”¨AppMon ç›‘æ§ dockerized apps (basic)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;åŸºäºç»„åˆçš„æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;åŸºäºç»§æ‰¿çš„æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#qa"&gt;Q&amp;amp;A&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#appmon-dockerized-apps-kubernetes-openshift"&gt;ä½¿ç”¨AppMon ç›‘æ§ dockerized apps - Kubernetes å’Œ OpenShift&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#a"&gt;æ–¹æ¡ˆA: åŸºäºç»§æ‰¿çš„æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#b"&gt;Bæ–¹æ¡ˆ: åŸºäºç»„åˆçš„æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;å¯ä»¥é…ç½® AppMon æ¥ç›‘æ§åŒ…è£¹åœ¨docker å®¹å™¨é‡Œçš„åº”ç”¨:&lt;/p&gt;
&lt;h2 id="appmon-dockerized-apps-basic"&gt;ä½¿ç”¨AppMon ç›‘æ§ dockerized apps (basic)&lt;a class="headerlink" href="#appmon-dockerized-apps-basic" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ¬ç« èŠ‚ä»‹ç»äº†å°†&lt;a href="https://www.dynatrace.com/solutions/application-monitoring/"&gt;AppMon&lt;/a&gt; agentä¸dockerizedåº”ç”¨ç¨‹åºé›†æˆçš„ä¸¤ç§æ–¹æ¡ˆã€‚è¿™äº›æ–¹æ¡ˆåœ¨æœ¬é¡µé¢ä¸Šè¢«ç§°ä¸º&lt;strong&gt;åŸºäºç»„åˆ&lt;/strong&gt;å’Œ&lt;strong&gt;åŸºäºç»§æ‰¿&lt;/strong&gt;çš„æ–¹æ¡ˆã€‚æ¯ä¸ªæ–¹æ¡ˆçš„åˆ©å¼Šéƒ½ä¼šåˆ—å‡º. ä½†æ˜¯ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨&lt;strong&gt;åŸºäºç»§æ‰¿&lt;/strong&gt;çš„æ–¹æ³•ï¼Œè€Œæ˜¯å°†å…¶ç”¨äºæ¼”ç¤ºç›®çš„ã€‚&lt;/p&gt;
&lt;h3 id="_1"&gt;åŸºäºç»„åˆçš„æ–¹æ¡ˆ&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨åŸºäºç»„åˆçš„æ–¹æ¡ˆï¼Œæ‚¨å¯ä»¥ä½¿ç”¨&lt;a href="https://hub.docker.com/r/dynatrace/agent/"&gt;AppMon/agent&lt;/a&gt; Dockeré•œåƒ(ç¤ºä¾‹è§ä¸‹), è¯¥é•œåƒåŒ…å«æ‰€æœ‰çš„AppMon agent, ä½ å¯ä»¥é…ç½®é™„åŠ åˆ°ä½ çš„ç°æœ‰çš„Dockerå®¹å™¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AppMon 6.5 ç¤ºä¾‹:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;#DOCKERFILE FOR DYNATRACE AGENT&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; alpine:3.5&lt;/span&gt;

&lt;span class="k"&gt;LABEL&lt;/span&gt; &lt;span class="nv"&gt;maintainer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Blazej Tomaszewski &amp;lt;blazej.tomaszewski@dynatrace.com&amp;gt;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ARG&lt;/span&gt; DT_HOME
&lt;span class="k"&gt;ARG&lt;/span&gt; BUILD_VERSION
&lt;span class="k"&gt;ARG&lt;/span&gt; VERSION
&lt;span class="k"&gt;ARG&lt;/span&gt; CUID
&lt;span class="k"&gt;ARG&lt;/span&gt; CGID

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-agent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-unix.jar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER32_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-wsagent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86-32.tar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER64_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-wsagent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86-64.tar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;NODE_AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-one-agent-nodejs-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86.tgz
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER32_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER32_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER64_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER64_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;NODE_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;NODE_AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;SLAVE_AGENT_PORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;8001&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;curl&lt;span class="se"&gt;\ &lt;/span&gt;openjdk8-jre-base
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;DT_RUNTIME_DEPS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bash

&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-agent.sh /usr/bin
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-node-agent.sh /usr/bin
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-wsagent.sh /usr/bin

&lt;span class="k"&gt;RUN&lt;/span&gt;  apk update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add --no-cache &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_RUNTIME_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     mkdir -p &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-agent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER32_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER64_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-node-agent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;NODE_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     mkdir -p &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/log/agent &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     apk del &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;ADD&lt;/span&gt;  build/bin/dtnginx_offsets.json.tar.gz &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/agent/conf
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/run-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/create-user.sh /tmp
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;CUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CUID&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;CGID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CGID&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; /bin/sh -c /tmp/create-user.sh &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf /tmp/*
&lt;span class="k"&gt;USER&lt;/span&gt;&lt;span class="s"&gt; ${CUID}:${CGID}&lt;/span&gt;

&lt;span class="k"&gt;CMD&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt; true&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; sleep &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™ç§æ–¹æ³•ä½¿ç”¨äº†dockerçš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒå…è®¸dockerå®¹å™¨å°†å…¶æ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†å¯¼å‡ºä¸º&lt;a href="https://docs.docker.com/engine/tutorials/dockervolumes/"&gt;dockerå·&lt;/a&gt;ï¼Œä»è€Œä½¿å…¶å¯ä»¥è¢«å…¶ä»–æ„Ÿå…´è¶£çš„å®¹å™¨è·å¾—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_1.png"&gt;&lt;/p&gt;
&lt;h4&gt;ç¤ºä¾‹&lt;/h4&gt;
&lt;p&gt;ä»¥ä¸‹ç¤ºä¾‹å‡å®šæ‚¨å·²ç»è¿è¡Œ&lt;code&gt;dynatrace/agent&lt;/code&gt; Dockerå®¹å™¨, é€šè¿‡åå­— &lt;code&gt;dtagent&lt;/code&gt; å¯¼å…¥åˆ°&lt;code&gt;/dynatrace&lt;/code&gt;å®‰è£…ç›®å½•ä½œä¸ºä¸€ä¸ªå·. GitHubä¸Šçš„&lt;a href="https://github.com/Dynatrace/Dynatrace-AppMon-Docker"&gt;AppMon in Docker&lt;/a&gt; é¡¹ç›®åŒ…å«è„šæœ¬æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œç”šè‡³å…è®¸ä½ åœ¨dockerä¸­æ–¹ä¾¿åœ°è®¾ç½®ä¸€ä¸ªå®Œæ•´çš„appmonç¯å¢ƒã€‚æ›´å¤šçš„ä¿¡æ¯å¯ä»¥åœ¨ä»¥ä¸‹çš„"æ€§èƒ½è¯Šæ‰€"(è§†é¢‘)æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;h5&gt;ç¤ºä¾‹: Apache Tomcat&lt;/h5&gt;
&lt;p&gt;ä¸‹è¾¹çš„&lt;code&gt;docker-compose.yml&lt;/code&gt; æŒ‚è½½å®¹å™¨&lt;code&gt;dtagent&lt;/code&gt; å¯¼å…¥çš„å·, å¹¶ä¸”ä½¿ç”¨åˆé€‚çš„&lt;code&gt;-agentpath&lt;/code&gt;æ¥åˆå§‹åŒ–&lt;code&gt;CATALINA_OPTS&lt;/code&gt;ç¯å¢ƒå˜é‡.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;tomcat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;tomcat&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
  &lt;span class="nt"&gt;volumes_from&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;dtagent&lt;/span&gt;
  &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;CATALINA_OPTS&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;-agentpath:/dynatrace/agent/lib64/libdtagent.so=name=tomcat,collector=127.0.0.1:9998&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;catalina.sh run&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;ç¤ºä¾‹: NGINX&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾…è¡¥å……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;åˆ†æ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;: è¿™ç§æ–¹æ³•æœ‰åŠ©äºå·§å¦™åœ°æ¸…æ™°åœ°åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œè¿™æ˜¯Dockerä¸–ç•Œçš„è®¾è®¡åŸåˆ™ã€‚æ­¤å¤–ï¼Œæ‚¨ä¸éœ€è¦å°†agentæ”¾å…¥æ‚¨çš„åŸºæœ¬æ˜ åƒä¸­ã€‚åœ¨è¿è¡Œæ—¶è¿›è¡Œä¸€ä¸ªç®€å•çš„é…ç½®å°±å¯ä»¥ç›‘æ§æ‚¨éœ€è¦çš„å®¹å™¨çš„ä¸€åˆ‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;: è™½ç„¶Dockerè¿è¡Œæ—¶å¯¹å®¹å™¨ä¹‹é—´äº¤æ¢volumesæœ‰å¾ˆå¤§çš„æ”¯æŒï¼Œä½†åœ¨å®¹å™¨ç¼–æ’å¹³å°ï¼ˆå¦‚kubernetesæˆ–openshiftï¼‰ä¸Šè¿™æ ·åšä¼šä½¿æ‚¨çš„åº”ç”¨ç¨‹åºé…ç½®è¿‡äºå¤æ‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_2"&gt;åŸºäºç»§æ‰¿çš„æ–¹æ¡ˆ&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸å»ºè®®ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä»…åœ¨æ­¤å¤„è¿›è¡Œæ¼”ç¤ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»æŠ€æœ¯è§’åº¦è€Œè¨€ï¼ŒDockeråŒ–åº”ç”¨ç¨‹åºé€šå¸¸æ¶‰åŠä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªåŸºæœ¬é•œåƒ, å¦‚:&lt;code&gt;java:8&lt;/code&gt;æˆ–&lt;code&gt;node:7&lt;/code&gt;, æä¾›åŸºç¡€çš„æ‰§è¡Œç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;, ç”¨ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„å®‰è£…æŒ‡ä»¤æ¥æ‰©å……é€‰å®šçš„åŸºæœ¬é•œåƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨ä½ çš„&lt;code&gt;Dockerfile&lt;/code&gt;, è¿è¡Œ&lt;code&gt;docker build&lt;/code&gt;å‘½ä»¤æ¥åˆ›å»ºéœ€è¦çš„Docker é•œåƒ.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/"&gt;Docker Hub&lt;/a&gt;ä¸Šæä¾›äº†ä¸€æ•´å¥—çš„åŸºç¡€é•œåƒ. ä½ å¯ä»¥é˜…è¯»&lt;a href="https://www.digitalocean.com/community/tutorials/docker-explained-using-dockerfiles-to-automate-building-of-images"&gt;ä½¿ç”¨Dockerfilesè‡ªåŠ¨åŒ–é•œåƒæ„å»º&lt;/a&gt;å’Œ&lt;a href="https://docs.docker.com/articles/dockerfile_best-practices/"&gt;å†™Dockerfilesçš„æœ€ä½³å®è·µ&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_2.png"&gt;&lt;/p&gt;
&lt;h4&gt;ç¤ºä¾‹&lt;/h4&gt;
&lt;p&gt;ä½ å¯ä»¥ä¸ºå‡†å¤‡ç›‘æ§çš„åº”ç”¨åˆ›å»ºåŸºç¡€é•œåƒ. æŠŠagentæ‰“åŒ…ä¸ºåŸºç¡€çš„è‡ªåŠ¨å¯ç”¨ç›‘æ§çš„é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_3.png"&gt;&lt;/p&gt;
&lt;h5&gt;ç¤ºä¾‹: Java&lt;/h5&gt;
&lt;p&gt;æœ¬ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;, æ¥æ‰©å±•å®˜æ–¹çš„&lt;a href="https://github.com/docker-library/openjdk"&gt;openJDK Dockeré•œåƒ&lt;/a&gt; åŸºç¡€é•œåƒ, å¹¶ä¸‹è½½å¯¹åº”çš„agent. ä¸ºäº†éå†, éœ€è¦è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡, å¦‚&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;å’Œ&lt;code&gt;DT_AGENT_COLLECTOR&lt;/code&gt;, ä»¥åå¯ä»¥åœ¨è¿™äº›å˜é‡ä¸­å¡«å…¥ä½ è‡ªå·±çš„æ•°æ®. å¦å¤–, &lt;code&gt;JAVA_OPTS&lt;/code&gt;æ·»åŠ ä¸€ä¸ªæŒ‡å‘&lt;code&gt;DT_AGENT_LIB64&lt;/code&gt;çš„&lt;code&gt;-agentpath&lt;/code&gt;å‚æ•°.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; openjdk:8&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_INSTALLER_URL &lt;span class="s2"&gt;&amp;quot;http://files.dynatrace.com/downloads/OnPrem/dynaTrace/6.5/6.5.0.1289/dynatrace-agent-6.5.0.1289-unix.jar&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT                     &lt;span class="s2"&gt;&amp;quot;/dynatrace&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_LIB32         &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/agent/lib/libdtagent.so&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_LIB64         &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/agent/lib64/libdtagent.so&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_NAME          &lt;span class="s2"&gt;&amp;quot;java&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_COLLECTOR     &lt;span class="s2"&gt;&amp;quot;127.0.0.1:9998&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; JAVA_OPTS              &lt;span class="s2"&gt;&amp;quot;-agentpath:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_LIB64&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;=name=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;,collector=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_COLLECTOR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# Install the Agent&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; curl -L -o /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    java -jar /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; -t &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    rm -f /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ„å»ºè¯¥Dockerfileä½¿ç”¨&lt;code&gt;docker build . -t openjdk:8-dtappmon -f ./Dockerfile&lt;/code&gt;åœ¨æœ¬åœ°Dockerä»“åº“åˆ›å»ºä¸€ä¸ªæ–°çš„Dockeré•œåƒ, åå­—ä¸º&lt;code&gt;openjdk&lt;/code&gt;, æ ‡ç­¾ä¸º&lt;code&gt;8-dtappmon&lt;/code&gt;. æ¯ä¸ªåº”ç”¨æ„å»º, ä½ å¯ä»¥é€šè¿‡æ‰©å±•&lt;code&gt;openjdk:8-dtappmon&lt;/code&gt;æ¥åˆ›å»ºåº”ç”¨é•œåƒ(å¦‚ä¸‹æ‰€ç¤º, &lt;code&gt;repo.internal&lt;/code&gt;æŒ‡çš„æ˜¯è™šæ‹Ÿä»“åº“, &lt;code&gt;my-app&lt;/code&gt;æ˜¯è™šæ‹Ÿåº”ç”¨.) ä½ ä¹Ÿå¯ä»¥è¦†ç›–&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;ç¯å¢ƒå˜é‡æ¥åœ¨è¯¥é•œåƒé‡Œæ›´å‡†ç¡®çš„é…ç½®.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; openjdk:8-dtappmon&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_NAME &lt;span class="s2"&gt;&amp;quot;my-app&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; https://repo.internal/my-app/builds/latest.tar.gz /app

&lt;span class="k"&gt;CMD&lt;/span&gt; java &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;JAVA_OPTS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; -jar /app/my-app.jar
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;ç¤ºä¾‹: Nginx&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾…è¡¥å……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;åˆ†æ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;: ä¸€æ—¦agentå·²ç»è¢«æ”¾å…¥ä½ çš„DockeråŸºç¡€æ˜ åƒä¸­ï¼Œåœ¨å“ªä¸ªå®¹å™¨å¹³å°ä¸Šè¿è¡Œä½ çš„åº”ç”¨ç¨‹åºå¹¶ä¸é‡è¦. æ­¤å¤–ï¼Œè¿™ç§æ–¹æ¡ˆå‡å°‘äº†appmonæ•´åˆçš„å‡†å¤‡å·¥ä½œï¼Œä¸ä¼šå¢åŠ é¢‘ç¹buildingï¼Œshippingå’Œrunning Dockerized åº”ç”¨ç¨‹åºè¿‡ç¨‹çš„ä»»ä½•å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;: æ ¹æ®æ‚¨çš„ç‰¹å®šç”¨ä¾‹å’Œæ‚¨æ‰€ä½¿ç”¨çš„æŠ€æœ¯,æ‚¨å¿…é¡»æ‰‹åŠ¨é›†æˆè¿™äº›æŠ€æœ¯. å› ä¸ºè¿™ä¸ªæ–¹æ¡ˆä¼šåœ¨ç‰¹å®šæŠ€æœ¯çš„åŸºç¡€é•œåƒä¸Š, ä¸ç‰¹å®šæŠ€æœ¯çš„agent(å¦‚Java agent)ç´§å¯†ç»‘å®š, å½“åˆ‡æ¢åˆ°å¦ä¸€ç§æŠ€æœ¯æˆ–appmonçš„æ–°ç‰ˆæœ¬æ—¶ï¼Œè¿™äº›åŸºæœ¬é•œåƒå¯èƒ½éœ€è¦è¢«å…¨éƒ¨é‡æ–°åˆ›å»º. (å…¶å®è¿™ä¸ªä¸ç®—ä»€ä¹ˆå¤§é—®é¢˜, å°±æ˜¯å®šæœŸæ›´æ–°agent)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="qa"&gt;Q&amp;amp;A&lt;a class="headerlink" href="#qa" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;æˆ‘èƒ½ç›‘æ§è¿è¡Œåœ¨docker, alpineä¸Šçš„ç¨‹åºä¹ˆ?&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾…è¡¥å……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;æˆ‘èƒ½ç›‘æ§åœ¨kubernetesæˆ–OpenShiftä¸Šå• dockeråŒ–åº”ç”¨ä¹ˆ?&lt;/h4&gt;
&lt;p&gt;æ˜¯çš„. å‚è§ä¸‹ä¸€ç« èŠ‚.&lt;/p&gt;
&lt;h4&gt;æˆ‘èƒ½åœ¨dockerä¸­è¿è¡ŒeasyTravel(AppMonçš„demoç¨‹åº)ä¹ˆ?&lt;/h4&gt;
&lt;p&gt;EasyTravelå·²ç»åœ¨GitHubçš„&lt;a href="https://github.com/dynatrace/Dynatrace-easytravel-docker"&gt;EasyTravel in Docker &lt;/a&gt;å®Œå…¨å®ç°å®¹å™¨åŒ–äº†. ä½ å¯ä»¥ä½¿ç”¨&lt;a href="https://github.com/Dynatrace/Dynatrace-AppMon-Docker"&gt;Dynatrace in Docker&lt;/a&gt;é¡¹ç›®æ¥æ³¨å…¥ç›‘æ§.&lt;/p&gt;
&lt;h2 id="appmon-dockerized-apps-kubernetes-openshift"&gt;ä½¿ç”¨AppMon ç›‘æ§ dockerized apps - Kubernetes å’Œ OpenShift&lt;a class="headerlink" href="#appmon-dockerized-apps-kubernetes-openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç« æè¿°äº†å¦‚ä½•ä½¿ç”¨&lt;a href="https://www.dynatrace.com/solutions/application-monitoring/"&gt;AppMon&lt;/a&gt;ç›‘æ§ æ™®é€šçš„Dockerç¯å¢ƒä¸­çš„Dockerized apps.&lt;/p&gt;
&lt;p&gt;æœ¬ç« é˜è¿°äº†å¦‚ä½•ç›‘æ§åœ¨&lt;a href="http://kubernetes.io/"&gt;Kubernetes&lt;/a&gt;å’Œ&lt;a href="https://www.openshift.com/"&gt;Red Hat OpenShift(v3)&lt;/a&gt;çš„ Dockerized åº”ç”¨. (OpenShiftç®—æ˜¯Kubernetesçš„å•†ä¸šåŒ–).&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šç« "å¦‚ä½•ä½¿ç”¨AppMonç›‘æ§dockerized apps"æ‰€è¿°, æ ¹æ®äºä½ çš„å®é™…æƒ…å†µ,  ä½ å¯èƒ½ä¼šå‘ç°ä¸‹åˆ—çš„æ–¹æ¡ˆæ›´é€‚åˆ. æ¯ç§æ–¹æ¡ˆçš„åˆ©å¼Šéƒ½å·²åˆ—å‡º.&lt;/p&gt;
&lt;h3 id="a"&gt;æ–¹æ¡ˆA: åŸºäºç»§æ‰¿çš„æ–¹æ¡ˆ&lt;a class="headerlink" href="#a" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åŸºäºç»§æ‰¿çš„æ–¹æ¡ˆçš„ç›®æ ‡æ˜¯æŠŠAppMonçš„agentæ”¾åˆ°ä½ çš„DockeråŸºç¡€é•œåƒé‡Œ. å› ä¸ºKuberneteså’ŒOpenShiftéƒ½æ˜¯å®¹å™¨å¹³å°, è¿™ç§æ–¹æ¡ˆå…è®¸ä½ æ¥åœ¨è¿™äº›å¹³å°ä¸Šå¤ç”¨ä½ çš„å¯ç”¨ç›‘æ§çš„é•œåƒ. ç„¶è€Œ, å› ä¸ºOpenShiftæ˜¯ä¸€ä¸ªå®‰å…¨åŠ å›ºçš„å®¹å™¨å¹³å°, ä½¿ç”¨rootè¿è¡Œå®¹å™¨å’Œæ‰§è¡Œè¿›ç¨‹(å¤§éƒ¨åˆ†Dockeréƒ½æ˜¯è¿™ä¹ˆæ„å»ºçš„)é»˜è®¤ä¼šè¢«ç¦æ­¢.  å‚è€ƒ&lt;a href="https://docs.openshift.org/latest/creating_images/guidelines.html"&gt;OpenShift å®¹å™¨é•œåƒå‘å¯¼&lt;/a&gt;æ¥å­¦ä¹ å¦‚ä½•ä¸ºOpenShiftå‡†å¤‡ä½ çš„Dockeré•œåƒ. å‚è§&lt;a href="https://www.dynatrace.com/support/doc/appmon/application-monitoring/monitor-specific-applications/monitor-docker-apps/monitor-dockerized-apps-with-appmon/"&gt;å¦‚ä½•ä½¿ç”¨AppMonç›‘æ§dockerized apps&lt;/a&gt;è·å–å¦‚ä½•åº”ç”¨æœ¬æ–¹æ¡ˆåˆ°ä½ çš„Dockeré•œåƒ.&lt;/p&gt;
&lt;h4&gt;ç¤ºä¾‹: Java&lt;/h4&gt;
&lt;p&gt;å› ä¸ºåœ¨ä½ çš„åŸºç¡€é•œåƒä¸­çš„ç‰¹å®šæŠ€æœ¯å·²è¢«appmonç›‘æ§ï¼Œå› æ­¤åªéœ€ç®€å•çš„è¿è¡Œæ—¶é…ç½®è®¾ç½®å³å¯å°†agentç»‘å®šåˆ°appmon collectorã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹åˆ—ä¾‹å­ä¸ºä¸€ä¸ªè¿è¡Œåœ¨&lt;a href="http://kubernetes.io/docs/user-guide/pods/"&gt;Pod&lt;/a&gt;ä¸Šçš„ä¸€ä¸ªå«åš&lt;em&gt;catalog&lt;/em&gt;çš„å®¹å™¨å®šä¹‰äº†ä¸€ä¸ª&lt;a href="http://kubernetes.io/docs/user-guide/replication-controller/"&gt;ReplicationController&lt;/a&gt;. ç¯å¢ƒå˜é‡&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;å’Œ&lt;code&gt;DT_AGENT_COLLECTOR&lt;/code&gt;(&lt;a href="https://www.dynatrace.com/support/doc/appmon/application-monitoring/monitor-specific-applications/monitor-docker-apps/monitor-dockerized-apps-with-appmon/"&gt;å¦‚ä½•ä½¿ç”¨AppMonç›‘æ§dockerized apps&lt;/a&gt;ä¸­å·²å®šä¹‰å¥½)è¦†ç›–æ‰ç”±åŸºç¡€çš„&lt;code&gt;acmeco/my-app&lt;/code&gt;é•œåƒæä¾›çš„å„è‡ªçš„å¯¹åº”å€¼.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ReplicationController&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-app&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-app&lt;/span&gt;
        &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;acmeco/my-app&lt;/span&gt;
        &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DT_AGENT_NAME&lt;/span&gt;
          &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;my-app&amp;quot;&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DT_AGENT_COLLECTOR&lt;/span&gt;
          &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;dtappmon-collector.acmeco.com:9998&amp;quot;&lt;/span&gt;
        &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;containerPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;ç¤ºä¾‹: Nginx&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾…è¡¥å……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;åˆ†æ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;: ä¸€æ—¦agentå·²ç»è¢«æ”¾å…¥ä½ çš„DockeråŸºç¡€æ˜ åƒä¸­ï¼Œåœ¨å“ªä¸ªå®¹å™¨å¹³å°ä¸Šè¿è¡Œä½ çš„åº”ç”¨ç¨‹åºå¹¶ä¸é‡è¦. æ­¤å¤–ï¼Œè¿™ç§æ–¹æ¡ˆå‡å°‘äº†appmonæ•´åˆçš„å‡†å¤‡å·¥ä½œï¼Œä¸ä¼šå¢åŠ é¢‘ç¹buildingï¼Œshippingå’Œrunning Dockerized åº”ç”¨ç¨‹åºè¿‡ç¨‹çš„ä»»ä½•å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;: æ ¹æ®æ‚¨çš„ç‰¹å®šç”¨ä¾‹å’Œæ‚¨æ‰€ä½¿ç”¨çš„æŠ€æœ¯,æ‚¨å¿…é¡»æ‰‹åŠ¨é›†æˆè¿™äº›æŠ€æœ¯. å› ä¸ºè¿™ä¸ªæ–¹æ¡ˆä¼šåœ¨ç‰¹å®šæŠ€æœ¯çš„åŸºç¡€é•œåƒä¸Š, ä¸ç‰¹å®šæŠ€æœ¯çš„agent(å¦‚Java agent)ç´§å¯†ç»‘å®š, å½“åˆ‡æ¢åˆ°å¦ä¸€ç§æŠ€æœ¯æˆ–appmonçš„æ–°ç‰ˆæœ¬æ—¶ï¼Œè¿™äº›åŸºæœ¬é•œåƒå¯èƒ½éœ€è¦è¢«å…¨éƒ¨é‡æ–°åˆ›å»º. (å…¶å®è¿™ä¸ªä¸ç®—ä»€ä¹ˆå¤§é—®é¢˜, å°±æ˜¯å®šæœŸæ›´æ–°agent)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="b"&gt;Bæ–¹æ¡ˆ: åŸºäºç»„åˆçš„æ–¹æ¡ˆ&lt;a class="headerlink" href="#b" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾…è¡¥å…….&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 12 Mar 2019 10:58:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-12:/monitoring-docker-app-with-dynatrace.html</guid><category>APM</category><category>Dynatrace</category><category>docker</category></item><item><title>8ç§Java å†…å­˜æº¢å‡ºä¹‹ä¸€:Java Heap Space</title><link>https://www.EWhisper.cn/java-oom-1-java-heap-space.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#11-javalangoutofmemoryerror-java-heap-space"&gt;1.1  java.lang.OutOfMemoryError: Java heap space æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#12"&gt;1.2 åŸå› &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#13"&gt;1.3 ç¤ºä¾‹&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#131-1"&gt;1.3.1 ç¤ºä¾‹1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#132"&gt;1.3.2 å†…å­˜æ³„æ¼ç¤ºä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#14"&gt;1.4 è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="11-javalangoutofmemoryerror-java-heap-space"&gt;1.1  java.lang.OutOfMemoryError: Java heap space æ¦‚è¿°&lt;a class="headerlink" href="#11-javalangoutofmemoryerror-java-heap-space" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Java åº”ç”¨åªå…è®¸ä½¿ç”¨æœ‰é™çš„å†…å­˜ã€‚è¿™ä¸ªé™åˆ¶æ˜¯åœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™æŒ‡å®šçš„ã€‚å±•å¼€æ¥è¯´ï¼Œ Javaå†…å­˜åˆ†æˆ2ä¸ªä¸åŒçš„åŒºåŸŸã€‚è¿™ä¸¤ä¸ªåŒºåŸŸå«åšHeap Space ï¼ˆå †å†…å­˜ï¼‰å’Œ Permgen ï¼ˆPermanent Generationï¼Œå³æ°¸ä¹…ä»£ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="javaå†…å­˜ç»“æ„" src="https://www.EWhisper.cn/images/java_memory.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªåŒºçš„å¤§å°æ˜¯åœ¨JVMå¯åŠ¨çš„æ—¶å€™è®¾ç½®, å¯ä»¥é€šè¿‡JVMå‚æ•°&lt;code&gt;-Xmx&lt;/code&gt; å’Œ &lt;code&gt;-XX:MaxPermSize&lt;/code&gt;è¿›è¡Œè®¾ç½®. å¦‚æœä½ æ²¡æ¬§è¿›è¡Œç‰¹åˆ«çš„è®¾ç½®, &lt;strong&gt;å¹³å°æŒ‡å®š&lt;/strong&gt;çš„é»˜è®¤é…ç½®ä¼šè¢«ä½¿ç”¨.&lt;br&gt;
&lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt; é”™è¯¯ä¼šåœ¨åº”ç”¨å°è¯•æ·»åŠ æ›´å¤šçš„æ•°æ®åˆ°heap space, ä½†æ˜¯heapåŒºæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ—¶è§¦å‘.&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯å³ä½¿&lt;strong&gt;ç‰©ç†å†…å­˜&lt;/strong&gt;å¯èƒ½æœ‰å¾ˆå¤šå‰©ä½™, ä½†æ˜¯åªè¦JVMè¾¾åˆ°äº†heap sizeçš„é™åˆ¶, å°±ä¼šæŠ›å‡ºè¯¥é”™è¯¯.&lt;/p&gt;
&lt;h2 id="12"&gt;1.2 åŸå› &lt;a class="headerlink" href="#12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¯¹äº &lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt; , æœ€å¸¸è§çš„åŸå› å¾ˆç®€å• -- ä½ æŠŠä¸€ä¸ªXXLå·çš„åº”ç”¨æ”¾åˆ°äº†ä¸€ä¸ªSå·çš„Java heap spaceé‡Œäº†. ä¹Ÿå°±æ˜¯è¯´ -- åº”ç”¨éœ€è¦æ›´å¤šçš„Java heap space æ¥è®©å®ƒæ­£å¸¸è¿è¡Œ. å¯¹äºè¿™ä¸ªOutOfMemory, å…¶ä»–çš„åŸå› ä¼šæ›´å¤æ‚, é€šå¸¸æ˜¯ç”±äºç¼–ç¨‹é”™è¯¯å¼•èµ·çš„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·/æ•°æ®é‡å‡ºç°å³°å€¼&lt;/strong&gt; è¯¥åº”ç”¨è¢«è®¾è®¡æ¥å¤„ç†ä¸€å®šæ•°é‡çš„ç”¨æˆ·å’Œä¸€å®šæ•°é‡çš„æ•°æ®. å½“ç”¨æˆ·æ•°æˆ–æ•°æ®é‡çªç„¶å†²é«˜, å¹¶ä¸”è¶…è¿‡äº†æœŸæœ›çš„é˜ˆå€¼, åœ¨å‡ºç°å³°å€¼åœæ­¢ä¹‹å‰çš„æ­£å¸¸è¿è¡Œæ—¶çš„æ“ä½œè§¦å‘äº† &lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt; é”™è¯¯.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜æ³„æ¼&lt;/strong&gt; ä¸€ç§ç‰¹å®šç±»å‹çš„ç¼–ç¨‹é”™è¯¯å¯¼è‡´åº”ç”¨é¢‘ç¹æ¶ˆè€—æ›´å¤šçš„å†…å­˜. æ¯å½“åº”ç”¨çš„æ³„æ¼çš„åŠŸèƒ½è¢«ä½¿ç”¨æ—¶, å®ƒå°±ä¼šåœ¨Java heap spaceç§ç”Ÿæˆä¸€äº›å¯¹è±¡. éšç€æ—¶é—´æ¨ç§», æ³„æ¼çš„å¯¹è±¡æ¶ˆè€—äº†æ‰€æœ‰å¯ç”¨çš„Java heap space, å¹¶ä¸”è§¦å‘äº†å¸¸è§çš„&lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt;  é”™è¯¯.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="13"&gt;1.3 ç¤ºä¾‹&lt;a class="headerlink" href="#13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="131-1"&gt;1.3.1 ç¤ºä¾‹1&lt;a class="headerlink" href="#131-1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªä¾‹å­ç›¸å½“ç®€å• -- ä¸‹åˆ—çš„Java ä»£ç å°è¯•åˆ†é…200ä¸‡ä¸ª(2M) æ•´æ•°æ•°ç»„. å½“ä½ ç¼–è¯‘è¯¥ä»£ç , ç”¨ä¸€ä¸ª12MBå¤§å°çš„Java heap space (&lt;code&gt;java -Xmx12m OOM&lt;/code&gt;)è¿è¡Œ. å®ƒä¼šè¿è¡Œå¤±è´¥, æŠ›å‡º &lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt;  æ¶ˆæ¯. æœ‰13MB Java heap space, è¿™ä¸ªç¨‹åºå°±èƒ½æ­£å¸¸è¿è¡Œ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;OOM&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kd"&gt;final&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;SIZE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
  &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SIZE&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;
  &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="132"&gt;1.3.2 å†…å­˜æ³„æ¼ç¤ºä¾‹&lt;a class="headerlink" href="#132" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;ç¬¬äºŒä¸ª, æ›´ç°å®ä¸€ç‚¹çš„ä¾‹å­æ˜¯å†…å­˜æ³„æ¼. åœ¨Javaé‡Œ, å½“å¼€å‘åˆ›å»ºå’Œä½¿ç”¨æ–°å¯¹è±¡, å¦‚: &lt;code&gt;new Integer(5)&lt;/code&gt;, ä»–ä»¬ä¸å¿…è‡ªå·±åˆ†æ´¾å†…å­˜ -- è¿™é€šè¿‡JVMæ¥å¤„ç†. åœ¨åº”ç”¨ç”Ÿå‘½å‘¨æœŸç§, JVMä¼šå‘¨æœŸæ€§åœ°æ£€æŸ¥å†…å­˜ä¸­çš„å“ªä¸ªå¯¹è±¡ä»åœ¨ä½¿ç”¨, å“ªä¸ªæ²¡æœ‰. æ²¡æœ‰è¢«ä½¿ç”¨çš„å¯¹è±¡ä¼šè¢«ä¸¢å¼ƒ, ç„¶åå†…å­˜é‡æ–°å£°æ˜å¹¶é‡æ–°ä½¿ç”¨. è¿™ä¸ªè¿‡ç¨‹å«åš&lt;strong&gt;åƒåœ¾å›æ”¶&lt;/strong&gt;. å¯¹åº”çš„JVMé‡Œçš„æ¨¡å—å«åš&lt;strong&gt;åƒåœ¾æ”¶é›†å™¨&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Javaçš„è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ä»¥æ¥ä¸GCæ¥å‘¨æœŸæ€§åœ°æŸ¥æ‰¾æ²¡ç”¨çš„å¯¹è±¡å¹¶ç§»é™¤ä»–ä»¬. ç®€è€Œè¨€ä¹‹, Javaå†…å­˜æ³„æ¼æ˜¯è¿™ä¹ˆä¸€ç§åœºæ™¯, ä¸€äº›å¯¹è±¡åº”ç”¨å·²ç»ä¸ç”¨äº†, ä½†æ˜¯GCå´æ²¡æœ‰æ£€æŸ¥å‡ºæ¥. ç»“æœå°±æ˜¯è¿™äº›æ²¡ç”¨çš„å¯¹è±¡ä»ç„¶æ— é™æœŸåœ°å­˜åœ¨åœ¨Java heap space ä¸­. å¦‚æ­¤å¾€å¤, æœ€ç»ˆè§¦å‘&lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt;é”™è¯¯.&lt;/p&gt;
&lt;p&gt;æ„é€ ä¸€ä¸ªæ»¡è¶³å†…å­˜æ³„æ¼å®šä¹‰çš„Javaç¨‹åºä¹Ÿç›¸å½“å®¹æ˜“:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;KeylessEntry&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Key&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Integer&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;Key&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Integer&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
  &lt;span class="nd"&gt;@Override&lt;/span&gt;
    &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;hashCode&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;hashCode&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
  &lt;span class="o"&gt;}&lt;/span&gt;
  &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Map&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;HashMap&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
      &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(!&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;containsKey&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Key&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
          &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;put&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Key&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Nmber:&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
  &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å½“æ‰§è¡Œä¸Šé¢çš„ä»£ç æ—¶ï¼Œæ‚¨å¯èƒ½æœŸæœ›å®ƒæ°¸è¿œè¿è¡Œè€Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå‡è®¾åŸå§‹ç¼“å­˜è§£å†³æ–¹æ¡ˆåªå°†Mapæ‰©å±•åˆ°10,000ä¸ªå…ƒç´ ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒHashMapä¸­å·²ç»åŒ…å«äº†æ‰€æœ‰é”®. ç„¶è€Œ, äº‹å®ä¸Šå…ƒç´ ä¼šæŒç»­å¢åŠ å› ä¸ºKeyè¿™ä¸ªç±»æ²¡æœ‰åœ¨å®ƒçš„&lt;code&gt;hashCode()&lt;/code&gt;ç§åŒ…å«ä¸€ä¸ªé€‚å½“çš„&lt;code&gt;equals()&lt;/code&gt;å®ç°.&lt;/p&gt;
&lt;p&gt;ç»“æœ, éšç€æ—¶é—´æ¨ç§», å› ä¸ºæ³„æ¼ä»£ç çš„ä¸æ–­çš„ä½¿ç”¨, "ç¼“å­˜"çš„ç»“æœä¼šæ¶ˆè€—å¤§é‡çš„Java heap space. å½“æ³„æ¼çš„å†…å­˜å¡«æ»¡äº†heapåŒºçš„æ‰€æœ‰çš„å¯ç”¨å†…å­˜, å¹¶ä¸”åƒåœ¾æ”¶é›†å™¨æ— æ³•æ¸…ç†, ä¼šæŠ›å‡º&lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•ä¹Ÿç®€å• -- æ·»åŠ ä¸ª&lt;code&gt;equals()&lt;/code&gt;æ–¹æ³•çš„å®ç°åœ¨ä¸‹è¾¹, å°±èƒ½å¾ˆå¥½çš„è¿è¡Œäº†. ä½†æ˜¯åœ¨ä½ æœ€ç»ˆæ‰¾åˆ°è¿™ä¸ªbugä¹‹å‰, ä½ ä¼šè¥¿æ¬§çˆ±å¥½ç›¸å½“å¤šçš„è„‘ç»†èƒ.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@Override&lt;/span&gt;
&lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;boolean&lt;/span&gt; &lt;span class="nf"&gt;equals&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="kt"&gt;boolean&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt; &lt;span class="k"&gt;instanceof&lt;/span&gt; &lt;span class="n"&gt;Key&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(((&lt;/span&gt;&lt;span class="n"&gt;Key&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="na"&gt;equals&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
  &lt;span class="o"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="14"&gt;1.4 è§£å†³æ–¹æ¡ˆ&lt;a class="headerlink" href="#14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æ˜¾ç„¶ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯ -- å½“ä½ çš„JVMç‰¹å®šèµ„æºè€—å°½äº†, ä½ åº”è¯¥å¢åŠ é‚£ä¸ªèµ„æºçš„é‡. åœ¨è¿™ä¸ªæ¡ˆä¾‹ç§: å½“ä½ çš„åº”ç”¨æ²¡æœ‰è¶³å¤Ÿçš„Java heap spaceå†…å­˜æ¥æ­£å¸¸è¿è¡Œ, åªéœ€è¦åœ¨è¿è¡ŒJVMçš„æ—¶å€™é…ç½®å¹¶æ·»åŠ (æˆ–ä¿®æ”¹ç°æœ‰çš„)å¦‚ä¸‹å‚æ•°:&lt;br&gt;
&lt;code&gt;-Xmx1024m&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°é…ç½®ä¼šç»™åº”ç”¨1024Mçš„Java heap space. ä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;g&lt;/code&gt;æˆ–è€…&lt;code&gt;G&lt;/code&gt;(å•ä½æ˜¯GB), &lt;code&gt;m&lt;/code&gt;æˆ–&lt;code&gt;M&lt;/code&gt;(MB), &lt;code&gt;k&lt;/code&gt;æˆ–&lt;code&gt;K&lt;/code&gt;(KB). ä¾‹å¦‚ä¸‹åˆ—éƒ½æ˜¯è®¾ç½®æœ€å¤§Java heap spaceä¸º1GB:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;java -Xmx1073741824 com.mycompany.MyClass
java -Xmx1048576k com.mycompany.MyClass
java -Xmx1024m com.mycompany.MyClass
java -Xmx1g com.mycompany.MyClass
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç„¶è€Œ, åœ¨å¾ˆå¤šæ¡ˆä¾‹ç§, æä¾›æ›´å¤šçš„Java heap spaceåªæ˜¯é¥®é¸©æ­¢æ¸´. ä¾‹å¦‚, å¦‚æœä½ çš„åº”ç”¨å­˜åœ¨å†…å­˜æ³„æ¼, æ·»åŠ æ›´å¤šçš„heapåªæ˜¯å»¶ç¼“&lt;code&gt;java.lang.OutOfMemoryError: Java heap space&lt;/code&gt;é”™è¯¯çš„å‡ºç°, å¹¶ä¸èƒ½è§£å†³é—®é¢˜. å¦å¤–, å¢åŠ Java heap spaceä¹Ÿä¼šå¯¼è‡´GCæš‚åœæ—¶é—´çš„å¢åŠ , ä»è€Œå½±å“ä½ çš„åº”ç”¨çš„&lt;a href="https://plumbr.eu/blog/gc-impact-on-throughput-and-latency"&gt;ååé‡å’Œå»¶è¿Ÿ&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¸Œæœ›è§£å†³æ½œåœ¨çš„é—®é¢˜, è€Œä¸æ˜¯å¤´ç—›åŒ»å¤´, è”ç³»æˆ‘å°±æ˜¯æœ€å¥½çš„æ–¹å¼(ï¼ ï¿£ãƒ¼ï¿£ï¼ ). å½“ç„¶, æœ‰å‡ ä¸ªå·¥å…·é€‚åˆä½ . &lt;strong&gt;Debuggers&lt;/strong&gt;, &lt;strong&gt;profiles&lt;/strong&gt;, &lt;strong&gt;heap dump analyzers&lt;/strong&gt; -- ä¾›ä½ é€‰æ‹©.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢˜å¤–è¯:&lt;br&gt;
Dynatrace ä¹Ÿæ˜¯ä¸ªåˆ†æOOMé—®é¢˜çš„å¥½å·¥å…·.æ„Ÿå…´è¶£çš„å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« :&lt;br&gt;
ã€Šæ¡ˆä¾‹: Dynatraceåˆ†ææŸè´¢é™©æ‰¿ä¿ç³»ç»Ÿå†…å­˜æ³„æ¼é—®é¢˜ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å–œæ¬¢æˆ‘çš„åšå®¢å—? æ‰“èµä¸€æ¯&lt;img align="absmiddle" alt="â˜•" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2615.png" title=":coffee:" width="20px"&gt;å§ã€‚æ‚¨çš„æ”¯æŒæ˜¯å¯¹æˆ‘çš„æœ€å¤§é¼“åŠ±ï½ å¦å¤–è®°å¾—ç»™æˆ‘ç•™è¨€æˆ–è®¢é˜…å“¦ &lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;img align="absmiddle" alt="ğŸ‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f389.png" title=":tada:" width="20px"&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href="https://www.EWhisper.cn/pages/about.html"&gt;ç‚¹å‡»è¿™é‡Œæ‰“èµ&lt;img align="absmiddle" alt="ğŸ‘‰" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f449.png" title=":point_right:" width="20px"&gt;&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Tue, 12 Mar 2019 10:48:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-12:/java-oom-1-java-heap-space.html</guid><category>jvm</category><category>java</category><category>oom</category></item><item><title>å¦‚ä½•ç¼–å†™Python Webæ¡†æ¶ï¼ˆä¸‰ï¼‰</title><link>https://www.EWhisper.cn/write-python-framework-part-three.html</link><description>&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä¸ºè¯‘æ–‡&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href="http://rahmonov.me/posts/write-python-framework-part-three/"&gt;How to write a Python web framework. Part III.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…: Jahongir Rahmonov&lt;/p&gt;
&lt;p&gt;Githubä»“åº“: &lt;a href="https://github.com/rahmonov/alcazar"&gt;alcazar&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨æœ¬ç³»åˆ—ä¹‹å‰çš„åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™è‡ªå·±çš„Pythonæ¡†æ¶å¹¶å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WSGIå…¼å®¹&lt;/li&gt;
&lt;li&gt;è¯·æ±‚å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;li&gt;è·¯ç”±ï¼šç®€å•å’Œå‚æ•°åŒ–&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥é‡å¤çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;åŸºäºç±»çš„å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;li&gt;å•å…ƒæµ‹è¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è¿™éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºåˆ—è¡¨æ·»åŠ ä¸€äº›å¾ˆæ£’çš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹è¯•å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;æ·»åŠ è·¯å¾„çš„æ›¿ä»£æ–¹å¼ï¼ˆå¦‚ç±»ä¼¼Djangoçš„å®ç°ï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ¨¡æ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_1"&gt;æµ‹è¯•å®¢æˆ·ç«¯&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨ç¬¬&lt;a href="https://www.EWhisper.cn/write-python-framework-part-two.html"&gt;2éƒ¨åˆ†ä¸­&lt;/a&gt;ï¼Œæˆ‘ä»¬ç¼–å†™äº†å‡ ä¸ªå•å…ƒæµ‹è¯•ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦å‘å¤„ç†ç¨‹åºå‘é€HTTPè¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬åœæ­¢äº†ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œçš„æµ‹è¯•å®¢æˆ·ç«¯ã€‚æˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåœ¨Pythonä¸­å‘é€HTTPè¯·æ±‚æœ€æµè¡Œçš„æ–¹å¼æ˜¯&lt;a href="https://twitter.com/kennethreitz"&gt;Kenneth Reitz&lt;/a&gt;çš„&lt;a href="https://github.com/kennethreitz/requests"&gt;&lt;code&gt;Requests&lt;/code&gt;&lt;/a&gt;åº“ã€‚ä½†æ˜¯ï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬åº”è¯¥å§‹ç»ˆå¯åŠ¨å¹¶è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼ˆå³åœ¨è¿è¡Œæµ‹è¯•ä¹‹å‰å¯åŠ¨gunicornï¼‰ã€‚åŸå› æ˜¯&lt;a href="http://docs.python-requests.org/en/master/user/advanced/#transport-adapters"&gt;&lt;code&gt;Requests&lt;/code&gt;åªé™„å¸¦ä¸€ä¸ªTransport Adaptter: HTTPAdapter&lt;/a&gt;ã€‚è¿™è¿èƒŒäº†å•å…ƒæµ‹è¯•çš„ç›®çš„ã€‚å•å…ƒæµ‹è¯•åº”è¯¥æ˜¯è‡ªæˆ‘ç»´æŒçš„ã€‚å¯¹æˆ‘ä»¬æ¥è¯´å¹¸è¿çš„æ˜¯ï¼Œ&lt;a href="https://github.com/seanbrant"&gt;Sean Brant&lt;/a&gt;ç¼–å†™äº†ä¸€ä¸ª&lt;a href="https://github.com/seanbrant/requests-wsgi-adapter"&gt;WSGI Transport Adapterï¼Œç”¨äº&lt;/a&gt;åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯ã€‚è®©æˆ‘ä»¬å…ˆç¼–å†™ä»£ç å†è¿›è¡Œè®¨è®ºã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="â—" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2757.png" title=":exclamation:" width="20px"&gt; è¯‘è€…æ³¨:&lt;/p&gt;
&lt;p&gt;å…ˆå®‰è£…2ä¸ªåº“:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pip install requests&lt;/code&gt;&lt;br&gt;
&lt;code&gt;pip install requests-wsgi-adapter&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°†ä»¥ä¸‹æ–¹æ³•æ·»åŠ åˆ°&lt;code&gt;api.py&lt;/code&gt;ä¸»ç±»&lt;code&gt;API&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Session&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;RequestsSession&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;wsgiadapter&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;WSGIAdapter&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;RequestsWSGIAdapter&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_session&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;base_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://testserver&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;session&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RequestsSession&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mount&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prefix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;base_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;adapter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;RequestsWSGIAdapter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æ­¤&lt;a href="http://docs.python-requests.org/en/master/user/advanced/#transport-adapters"&gt;å¤„æ‰€è¿°&lt;/a&gt;ï¼Œè¦ä½¿ç”¨Requests WSGI Adapterï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶mountåˆ°Sessionå¯¹è±¡ã€‚è¿™æ ·ï¼Œä½¿ç”¨&lt;code&gt;test_session&lt;/code&gt;,å…¶URLä»¥ç»™å®šå‰ç¼€å¼€å¤´çš„ä»»ä½•è¯·æ±‚éƒ½å°†ä½¿ç”¨ç»™å®šçš„RequestsWSGIAdapterã€‚å¤ªå¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨&lt;code&gt;test_session&lt;/code&gt;æ¥åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¢æˆ·ç«¯ã€‚åˆ›å»ºä¸€ä¸ª&lt;code&gt;conftest.py&lt;/code&gt;æ–‡ä»¶å¹¶å°†&lt;code&gt;api&lt;/code&gt; fixture ç§»åŠ¨åˆ°æ­¤æ–‡ä»¶ï¼Œä½¿å…¶å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# conftest.py&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytest&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;api&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;


&lt;span class="nd"&gt;@pytest.fixture&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;api&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ­¤æ–‡ä»¶çš„&lt;code&gt;pytest&lt;/code&gt;é»˜è®¤æƒ…å†µä¸‹ä¼šæŸ¥æ‰¾fixture ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨è¿™é‡Œåˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯fixture ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# conftest.py&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="nd"&gt;@pytest.fixture&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;client&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;test_session&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä»¬çš„&lt;code&gt;client&lt;/code&gt;éœ€è¦&lt;code&gt;api&lt;/code&gt; fixture å¹¶è¿”å›æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„å†…å®¹&lt;code&gt;test_session&lt;/code&gt;ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨è¿™ä¸ª&lt;code&gt;client&lt;/code&gt; fixture ã€‚è®©æˆ‘ä»¬ç›´æ¥è¿›å…¥&lt;code&gt;test_bumbo.py&lt;/code&gt;æ–‡ä»¶å¹¶ç¼–å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œæµ‹è¯•æ˜¯å¦&lt;code&gt;client&lt;/code&gt;å¯ä»¥å‘é€è¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# test_bumbo.py&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_bumbo_test_client_can_send_requests&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;RESPONSE_TEXT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;THIS IS COOL&amp;quot;&lt;/span&gt;

    &lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/hey&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;cool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RESPONSE_TEXT&lt;/span&gt;

    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://testserver/hey&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;RESPONSE_TEXT&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿è¡Œå•å…ƒæµ‹è¯•&lt;code&gt;pytest test_bumbo.py&lt;/code&gt;å¹¶è§‚å¯Ÿã€‚æˆ‘ä»¬çœ‹åˆ°æ‰€æœ‰çš„æµ‹è¯•éƒ½é€šè¿‡äº†ã€‚è®©æˆ‘ä»¬ä¸ºæœ€é‡è¦çš„éƒ¨åˆ†æ·»åŠ å‡ ä¸ªå•å…ƒæµ‹è¯•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# test_bumbo.py&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_parameterized_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/{name}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;hello&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hey {name}&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://testserver/matthew&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;hey matthew&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://testserver/ashley&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;hey ashley&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªæµ‹è¯•æˆ‘ä»¬åœ¨urlä¸­å‘é€çš„å‚æ•°æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# test_bumbo.py&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_default_404_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://testserver/doesnotexist&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt;
    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Not found.&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™ä¸ªæµ‹è¯•å¦‚æœè¯·æ±‚è¢«å‘é€åˆ°ä¸å­˜åœ¨çš„è·¯ç”±ï¼Œåˆ™è¿”å›404ï¼ˆæœªæ‰¾åˆ°ï¼‰å“åº”ã€‚&lt;/p&gt;
&lt;p&gt;å‰©ä¸‹çš„æˆ‘ä¼šç•™ç»™ä½ ã€‚å¦‚æœæ‚¨éœ€è¦ä»»ä½•å¸®åŠ©ï¼Œè¯·å°è¯•ç¼–å†™æ›´å¤šæµ‹è¯•å¹¶åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚ä»¥ä¸‹æ˜¯å•å…ƒæµ‹è¯•çš„ä¸€äº›æƒ³æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹è¯•åŸºäºç±»çš„å¤„ç†ç¨‹åºGETè¯·æ±‚æ˜¯å¦æ­£å¸¸è¿è¡Œ&lt;/li&gt;
&lt;li&gt;æµ‹è¯•åŸºäºç±»çš„å¤„ç†ç¨‹åºPOSTè¯·æ±‚æ˜¯å¦æ­£å¸¸è¿è¡Œ&lt;/li&gt;
&lt;li&gt;æµ‹è¯•å¦‚æœä½¿ç”¨æ— æ•ˆçš„è¯·æ±‚æ–¹æ³•ï¼ŒåŸºäºç±»çš„å¤„ç†ç¨‹åºè¿”å›å“åº”&lt;code&gt;Method Not Allowed.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æµ‹è¯•æ˜¯å¦æ­£ç¡®è¿”å›çŠ¶æ€ç &lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;æ·»åŠ è·¯å¾„çš„æ›¿ä»£æ–¹å¼&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç°åœ¨ï¼Œè¿™æ˜¯æ·»åŠ è·¯å¾„çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOLO&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œè·¯ç”±è¢«æ·»åŠ ä¸ºè£…é¥°å™¨ï¼Œå°±åƒåœ¨Flaskä¸­ä¸€æ ·ã€‚æœ‰äº›äººå¯èƒ½å–œæ¬¢Djangoæ³¨å†Œç½‘å€çš„æ–¹å¼ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ç»™ä»–ä»¬è¿™æ ·æ·»åŠ è·¯å¾„çš„é€‰æ‹©ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOLO&amp;quot;&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handler2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOLO2&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;add_route&lt;/code&gt;æ–¹æ³•åº”è¯¥åšä¸¤ä»¶äº‹ã€‚æ£€æŸ¥è·¯å¾„æ˜¯å¦å·²ç»æ³¨å†Œï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ³¨å†Œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Such route already exists.&amp;quot;&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¾ˆç®€å•ã€‚è¿™æ®µä»£ç çœ‹èµ·æ¥å¾ˆç†Ÿæ‚‰å—ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å·²ç»åœ¨&lt;code&gt;route&lt;/code&gt;è£…é¥°å™¨ä¸­ç¼–å†™äº†è¿™æ ·çš„ä»£ç ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥éµå¾ªDRYåŸåˆ™å¹¶åœ¨&lt;code&gt;route&lt;/code&gt;è£…é¥°å™¨ä¸­ä½¿ç”¨&lt;code&gt;add_route&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Such route already exists.&amp;quot;&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrapper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrapper&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå•å…ƒæµ‹è¯•æ¥æ£€æŸ¥å®ƒæ˜¯å¦æ­£å¸¸å·¥ä½œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# test_bumbo.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_alternative_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response_text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Alternative way to add a route&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response_text&lt;/span&gt;

    &lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/alternative&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://testserver/alternative&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;response_text&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿è¡Œæ‚¨çš„æµ‹è¯•ï¼Œæ‚¨å°†çœ‹åˆ°æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ã€‚&lt;/p&gt;
&lt;h2 id="_3"&gt;æ¨¡æ¿æ”¯æŒ&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘å®ç°æ–°çš„ä¸œè¥¿æ—¶ï¼Œæˆ‘å–œæ¬¢åšä¸€äº›å«åšREADMEé©±åŠ¨çš„å¼€å‘ã€‚è¿™æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œæ‚¨å¯ä»¥åœ¨å®æ–½ä¹‹å‰è®°ä¸‹APIæ˜¯ä»€ä¹ˆæ ·å­ã€‚è®©æˆ‘ä»¬æ¥å®ç°ã€‚å‡è®¾æˆ‘ä»¬è¦åœ¨æˆ‘ä»¬çš„å¤„ç†ç¨‹åºä¸­ä½¿ç”¨æ­¤æ¨¡æ¿ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;header&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ title }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;header&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        The name of the framework is {{ name }}
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;{{ title }}&lt;/code&gt;å’Œ&lt;code&gt;{{ name }}&lt;/code&gt;æ˜¯ä»å¤„ç†ç¨‹åºå‘é€çš„å˜é‡ï¼Œè¿™æ˜¯å¤„ç†ç¨‹åºçš„æ ·å­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;templates_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/template&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;index.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Awesome Framework&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Alcazar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘å¸Œæœ›å®ƒå°½å¯èƒ½ç®€å•ï¼Œæ‰€ä»¥æˆ‘åªéœ€è¦ä¸€ä¸ªæ–¹æ³•ï¼Œå°†æ¨¡æ¿åå’Œä¸Šä¸‹æ–‡ä½œä¸ºå‚æ•°ï¼Œå¹¶ç”¨ç»™å®šçš„å‚æ•°å‘ˆç°è¯¥æ¨¡æ¿ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡æ¿ç›®å½•å¯ä»¥åƒä¸Šé¢ä¸€æ ·é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡è®¾è®¡APIï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å®ç°å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¨¡æ¿æ”¯æŒï¼Œæˆ‘è®¤ä¸º&lt;a href="http://jinja.pocoo.org/docs/2.10/"&gt;Jinja2&lt;/a&gt;æ˜¯æœ€ä½³é€‰æ‹©ã€‚å®ƒæ˜¯ä¸€ä¸ªç°ä»£çš„ï¼Œè®¾è®¡å¸ˆå‹å¥½çš„Pythonæ¨¡æ¿è¯­è¨€ï¼Œæ¨¡ä»¿Djangoçš„æ¨¡æ¿ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çŸ¥é“Django, é‚£ä¹ˆä½¿ç”¨Jinja2åº”è¯¥æ„Ÿè§‰ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Jinja2&lt;/code&gt;ä½¿ç”¨ç§°ä¸ºæ¨¡æ¿&lt;code&gt;Environment&lt;/code&gt;çš„ä¸­å¿ƒå¯¹è±¡ã€‚æˆ‘ä»¬å°†åœ¨åº”ç”¨ç¨‹åºåˆå§‹åŒ–å’Œå€ŸåŠ©æ­¤Environment åŠ è½½æ¨¡æ¿çš„åŸºç¡€ä¸Šé…ç½®æ­¤ç¯å¢ƒã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åˆ›å»ºå’Œé…ç½®ä¸€ä¸ªï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;jinja2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Environment&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FileSystemLoader&lt;/span&gt;

&lt;span class="n"&gt;templates_env&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Environment&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loader&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;FileSystemLoader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;FileSystemLoader&lt;/code&gt;ä»æ–‡ä»¶ç³»ç»ŸåŠ è½½æ¨¡æ¿ã€‚æ­¤åŠ è½½ç¨‹åºå¯ä»¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾æ¨¡æ¿ï¼Œå¹¶ä¸”æ˜¯åŠ è½½å®ƒä»¬çš„é¦–é€‰æ–¹æ³•ã€‚å®ƒå°†æ¨¡æ¿ç›®å½•çš„è·¯å¾„ä½œä¸ºå‚æ•°ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·ä½¿ç”¨&lt;code&gt;templates_env&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;templates_env&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;index.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;render&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Awesome Framework&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Alcazar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ—¢ç„¶æˆ‘ä»¬äº†è§£äº†Jinja2ä¸­çš„æ‰€æœ‰å·¥ä½œåŸç†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬è‡ªå·±çš„æ¡†æ¶ä¸­ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®‰è£…jinja2ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install Jinja2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç„¶åï¼Œåœ¨æˆ‘ä»¬çš„&lt;code&gt;API&lt;/code&gt;ç±»çš„&lt;code&gt;__init__&lt;/code&gt;æ–¹æ³•ä¸­åˆ›å»º&lt;code&gt;Environment&lt;/code&gt; å¯¹è±¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;jinja2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Environment&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FileSystemLoader&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;templates_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;templates_env&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Environment&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loader&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;FileSystemLoader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;templates_dir&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä»¬åšäº†å‡ ä¹ä¸ä¸Šé¢ç›¸åŒçš„äº‹æƒ…ï¼Œé™¤äº†æˆ‘ä»¬ä¸º&lt;code&gt;templates_dir&lt;/code&gt;æä¾›äº†ä¸€ä¸ªé»˜è®¤å€¼ï¼Œ&lt;code&gt;templates&lt;/code&gt;ä»¥ä¾¿ç”¨æˆ·ä¸å¿…å†™å®ƒã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†å®ç°æˆ‘ä»¬ä¹‹å‰è®¾è®¡çš„&lt;code&gt;template&lt;/code&gt;æ–¹æ³•çš„æ‰€æœ‰æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;template_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;context&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;templates_env&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;template_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘è®¤ä¸ºè¿™é‡Œæ²¡æœ‰å¿…è¦è§£é‡Šä»»ä½•äº‹æƒ…ã€‚ä½ å”¯ä¸€æƒ³çŸ¥é“çš„æ˜¯ä¸ºä»€ä¹ˆæˆ‘ç»™äº†&lt;code&gt;context&lt;/code&gt;ä¸€ä¸ªé»˜è®¤å€¼&lt;code&gt;None&lt;/code&gt;ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯&lt;code&gt;None&lt;/code&gt;ï¼Œç„¶åå°†å€¼è®¾ç½®ä¸ºç©ºå­—å…¸&lt;code&gt;{}&lt;/code&gt;ã€‚ä½ å¯èƒ½ä¼šè¯´æˆ‘å¯ä»¥åœ¨å£°æ˜ä¸­ç»™å®ƒé»˜è®¤å€¼&lt;code&gt;{}&lt;/code&gt;ã€‚ä½†æ˜¯&lt;code&gt;dict&lt;/code&gt;å®ƒæ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œåœ¨Pythonä¸­å°†å¯å˜å¯¹è±¡è®¾ç½®ä¸ºé»˜è®¤å€¼æ˜¯ä¸€ç§ä¸å¥½çš„åšæ³•ã€‚&lt;a href="https://docs.python-guide.org/writing/gotchas/#mutable-default-arguments"&gt;åœ¨è¿™é‡Œ&lt;/a&gt;é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;éšç€ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºæ¨¡æ¿å’Œå¤„ç†ç¨‹åºã€‚é¦–å…ˆï¼Œåˆ›å»º&lt;code&gt;templates&lt;/code&gt;æ–‡ä»¶å¤¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir templates
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é€šè¿‡æ‰§è¡Œ&lt;code&gt;touch templates/index.html&lt;/code&gt;åˆ›å»ºæ–‡ä»¶&lt;code&gt;index.html&lt;/code&gt;å¹¶å°†ä»¥ä¸‹å†…å®¹æ”¾å…¥ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;header&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ title }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;header&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;The name of the framework is {{ name }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„&lt;code&gt;app.py&lt;/code&gt;åˆ›å»ºå¤„ç†ç¨‹åºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;

&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/template&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;template_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;index.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Alcazar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Best Framework&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°±æ˜¯è¿™æ ·ï¼ˆå¥½å§ï¼Œå·®ä¸å¤šï¼‰ã€‚å¯åŠ¨&lt;code&gt;gunicorn&lt;/code&gt;ç„¶åè®¿é—®&lt;code&gt;http://localhost:8000/template&lt;/code&gt;ã€‚ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå¤§å¤§çš„&lt;code&gt;Internal Server Error&lt;/code&gt;ã€‚é‚£æ˜¯å› ä¸º&lt;code&gt;resp.body&lt;/code&gt;æœŸæœ›bytes, è€Œæˆ‘ä»¬çš„&lt;code&gt;template&lt;/code&gt;æ–¹æ³•è¿”å›ä¸€ä¸ªunicodeå­—ç¬¦ä¸²ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œç¼–ç ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;

&lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/template&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;template_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;index.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Alcazar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Best Framework&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡æ–°å¯åŠ¨gunicornï¼Œä½ å°†çœ‹åˆ°æˆ‘ä»¬çš„æ¨¡æ¿çš„æ‰€æœ‰è£è€€ã€‚åœ¨åç»­çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¸å†éœ€è¦&lt;code&gt;encode&lt;/code&gt;å¹¶ä½¿æˆ‘ä»¬çš„APIæ›´æ¼‚äº®ã€‚&lt;/p&gt;
&lt;h2 id="_4"&gt;ç»“è®º&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­å®ç°äº†ä¸‰ä¸ªæ–°åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹è¯•å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;æ·»åŠ è·¯å¾„çš„æ›¿ä»£æ–¹å¼ï¼ˆå¦‚Djangoçš„å®ç°æ–¹å¼ï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ¨¡æ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯·åŠ¡å¿…åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä»¬åº”è¯¥åœ¨æœ¬ç³»åˆ—ä¸­å®ç°çš„å…¶ä»–åŠŸèƒ½ã€‚å¯¹äºä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è‚¯å®šä¼šæ·»åŠ å¯¹é™æ€æ–‡ä»¶çš„æ”¯æŒï¼Œä½†æˆ‘ä¸ç¡®å®šæˆ‘ä»¬åº”è¯¥æ·»åŠ å“ªäº›å…¶ä»–åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¨å¾®æé†’ä¸€ä¸‹ï¼Œè¿™ä¸ªç³»åˆ—æ˜¯åŸºäºæˆ‘ä¸ºå­¦ä¹ ç›®çš„è€Œç¼–å†™çš„&lt;a href="https://github.com/rahmonov/alcazar"&gt;Alcazaræ¡†æ¶&lt;/a&gt;ã€‚å¦‚æœä½ å–œæ¬¢è¿™ä¸ªç³»åˆ—ï¼Œ&lt;a href="https://github.com/rahmonov/alcazar"&gt;è¯·åœ¨è¿™å„¿&lt;/a&gt;æŸ¥çœ‹åšå®¢ä¸­çš„å†…å®¹ï¼Œä¸€å®šè¦é€šè¿‡starè¯¥repoæ¥è¡¨è¾¾ä½ çš„å–œçˆ±ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Fight on!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Wed, 06 Mar 2019 11:03:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-06:/write-python-framework-part-three.html</guid><category>python</category><category>webæ¡†æ¶</category></item><item><title>å¦‚ä½•ç¼–å†™Python Webæ¡†æ¶ï¼ˆäºŒï¼‰</title><link>https://www.EWhisper.cn/write-python-framework-part-two.html</link><description>&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä¸ºè¯‘æ–‡&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href="http://rahmonov.me/posts/write-python-framework-part-two/"&gt;How to write a Python web framework. Part II.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…: Jahongir Rahmonov&lt;/p&gt;
&lt;p&gt;Githubä»“åº“: &lt;a href="https://github.com/rahmonov/alcazar"&gt;alcazar&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨&lt;a href="https://www.EWhisper.cn/write-python-framework-part-one.html"&gt;ç¬¬ä¸€éƒ¨åˆ†ä¸­&lt;/a&gt;ï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™è‡ªå·±çš„Pythonæ¡†æ¶å¹¶å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WSGIå…¼å®¹&lt;/li&gt;
&lt;li&gt;è¯·æ±‚å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;li&gt;è·¯ç”±ï¼šç®€å•å’Œå‚æ•°åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯·åŠ¡å¿…åœ¨æ­¤ä¹‹å‰é˜…è¯»ç³»åˆ—çš„&lt;a href="https://www.EWhisper.cn/write-python-framework-part-one.html"&gt;ç¬¬ä¸€éƒ¨åˆ†&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™éƒ¨åˆ†åŒæ ·ä»¤äººå…´å¥‹ï¼Œæˆ‘ä»¬å°†åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ£€æŸ¥é‡å¤çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;åŸºäºç±»çš„å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;li&gt;å•å…ƒæµ‹è¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ready? è®©æˆ‘ä»¬å¼€å§‹å§ã€‚&lt;/p&gt;
&lt;h2 id="_1"&gt;é‡å¤çš„è·¯å¾„&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ¡†æ¶å…è®¸æ·»åŠ ä»»æ„æ¬¡æ•°ç›¸åŒçš„è·¯ç”±ã€‚å› æ­¤ï¼Œä»¥ä¸‹å†…å®¹å°†èµ·ä½œç”¨ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello from the HOME page&amp;quot;&lt;/span&gt;


&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello from the SECOND HOME page&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ¡†æ¶ä¸ä¼šæŠ±æ€¨ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨Pythonå­—å…¸æ¥å­˜å‚¨è·¯ç”±ï¼Œåªæœ‰æœ€åä¸€ä¸ªæ‰èƒ½ä½¿ç”¨&lt;code&gt;http://localhost:8000/home/&lt;/code&gt;ã€‚æ˜¾ç„¶ï¼Œè¿™å¹¶ä¸å¥½ã€‚æˆ‘ä»¬å¸Œæœ›ç¡®ä¿æ¡†æ¶åœ¨ç”¨æˆ·å°è¯•æ·»åŠ ç°æœ‰è·¯ç”±æ—¶ä¼šæŠ›å‡ºä¿¡æ¯ã€‚æ‚¨å¯ä»¥æƒ³è±¡ï¼Œå®æ–½èµ·æ¥å¹¶ä¸æ˜¯å¾ˆå›°éš¾ã€‚å› ä¸ºæˆ‘ä»¬ä½¿ç”¨Python dictæ¥å­˜å‚¨è·¯ç”±ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°æ£€æŸ¥å­—å…¸ä¸­æ˜¯å¦å·²å­˜åœ¨ç»™å®šè·¯å¾„ã€‚å¦‚æœæ˜¯ï¼Œæˆ‘ä»¬æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬è®©å®ƒæ·»åŠ ä¸€ä¸ªè·¯ç”±ã€‚åœ¨æˆ‘ä»¬ç¼–å†™ä»»ä½•ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›å¿†ä¸‹æˆ‘ä»¬çš„ä¸»è¦&lt;code&gt;API&lt;/code&gt;ç±»ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrapper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrapper&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;parse_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;parse_result&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parse_result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;named&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Not found.&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä»¬éœ€è¦æ›´æ”¹&lt;code&gt;route&lt;/code&gt;å‡½æ•°ï¼Œä»¥ä¾¿åœ¨å†æ¬¡æ·»åŠ ç°æœ‰è·¯ç”±æ—¶æŠ›å‡ºå¼‚å¸¸ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AssertionError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Such route already exists.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrapper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrapper&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œå°è¯•æ·»åŠ ç›¸åŒçš„è·¯å¾„ä¸¤æ¬¡å¹¶é‡æ–°å¯åŠ¨ä½ çš„gunicornã€‚æ‚¨åº”è¯¥çœ‹åˆ°æŠ›å‡ºä»¥ä¸‹å¼‚å¸¸ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Traceback (most recent call last):
...
AssertionError: Such route already exists.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä»¬å¯ä»¥é‡æ„å®ƒä»¥å°†å…¶å‡å°‘åˆ°ä¸€è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Such route already exists.&amp;quot;&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å®Œå·¥ï¼è¿›å…¥ä¸‹ä¸€ä¸ªåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h2 id="_2"&gt;åŸºäºç±»çš„å¤„ç†ç¨‹åº&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ äº†è§£Djangoï¼Œä½ çŸ¥é“å®ƒæ”¯æŒåŸºäºå‡½æ•°å’ŒåŸºäºç±»çš„è§†å›¾ï¼ˆå³æˆ‘ä»¬çš„å¤„ç†ç¨‹åºï¼‰ã€‚æˆ‘ä»¬å·²ç»æœ‰äº†åŸºäºå‡½æ•°çš„å¤„ç†ç¨‹åºã€‚ç°åœ¨æˆ‘ä»¬å°†æ·»åŠ åŸºäºç±»çš„ï¼Œé€‚ç”¨äºæ›´å¤æ‚, æ›´å¤§çš„å¤„ç†ç¨‹åºã€‚æˆ‘ä»¬åŸºäºç±»çš„å¤„ç†ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;

&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/book&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;BooksHandler&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Books Page&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Endpoint to create a book&amp;quot;&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ„å‘³ç€æˆ‘ä»¬å­˜å‚¨è·¯å¾„çš„dict:  &lt;code&gt;self.routes&lt;/code&gt;å¯ä»¥åŒ…å«ç±»å’Œå‡½æ•°ä½œä¸ºå€¼ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬åœ¨&lt;code&gt;handle_request()&lt;/code&gt;æ–¹æ³•ä¸­æ‰¾åˆ°ä¸€ä¸ªå¤„ç†ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥å¤„ç†ç¨‹åºæ˜¯ä¸€ä¸ªå‡½æ•°è¿˜æ˜¯ä¸€ä¸ªç±»ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒåº”è¯¥åƒç°åœ¨ä¸€æ ·å·¥ä½œã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªç±»ï¼Œæ ¹æ®è¯·æ±‚æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥è°ƒç”¨è¯¥ç±»çš„å¯¹åº”æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯&lt;code&gt;GET&lt;/code&gt;ï¼Œæˆ‘ä»¬åº”è¯¥è°ƒç”¨ç±»çš„&lt;code&gt;get()&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœæ˜¯&lt;code&gt;POST&lt;/code&gt;æˆ‘ä»¬åº”è¯¥è°ƒç”¨&lt;code&gt;post&lt;/code&gt;æ–¹æ³•ç­‰ã€‚è¿™æ˜¯&lt;code&gt;handle_request()&lt;/code&gt;æ–¹æ³•ç°åœ¨çš„æ ·å­ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯æ£€æŸ¥æ‰¾åˆ°çš„å¤„ç†ç¨‹åºæ˜¯å¦æ˜¯ä¸€ä¸ªç±»ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;code&gt;inspect&lt;/code&gt;æ¨¡å—ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;inspect&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;pass&lt;/span&gt;   &lt;span class="c1"&gt;# class based handler is being used&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œå¦‚æœæ­£åœ¨ä½¿ç”¨åŸºäºç±»çš„å¤„ç†ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è¯·æ±‚æ–¹æ³•æ‰¾åˆ°ç±»çš„é€‚å½“æ–¹æ³•ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„&lt;code&gt;getattr&lt;/code&gt;å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;pass&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;getattr&lt;/code&gt;æ¥å—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°†å±æ€§åç§°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›çš„å€¼ã€‚å› æ­¤ï¼Œ&lt;code&gt;GET&lt;/code&gt;å°†è¿”å›&lt;code&gt;get&lt;/code&gt;ï¼Œ&lt;code&gt;POST&lt;/code&gt;è¿”å›&lt;code&gt;post&lt;/code&gt;, &lt;code&gt;some_other_attribute&lt;/code&gt;è¿”å›&lt;code&gt;None&lt;/code&gt;ã€‚å¦‚æœ&lt;code&gt;handler_function&lt;/code&gt;æ˜¯&lt;code&gt;None&lt;/code&gt;ï¼Œåˆ™è¡¨ç¤ºæ­¤ç±»å‡½æ•°æœªåœ¨ç±»ä¸­å®ç°ï¼Œå¹¶ä¸”ä¸å…è®¸æ­¤è¯·æ±‚æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Method not allowed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æœå®é™…æ‰¾åˆ°äº†handler_functionï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è°ƒç”¨å®ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Method now allowed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;handler_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨æ•´ä¸ªæ–¹æ³•çœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler_function&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Method now allowed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;handler_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä¸å–œæ¬¢æˆ‘ä»¬æœ‰ä¸¤ä¸ª&lt;code&gt;handler_function&lt;/code&gt;å’Œ&lt;code&gt;handler&lt;/code&gt;ã€‚æˆ‘ä»¬å¯ä»¥é‡æ„å®ƒä»¬ä»¥ä½¿å®ƒæ›´ä¼˜é›…ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Method now allowed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥æµ‹è¯•å¯¹åŸºäºç±»çš„å¤„ç†ç¨‹åºçš„æ”¯æŒã€‚é¦–å…ˆï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰, è¯·å°†æ­¤å¤„ç†ç¨‹åºæ·»åŠ åˆ°&lt;code&gt;app.py&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/book&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;BooksHandler&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Books Page&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œé‡æ–°å¯åŠ¨ä½ çš„gunicornå¹¶è½¬åˆ°é¡µé¢&lt;code&gt;http://localhost:8000/book&lt;/code&gt;ï¼Œä½ åº”è¯¥çœ‹åˆ°æ¶ˆæ¯&lt;code&gt;Books Page&lt;/code&gt;ã€‚å°±è¿™æ ·, æˆ‘ä»¬å¢åŠ äº†å¯¹åŸºäºç±»çš„å¤„ç†ç¨‹åºçš„æ”¯æŒã€‚å¯ä»¥è¯•è¯•å®ç°å…¶ä»–æ–¹æ³•(ä¾‹å¦‚&lt;code&gt;post&lt;/code&gt;å’Œ&lt;code&gt;delete&lt;/code&gt;)ã€‚&lt;/p&gt;
&lt;p&gt;è¿›å…¥ä¸‹ä¸€ä¸ªåŠŸèƒ½ï¼&lt;/p&gt;
&lt;h2 id="_3"&gt;å•å…ƒæµ‹è¯•&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰å•å…ƒæµ‹è¯•ï¼Œå“ªä¸ªé¡¹ç›®æ˜¯å¯é çš„ï¼Œå¯¹å§ï¼Ÿæ‰€ä»¥è®©æˆ‘ä»¬æ·»åŠ å‡ ä¸ªã€‚æˆ‘å–œæ¬¢ä½¿ç”¨&lt;code&gt;pytest&lt;/code&gt;ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å®‰è£…å®ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install pytest
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¹¶åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å°†ç¼–å†™æµ‹è¯•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;touch test_bumbo.py
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æé†’ä¸€ä¸‹ï¼Œ&lt;code&gt;bumbo&lt;/code&gt;æ˜¯æ¡†æ¶çš„åç§°ã€‚æ‚¨å¯èƒ½ä»¥ä¸åŒçš„æ–¹å¼å‘½åã€‚å¦å¤–ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“&lt;a href="https://docs.pytest.org/en/latest/"&gt;pytest&lt;/a&gt;æ˜¯ä»€ä¹ˆï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨æŸ¥çœ‹å®ƒä»¥äº†è§£å¦‚ä½•ç¼–å†™å•å…ƒæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„&lt;code&gt;API&lt;/code&gt;ç±»åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªæµ‹è¯•ä¸­ä½¿ç”¨çš„å·¥å…·ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# test_bumbo.py&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytest&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;api&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;


&lt;span class="nd"&gt;@pytest.fixture&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;api&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œå¯¹äºæˆ‘ä»¬çš„ç¬¬ä¸€æ¬¡å•å…ƒæµ‹è¯•ï¼Œè®©æˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹ã€‚è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬æ˜¯å¦å¯ä»¥æ·»åŠ è·¯å¾„ã€‚å¦‚æœå®ƒæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è¡¨ç¤ºæµ‹è¯•æˆåŠŸé€šè¿‡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_basic_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOLO&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åƒè¿™æ ·è¿è¡Œæµ‹è¯•ï¼š&lt;code&gt;pytest test_bumbo.py&lt;/code&gt;ä½ åº”è¯¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;collected 1 item

test_bumbo.py .                                                                                                                                                            [100%]

====== 1 passed in 0.09 seconds ======
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œè®©æˆ‘ä»¬æµ‹è¯•å®ƒæ˜¯å¦ä¼šåœ¨æˆ‘ä»¬å°è¯•æ·»åŠ ç°æœ‰è·¯ç”±æ—¶æŠ›å‡ºå¼‚å¸¸ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# test_bumbo.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_route_overlap_throws_exception&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOLO&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;pytest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;raises&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;AssertionError&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nd"&gt;@api.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOLO&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œæ‚¨å°†çœ‹åˆ°å®ƒä»¬éƒ½é€šè¿‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æ·»åŠ æ›´å¤šæµ‹è¯•ï¼Œä¾‹å¦‚é»˜è®¤å“åº”ï¼Œå‚æ•°åŒ–è·¯ç”±ï¼ŒçŠ¶æ€ä»£ç ç­‰ã€‚ä½†æ˜¯ï¼Œæ‰€æœ‰æµ‹è¯•éƒ½è¦æ±‚æˆ‘ä»¬å‘å¤„ç†ç¨‹åºå‘é€HTTPè¯·æ±‚ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæµ‹è¯•å®¢æˆ·ç«¯ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨è¿™é‡Œåšçš„è¯ï¼Œæˆ‘è®¤ä¸ºè¿™ç¯‡æ–‡ç« ä¼šå˜å¾—å¤ªå¤§äº†ã€‚æˆ‘ä»¬å°†åœ¨è¿™äº›ç³»åˆ—çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å®Œæˆã€‚æˆ‘ä»¬è¿˜å°†æ·»åŠ å¯¹æ¨¡æ¿å’Œå…¶ä»–ä¸€äº›æœ‰è¶£å†…å®¹çš„æ”¯æŒã€‚æ‰€ä»¥ï¼Œè¯·ç»§ç»­å…³æ³¨ã€‚&lt;/p&gt;
&lt;p&gt;åƒå¾€å¸¸ä¸€æ ·ï¼Œå¦‚æœæ‚¨æƒ³çœ‹ä¸€äº›åŠŸèƒ½å®ç°ï¼Œè¯·åœ¨è¯„è®ºéƒ¨åˆ†å‘Šè¯‰æˆ‘ã€‚&lt;/p&gt;
&lt;p&gt;P.S. è¿™äº›åšå®¢æ–‡ç« åŸºäºæˆ‘æ­£åœ¨æ„å»ºçš„&lt;a href="https://github.com/rahmonov/alcazar"&gt;Python Webæ¡†æ¶&lt;/a&gt;ã€‚å› æ­¤ï¼Œ&lt;a href="https://github.com/rahmonov/alcazar"&gt;è¯·åœ¨è¿™å„¿&lt;/a&gt;æŸ¥çœ‹åšå®¢ä¸­çš„å†…å®¹ï¼Œä¸€å®šè¦é€šè¿‡starè¯¥repoæ¥è¡¨è¾¾ä½ çš„å–œçˆ±ã€‚&lt;/p&gt;
&lt;p&gt;Fight on!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 01 Mar 2019 15:51:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-01:/write-python-framework-part-two.html</guid><category>python</category><category>webæ¡†æ¶</category></item><item><title>å¦‚ä½•ç¼–å†™Python Webæ¡†æ¶ï¼ˆä¸€ï¼‰</title><link>https://www.EWhisper.cn/write-python-framework-part-one.html</link><description>&lt;blockquote&gt;
&lt;p&gt;è¯‘æ–‡:&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href="http://rahmonov.me/posts/write-python-framework-part-one/"&gt;How to write a Python web framework. Part I.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…: Jahongir Rahmonov&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€œä¸è¦é‡æ–°å‘æ˜è½®å­â€æ˜¯æˆ‘ä»¬æ¯å¤©å¬åˆ°çš„æœ€å¸¸è§çš„å’’è¯­ä¹‹ä¸€ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³äº†è§£æ›´å¤šæœ‰å…³è½¦è½®çš„ä¿¡æ¯æ€ä¹ˆåŠï¼Ÿå¦‚æœæˆ‘æƒ³å­¦ä¹ å¦‚ä½•åˆ¶ä½œè¿™ä¸ªè¯¥æ­»çš„è½¦è½®æ€ä¹ˆåŠï¼Ÿæˆ‘è®¤ä¸ºä¸ºäº†å­¦ä¹ è€Œé‡æ–°å‘æ˜å®ƒæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚å› æ­¤ï¼Œåœ¨è¿™äº›ç³»åˆ—ä¸­ï¼Œæˆ‘ä»¬å°†ç¼–å†™è‡ªå·±çš„Python Webæ¡†æ¶ï¼Œä»¥äº†è§£åœ¨Flaskï¼ŒDjangoå’Œå…¶ä»–æ¡†æ¶ä¸­å¦‚ä½•å®Œæˆæ‰€æœ‰è¿™äº›é­”æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºæ¡†æ¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ã€‚æœ€åï¼Œæˆ‘ä»¬å°†æœ‰è¯·æ±‚å¤„ç†ç¨‹åº(request handlers)ï¼ˆç±»ä¼¼Django è§†å›¾ viewsï¼‰å’Œè·¯ç”±(routing)ï¼šæ—¢æœ‰ç®€å•ï¼ˆå¦‚&lt;code&gt;/books/&lt;/code&gt;ï¼‰è¯·æ±‚ä¹Ÿæœ‰å‚æ•°åŒ–ï¼ˆå¦‚&lt;code&gt;/greet/{name}&lt;/code&gt;ï¼‰è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘å¼€å§‹åšæ–°äº‹ç‰©ä¹‹å‰ï¼Œæˆ‘æƒ³è€ƒè™‘æœ€ç»ˆç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨ä¸€å¤©ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåœ¨ç”Ÿäº§ä¸­ä½¿ç”¨æ­¤æ¡†æ¶ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„æ¡†æ¶ç”±å¿«é€Ÿï¼Œè½»é‡çº§çš„ç”Ÿäº§çº§åº”ç”¨ç¨‹åºæœåŠ¡å™¨æä¾›æœåŠ¡ã€‚åœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼Œæˆ‘ä¸€ç›´åœ¨æˆ‘çš„æ‰€æœ‰é¡¹ç›®ä¸­ä½¿ç”¨&lt;a href="https://gunicorn.org/"&gt;gunicorn&lt;/a&gt;ï¼Œæˆ‘å¯¹ç»“æœéå¸¸æ»¡æ„ã€‚é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥ç”¨&lt;code&gt;gunicorn&lt;/code&gt;å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Gunicorn&lt;/code&gt;æ˜¯ä¸€ä¸ª&lt;a href="http://rahmonov.me/posts/what-the-hell-is-wsgi-anyway-and-what-do-you-eat-it-with/"&gt;WSGI&lt;/a&gt; HTTPæœåŠ¡å™¨ï¼Œå› æ­¤å®ƒéœ€è¦åº”ç”¨ç¨‹åºçš„ç‰¹å®šå…¥å£ç‚¹ã€‚å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆ&lt;code&gt;WSGI&lt;/code&gt;æ˜¯ä»€ä¹ˆ, &lt;a href="http://rahmonov.me/posts/what-the-hell-is-wsgi-anyway-and-what-do-you-eat-it-with/"&gt;å¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« &lt;/a&gt;ï¼Œæˆ‘ä¼šç­‰å¾…ã€‚å¦åˆ™ï¼Œä½ æ— æ³•ç†è§£è¿™ç¯‡åšæ–‡çš„å¤§éƒ¨åˆ†å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æ‚¨æ˜¯å¦äº†è§£äº†WSGIæ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœäº†è§£äº†ã€‚é‚£æˆ‘ä»¬å°±ç»§ç»­å§ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä¸WSGIå…¼å®¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯è°ƒç”¨çš„å¯¹è±¡ï¼ˆå‡½æ•°æˆ–ç±»ï¼‰ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼ˆ&lt;code&gt;environ&lt;/code&gt;å’Œ&lt;code&gt;start_response&lt;/code&gt;ï¼‰å¹¶è¿”å›ä¸€ä¸ªWSGIå…¼å®¹çš„å“åº”ã€‚é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å†™ä»£ç ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="ğŸ““" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; è¯‘è€…æ³¨:&lt;/p&gt;
&lt;p&gt;ç¼–ç¨‹ç¯å¢ƒ: Linuxæˆ–MacOS (windowsç³»ç»Ÿä¸é€‚ç”¨è¯¥æ•™ç¨‹)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æƒ³ä¸€ä¸ªæ¡†æ¶çš„åç§°å¹¶åˆ›å»ºå…·æœ‰è¯¥åç§°çš„æ–‡ä»¶å¤¹ã€‚æˆ‘æŠŠå®ƒå‘½åä¸º&lt;code&gt;bumbo&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir bumbo
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿›å…¥æ­¤æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; bumbo
python3.6 -m venv venv
&lt;span class="nb"&gt;source&lt;/span&gt; venv/bin/activate
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º&lt;code&gt;app.py&lt;/code&gt; çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå­˜å‚¨æˆ‘ä»¬çš„&lt;code&gt;gunicorn&lt;/code&gt;å…¥å£ç‚¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;touch app.py
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨è¿™ä¸ª&lt;code&gt;app.py&lt;/code&gt;å†…éƒ¨ï¼Œè®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„å‡½æ•°æ¥æŸ¥çœ‹å®ƒæ˜¯å¦å¯ä»¥å’Œ&lt;code&gt;gunicorn&lt;/code&gt;ä¸€èµ·å·¥ä½œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response_body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;200 OK&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;iter&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;response_body&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚ä¸Šæ‰€è¿°ï¼Œè¿™ä¸ªå¯è°ƒç”¨çš„å…¥å£ç‚¹æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚å…¶ä¸­ä¹‹ä¸€&lt;code&gt;environ&lt;/code&gt;æ˜¯å­˜å‚¨æœ‰å…³è¯·æ±‚çš„å„ç§ä¿¡æ¯ï¼Œä¾‹å¦‚è¯·æ±‚æ–¹æ³•ï¼ŒURLï¼ŒæŸ¥è¯¢å‚æ•°ç­‰ã€‚ç¬¬äºŒä¸ª&lt;code&gt;start_response&lt;/code&gt;é¡¾åæ€ä¹‰æ˜¯å¼€å§‹å“åº”çš„ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•ç”¨&lt;code&gt;gunicorn&lt;/code&gt;è¿è¡Œæ­¤ä»£ç ã€‚å¯¹äº&lt;code&gt;gunicorn&lt;/code&gt;å®‰è£…å’Œè¿è¡Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install gunicorn
gunicorn app:app
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç¬¬ä¸€ä¸ª&lt;code&gt;app&lt;/code&gt;æ˜¯æˆ‘ä»¬åˆ›å»ºçš„æ–‡ä»¶ï¼Œç¬¬äºŒä¸ª&lt;code&gt;app&lt;/code&gt;æ˜¯æˆ‘ä»¬åˆšåˆšç¼–å†™çš„å‡½æ•°çš„åç§°ã€‚å¦‚æœä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œæ‚¨å°†åœ¨è¾“å‡ºä¸­çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[2019-02-09 17:58:56 +0500] [30962] [INFO] Starting gunicorn 19.9.0
[2019-02-09 17:58:56 +0500] [30962] [INFO] Listening at: http://127.0.0.1:8000 (30962)
[2019-02-09 17:58:56 +0500] [30962] [INFO] Using worker: sync
[2019-02-09 17:58:56 +0500] [30966] [INFO] Booting worker with pid: 30966
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æœæ‚¨çœ‹åˆ°æ­¤å†…å®¹ï¼Œè¯·æ‰“å¼€æµè§ˆå™¨å¹¶è½¬åˆ°&lt;code&gt;http://localhost:8000&lt;/code&gt;ã€‚ä½ åº”è¯¥çœ‹åˆ°æˆ‘ä»¬çš„è€æœ‹å‹ï¼š&lt;code&gt;Hello, World!&lt;/code&gt;ä¿¡æ¯ã€‚çœŸæ£’ï¼&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†è¿™ä¸ªå‡½æ•°å˜æˆä¸€ä¸ªç±»ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¾ˆå¤šè¾…åŠ©æ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä»¬æ›´å®¹æ˜“åœ¨ç±»ä¸­ç¼–å†™ã€‚åˆ›å»ºä¸€ä¸ª&lt;code&gt;api.py&lt;/code&gt;æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;touch api.py
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œåˆ›å»ºä»¥ä¸‹&lt;code&gt;API&lt;/code&gt;ç±»ã€‚æˆ‘ä¼šè§£é‡Šä¸€ä¸‹å®ƒçš„ä½œç”¨ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response_body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;
        &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;200 OK&amp;quot;&lt;/span&gt;
        &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[])&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;iter&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;response_body&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œåˆ é™¤&lt;code&gt;app.py&lt;/code&gt;é‡Œé¢çš„æ‰€æœ‰å†…å®¹å¹¶ç¼–å†™ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;api&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡æ–°å¯åŠ¨&lt;code&gt;gunicorn&lt;/code&gt;å¹¶åœ¨æµè§ˆå™¨ä¸­æ£€æŸ¥ç»“æœã€‚å®ƒåº”è¯¥å’Œä»¥å‰ä¸€æ ·ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯ç®€å•åœ°å°†æˆ‘ä»¬çš„&lt;code&gt;app&lt;/code&gt;å‡½æ•°æ”¹ä¸ºä¸€ä¸ªè¢«è°ƒç”¨çš„ç±»&lt;code&gt;API&lt;/code&gt;å¹¶åœ¨è°ƒç”¨æ­¤ç±»å®ä¾‹æ—¶è¦†ç›–å®ƒçš„&lt;code&gt;__call__&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;app = API()
app()   #  this is where __call__ is called
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨æˆ‘ä»¬åˆ›å»ºäº†æˆ‘ä»¬çš„ç±»ï¼Œæˆ‘å¸Œæœ›ä½¿ä»£ç æ›´åŠ ä¼˜é›…ï¼Œå› ä¸ºæ‰€æœ‰è¿™äº›å­—èŠ‚ï¼ˆ&lt;code&gt;b"Hello World"&lt;/code&gt;ï¼‰å’Œ&lt;code&gt;start_response&lt;/code&gt;ä¼¼ä¹è®©æˆ‘æ„Ÿåˆ°å›°æƒ‘ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªåä¸º&lt;a href="https://docs.pylonsproject.org/projects/webob/en/stable/index.html"&gt;WebOb&lt;/a&gt;çš„é…·åŒ…ï¼Œå®ƒé€šè¿‡åŒ…è£…&lt;code&gt;WSGI&lt;/code&gt;è¯·æ±‚ç¯å¢ƒå’Œå“åº”çŠ¶æ€ï¼Œæ ‡é¢˜å’Œæ­£æ–‡æ¥ä¸ºHTTPè¯·æ±‚å’Œå“åº”æä¾›å¯¹è±¡ã€‚é€šè¿‡ä½¿ç”¨è¿™ä¸ªåŒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤åŒ…ä¸­æä¾›çš„ç±»ä¼ é€’&lt;code&gt;environ&lt;/code&gt;å’Œ&lt;code&gt;start_response&lt;/code&gt;ï¼Œè€Œä¸å¿…è‡ªå·±å¤„ç†ã€‚åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œæˆ‘å»ºè®®ä½ çœ‹ä¸€ä¸‹&lt;a href="https://docs.pylonsproject.org/projects/webob/en/stable/index.html"&gt;WebOb&lt;/a&gt;çš„&lt;a href="https://docs.pylonsproject.org/projects/webob/en/stable/index.html"&gt;æ–‡æ¡£&lt;/a&gt;æ¥ç†è§£æˆ‘åœ¨è¯´ä»€ä¹ˆä»¥åŠ&lt;code&gt;WebOb&lt;/code&gt;æ›´å¤šçš„API ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æˆ‘ä»¬å°†å¦‚ä½•é‡æ„æ­¤ä»£ç ã€‚é¦–å…ˆï¼Œå®‰è£…&lt;code&gt;WebOb&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install webob
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨&lt;code&gt;api.py&lt;/code&gt;æ–‡ä»¶å¼€å¤´å¯¼å…¥&lt;code&gt;Request&lt;/code&gt;å’Œ&lt;code&gt;Response&lt;/code&gt;ç±»ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨&lt;code&gt;__call__&lt;/code&gt;æ–¹æ³•ä¸­ä½¿ç”¨å®ƒä»¬ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;çœ‹èµ·æ¥å¥½å¤šäº†ï¼é‡æ–°å¯åŠ¨&lt;code&gt;gunicorn&lt;/code&gt;ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä¸ä»¥å‰ç›¸åŒçš„ç»“æœã€‚æœ€å¥½çš„éƒ¨åˆ†æ˜¯æˆ‘ä¸å¿…è§£é‡Šè¿™é‡Œæ­£åœ¨åšä»€ä¹ˆã€‚è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚æˆ‘ä»¬æ­£åœ¨åˆ›å»ºä¸€ä¸ªè¯·æ±‚ï¼Œä¸€ä¸ªå“åº”ï¼Œç„¶åè¿”å›è¯¥å“åº”ã€‚çœŸæ£’ï¼æˆ‘å¿…é¡»æ³¨æ„åˆ°&lt;code&gt;request&lt;/code&gt;è¿™é‡Œè¿˜æ²¡æœ‰ä½¿ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¯¹å®ƒåšä»»ä½•äº‹æƒ…ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæœºä¼šæ¥ä½¿ç”¨è¯·æ±‚å¯¹è±¡ã€‚å¦å¤–ï¼Œè®©æˆ‘ä»¬å°†&lt;code&gt;response&lt;/code&gt;åˆ›å»ºé‡æ„ä¸ºå®ƒè‡ªå·±çš„æ–¹æ³•ã€‚æˆ‘ä»¬ç¨åä¼šçœ‹åˆ°ä¸ºä»€ä¹ˆè¿™ä¹ˆåšä¼šæ›´å¥½ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;user_agent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;HTTP_USER_AGENT&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;No User Agent Found&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, my friend with this user agent: {user_agent}&amp;quot;&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡å¯ä½ çš„&lt;code&gt;gunicorn&lt;/code&gt;ï¼Œä½ åº”è¯¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°è¿™æ¡æ–°æ¶ˆæ¯ã€‚ä½ çœ‹è§äº†å—ï¼Ÿé…·ã€‚æˆ‘ä»¬ç»§ç»­ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œæˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†æ‰€æœ‰è¯·æ±‚ã€‚æ— è®ºæˆ‘ä»¬æ”¶åˆ°ä»€ä¹ˆè¯·æ±‚ï¼Œæˆ‘ä»¬åªè¿”å›åœ¨&lt;code&gt;handle_request&lt;/code&gt;æ–¹æ³•ä¸­åˆ›å»ºçš„ç›¸åŒå“åº”ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒæ˜¯åŠ¨æ€çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›æä¾›çš„æ¥è‡ª&lt;code&gt;/home/&lt;/code&gt;çš„è¯·æ±‚ä¸åŒäºæ¥è‡ª&lt;code&gt;/about/&lt;/code&gt;çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºæ­¤ï¼Œåœ¨&lt;code&gt;app.py&lt;/code&gt;å†…éƒ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªå¤„ç†è¿™ä¸¤ä¸ªè¯·æ±‚çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;api.py&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello from the HOME page&amp;quot;&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;about&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello from the ABOUT page&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ä»¥æŸç§æ–¹å¼å°†è¿™ä¸¤ç§æ–¹æ³•ä¸ä¸Šè¿°è·¯å¾„è”ç³»èµ·æ¥ï¼š&lt;code&gt;/home/&lt;/code&gt;å’Œ&lt;code&gt;/about/&lt;/code&gt;ã€‚æˆ‘å–œæ¬¢Flaskçš„åšæ³•ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;api.py&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;

&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello from the HOME page&amp;quot;&lt;/span&gt;


&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;about&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello from the ABOUT page&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä½ è§‰å¾—æ€ä¹ˆæ ·ï¼Ÿçœ‹èµ·æ¥ä¸é”™ï¼Ÿç„¶åè®©æˆ‘ä»¬å®ç°è¿™ä¸ªbad boyå§ï¼&lt;/p&gt;
&lt;p&gt;å¦‚æ‚¨æ‰€è§ï¼Œè¯¥&lt;code&gt;route&lt;/code&gt;æ–¹æ³•æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œæ¥å—ä¸€ä¸ªè·¯å¾„å¹¶åŒ…è£…æ–¹æ³•ã€‚å®æ–½èµ·æ¥åº”è¯¥ä¸ä¼šå¤ªéš¾ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrapper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrapper&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è¿™æ˜¯æˆ‘ä»¬åœ¨è¿™é‡Œæ‰€åšçš„ã€‚åœ¨è¯¥&lt;code&gt;__init__&lt;/code&gt;æ–¹æ³•ä¸­ï¼Œåœ¨è¢«è°ƒç”¨çš„&lt;code&gt;self.routes&lt;/code&gt;çš„åœ°æ–¹æˆ‘ä»¬ç®€å•åœ°å®šä¹‰äº†ä¸€ä¸ª&lt;code&gt;dict&lt;/code&gt;ï¼Œæˆ‘ä»¬å°†è·¯å¾„å­˜å‚¨ä¸ºé”®, å¤„ç†ç¨‹åºhandlersä½œä¸ºå€¼ã€‚å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;/home&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt; &lt;span class="n"&gt;home&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="mh"&gt;0x1100a70c8&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt; &lt;span class="n"&gt;about&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="mh"&gt;0x1101a80c3&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;åœ¨è¯¥&lt;code&gt;route&lt;/code&gt;æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”åœ¨è£…é¥°å™¨æ–¹æ³•ä¸­ï¼Œåªéœ€å°†&lt;code&gt;self.routes&lt;/code&gt;è·¯å¾„ä½œä¸ºé”®æ”¾åœ¨å­—å…¸ä¸­ï¼Œå°†å¤„ç†ç¨‹åºä½œä¸ºå€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬æœ‰æ‰€æœ‰çš„æ‹¼å›¾ã€‚æˆ‘ä»¬æœ‰å¤„ç†ç¨‹åºå’Œä¸ä¹‹å…³è”çš„è·¯å¾„ã€‚ç°åœ¨ï¼Œå½“ä¸€ä¸ªè¯·æ±‚è¿›æ¥æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥å®ƒçš„&lt;code&gt;path&lt;/code&gt;ï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„å¤„ç†ç¨‹åºï¼Œè°ƒç”¨è¯¥å¤„ç†ç¨‹åºå¹¶è¿”å›ä¸€ä¸ªé€‚å½“çš„å“åº”ã€‚æˆ‘ä»¬è¿™æ ·åšï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸æ˜¯å¤ªéš¾äº†ï¼Œæ˜¯å—ï¼Ÿæˆ‘ä»¬ç®€å•åœ°è¿­ä»£&lt;code&gt;self.routes&lt;/code&gt;ï¼Œå°†è·¯å¾„ä¸è¯·æ±‚çš„è·¯å¾„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå­˜åœ¨åŒ¹é…ï¼Œåˆ™è°ƒç”¨ä¸è¯¥è·¯å¾„å…³è”çš„å¤„ç†ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;é‡æ–°å¯åŠ¨&lt;code&gt;gunicorn&lt;/code&gt;å¹¶åœ¨æµè§ˆå™¨ä¸­å°è¯•è¿™äº›è·¯å¾„ã€‚é¦–å…ˆï¼Œè®¿é—®&lt;code&gt;http://localhost:8000/home/&lt;/code&gt;ï¼Œç„¶åå»&lt;code&gt;http://localhost:8000/about/&lt;/code&gt;ã€‚æ‚¨åº”è¯¥çœ‹åˆ°ç›¸åº”çš„æ¶ˆæ¯ã€‚å¾ˆé…·ï¼Œå¯¹å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥å›ç­”â€œå¦‚æœæ‰¾ä¸åˆ°è·¯å¾„ä¼šæ€ä¹ˆæ ·ï¼Ÿâ€çš„é—®é¢˜ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¿”å›â€œNot found.â€çš„ç®€å•HTTPå“åº”çš„æ–¹æ³•ã€‚çŠ¶æ€ä»£ç ä¸º404ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;404&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Not found.&amp;quot;&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„&lt;code&gt;handle_request&lt;/code&gt;æ–¹æ³•ä¸­ä½¿ç”¨å®ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡æ–°å¯åŠ¨&lt;code&gt;gunicorn&lt;/code&gt;å¹¶å°è¯•ä¸€äº›ä¸å­˜åœ¨çš„è·¯ç”±ã€‚ä½ åº”è¯¥çœ‹åˆ°è¿™ä¸ªå¯çˆ±çš„â€œNot found.â€ é¡µã€‚ç°åœ¨ï¼Œä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œè®©æˆ‘ä»¬é‡æ„ä¸€ä¸‹æ‰¾åˆ°è‡ªå·±æ–¹æ³•çš„å¤„ç†ç¨‹åºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å°±åƒä¹‹å‰ä¸€æ ·ï¼Œå®ƒåªæ˜¯è¿­ä»£&lt;code&gt;self.route&lt;/code&gt;ï¼Œå°†è·¯å¾„ä¸è¯·æ±‚è·¯å¾„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè·¯å¾„ç›¸åŒåˆ™è¿”å›å¯¹åº”å¤„ç†ç¨‹åºã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¤„ç†ç¨‹åºï¼Œåˆ™è¿”å›&lt;code&gt;None&lt;/code&gt;ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„&lt;code&gt;handle_request&lt;/code&gt;æ–¹æ³•ä¸­ä½¿ç”¨å®ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘è®¤ä¸ºå®ƒçœ‹èµ·æ¥å¥½å¤šäº†ï¼Œå¹¶ä¸”éå¸¸å®¹æ˜“è§£é‡Šã€‚é‡å¯&lt;code&gt;gunicorn&lt;/code&gt;ï¼Œçœ‹çœ‹ä¸€åˆ‡éƒ½åƒä»¥å‰ä¸€æ ·æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰è·¯ç”±å’Œå¤„ç†ç¨‹åºã€‚å®ƒéå¸¸æ£’ï¼Œä½†æˆ‘ä»¬çš„è·¯å¾„å¾ˆç®€å•ã€‚å®ƒä»¬ä¸æ”¯æŒurlè·¯å¾„ä¸­çš„å…³é”®å­—å‚æ•°ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ‹¥æœ‰&lt;code&gt;@app.route("/hello/{person_name}")&lt;/code&gt;è¿™æ¡è·¯å¾„å¹¶ä¸”èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„å¤„ç†ç¨‹åºä¸­ä½¿ç”¨&lt;code&gt;person_name&lt;/code&gt;è¿™æ ·çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;say_hello&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;person_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, {person_name}&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸ºæ­¤ï¼Œå¦‚æœæœ‰äººè®¿é—®&lt;code&gt;/hello/Matthew/&lt;/code&gt;ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿå°†&lt;code&gt;/hello/{person_name}/&lt;/code&gt;è·¯å¾„ä¸å·²æ³¨å†Œçš„è·¯å¾„åŒ¹é…å¹¶æ‰¾åˆ°é€‚å½“çš„å¤„ç†ç¨‹åºã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå·²ç»æœ‰ä¸€ä¸ªåä¸º&lt;code&gt;parse&lt;/code&gt;çš„åŒ…æ­£ç¡®åœ°ä¸ºæˆ‘ä»¬åšäº†ã€‚è®©æˆ‘ä»¬ç»§ç»­å®‰è£…å®ƒï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install parse
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è®©æˆ‘ä»¬è¯•ä¸€ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;parse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, {name}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello, Matthew&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;named&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Matthew&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¦‚æ‚¨æ‰€è§ï¼Œå®ƒè§£æäº†å­—ç¬¦ä¸²&lt;code&gt;Hello, Matthew&lt;/code&gt;ï¼Œå¹¶èƒ½å¤Ÿè¯†åˆ«å‡º&lt;code&gt;Matthew&lt;/code&gt;æ˜¯ä¸æˆ‘ä»¬æä¾›çš„å­—ç¬¦ä¸²&lt;code&gt;{name}&lt;/code&gt;ç›¸å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„&lt;code&gt;find_handler&lt;/code&gt;æ–¹æ³•ä¸­ä½¿ç”¨å®ƒï¼Œä¸ä»…å¯ä»¥æ‰¾åˆ°ä¸è·¯å¾„å¯¹åº”çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥æ‰¾åˆ°æä¾›çš„å…³é”®å­—å‚æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;parse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;routes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;parse_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;parse_result&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parse_result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;named&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ä»¬ä»åœ¨è¿­ä»£&lt;code&gt;self.routes&lt;/code&gt;ï¼Œç°åœ¨ä¸æ˜¯æ¯”è¾ƒè¯·æ±‚è·¯å¾„çš„è·¯å¾„ï¼Œè€Œæ˜¯å°è¯•è§£æå®ƒï¼Œå¦‚æœæœ‰ç»“æœï¼Œæˆ‘ä»¬å°†å¤„ç†ç¨‹åºå’Œå…³é”®å­—å‚æ•°ä½œä¸ºå­—å…¸è¿”å›ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨&lt;code&gt;handle_request&lt;/code&gt;å†…éƒ¨ä½¿ç”¨è¿™ä¸ªå°†è¿™äº›å‚æ•°ä¼ é€’ç»™å¤„ç†ç¨‹åºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# api.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;webob&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;parse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;API&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kwargs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å”¯ä¸€çš„å˜åŒ–æ˜¯ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ª&lt;code&gt;handler&lt;/code&gt;å’Œ&lt;code&gt;kwargs&lt;/code&gt;ä»&lt;code&gt;self.find_handler&lt;/code&gt;ï¼Œå¹¶ä¼ é€’ä¸€ä¸ª&lt;code&gt;kwargs&lt;/code&gt;åƒè¿™æ ·çš„å¤„ç†&lt;code&gt;**kwargs&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ç”¨è¿™ç§ç±»å‹çš„è·¯å¾„ç¼–å†™ä¸€ä¸ªå¤„ç†ç¨‹åºå¹¶è¯•ä¸€è¯•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# app.py&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/hello/{name}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;greeting&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, {name}&amp;quot;&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡å¯ä½ çš„&lt;code&gt;gunicorn&lt;/code&gt;è®¿é—®&lt;code&gt;http://localhost:8000/hello/Matthew/&lt;/code&gt;ã€‚ä½ åº”è¯¥æœ‰è¿™ä¸ªç¾å¦™çš„ä¿¡æ¯: &lt;code&gt;Hello, Matthew&lt;/code&gt;ã€‚å¤ªæ£’äº†å§ï¼Ÿå†æ·»åŠ å‡ ä¸ªè¿™æ ·çš„å¤„ç†ç¨‹åºã€‚æ‚¨è¿˜å¯ä»¥æŒ‡å‡ºç»™å®šå‚æ•°çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†å¤„ç†ç¨‹åºå†…çš„&lt;code&gt;@app.route("/tell/{age:d}")&lt;/code&gt;å‚æ•°&lt;code&gt;age&lt;/code&gt;ä½œä¸ºæ•°å­—ã€‚&lt;/p&gt;
&lt;h2 id="_1"&gt;ç»“è®º&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ¼«é•¿çš„æ—…ç¨‹ï¼Œä½†æˆ‘è®¤ä¸ºè¿™å¾ˆæ£’ã€‚æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶äº²è‡ªå­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡åšæ–‡ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä»¬æˆ‘ä»¬åº”è¯¥åœ¨æ¡†æ¶ä¸­å®ç°çš„å…¶ä»–åŠŸèƒ½ã€‚æˆ‘åœ¨è€ƒè™‘åŸºäºç±»çš„å¤„ç†ç¨‹åºï¼Œæ”¯æŒæ¨¡æ¿å’Œé™æ€æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;Fight on!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ä¸œé£å¾®é¸£</dc:creator><pubDate>Fri, 01 Mar 2019 14:44:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-01:/write-python-framework-part-one.html</guid><category>python</category><category>webæ¡†æ¶</category></item></channel></rss>