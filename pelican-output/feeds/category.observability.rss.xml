<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>东风微鸣 Blog - Observability</title><link>https://www.EWhisper.cn/</link><description>Focus on Python/Java/DevOps/Observability</description><lastBuildDate>Fri, 03 May 2019 14:54:12 +0800</lastBuildDate><item><title>Dynatrace 告警简要分析流程</title><link>https://www.EWhisper.cn/analyze-problems-with-dynatrace.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;告警类别及含义&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;应用告警&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;中间件告警&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;主机告警&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu"&gt;CPU运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;告警简要分析流程&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_6"&gt;简介&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;响应时间/速度较慢的请求的响应时间降低&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_8"&gt;失败率过高/页面操作/事务整体失败率高&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;应用程序进程不可用（非预期）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;应用程序进程运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#jvm"&gt;可能挂起的JVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;应用程序进程内存不足&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu_1"&gt;CPU运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;硬盘运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;内存运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;网络运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;dynaTrace告警确认及关闭&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;告警类别及含义&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;应用告警&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;响应时间/速度较慢的请求的响应时间降低&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;响应时间降低--对应的应用或URL平均响应时间(中值)明显高于期望。即使所观测的响应时间尚可被客户接受，这种状态明显是应用程序或是硬件问题导致，并且会降低所能达到的最大吞吐量。&lt;/li&gt;
&lt;li&gt;速度较慢的请求的响应时间降低--观测中 10% 最慢请求的反应时间明显增加。这将导致用户体验变差。应用程序及硬件问题都能导致该问题。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;失败率过高/页面操作/事务整体失败率高&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;失败率过高--事务失败率远高于预期。&lt;/li&gt;
&lt;li&gt;页面操作失败率高--总体页面操作失败率超过预设阀值。&lt;/li&gt;
&lt;li&gt;事务整体失败率高--事务整体失败率高。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_3"&gt;中间件告警&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;应用程序进程不可用（非预期）&lt;/h4&gt;
&lt;p&gt;与之前连接的应用程序进程/Agent 之间的连接已丢失，无法与 Agent 断开连接。&lt;/p&gt;
&lt;p&gt;一般出现该告警的原因为停止或杀掉对应中间件的进程。&lt;/p&gt;
&lt;h4&gt;应用程序进程运行状况不佳&lt;/h4&gt;
&lt;p&gt;由于在垃圾回收过程中花费大量执行时间，因此应用程序进程的显著挂起时间会持续一段时间。&lt;/p&gt;
&lt;p&gt;一般是由于频繁GC导致的。&lt;/p&gt;
&lt;h4&gt;可能挂起的JVM&lt;/h4&gt;
&lt;p&gt;可能的java VM挂起。可能是由于heap/thread dump或者GC活动。原因未知需要手动分析。&lt;/p&gt;
&lt;h4&gt;应用程序进程内存不足&lt;/h4&gt;
&lt;p&gt;应用程序进程报出内存不足。&lt;/p&gt;
&lt;p&gt;一般是由于中间件内存使用已满或内存溢出。&lt;/p&gt;
&lt;h3 id="_4"&gt;主机告警&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;主机类告警的阈值与所属的主机组有关。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCXRay6p/bea1t.jpg"&gt;&lt;/p&gt;
&lt;h3 id="cpu"&gt;CPU运行状况不佳&lt;a class="headerlink" href="#cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CPU使用率或系统时间超过预设阈值。&lt;/p&gt;
&lt;p&gt;CPU的阈值有2个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用率&lt;/li&gt;
&lt;li&gt;系统时间&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;硬盘运行状况不佳&lt;/h4&gt;
&lt;p&gt;主机硬盘的可用空间大小及百分比低于预设阈值。有2个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可用空间大小&lt;/li&gt;
&lt;li&gt;可用空间百分比&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;内存运行状况不佳&lt;/h4&gt;
&lt;p&gt;主机的可用内存大小及百分比低于预设阈值或内存页面故障大于预设阈值。有3个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可用内存大小&lt;/li&gt;
&lt;li&gt;可用内存百分比&lt;/li&gt;
&lt;li&gt;页面故障数&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;网络运行状况不佳&lt;/h4&gt;
&lt;p&gt;网络带宽使用率大于预设阈值。有1个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;带宽使用率&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;告警简要分析流程&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;简介&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;通用入口&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;“驾驶舱”，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY07pnX/Ry7Q9.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Start Center，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY32F9u/eT8op.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;“监控”，如下图：(绿色正常/红色异常/灰色无数据)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY4WDEM/l7JDg.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_7"&gt;响应时间/速度较慢的请求的响应时间降低&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;打开事件仪表板，如下图：(告警红色为Severe级别/黄色为Warning级别；告警时间段可以按需选择)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY7f5oF/dYODm.jpg"&gt; &lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;移动到对应的告警信息→右键→深入分析→PurePath，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYaxIBv/uWnkT.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;跳转到PurePath仪表板，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYdl5vQ/10ziUa.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;右键仪表板→编辑筛选器→筛选对应的PurePath并应用，如下图:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYehBhS/Jkp4w.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYfBRlP/NMHo5.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;全选所有的PurePath→右键→深入分析→响应时间热点 （此处可以点击第二列”响应时间“对PurePath进行排序，针对性分析）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYhLI4x/nAr3y.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;响应时间热点仪表板，如下：(针对“速度较慢的请求的响应时间降低”告警，需要在右上角“百分比筛选器进行选择。至此，初步分析结果已得出)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYk4En1/n9rDF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;
&lt;p&gt;最终分析结果：API细分仪表板及方法细分仪表板，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQlsd/NpiKX.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQd76/REkXi.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;更近一步分析：可以直接分析源代码，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnAAJy/yrJBF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnwwKB/LynTC.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;失败率过高/页面操作/事务整体失败率高&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;事件→Purepath，如上文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑筛选器内容，如上文。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按错误排序，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYrsFLH/Qyujo.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;右键上图报错方法，出现具体的报错/异常/日志等内容，如下图：(可以多看十几条PurePath，如果报错内容都相同，则已经初步定位到告警原因)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYsL7Nf/UcVBq.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;全选所有PurePath→深入分析→错误率相关菜单，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYtOs3i/Myyj4.jpg"&gt; &lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;定位到告警原因，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYuXMxi/148DNZ.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_9"&gt;应用程序进程不可用（非预期）&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;该类报错通常是由于停止或杀掉或重启中间件等进程导致的。&lt;/p&gt;
&lt;p&gt;可以直接在”事件”仪表板中查看，如下图：（告警开始时间就是停进程的时间；终止时间就是启动进程的时间）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYwhZNA/gEE3m.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;应用程序进程运行状况不佳&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;该类报错分析起来较为复杂，需要有丰富的中间件运维经验和dynaTrace使用经验。详细信息参考附件：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;《应用程序进程运行状况不佳分析示例》&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="jvm"&gt;可能挂起的JVM&lt;a class="headerlink" href="#jvm" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如上文所述：可能是由于heap/thread dump或者GC活动。原因未知需要手动分析。具体问题具体对待。&lt;/p&gt;
&lt;h3 id="_11"&gt;应用程序进程内存不足&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如上文所述，通常是由于内存溢出或内存快满。分析流程如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过上文提到的入口--“监控”→点击“进程”→查看进程仪表板，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYKC06L/RD3sF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYJdo4D/10CMzY.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;点击内存快照→创建内存快照→按需选择快照的类型并应用，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYMr7TG/RzIqA.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;dynaTrace会自动分析并给出结果，如下图：(至此已经定位到问题所在)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYO7UoS/jZMqd.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;如需进一步分析，可以点击内存快照分析的其他标签页。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYPQTpk/T02uX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTrace支持内存溢出时自动做内存快照，且默认开启，在生产环境建议关闭该功能，有需求可以针对性开启。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYRN2UG/H6NSX.jpg"&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="cpu_1"&gt;CPU运行状况不佳&lt;a class="headerlink" href="#cpu_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;从入口“监控”进入→主机列表→主机监控，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYV9u5l/aweYD.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;主机监控仪表图分析，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYVyY4X/NmNbr.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;做CPU采样与线程快照（步骤与做内存快照类似，见上文）。CPU采样与线程快照分析如下：(已经定位到告警原因)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYX1rCQ/RpJ2j.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;可以对线程快照进一步分析，定位到线程的堆栈以及当时线程执行的URL请求，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYZHuqt/10KqLh.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_12"&gt;硬盘运行状况不佳&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;直接进入主机仪表板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2mxAA/C7G0x.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_13"&gt;内存运行状况不佳&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;直接进入主机仪表板查看内存使用率，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ3lGA6/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;分析占用物理内存的进程情况。&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;JVM使用的JVM代码区、JVM数据区、heap区都应该是固定的。但是JVM进程所使用的线程栈区、永久代、内核内存是可能随着应用程序吞吐量、业务量、负载量的变化而变化的。&lt;/p&gt;
&lt;p&gt;JVM是作为一个进程运行在Linux上的。从进程的角度来看，进程能直接访问的用户内存（虚拟内存空间）被划分为5个部分：代码区、数据区、堆区、栈区、未使用区。代码区中存放应用程序的机器代码，运行过程中代码不能被修改，具有只读和固定大小的特点。数据区中存放了应用程序中的全局数据，静态数据和一些常量字符串等，其大小也是固定的。堆是运行时程序动态申请的空间，属于程序运行时直接申请、释放的内存资源。栈区用来存放函数的传入参数、临时变量，以及返回地址等数据。未使用区是分配新内存空间的预备区域。 &lt;/p&gt;
&lt;p&gt;JavaNIO使得JVM可以使用内核内存。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_14"&gt;网络运行状况不佳&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;直接进入主机仪表板查看网络利用率，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2o2RS/hLaMM.jpg"&gt;&lt;/p&gt;
&lt;h1 id="dynatrace"&gt;dynaTrace告警确认及关闭&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;dynaTrace的告警确认及关闭需要登录客户端，进入到“事件”仪表板进行操作。具体如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ6HvHe/eop6b.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Fri, 03 May 2019 14:54:12 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-03:/analyze-problems-with-dynatrace.html</guid><category>Dynatrace</category><category>Observability</category><category>性能调优</category></item><item><title>Dynatrace AppMon 实战手册 - 10.Dynatrace权限管理</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-10-authority-management.html</link><description>&lt;ol&gt;
&lt;li&gt;在Dynatrace Server设置 -&amp;gt; 用户面板，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vxzug/YnE01.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Dynatrace 关于权限管理方面，从3个层面实现对用户权限的精细化管理，从面到点依次为：&lt;strong&gt;角色、组、账户&lt;/strong&gt;。同时，Dynatrace的权限管理支持LDAP以及密码复杂度的配置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“角色”层面，主要负责Dynatrace所有详细权限的配置。Dynatrace默认配置的有如下角色：Administrator（管理员）、Guest（访客）、Power User、User（普通用户）。其中，Administrator具有Dynatrace的所有权限。具体如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuSXj/7BPLt.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;可以根据生产环境的实际需要，创建新的角色及配置详细的权限。如：创建应用项目组的角色--Project Team。权限包括应用分析的所有权限及保密字符串的查看权限，以及可以做线程快照进行分析。权限细节如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuCTD/8Iu8o.png"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;“组”层面。对3个方面进行了细化，分别是：Dynatrace Server管理（指定角色权限）；系统配置文件（对具体的系统配置文件进行详细的角色权限配置）；仪表板（对具体的仪表板进行权限配置，分为：可读和读写权限。）默认的组有：Incident Email Group（事件邮件告警组）、Business Users。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;根据实际情况，创建新的组并配置详细的权限。如：创建ilog组--ilog。权限为Project Team，所有与ilog相关的仪表板都有可读权限。具体操作如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuaV7/3bcPr.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vulJK/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuvnf/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;“账户”层面。就是实际使用Dynatrace的账户。包括以下内容：用户ID、电子邮件、所属用户组。具体操作如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuLrs/medium.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-10-authority-management.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 11.Dynatrace创建定时任务</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-11-create-shedule-task.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;概述&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;操作步骤&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;创建月报，每月邮件发送&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace可以设置在每隔一定时间后，执行指定的任务。&lt;/p&gt;
&lt;p&gt;Dynatrace配置定时任务主要是在&lt;strong&gt;System Profile&lt;/strong&gt;（系统配置文件）层面进行配置。与定时任务有关的配置项包括以下2类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Schedule&lt;/strong&gt;（计划）：主要是与时间相关的配置。计划可以用于创建&lt;strong&gt;Task&lt;/strong&gt; （任务）和&lt;strong&gt;Monitor&lt;/strong&gt;（监视器）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Task&lt;/strong&gt; （任务）：主要是具体执行的操作。如：做内存快照、线程快照、CPU采样、Session存储以及定期报告等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;创建月报，每月邮件发送&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;创建计划&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;右击指定的System Profile（系统配置文件）-&amp;gt; 编辑系统配置文件。可以看到编辑系统配置文件首选项，在左面版中可以找到&lt;strong&gt;计划&lt;/strong&gt;和&lt;strong&gt;任务&lt;/strong&gt;标签页。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击计划，默认的计划有每10min、每10s、每小时、每分钟。根据需要，创建一个&lt;strong&gt;每月&lt;/strong&gt;的计划，每月计划细则为：从20160701 9:35开始执行，每一个月执行一次，直到永远。如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fcrwn/vbDWA.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;下边以创建更复杂的&lt;strong&gt;Every workday&lt;/strong&gt;来说明创建计划的具体操作。点击&lt;strong&gt;创建计划...&lt;/strong&gt;跳出创建计划对话框。对话框分为2部分，分别为&lt;strong&gt;运行计划&lt;/strong&gt;和&lt;strong&gt;排除&lt;/strong&gt;，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FczTZ/A4ZZf.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;创建或编辑&lt;strong&gt;计划运行&lt;/strong&gt;，在对话框中可以选择&lt;strong&gt;开始&lt;/strong&gt;、&lt;strong&gt;结束&lt;/strong&gt;时间和&lt;strong&gt;重复周期&lt;/strong&gt;。开始时间可以指定具体到时分秒；结束有3种方式：指定时间结束、执行一定次数后结束、永不结束。如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FcLIJ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;设置&lt;strong&gt;重复周期&lt;/strong&gt;，重复周期可以选择具体的重复时间单位和具体的月份。如上图。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建&lt;strong&gt;排除&lt;/strong&gt;。排除有3种方式：始终排除、排除时间（日期）、排除时间自-到。&lt;strong&gt;Every workday&lt;/strong&gt;可以根据需求，始终排除1-12月的周六、周日。如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FcVKB/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;至此，&lt;strong&gt;计划&lt;/strong&gt;创建完毕。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;创建任务&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;回到系统配置文件首选项。点击&lt;strong&gt;任务&lt;/strong&gt;标签页。任务标签页可以对任务进行挂起和恢复以及停止。具体内容如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fd93j/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;可以在标签页点击&lt;strong&gt;创建...&lt;/strong&gt;,在本页面可以创建的任务有：内存快照、CPU采样、线程快照、Session存储。注意：无法在本页面创建报告。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fdi7K/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;如果需要创建报告任务，可以在Dynatrace客户端 -&amp;gt; 仪表板 -&amp;gt; 打开需要创建为报告的仪表板。如某系统的月报仪表板。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdrgC/FkwEk.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;在仪表板标签右击 -&amp;gt; 点击报告，如上图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;弹出&lt;strong&gt;报告创建&lt;/strong&gt;对话框，点击&lt;strong&gt;创建计划...&lt;/strong&gt;，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdAUJ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;弹出计划报告任务对话框，主要有3个标签页可以设置：任务、计划、报告设置。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdNiy/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;任务&lt;/strong&gt;标签页可以指定发送邮件，邮件接收人，主题；或者存放到本机或远程主机磁盘上。本例通过邮件发送。如上图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;计划&lt;/strong&gt;标签页可以选择之前创建好的&lt;strong&gt;Every Month&lt;/strong&gt;计划，计划执行于Dynatrace Server。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdPls/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;&lt;strong&gt;报告设置&lt;/strong&gt;可以选择报告格式，支持以下格式：PDF、WORD、HTML、XML、EXCEL、CSV。这里选择HTML格式，可以直接显示在邮件里。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdWZP/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;
&lt;p&gt;在&lt;strong&gt;高级&lt;/strong&gt; -&amp;gt; &lt;strong&gt;详细信息&lt;/strong&gt; 中可以进行更多细节设置。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fe8zz/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可以自定义logo、显示行数、显示的仪表图。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fecyh/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置完成后&lt;strong&gt;运行计划&lt;/strong&gt;，运行后月报效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FejjI/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;至此，Dynatrace创建定时任务--月报全部完成。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-11-create-shedule-task.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 12.Dynatrace细节优化</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-12-appmon-optimization.html</link><description>&lt;h2 id="_1"&gt;应用响应时间失败率阈值优化&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;概述&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace的应用相关阈值（包括：响应时间、最慢响应时间、失败率）是由Dynatrace 的&lt;strong&gt;Smart Baseline&lt;/strong&gt; 功能来进行动态调整的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;备注:&lt;br&gt;
具体的实现原理可以查看官方文档：&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Baseline+and+Smart+Alerting+Explained"&gt;Baseline and Smart Alerting Explained&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;大致是根据&lt;strong&gt;过去7天&lt;/strong&gt;的表现来进行动态调整。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在某些特殊应用中，Dynatrace的自动基线并不符合生产系统的实际情况，会出现较多的误报。具体如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtsLv/5BIUQ.png"&gt;&lt;/p&gt;
&lt;p&gt;在这种情况下，我们需要根据应用的实际情况将动态基线改为静态基线。&lt;/p&gt;
&lt;h3 id="_3"&gt;操作步骤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下面以修改具体请求的响应时间基线为例，来说明如何对基线、阈值进行优化。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在Dynatrace指定系统配置文件的&lt;strong&gt;监控&lt;/strong&gt;页面 -&amp;gt; 点击中下方的&lt;strong&gt;应用程序&lt;/strong&gt; -&amp;gt; 选择对应的应用 -&amp;gt; 选择需要调整的&lt;strong&gt;业务分析&lt;/strong&gt; -&amp;gt; 点击具体业务分析的&lt;strong&gt;齿轮&lt;/strong&gt;图标 -&amp;gt; 选择&lt;strong&gt;配置基准&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRu0Af/aY6N4.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;跳出如下&lt;strong&gt;基准设置&lt;/strong&gt;对话框。可以设置失败率、响应时间、是否告警等内容。在此，我们将&lt;strong&gt;响应时间&lt;/strong&gt;设置为静态基准：1000ms。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtDaw/nPr34.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;将&lt;strong&gt;最慢响应时间&lt;/strong&gt;（最慢的10%请求）的静态基准设为：10000ms。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtFcD/WkmXY.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;至此设置完成，回到&lt;strong&gt;应用程序&lt;/strong&gt; -&amp;gt; 具体的业务分析页面。我们看到基准已经按照配置调整为静态。（绿色线条）。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtNUs/QklZs.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-12-appmon-optimization.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 13.Dynatrace Agent 迁移</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-13-move-agent.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在实际生产环境中，由于Dynatrace 的License有类型、数量上的限制（限制同时接入的agent数量），但是并不限制agent必须永远嵌入同一个JVM中。而且，根据生产环境中不同应用系统的上下线，也需要对Dynatrace 的Agent进行调整迁移，以最大化地发挥Dynatrace的监控价值。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace Agent迁移主要分为3大步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dynatrace迁移前相关告警项的临时关闭（即创建Dynatrace事件&lt;strong&gt;停机时间&lt;/strong&gt;）&lt;/li&gt;
&lt;li&gt;Agent从原有JVM中移除，并重启对应JVM&lt;/li&gt;
&lt;li&gt;Agent嵌入新的JVM，并重启对应JVM&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后生效。&lt;/p&gt;
&lt;h3 id="_3"&gt;创建停机时间&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;在左侧&lt;strong&gt;驾驶舱&lt;/strong&gt;中，双击&lt;strong&gt;事件&lt;/strong&gt;，出现事件仪表板 -&amp;gt; 点击“旦”形的停机时间图标，可以看到已经创建好的停机时间规则。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wRLW/iZTj3.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;右击&lt;strong&gt;停机时间&lt;/strong&gt;表格空白处 -&amp;gt; &lt;strong&gt;创建停机时间&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wEfp/6NQPj.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;跳出&lt;strong&gt;创建停机时间&lt;/strong&gt;对话框，包括：停机开始时间及持续时间；重复周期；结束时间。此处配置如下图，然后点击下一步。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3xe7v/11CaLh.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;选择对应的告警事件，此处需要选择对应的系统配置文件的告警事件：&lt;strong&gt;Application Process Unavailable (unexpected)&lt;/strong&gt; ，并点击下一步。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3xnC3/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;配置完成后，返回停机时间表查看，规则已存在，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wJlM/QbX65.jpg"&gt;&lt;/p&gt;
&lt;h3 id="dynatrace-agent"&gt;移除Dynatrace Agent&lt;a class="headerlink" href="#dynatrace-agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
以Weblogic为例。其他中间件操作类似。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;备份对应中间件实例启动脚本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;取消对应中间件实例启动脚本中的Dynatrace Agent字段，移除启动脚本中的如下内容：&lt;code&gt;-agentpath:&amp;lt;DT_HOME&amp;gt;/agent/lib/libdtagent.so=name=&amp;lt;AgentName&amp;gt;, server=&amp;lt;dynaTraceCollectorName&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在重启窗口时间段内，重启对应中间件实例。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除Dynatrace Agent已完成。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="dynatrace-agent_1"&gt;安装Dynatrace Agent&lt;a class="headerlink" href="#dynatrace-agent_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;请参考文档：&lt;a href="http://cloud.189.cn/t/V7VZze3uqERv"&gt;dynaTrace安装文档- 6.4  Agent 配置&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装完成后，可以在Dynatrace客户端左边&lt;strong&gt;驾驶舱&lt;/strong&gt; -&amp;gt; 双击&lt;strong&gt;Agent概述&lt;/strong&gt; -&amp;gt; 查看迁移后的Agent是否存在及抓取的Purepath总数。&lt;/p&gt;
&lt;p&gt;至此，Dynatrace Agent迁移完成。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-13-move-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 14.Dynatrace创建Server-side业务分析</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-14-create-server-side-bussiness-transaction.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;业务分析（&lt;strong&gt;Business Transaction&lt;/strong&gt;）可以经过对应用的分析来跟踪一些特殊的交易（如：登陆和购买）。例如，你可以跟踪某应用特定用户群的登陆操作响应时间。业务分析包含过滤方法来检查指定的用户标签的出现（如：一个标记过的web请求测量）。默认会计算响应时间和计数。拆分方法默认是&lt;strong&gt;应用&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;针对Dynatrace的业务分析又可以根据数据来源的不同，细分为以下几类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基于Server端数据的业务分析&lt;/li&gt;
&lt;li&gt;基于UEM用户访问数据的业务分析&lt;/li&gt;
&lt;li&gt;基于UEM用户行为数据的业务分析&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本次将介绍如何创建Server-side业务分析。&lt;/p&gt;
&lt;h2 id="_2"&gt;案例介绍&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;客户发现人寿显示影像资料频繁告警相应缓慢。怀疑与用户和具体的IP有关，希望创建针对&lt;strong&gt;显示影像&lt;/strong&gt;这一业务，按照用户名和IP地址进行拆分过滤。以进一步分析。&lt;/p&gt;
&lt;h2 id="_3"&gt;操作步骤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;备注:&lt;br&gt;
推荐使用&lt;strong&gt;第一个&lt;/strong&gt;而不是&lt;strong&gt;最后一个&lt;/strong&gt;来作为业务分析的筛选条件。&lt;br&gt;
这2者的主要区别是：如果PurePath树很长的话，最后一个将导致每个方法都会查看一遍，如果是第一个，就只看第一个节点就行了&lt;br&gt;
所以&lt;strong&gt;第一个&lt;/strong&gt;作为筛选条件效率会高很多。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;操作步骤分解：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建特定业务的&lt;strong&gt;测量（measure）&lt;/strong&gt; -- &lt;em&gt;1-4步&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;创建作为过滤条件的&lt;strong&gt;测量&lt;/strong&gt;--客户端IP、用户名 -- &lt;em&gt;5-7步&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;创建&lt;strong&gt;业务分析&lt;/strong&gt; --  &lt;em&gt;8-11步&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;进入指定系统配置文件的&lt;strong&gt;编辑系统配置文件&lt;/strong&gt;菜单，在左面板找到&lt;strong&gt;测量&lt;/strong&gt;标签，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeeHe/sgCJu.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;点击&lt;strong&gt;创建测量...&lt;/strong&gt; ，这里需要按照&lt;strong&gt;URI模式值&lt;/strong&gt;进行创建。如上图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳出创建新测量对话框，可以通过ctrl+f 直接查找关键字（在任何列表类界面都可以搜索） -&amp;gt; 点击&lt;strong&gt;web请求 - URI模式值&lt;/strong&gt;，需要根据实际需求填写：名称、URI模式和值、拆分等内容。如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeyWo/2g7eJ.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;配置好的&lt;strong&gt;显示影像&lt;/strong&gt;（showimage）的测量如下，并点击&lt;strong&gt;确定&lt;/strong&gt; ：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeWmD/x6wu1.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;再次点击&lt;strong&gt;创建测量...&lt;/strong&gt;,查找并选择&lt;strong&gt;Web请求 - 客户端IP&lt;/strong&gt;，并点击&lt;strong&gt;添加&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkef6xe/SGhyA.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;再次点击&lt;strong&gt;创建测量...&lt;/strong&gt;,查找并选择&lt;strong&gt;Web请求 - 会话属性值&lt;/strong&gt; ，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefgJ3/mTATJ.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;并进行详细的配置，配置可以抓取到用户名的&lt;strong&gt;会话属性&lt;/strong&gt;，本例中的会话属性为：&lt;strong&gt;lifeuser.getUserName()&lt;/strong&gt;。关于具体的会话属性，可以询问应用项目组的成员，也可以通过Dynatrace进行配置后发现。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefpPU/EZUFO.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;回到&lt;strong&gt;系统配置文件首选项&lt;/strong&gt;，在左面版点击业务分析，点击&lt;strong&gt;创建...&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeqoQ/whjeF.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;跳出&lt;strong&gt;业务分析编辑器&lt;/strong&gt;对话框。先对&lt;strong&gt;筛选器&lt;/strong&gt;进行选择，点击“&lt;strong&gt;+&lt;/strong&gt;”按钮，选择之前创建好的&lt;strong&gt;showimage&lt;/strong&gt;测量。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefBbi/10GYpe.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;
&lt;p&gt;再对结果抓取结果进行拆分，在&lt;strong&gt;拆分结果&lt;/strong&gt;栏 -&amp;gt; 点击“&lt;strong&gt;+&lt;/strong&gt;”按钮，选择之前创建好的测量--用户名和客户端IP。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefKdS/wNnu6.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置&lt;strong&gt;拆分选项&lt;/strong&gt;，按照需求进行拆分。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefVOx/xWmhe.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;至此创建Server-side业务分析完成。可以选择按照&lt;strong&gt;平均响应时间&lt;/strong&gt;排序，排序后下方会显示出平均响应时间占比的饼图。如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeg73O/5odkC.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
关于第7步，如果需要测量该指标，则应该先抓取该指标。&lt;/p&gt;
&lt;p&gt;要抓取该指标，需要配置Servlet的传感器属性。具体如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkrJrPK/PRzj5.jpg"&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-14-create-server-side-bussiness-transaction.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 15.Dynatrace创建Server-side业务分析 - 实时抓取某系统大于30s的请求</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-15-create-serverside-bt-another-example.html</link><description>&lt;h2 id="_1"&gt;案例介绍&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;某系统是某保险公司的核心系统。需要对系统进行性能上的优化工作，开发及项目组同事想要抓取到系统上个月所有响应时间超过30s的请求，以及请求的详细信息（如请求的具体时间等）。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;思路分解如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建针对 &lt;strong&gt;核心系统&lt;/strong&gt;响应时间&lt;strong&gt;大于30s&lt;/strong&gt;的&lt;strong&gt;web 请求&lt;/strong&gt;的测量； -- 第1-3步&lt;/li&gt;
&lt;li&gt;创建业务分析，用来筛选并按照URI拆分相应的请求；-- 第4-8步&lt;/li&gt;
&lt;li&gt;结果展示 -- 第9-10步&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;进入&lt;strong&gt;系统配置文件首选项&lt;/strong&gt; -&amp;gt; 左面版&lt;strong&gt;测量&lt;/strong&gt; -&amp;gt;  查找&lt;strong&gt;web请求&lt;/strong&gt;-&lt;strong&gt;时间&lt;/strong&gt; 测量 -&amp;gt; 复制&lt;strong&gt;web请求测量&lt;/strong&gt; ，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3gTEn/10SqYN.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;跳出编辑测量属性的对话框，在&lt;strong&gt;阈值&lt;/strong&gt; -&amp;gt; 严重级别上限值设置为 30000ms，如下图:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hgdf/5lMEx.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;转到&lt;strong&gt;详细信息&lt;/strong&gt;标签页，选择要抓取请求的系统--&lt;strong&gt;核心系统&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hmv8/pTYrW.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;在&lt;strong&gt;系统配置文件首选项&lt;/strong&gt; -&amp;gt; &lt;strong&gt;创建...&lt;/strong&gt; ，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hBdF/byLKG.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;跳出&lt;strong&gt;业务分析编辑器&lt;/strong&gt;，设置业务分析的&lt;strong&gt;名称&lt;/strong&gt;、&lt;strong&gt;描述&lt;/strong&gt;、&lt;strong&gt;筛选器&lt;/strong&gt;。点击筛选器右侧“+”按钮，选择之前创建的测量。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hRyy/2DyIX.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;选择业务分析拆分方式。点击&lt;strong&gt;拆分结果&lt;/strong&gt; -&amp;gt; 点击“+”按钮 -&amp;gt; 选择对应的拆封规则。本例中应该选择的拆分规则为：&lt;strong&gt;完整的URI&lt;/strong&gt;。（图片仅用作说明）如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3i4uG/HzFFm.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;选择拆分限制。点击&lt;strong&gt;拆分选项...&lt;/strong&gt; ，跳出拆分选项对话框，选择&lt;strong&gt;不限制&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3ibxt/KIdRF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;配置完成后的&lt;strong&gt;业务分析&lt;/strong&gt;如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hHP6/FMqWt.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;至此，业务分析配置完成。显示效果如下图（该图展示的是关于符合条件的URI的统计信息，上表显示的结果按照完整的URI进行拆分，每个拆分项都有&lt;strong&gt;计数&lt;/strong&gt;、&lt;strong&gt;平均响应时间&lt;/strong&gt; 等统计数据；下图中按照需求可以对&lt;strong&gt;计数&lt;/strong&gt;、&lt;strong&gt;平均响应时间&lt;/strong&gt;等生成饼图。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3ijPU/14leMe.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;如果需要查看每个URI执行的&lt;strong&gt;开始时间&lt;/strong&gt;、&lt;strong&gt;持续时间&lt;/strong&gt;、&lt;strong&gt;执行堆栈&lt;/strong&gt;、&lt;strong&gt;客户端IP&lt;/strong&gt;等详细信息，可以右击对应的URI，点击&lt;strong&gt;深入分析&lt;/strong&gt; -&amp;gt; PurePath 跳转到PurePath界面，以此来查看完整的信息。&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-15-create-serverside-bt-another-example.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 16.Dynatrace创建Server-side业务分析实战案例3</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-16-create-serverside-bt-3rd-example.html</link><description>&lt;h2 id="_1"&gt;案例介绍&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;某关键业务不仅仅需要URI进行过滤，同时需要对query字段&lt;em&gt;busiid&lt;/em&gt;和&lt;em&gt;showflag&lt;/em&gt;进行过滤。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;思路分解如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;配置sensor属性 - &lt;strong&gt;Servlet&lt;/strong&gt; 的&lt;strong&gt;请求属性&lt;/strong&gt; -- 添加对应的query字段；&lt;/li&gt;
&lt;li&gt;创建业务分析，配置指定的POST的URI、query；&lt;/li&gt;
&lt;li&gt;将配置好的测量作为组合条件配置业务分析。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
需要实现的业务分析示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;:heavy_exclamation_mark:不正确的配置示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_2.jpg"&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;配置&lt;strong&gt;servlet&lt;/strong&gt;传感器属性 -- &lt;strong&gt;请求参数&lt;/strong&gt; 来抓取对应的&lt;strong&gt;query&lt;/strong&gt;信息，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_4.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;创建包含指定query的测量 -- busiid （通过&lt;strong&gt;Web请求 - 参数值&lt;/strong&gt; 这个模板测量）。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_5.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;创建包含指定query的测量 -- showflag，如下图:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_7.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;注意&lt;strong&gt;测量&lt;/strong&gt;的&lt;strong&gt;拆分阈值&lt;/strong&gt;要设置为超过&lt;strong&gt;1&lt;/strong&gt;就拆分。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_6.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;通过组合3种测量 - post URI 、 query 字段 busiid、query字段showFlag 通过组合 &lt;strong&gt;与&lt;/strong&gt; 条件来创建业务分析。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_3.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;至此，通过query设置业务分析已经完成。&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-16-create-serverside-bt-3rd-example.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 17.Dynatrace与Tivoli整合</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-17-appmon-and-tivoli.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace与Tivoli整合是通过SNMP协议完成的。Dynatrace发送SNMP协议信息到Tivoli，Tivoli接收到信息后进行分析，根据Tivoli上相应的规则进行一系列的动作，如：发送告警邮件、告警短信等。&lt;/p&gt;
&lt;p&gt;Dynatrace上有&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt; 插件，通过该插件来实现SNMP协议的发送。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU473ky/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;要使用&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;提供MIB库文件给SNMP目标系统的管理员。管理员会为其系统解析该文件。MIB库文件也会提供SNMP trap和你目标系统间的接口。&lt;/li&gt;
&lt;li&gt;在Dynatrace Server设置里启用SNMP Action Plugin： &lt;strong&gt;Dynatrace Server设置&lt;/strong&gt; -&amp;gt; &lt;strong&gt;插件&lt;/strong&gt; -&amp;gt; &lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;。启用之后，SNMP action出现在&lt;strong&gt;事件&lt;/strong&gt;行为列表中。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
Dynatrace SNMP 映射说明文档：&lt;a href="http://cloud.189.cn/t/AfayAfvEjem2"&gt;Dynatrace SNMP Mapping&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当前MIB库文件地址：&lt;a href="https://community.dynatrace.com/community/download/attachments/221381746/DYNATRACE-TRAP-MIB-V2?version=1&amp;amp;modificationDate=1432016056067&amp;amp;api=v2"&gt;DYNATRACE-TRAP-MIB-V2&lt;/a&gt;。MIB为2种受支持的traps提供以下值：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTraceIncidentStart TRAP-TYPE&lt;br&gt;
ENTERPRISE dynaTrace&lt;br&gt;
VARIABLES (name, message, description, severity, violation, server, systemprofile, starttime)&lt;br&gt;
DESCRIPTION "Indicates that a new dynaTrace incident has begun."&lt;br&gt;
::= 1&lt;/p&gt;
&lt;p&gt;dynaTraceIncidentEnd TRAP-TYPE&lt;br&gt;
ENTERPRISE dynaTrace&lt;br&gt;
VARIABLES (name, message, description, severity, violation, server, systemprofile, starttime, endtime, duration)&lt;br&gt;
DESCRIPTION "Indicates that a dynaTrace incident has ended."&lt;br&gt;
::= 2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;配置步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;以配置&lt;strong&gt;失败率太高&lt;/strong&gt;事件为例，说明事件如何通过SNMP协议发送给Tivoli。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;右击指定系统配置文件，弹出系统配置文件首选项 -&amp;gt; 左面版选择&lt;strong&gt;事件&lt;/strong&gt; -&amp;gt; 右边点击&lt;strong&gt;失败率太高&lt;/strong&gt;事件 -&amp;gt; 点击&lt;strong&gt;编辑&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47qEb/ZZaXa.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;跳出&lt;strong&gt;编辑事件规则&lt;/strong&gt;对话框。可以看到在下边&lt;strong&gt;设置&lt;/strong&gt;里，默认的是基本设置，点击&lt;strong&gt;高级配置&lt;/strong&gt;进入高级设置页面。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47xJD/c5CA3.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47CET/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;在页面中点击&lt;strong&gt;添加&lt;/strong&gt;，跳出如下界面：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47az8/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;选中&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;，下边出现一系列相关属性。根据对应的目标SNMP系统（如Tivoli的信息）来进行填写：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Target Host&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Target Port&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SNMP Version&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Community&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Maximum Number of Message Octets&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完成后点击确定，然后在高级设置里，选择新配置的SNMP插件，设置发送SNMP trap信息 的严重性级别（一般、警告、严重）以及执行的条件（开始时、结束时、开始和结束时）。严重性级别一般警告配置邮件告警，严重配置邮件和短信告警，执行条件一般选择&lt;strong&gt;开始和结束时&lt;/strong&gt;。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47iXN/PCCU0.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;后续工作由SNMP接受系统的管理员进行进一步的配置。包括确认消息送达，编写告警规则等。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;其他配置说明&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在某公司Dynatrace与Tivoli配置期间，出现了较多的问题。现在整理如下：&lt;/p&gt;
&lt;h3 id="_4"&gt;字符集编码&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace SNMP的编码格式为&lt;strong&gt;utf-8&lt;/strong&gt;，且不可更改。&lt;/p&gt;
&lt;p&gt;而该公司Tivoli的编码格式为&lt;strong&gt;GBK&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;由于编码格式的不同，导致Dynatrace通过SNMP协议发送到Tivoli的内容，在有中文的地方发生&lt;strong&gt;字段跳行&lt;/strong&gt;的情况。&lt;/p&gt;
&lt;p&gt;为了尽量减少该问题，Dynatrace测量、事件等相关内容的名称和描述都尽量修改为&lt;strong&gt;英文&lt;/strong&gt;，以此来减少跳行问题的发生。但是尽管所有的相关内容都改为英文，Dynatrace在发送告警的时候，会自动加入&lt;strong&gt;超过了&lt;/strong&gt; 和&lt;strong&gt;上限&lt;/strong&gt; 字样。具体见示例部分。&lt;/p&gt;
&lt;p&gt;为了解决该问题，确定了如下的方案：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;dynaTrace使用中文语言包（为了Dynatrace的易用性考虑）&lt;/li&gt;
&lt;li&gt;邮件告警使用dynaTrace自带的邮件告警服务&lt;/li&gt;
&lt;li&gt;Severe级别、静态阈值部分告警通过Tivoli来实现短信告警。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;之所以静态阈值部分可以采用Tivoli告警，有以下原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;告警格式、字段、内容固定，即使有中文跳行，跳的行数也是相同的，可以通过Tivoli配置绕过该问题&lt;/li&gt;
&lt;li&gt;由于动态告警以及Dynatrace自带告警无法手动进行触发，且这些告警的格式与静态阈值告警格式不同，所以并未将这些告警发送到Tivoli。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;示例如下：&lt;/p&gt;
&lt;p&gt;Dynatrace发给Tivoli的信息：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HEX&lt;/strong&gt;格式内容：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;e8 b6 85 e8 bf 87 e4&lt;br&gt;
ba 86 20 57 65 62 4c 6f 67 69 63 20 39 2b 2f 45 4a 42 20 50 6f 6f 6c 20 54 69&lt;br&gt;
6d 65 6f 75 74 20 54 6f 74 61 6c 20 43 6f 75 6e 74 20 3a 20 3c 6c 69 66 65 2d&lt;br&gt;
73 65 72 76 69 63 65 5f 65 69 6e 73 75 3e 20 4a 44 42 43 5f 53 74 61 74 65 20 3c&lt;br&gt;
61 6c 6c 2d 61 70 70 6c 69 63 61 74 69 6f 6e 73 3e 20 28 54 50 4c 69 66 65 5f&lt;br&gt;
77 6c 73 5f 63 78 6a 6b 5f 6c 62 74 5f 33 36 5b 6c 62 74 61 70 70 53 65 72 76&lt;br&gt;
65 72 31 5d 40 73 68 74 70 6c 73 65 65 70 6f 72 74 6c 62 74 30 31 29 20 e4 b8&lt;br&gt;
8a e9 99 90&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;utf-8&lt;/strong&gt; 格式内容：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;超过了&lt;br&gt;
WebLogic 9+/EJB Pool Timeout Total Count : &lt;life-service_einsu&gt;&lt;br&gt;
JDBC_State &lt;all-applications&gt;&lt;br&gt;
(TPLife_wls_cxjk_lbt_36[lbtappServer1]@shtplseeportlbt01) 上限&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;GBK&lt;/strong&gt;内容&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;瓒呰繃浜?WebLogic9+/EJB Pool Timeout Total Count : &lt;life-service_einsu&gt; JDBC_State&lt;all-applications&gt;(TPLife_wls_cxjk_lbt_36[lbtappServer1]@shtplseeportlbt01) 涓婇檺&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;经过排查，确定该字样位于：&lt;strong&gt;oracle jre的lib库--rt.jar包中&lt;/strong&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/path/to/dynatrace/dynatrace-6.2/jre/lib/rt.jar&lt;/p&gt;
&lt;p&gt;具体位于：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMessages_zh_CN.class&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;只要Dynatrace Server选择了中文语言，就会自动加入该字样。&lt;/p&gt;
&lt;p&gt;同时，发现因为加入的字样类似，导致的&lt;strong&gt;跳行&lt;/strong&gt;都是跳了固定的行数，所以我们在Tivoli上对跳了之后的行进行解析，得到了正确的告警信息。通过该方法绕过了字符集冲突的问题。&lt;/p&gt;
&lt;h3 id="hostnameip"&gt;HOSTNAME与IP映射&lt;a class="headerlink" href="#hostnameip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;由于Dynatrace发送的告警信息都是具体的HOSTNAME而不是对应的IP。而Tivoli是通过IP来找到对应的系统并告警。所以，为了正确地告警，在Tivoli中加入了Dynatrace所监控主机的&lt;strong&gt;HOSTNAME&lt;/strong&gt;和&lt;strong&gt;IP&lt;/strong&gt;的映射表。&lt;/p&gt;
&lt;p&gt;后续如有新增或调整监控主机，需要联系Tivoli的对应负责人进行相应调整。&lt;/p&gt;
&lt;p&gt;示例如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;appserverxxx 10.1.1.xxx&lt;/p&gt;
&lt;p&gt;dzbd-app1 10.x.x.x&lt;/p&gt;
&lt;p&gt;hostnamexxx01 10.1.x.x&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;短信告警&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;短信告警格式如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;IP+服务器描述+系统+Weblogic Server+告警描述+当前值+发生时间&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;示例（短信告警内容）：&lt;/p&gt;
&lt;p&gt;[XXXX公司]10.1.129.36:xx系统xx应用服务器1；xx系统；Weblogic服务器：TPLife_wls_cxjk_xx_xx[appServer1]发生告警：&lt;life-service_einsu&gt; WLS JVM FreeMemory is low；当前值：1698.515644564548已恢复！；发生时间：2016-05-11&lt;br&gt;
18:40:31&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="severe"&gt;Severe级别静态告警阈值&lt;a class="headerlink" href="#severe" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;目前的Severe级别静态阈值告警有：（该级别使用短信告警。）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;TIPS：&lt;br&gt;
目前已经实现各个系统的测量参数、告警阈值、邮件通知人的自定义。（如针对核心系统，活动线程数告警阈值比其他大）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Weblogic Hogging线程数过高     &amp;gt;50 告警&lt;/li&gt;
&lt;li&gt;Weblogic JDBC连接池状态不正常&lt;/li&gt;
&lt;li&gt;JVM剩余内存过小                    &amp;lt;50M 告警&lt;/li&gt;
&lt;li&gt;WLS weblogic.kernel.System-MaxWaitTime 过长     &amp;gt;10min 告警&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="warning"&gt;Warning级别静态告警阈值&lt;a class="headerlink" href="#warning" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;以下为初始的设置，后续可以根据实际的告警情况进行调整和优化。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;活动线程数     Warning：&amp;gt;250    （核心系统线程数为400，暂定：Warning： &amp;gt;300 )&lt;/li&gt;
&lt;li&gt;JDBC连接延迟时间    Warning：&amp;gt;5s  Severe:&amp;gt;10s&lt;/li&gt;
&lt;li&gt;JDBC失败重连        Warning：&amp;gt;5      Severe:&amp;gt;10&lt;/li&gt;
&lt;li&gt;JDBC泄漏连接数    Warning：&amp;gt;15   Severe:&amp;gt;30&lt;/li&gt;
&lt;li&gt;JDBC当前等待连接计数   Warning:&amp;gt;10  Severe:&amp;gt;30&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-17-appmon-and-tivoli.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 18.Dynatrace创建自定义告警事件</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-18-create-incidents.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace有以下概念：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Measure&lt;/strong&gt;（测量） -- 即需要监控的指标。（包括需要监控的指标、对应的Agent、阈值等）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Incidents&lt;/strong&gt;（事件） -- 即告警事件。订阅了Measure，配置了Measure的阈值，然后才能创建Incidents，并且定义好根据哪个阈值来告警，以何种方式发送，产生告警该做的动作（如threaddump等）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本次将介绍如何创建自定义告警事件。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本次以创建&lt;strong&gt;指定系统&lt;/strong&gt;的&lt;strong&gt;WebLogic的Hogging线程数&lt;/strong&gt;告警为例。&lt;/p&gt;
&lt;p&gt;操作步骤分解：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建需要监控的指标--&lt;strong&gt;Measure&lt;/strong&gt;(测量) -- 1-5步&lt;/li&gt;
&lt;li&gt;创建告警事件--&lt;strong&gt;Incidents&lt;/strong&gt; -- 6-8步&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;打开&lt;strong&gt;系统配置文件&lt;/strong&gt; -&amp;gt; &lt;strong&gt;测量结果&lt;/strong&gt;标签页 -&amp;gt; 点击&lt;strong&gt;创建测量&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_1.JPG"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;默认有所有系统的Hogging线程数Measure。可以通过复制，并修改来创建。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_2.JPG"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;对复制出来的测量进行编辑。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_2-1.JPG"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;编辑Measure（测量）的相关属性。（包括：名称、具体的测量属性、阈值、对应的Agent组）。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_3.JPG"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_4.JPG"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_5.JPG"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;至此，Measure（测量）创建完毕。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开始创建&lt;strong&gt;事件规则&lt;/strong&gt;，点击 &lt;strong&gt;事件&lt;/strong&gt;标签页 -&amp;gt; 点击 &lt;strong&gt;创建事件规则&lt;/strong&gt;。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_6.JPG"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;告警&lt;strong&gt;条件&lt;/strong&gt;选择上文创建好的Measure（测量）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;告警&lt;strong&gt;动作&lt;/strong&gt;可以配置发邮件，做快照等。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_7.JPG"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;告警&lt;strong&gt;操作&lt;/strong&gt;可以进行更多的设置。另外，可以对告警的细粒度、严重性、告警抑制时间等进行设置。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_8.JPG"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;至此，自定义告警创建完毕。&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-18-create-incidents.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 19.Dynatrace创建告警事件停机时间</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-19-create-downtime.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace在生产环境的使用中，往往会碰到所监控系统的正常生产重启（如停机窗口、发版本、维护等）导致的误告警。&lt;/p&gt;
&lt;p&gt;为了避免这种问题，可以通过设置告警&lt;strong&gt;停机时间&lt;/strong&gt;（downtime)来减少不必要的告警。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;点击&lt;strong&gt;事件&lt;/strong&gt;仪表板右上角按钮。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_1.JPG"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;点击后出现&lt;strong&gt;停机窗口&lt;/strong&gt;表。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_2.JPG"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;在表中点击右键&lt;strong&gt;创建停机时间&lt;/strong&gt;。勾选对应的系统配置文件中的对应的告警规则（如停机或重启时会出现的告警：应用关闭和应用进程不可用）。出现如下对话框：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_3.JPG"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;点击下一步，进行详细的设置，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_4.JPG"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;停机时间规则可以时临时性的一次。也可以根据生产重启窗口的要求，如设置为每月的第三周周六。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_5.JPG"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;配置完成后显示如下。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_6.JPG"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-19-create-downtime.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 5.Dynatrace 客户端安装</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-5-install-client.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#1-dynatrace"&gt;1 Dynatrace客户端类型简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-web"&gt;2 Web 客户端安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-webstart32"&gt;3 WebStart客户端安装（推荐32位系统安装）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4-64"&gt;4 富客户端安装（仅适用64位系统）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5-webwebstart"&gt;5 Web端和客户端（WebStart 富客户端）联动&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="1-dynatrace"&gt;1 Dynatrace客户端类型简介&lt;a class="headerlink" href="#1-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace有3种类型的客户端：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网页端&lt;/li&gt;
&lt;li&gt;WebStart客户端&lt;/li&gt;
&lt;li&gt;富客户端&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;三者有以下区别：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;网页端&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过浏览器（最新版本IE/Firefox/Chrome等）访问&lt;/li&gt;
&lt;li&gt;默认端口：9911（HTTPS）&lt;/li&gt;
&lt;li&gt;具有基本的监控功能（包括仪表板、应用、运维的基本监控信息），进一步分析需要跳转到后两种客户端执行&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;WebStart客户端&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要JRE/JDK  7/8支持&lt;/li&gt;
&lt;li&gt;需要通过网页下载一个jnlp文件并打开&lt;/li&gt;
&lt;li&gt;具有完整的监控分析功能（与富客户端功能相同）&lt;/li&gt;
&lt;li&gt;支持32位、64位系统&lt;/li&gt;
&lt;li&gt;支持的系统取决于JRE/JDK所支持的系统&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;富客户端&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;为安装包或绿色压缩包&lt;/li&gt;
&lt;li&gt;只支持64位系统&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="2-web"&gt;2 Web 客户端安装&lt;a class="headerlink" href="#2-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;访问IP地址：https://X.X.X.X:9911 ,并继续浏览。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVynxlr/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳转到Dynatrace Web登录页，输入自己的账号密码，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVynKLL/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;登录后跳转到Dynatrace首页，最上从左到右依次为：（如下图）&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;菜单&lt;/li&gt;
&lt;li&gt;仪表板&lt;/li&gt;
&lt;li&gt;筛选应用&lt;/li&gt;
&lt;li&gt;筛选时间范围&lt;/li&gt;
&lt;li&gt;分享&lt;/li&gt;
&lt;li&gt;用户信息&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyu6tA/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;日常使用的相关菜单及说明如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyCwo8/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="3-webstart32"&gt;3 WebStart客户端安装（推荐32位系统安装）&lt;a class="headerlink" href="#3-webstart32" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载并安装JRE/JDK 7/8，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyD3Kn/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyCVEm/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;浏览器访问Dynatrace Server IP：https://X.X.X.X:8021 ,如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyDEFL/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;访问后跳转到首页，点击&lt;strong&gt;Webstart客户端&lt;/strong&gt;，会下载一个client.jnlp文件。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyGvZ8/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;打开client.jnlp文件，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyTbtC/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;忽略告警并继续，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyTEQ2/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;之后会自动下载WebStart客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyV7rn/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;之后会自动启动，忽略告警并继续，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyWtVK/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebStart客户端的界面显示，输入账号密码，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz0xXl/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebStart的界面展示如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz1NOi/pFI7J.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="4-64"&gt;4 富客户端安装（仅适用64位系统）&lt;a class="headerlink" href="#4-64" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;安装包包括苹果OS安装包、windows安装包及绿色解压版、linux版（jar包）如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz8tVT/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下面以windows安装包为例（windows压缩包直接解压使用），点击安装包运行，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz2dG3/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接受协议，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz2Ruw/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;选择路径，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz3f0G/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装开始，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz3JQe/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装完成，运行客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz47sp/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;填入IP+端口、账号密码，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz4RqZ/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;登录后会提示升级客户端，点击'YES'并继续，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5flw/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载升级包，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5sTF/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;升级后需重启客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5SVf/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重启后会提示选择&lt;strong&gt;语言&lt;/strong&gt;，根据需要选择中文或英文，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz6OMI/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳转到首界面，界面简介如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz7qPQ/12Mkk2.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="5-webwebstart"&gt;5 Web端和客户端（WebStart 富客户端）联动&lt;a class="headerlink" href="#5-webwebstart" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Web端无法深入分析，可以在分析指定事务的时候，直接点击&lt;strong&gt;OPEN IN CLIENT&lt;/strong&gt; 后在WebStart或富客户端中进行分析。具体操作如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在Web端分析具体的事务，需要深入分析，点击&lt;strong&gt;OPEN IN CLIENT&lt;/strong&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz7I3h/cFcZZ.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;首次因为https信任会失败，接受告警后再次点击会跳出客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz8dUA/FePWL.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-5-install-client.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 7.Dynatrace agent安装</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-7-install-agent.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#server"&gt;Server 端配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#agent"&gt;安装 Agent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tips"&gt;TIPS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="server"&gt;Server 端配置&lt;a class="headerlink" href="#server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;编辑系统配置文件&lt;br&gt;
&lt;img alt="编辑系统配置文件" src="./images/appmon-install-agent-1.png"&gt;&lt;/li&gt;
&lt;li&gt;新建Agent组&lt;br&gt;
&lt;img alt="新建agent组" src="./images/appmon-install-agent-2.png"&gt;&lt;/li&gt;
&lt;li&gt;设置传感器映射关系&lt;ol&gt;
&lt;li&gt;▽ 与agent名字匹配：&lt;br&gt;
&lt;img alt="与agent名字匹配" src="./images/appmon-install-agent-3.png"&gt;&lt;/li&gt;
&lt;li&gt;▽ 高级设置：取消自动生成heapdump，将解析度设为最低，降低系统开销：&lt;br&gt;
&lt;img alt="高级设置" src="./images/appmon-install-agent-4.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;▽ 设置放置哪些传感器, 根据实际需要选定传感器种类：&lt;br&gt;
&lt;img alt="传感器种类" src="./images/appmon-install-agent-5.png"&gt;&lt;/li&gt;
&lt;li&gt;配置上一步放置的传感器的属性&lt;br&gt;
&lt;img alt="传感器属性" src="./images/appmon-install-agent-6.png"&gt;&lt;ol&gt;
&lt;li&gt;▽ JDBC传感器设置：将SQL命令捕获长度设为10240：&lt;br&gt;
&lt;img alt="jdbc 10240" src="./images/appmon-install-agent-7.png"&gt;&lt;/li&gt;
&lt;li&gt;▽ Java Logging传感器设置，增加几种级别的日志捕获：&lt;br&gt;
&lt;img alt="java传感器配置" src="./images/appmon-install-agent-8.png"&gt;&lt;/li&gt;
&lt;li&gt;▽ Servlets传感器设置：&lt;br&gt;
&lt;img alt="servlet传感器设置" src="./images/appmon-install-agent-9.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;其他传感器默认设置即可。&lt;/p&gt;
&lt;h2 id="agent"&gt;安装 Agent&lt;a class="headerlink" href="#agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
此处以&lt;strong&gt;dynatrace appmon 6.2&lt;/strong&gt;版本举例, 请根据实际情况换成对应版本的安装包.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;上传&lt;code&gt;dynatrace-agent-6.2.0.1239-unix.jar&lt;/code&gt;.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;java  -jar dynatrace-agent-6.2.0.1239-unix.jar&lt;/code&gt; （java版本必须与app server使用的相同），安装过程中修改安装路&lt;br&gt;
径，eg:&lt;code&gt;/tpsys/dynatrace/dynatrace-6.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;将agent嵌入到java中间件(如:weblogic)实例中：在启动脚本的环境变量&lt;code&gt;USER_MEM_ARGS&lt;/code&gt;中添加，&lt;code&gt;-agentpath:/tpsys/dynatrace/dynatrace-6.2/agent/lib64/libtagent.so=name=TPLife_wls_lbt_10.94.12.232_8001,server=10.94.21.140:9998&lt;/code&gt;（说明：name表示设置该agent的名字，server表示collector）&lt;/li&gt;
&lt;li&gt;重启java中间件生效。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tips"&gt;TIPS&lt;a class="headerlink" href="#tips" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;确认agent与哪个collector相连&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon-install-agent-10.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon-install-agent-11.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-7-install-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 8.Dynatrace新增主机组&amp;添加应用程序定义</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-8-add-application.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;新增主机组&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;应用程序定义&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;新增主机组&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;▽ 编辑系统配置文件--基础结构--创建&lt;br&gt;
&lt;img alt="基础结构" src="./images/appmon-add-application-1.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 输入主机组名称&lt;br&gt;
&lt;img alt="主机组" src="./images/appmon-add-application-2.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 根据主机hostname，添加主机组映射关系：有多重语法，“包含”、“开头为”、“结尾&lt;br&gt;
为”等等。&lt;br&gt;
&lt;img alt="主机名规则" src="./images/appmon-add-application-3.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 设置主机的告警阈值&lt;br&gt;
&lt;img alt="主机告警阈值" src="./images/appmon-add-application-4.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;应用程序定义&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;▽ 编辑系统配置文件--应用程序--创建&lt;br&gt;
&lt;img alt="创建应用程序" src="./images/appmon-add-application-5.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 添加应用程序的匹配关系：可以包含应用实例所在主机的IP、应用程序域名等。&lt;br&gt;
&lt;img alt="应用程序匹配规则" src="./images/appmon-add-application-6.png"&gt;&lt;/p&gt;
&lt;p&gt;配置完成后, 还要查看监控面板，如果发现仍有一些URI没有纳入到自定义的应用程序监控，可以查看web请&lt;br&gt;
求，进行全面的纳入。&lt;/p&gt;
&lt;p&gt;▽ 系统配置文件--web请求--右键更多：&lt;br&gt;
&lt;img alt="web请求" src="./images/appmon-add-application-7.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 根据“源”编辑筛选：&lt;br&gt;
&lt;img alt="筛选" src="./images/appmon-add-application-8.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 应用程序条目筛选：&lt;br&gt;
&lt;img alt="条目筛选" src="./images/appmon-add-application-9.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 将未包含的URI全部加入到定义的应用程序中：&lt;br&gt;
&lt;img alt="添加" src="./images/appmon-add-application-10.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 查看监控面板，直到Default Application监控信息为空、以及不再出现其他未纳入的URI为止。&lt;br&gt;
&lt;img alt="default" src="./images/appmon-add-application-11.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-8-add-application.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 6.Dynatrace 生产环境License导入</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-6-import-license.html</link><description>&lt;ol&gt;
&lt;li&gt;在Dynatrace eservices -&amp;gt; &lt;a href="https://eservices.dynatrace.com/eservices/customers-licenses.jsf"&gt;My Licenses&lt;/a&gt;找到对应的License Key的信息，点击&lt;strong&gt;Download License File&lt;/strong&gt;，如下图：(下载后得到License文件名示例：&lt;strong&gt;dynaTrace_license_201608031073.key&lt;/strong&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="下载未激活License" src="http://pic.yupoo.com/east4ming_v/FMMHkMhr/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;进入到Dynatrace Server 设置 -&amp;gt; License，选择&lt;strong&gt;导入&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="导入未激活License" src="http://pic.yupoo.com/east4ming_v/FMMGDsAH/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;点击&lt;strong&gt;下一步&lt;/strong&gt;，出现如下图所示，如果Dynatrace Server无法连接到Internet，点击&lt;strong&gt;跳过&lt;/strong&gt;：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMGbuuD/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;跳过后需要手动导入之前下载的&lt;strong&gt;未激活的License文件&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="从文件导入未激活License" src="http://pic.yupoo.com/east4ming_v/FMMGEfhk/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;导入&lt;strong&gt;未激活的License&lt;/strong&gt;后，会提示需要在网上进行&lt;strong&gt;激活&lt;/strong&gt;的操作，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="需要网上激活" src="http://pic.yupoo.com/east4ming_v/FMMGEMTr/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;点击下一步，会出现License激活的相关信息，主要的是&lt;strong&gt;Activation Key&lt;/strong&gt;信息，为25位的大写字母和数字的组合，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="Activation Key" src="http://pic.yupoo.com/east4ming_v/FMMHj38Z/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;记下该激活码信息，登陆Dynatrace eservices -&amp;gt; &lt;a href="https://eservices.dynatrace.com/eservices/customers-licenses.jsf"&gt;My Licenses&lt;/a&gt;,输入激活码激活,如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMHj7UN/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;激活后会提示成功激活，并给出&lt;strong&gt;已激活的License下载地址&lt;/strong&gt;，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMGFUk2/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;下载&lt;strong&gt;已激活License&lt;/strong&gt;，（下载后的文件示例：&lt;strong&gt;dynaTrace_license_201608031073__activated.key&lt;/strong&gt;),再次导入，如下图：（导入&lt;strong&gt;未激活的License&lt;/strong&gt;会提示&lt;strong&gt;当前许可证尚未启用&lt;/strong&gt;；导入&lt;strong&gt;已激活的License&lt;/strong&gt;提示会消失）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="导入已激活License" src="http://pic.yupoo.com/east4ming_v/FMMGGbCZ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;通过文件导入&lt;strong&gt;已激活License&lt;/strong&gt;文件，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="通过文件导入已激活License" src="http://pic.yupoo.com/east4ming_v/FMMGGsUD/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;导入后成功激活，显示如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="成功激活" src="http://pic.yupoo.com/east4ming_v/FMMY9dbb/medium.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:07:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-6-import-license.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 9.Dynatrace自定义仪表板</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-9-customized-dashboard.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;▽ 仪表板 -&amp;gt; 新建&lt;br&gt;
&lt;img alt="新建仪表板" src="./images/appmon-add-dashboard-1.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 在对应的系统配置文件下，选择图标绘制——自定义，添加系列：&lt;br&gt;
&lt;img alt="添加系列" src="./images/appmon-add-dashboard-2.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 选择测量值，以下以“web页面请求——Purepath响应时间”为例，按应用程序拆分：&lt;br&gt;
&lt;img alt="web请求" src="./images/appmon-add-dashboard-3.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;备注:&lt;br&gt;
注：dynatrace上几乎所有地方都可以可以直接ctrl+F进行搜索。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;▽ 调整图表属性. 如重命名、选择时间范围、分辨率、图标类型、拆分模式、可视性等：&lt;br&gt;
&lt;img alt="图表属性" src="./images/appmon-add-dashboard-4.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 可以继续在该仪表板中添加系列，即将多个图表放在一个仪表板中：&lt;br&gt;
&lt;img alt="添加多个图表" src="./images/appmon-add-dashboard-5.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 拖动图表的标题，结合每个图表的属性，直到调到满意的效果。&lt;br&gt;
&lt;img alt="最终效果" src="./images/appmon-add-dashboard-6.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:07:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-9-customized-dashboard.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>监控JAVA JMX 指标 - 通过Dynatrace AppMon而无需Agent</title><link>https://www.EWhisper.cn/monitoring-java-soft-with-dynatrace-appmon-without-agent.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在近期的中间件组会议中, 发现存在一个监控盲区, 即: &lt;strong&gt;JBoss EAP 6.X和Wildfly 10的监控&lt;/strong&gt;. 目前CA Wily和Zabbix(Zabbix应该可以监控的)暂时无法实现对其监控, 需要Dynatrace对其进行监控.(有Agent和无Agent两种方式). 本次主要介绍&lt;strong&gt;无Agent&lt;/strong&gt;的方式.&lt;/p&gt;
&lt;h2 id="_2"&gt;应用服务器端配置&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;JBoss EAP 6.X或Wildfly 10配置调整, &lt;strong&gt;需要配置logmanager和暴露JMX Remote端口&lt;/strong&gt;. 如下:&lt;/p&gt;
&lt;p&gt;对于Wildfly 10.1.0  (windows脚本, Linux下按照shell语法做相应修改, 下同)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;rem # Set LogManager&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Djboss.modules.system.pkgs=org.jboss.logmanager  -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:D:\wildfly-10.1.0.Final\wildfly-10.1.0.Final\modules\system\layers\base\org\jboss\logmanager\main\jboss-logmanager-2.0.4.Final.jar -Xbootclasspath/p:D:\wildfly-10.1.0.Final\wildfly-10.1.0.Final\modules\system\layers\base\org\jboss\log4j\logmanager\main\log4j-jboss-logmanager-1.1.2.Final.jar&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;rem # Set JMX Remote&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1090 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JBoss EAP 6.4&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;rem # Set LogManager&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Djboss.modules.system.pkgs=org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:D:\EAP-6.4.0\modules\system\layers\base\org\jboss\logmanager\main\jboss-logmanager-1.5.4.Final-redhat-1.jar -Xbootclasspath/p:D:\EAP-6.4.0\modules\system\layers\base\org\jboss\log4j\logmanager\main\log4j-jboss-logmanager-1.1.1.Final-redhat-1.jar&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;rem # Set JMX Remote&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1090 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;修改完成后重启对应的应用服务器.&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;Dynatrace端配置&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;说明:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace通过一个插件: &lt;strong&gt;JMX Enhanced Monitor&lt;/strong&gt;来实现对JMX数据的收集.&lt;/p&gt;
&lt;p&gt;要使用该插件, 需要做以下2步操作:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建&lt;strong&gt;任务&lt;/strong&gt;, 通过该任务, 根据不同的JVM类型来抓取所有想要抓取的&lt;strong&gt;监控指标&lt;/strong&gt;, 并生成一个包含相关&lt;strong&gt;监控指标&lt;/strong&gt;的jar包到指定目录.&lt;/li&gt;
&lt;li&gt;再把该jar包以插件形式安装到Dynatrace Server上.&lt;/li&gt;
&lt;li&gt;创建&lt;strong&gt;监视器&lt;/strong&gt;, 从对应的应用服务器上获取想要监控的指标.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最后, 通过监控到的指标, 可以实现 &lt;strong&gt;监控面板展示/告警/报告导出&lt;/strong&gt;等功能.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;操作步骤:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在Dynatrace上, 通过安装插件&lt;strong&gt;JMX Enhanced Monitor&lt;/strong&gt;来实现对数据的收集. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="JMX监控插件" src="http://pic.yupoo.com/east4ming_v/ad38044d/358307e5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在具体的配置文件(如:CCIC2), 右键选择&lt;strong&gt;编辑系统配置文件&lt;/strong&gt; → &lt;strong&gt;任务&lt;/strong&gt; → &lt;strong&gt;创建任务&lt;/strong&gt;. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="创建任务1" src="http://pic.yupoo.com/east4ming_v/2310cada/9d4fc386.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;任务具体的配置如下:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/b2d66e68/e951a0be.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在&lt;strong&gt;Include MBeans Patterns&lt;/strong&gt;中, 编辑该配置, 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="包含MBeans" src="http://pic.yupoo.com/east4ming_v/3516c97c/54ece686.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑执行该任务的频率和具体的组件. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/bb7f8b32/d8dc5276.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;手动执行&lt;/strong&gt;该任务, 执行完成后, 右键查看该任务是否执行成功. 具体如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="执行任务" src="http://pic.yupoo.com/east4ming_v/384547c0/1d6444d6.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在第3步指定的路径的&lt;code&gt;mg/build&lt;/code&gt;下找到生成的jar包. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="生成的监控指标jar包" src="http://pic.yupoo.com/east4ming_v/0fe58827/9eef22a1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;设置&lt;/strong&gt; → Dynatrace Server → &lt;strong&gt;插件&lt;/strong&gt; → 安装插件, 选择上一步的jar包进行安装. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/b5e54e54/ad19a4c1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在具体的配置文件(如:CCIC2), 右键选择&lt;strong&gt;编辑系统配置文件&lt;/strong&gt; → &lt;strong&gt;监视器&lt;/strong&gt; → &lt;strong&gt;创建...&lt;/strong&gt;. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/dec10b0f/193276e5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;监视器的具体配置如下图:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;JMX Service URL的通用写法示例: &lt;code&gt;service:jmx:rmi:///jndi/rmi://127.0.0.1:1090/jmxrmi&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;添加要监控的主机.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/a7fc275c/04c867d4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行频率和具体的执行组件配置如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/5e776a26/85260ee7.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;监控指标(测量结果)配置如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/72fd31d7/4a3b783d.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行该&lt;strong&gt;监视器&lt;/strong&gt;. 成功结果示例如下:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/058e36b4/86eae21e.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;至此, &lt;strong&gt;无Agent监控方式&lt;/strong&gt;已配置完成. 后续可以根据这些收集到的指标进行&lt;strong&gt;监控面板展示/告警/报告导出&lt;/strong&gt;等功能. 监控面板展示示例如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/da0ed9f8/2bbec94e.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;监控指标&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;主机信息(物理内存和CPU. 需要JDK支持)&lt;/li&gt;
&lt;li&gt;内存使用相关信息(如: heap, perm, new区, old区等)&lt;/li&gt;
&lt;li&gt;类加载相关信息&lt;/li&gt;
&lt;li&gt;GC相关信息&lt;/li&gt;
&lt;li&gt;线程相关信息(总线程,peak线程, 当前线程)&lt;/li&gt;
&lt;li&gt;JAVA软件特定JMX信息(如:jboss的jboss相关信息, ActiveMQ的队列信息, Mule ESB的处理能力相关信息)&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 03 Apr 2019 10:36:27 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-03:/monitoring-java-soft-with-dynatrace-appmon-without-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 1.安装组件前必备工作</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-1-before-installation.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;安装前准备&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#size"&gt;Size&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-server"&gt;Dynatrace Server&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#indexagent"&gt;禁用Index唯一化Agent名称&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#purepath"&gt;PurePath超时时间&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;业务分析最大分裂数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#server-side"&gt;Server Side报告限制&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gc"&gt;GC告警设置&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-analysis-server"&gt;Dynatrace Analysis Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;Dynatrace 数据库&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;不同分辨率细节说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sql-server"&gt;SQL Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#oracle"&gt;Oracle&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-collector"&gt;Dynatrace Collector&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;最小需求&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#indexagent_1"&gt;使用Index唯一化Agent名字&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-client"&gt;Dynatrace Client&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_5"&gt;客户端最小需求&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#client-side"&gt;Client Side 报告限制&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;安装前准备&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;禁用&lt;strong&gt;超线程&lt;/strong&gt;（Hyper-Threading）&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/proc/cpuinfo&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;这是开启了超线程: &lt;code&gt;threads per core: 2&lt;/code&gt;  processor = core * 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;对于&lt;strong&gt;Medium&lt;/strong&gt;及以上规模，CPU时钟频率需大于等于2.6GHz&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="size"&gt;Size&lt;a class="headerlink" href="#size" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="size1" src="http://pic.yupoo.com/east4ming_v/GcvZBqZN/2IfCJ.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="size2" src="http://pic.yupoo.com/east4ming_v/GcvZByIh/RicSG.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="size3" src="http://pic.yupoo.com/east4ming_v/GcvZBDNd/KGXM7.jpg"&gt;&lt;/p&gt;
&lt;h2 id="dynatrace-server"&gt;Dynatrace Server&lt;a class="headerlink" href="#dynatrace-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;语言及字符集必须为&lt;strong&gt;LANG=en_US.UTF-8&lt;/strong&gt; (否则可能仪表板、告警邮件会乱码)&lt;/li&gt;
&lt;li&gt;Linux修改 ~/.bash_profile （直接cd到软件目录或&lt;code&gt;export DT_HOME=/opt/dynatrace-6.5&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;Linux修改chkconfig（配置服务项）&lt;/li&gt;
&lt;li&gt;Linux关闭selinux&lt;/li&gt;
&lt;li&gt;6.3+ Linux用户注意语言设置为中文。&lt;/li&gt;
&lt;li&gt;Linux需要安装JRE 6+（推荐Oracle JRE 8）&lt;/li&gt;
&lt;li&gt;会话存储不要多于&lt;strong&gt;2T&lt;/strong&gt; （500tps，一天1TB空间）&lt;/li&gt;
&lt;li&gt;ulimit -n 2048或更高&lt;/li&gt;
&lt;li&gt;内存分析服务器：在dtanalysisserver.ini中设置-Xmx。&lt;/li&gt;
&lt;li&gt;Windows：电源选项设置为&lt;strong&gt;高性能&lt;/strong&gt; （Linux也需要查看: &lt;code&gt;/proc/cpuinfo&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;不建议SAN-based存储，&lt;strong&gt;可能&lt;/strong&gt;会成为瓶颈(需要测试性能)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;为什么需要这么多核?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace 是一个复杂的软件解决方案，每时每刻都在后台进行海量的复杂计算。因此高性能的CPU是吞吐量的必要保障。下列列出Dynatrace Server需要较多CPU核数的一些原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;关联引擎&lt;/li&gt;
&lt;li&gt;实时分析&lt;/li&gt;
&lt;li&gt;通信（Clients, Collectors, etc.）&lt;/li&gt;
&lt;li&gt;数据库&lt;/li&gt;
&lt;li&gt;存储&lt;/li&gt;
&lt;li&gt;分析缓存&lt;/li&gt;
&lt;li&gt;数据导出&lt;/li&gt;
&lt;li&gt;Web servers&lt;/li&gt;
&lt;li&gt;任务和监视器的job center&lt;/li&gt;
&lt;li&gt;事件（告警）中心&lt;/li&gt;
&lt;li&gt;垃圾收集&lt;/li&gt;
&lt;li&gt;自监控和检查&lt;/li&gt;
&lt;li&gt;操作系统&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="indexagent"&gt;禁用Index唯一化Agent名称&lt;a class="headerlink" href="#indexagent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要禁用这个功能，需要在Dynatrace Server的启动文件中加入一个布尔值。默认为true，需要将其设为false。如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;collector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;agentcenter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;unique_agent_names_with_index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="purepath"&gt;PurePath超时时间&lt;a class="headerlink" href="#purepath" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;默认为600s（10min），最大可以设置到3600s（1 hour）。在&lt;strong&gt;dtserver.ini&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;completenessTimeout&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;valueInSeconds&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_2"&gt;业务分析最大分裂数&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在&lt;strong&gt;dtserver.ini&lt;/strong&gt;中，在 &lt;em&gt;-server&lt;/em&gt; 前一行添加如下内容：(第二个参数可以根据需要更改，如修改为75000)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;OverruleMaxSplittingsBTs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;MeasureExplosionPreventionTest&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;ManySplittingsTimeMillis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50000&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MeasureExplosionPreventionTest&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;MeasureExplosionTriggeringBT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="server-side"&gt;Server Side报告限制&lt;a class="headerlink" href="#server-side" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在&lt;strong&gt;dtserver.ini&lt;/strong&gt;中，设置如下参数：(需要添加在&lt;em&gt;-vmargs&lt;/em&gt; 后一行)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vmargs&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reporting&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Xmx1920M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;并行报告数设置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;默认为3&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.maxConcurrentReports=5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;报告等待超时&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;默认60s&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.reportWaitTimeout=120&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;报告等待队列长度&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;默认为3&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.maxWaitingReports=5&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;非拉丁语系PDF报告&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.pdf.english=false&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="gc"&gt;GC告警设置&lt;a class="headerlink" href="#gc" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;有以下3个参数可以进行设置，在&lt;strong&gt;dtserver.ini&lt;/strong&gt;中，使用-D&amp;lt;参数&amp;gt;=&amp;lt;值&amp;gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;值&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics.maxRelativeGCActivity&lt;/td&gt;
&lt;td&gt;int (default = 15) %&lt;/td&gt;
&lt;td&gt;Set custom health threshold for max relative GC activity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics.healthWatchPeriodGc&lt;/td&gt;
&lt;td&gt;int (default = 5) min&lt;/td&gt;
&lt;td&gt;Set custom process health threshold for the watch&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics. healthWatchPeriodViolationThresholdGc&lt;/td&gt;
&lt;td&gt;int (default = 4) min&lt;/td&gt;
&lt;td&gt;Set custom process health threshold for the watch&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="dynatrace-analysis-server"&gt;Dynatrace Analysis Server&lt;a class="headerlink" href="#dynatrace-analysis-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;按照监控的JVM的最大heap+25% 修改最大内存-Xmx&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dynatrace"&gt;Dynatrace 数据库&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;不同分辨率细节说明&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="分辨率细节" src="http://pic.yupoo.com/east4ming_v/GcvZCl1E/NcZPS.jpg"&gt;&lt;/p&gt;
&lt;h3 id="sql-server"&gt;SQL Server&lt;a class="headerlink" href="#sql-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;起始空间5G&lt;/li&gt;
&lt;li&gt;DBowner权限&lt;/li&gt;
&lt;li&gt;表排序规则要求：&lt;strong&gt;Chinese_PRC_CI_AS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="oracle"&gt;Oracle&lt;a class="headerlink" href="#oracle" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;dba&lt;/li&gt;
&lt;li&gt;字符集：&lt;strong&gt;UTF-8&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dynatrace-collector"&gt;Dynatrace Collector&lt;a class="headerlink" href="#dynatrace-collector" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;预置JDK 8（推荐Oracle）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux修改 ~/.bash_profile （直接cd到软件目录）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux修改chkconfig（配置服务项）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux关闭selinux&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果Collector和Server不在一块，在脚本或注册文件中加入&lt;code&gt;-server &amp;lt;dynaTraceServerName&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果要配置多实例，添加&lt;code&gt;./dtcollector -instance collector02 -listen :10001&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对于服务项，拷贝$DT_HOME/init.d/dynaTraceCollector 脚本到/etc/init.d/dynatraceCollector02。并做以下修改：(2选1)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DT_OPTARGS="-instance collector02"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DT_INSTANCE=collector02&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;最小需求&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;50个Java或25个.Net Agents&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Disk：30GB&lt;/li&gt;
&lt;li&gt;Memory：2GB（Collector组件需要的，OS要更多一点，3GB+）&lt;/li&gt;
&lt;li&gt;CPU Cores：1 （禁用超线程，推荐2Core+）&lt;/li&gt;
&lt;li&gt;limits.conf 打开文件数 最小为：(500+3×Agents数)×Collectors数&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="indexagent_1"&gt;使用Index唯一化Agent名字&lt;a class="headerlink" href="#indexagent_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要禁用这个功能，需要在Dynatrace Collector的启动文件&lt;strong&gt;dtcollector.ini&lt;/strong&gt;中加入一个布尔值。默认为true，需要将其设为false。如下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.collector.agentcenter.unique_agent_names_with_index=false&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="dynatrace-client"&gt;Dynatrace Client&lt;a class="headerlink" href="#dynatrace-client" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_5"&gt;客户端最小需求&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;x64（Dynatrace 6.5+）&lt;/li&gt;
&lt;li&gt;Disk：100MB&lt;/li&gt;
&lt;li&gt;Memory：1GB&lt;/li&gt;
&lt;li&gt;分辨率：1024×768&lt;/li&gt;
&lt;li&gt;Webstart Client：&lt;ul&gt;
&lt;li&gt;IE 8+ Firefox 38-48是经过Dynatrace认证的&lt;/li&gt;
&lt;li&gt;Oracle JRE &amp;gt;= 1.8.0_45&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="client-side"&gt;Client Side 报告限制&lt;a class="headerlink" href="#client-side" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以在&lt;strong&gt;dtclient.ini&lt;/strong&gt;中修改如下参数：(参数得加在 &lt;em&gt;-vmargs&lt;/em&gt; 后一行，而不是最后。)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vmargs&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reporting&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Xmx512M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;对于Webstart Client，需要设置&lt;strong&gt;JAVA_TOOL_OPTIONS&lt;/strong&gt;环境变量：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;JAVA_TOOL_OPTIONS=-Dcom.dynatrace.diagnostics.reporting.maxTableRows=10000&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-1-before-installation.html</guid><category>Dynatrace</category><category>Observability</category><category>性能调优</category></item><item><title>Dynatrace AppMon 实战手册 - 2.证书创建</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-2-create-certificate.html</link><description>&lt;h2 id="_1"&gt;步骤&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;启动向导&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMaHa/7Bm8Z.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动内存分析服务器&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMkg2/WyzsU.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;填写组织名称&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMsh5/11IJkW.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建私钥成功&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMw10/1sjoN.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;导出私钥和证书&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMBA4/pfPKT.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自动部署到组件&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMEOc/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件重启&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMLBp/tJqrX.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;部署证书完成&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMLBp/tJqrX.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-2-create-certificate.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 3.创建系统配置文件模板</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-3-create-profile-template.html</link><description>&lt;h2 id="_1"&gt;步骤&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;在左侧边栏中，右键&lt;strong&gt;系统配置文件模板&lt;/strong&gt; → &lt;strong&gt;创建系统配置文件模板&lt;/strong&gt;， 如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcoiwt/hknCr.png"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;配置系统配置文件模板基本信息，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcowF1/QOxbw.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;选择对应的技术栈（Java、.NET、Web server、PHP、Native）,如上图。具体解释如下：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java  .NET  PHP无须解释&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Web server - 对应一系列Web server，如Apache、Nginx、IIS等&lt;/li&gt;
&lt;li&gt;Native - 对应的是Dynatrace的ADK，通过在应用中嵌入该ADK，可以实现对C++、Python等的监控。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_2"&gt;要点&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;事件（即告警）相关配置&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;使某些事件活动或不活动&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;以下事件规则不需要启用，具体如下图：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;部署&lt;/li&gt;
&lt;li&gt;测试违例&lt;/li&gt;
&lt;li&gt;事物整体失败率高（&lt;strong&gt;失败率太高&lt;/strong&gt;已经覆盖）&lt;/li&gt;
&lt;li&gt;数据库Agent相关（没有购买数据库Agent license则无需开启）&lt;/li&gt;
&lt;li&gt;页面操作失败率高（需要UEM license；&lt;strong&gt;失败率太高&lt;/strong&gt;有交集）&lt;/li&gt;
&lt;li&gt;应用程序进程关闭（根据需求确定是否开启）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoCV4/M1i31.png"&gt;&lt;/p&gt;
&lt;h3 id="_4"&gt;错误检测配置&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;不要将日志标记为错误&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;删除&lt;strong&gt;重要的日志记录&lt;/strong&gt;规则。&lt;/p&gt;
&lt;p&gt;原因：&lt;/p&gt;
&lt;p&gt;有的开发为了在生产上显示日志，会将一些Info等级别的信息设置为Error，而出现Error日志报错并不一定意味着&lt;strong&gt;事务&lt;/strong&gt;失败。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoNLt/P7SbT.png"&gt;&lt;/p&gt;
&lt;h3 id="_5"&gt;错误规则创建&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以根据应用所特有的Exception、Logging等来创建，具体如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsOkh/65iq5.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_6"&gt;应用程序定义&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace 6.5 可以通过Web/Mobile（6.5之前只有这一种定义方法）、Messaging、Entry Point来定义应用，可以进一步细化应用的定义。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsTQp/R2lT9.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;用户体验&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果没有购买UEM license，则禁用UEM，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoZMb/amzM1.png"&gt;&lt;/p&gt;
&lt;h3 id="schedule"&gt;Schedule&lt;a class="headerlink" href="#schedule" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;创建时间计划&lt;/strong&gt;，如创建&lt;strong&gt;每个工作日、每周、每月&lt;/strong&gt;计划。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcp5kE/44NZA.jpg"&gt;&lt;/p&gt;
&lt;h3 id="agent-group-java"&gt;Agent Group - Java&lt;a class="headerlink" href="#agent-group-java" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;创建Java技术栈的Agent Group模板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpaOy/8KhP9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;选择需要放置的Sensor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;原则：最少最需要。如下图：&lt;/p&gt;
&lt;p&gt;必须的Sensor：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDBC&lt;/li&gt;
&lt;li&gt;Exceptions&lt;/li&gt;
&lt;li&gt;Java Logging&lt;/li&gt;
&lt;li&gt;JMX MBean Server&lt;/li&gt;
&lt;li&gt;JMS&lt;/li&gt;
&lt;li&gt;JMS Receive Entry Point&lt;/li&gt;
&lt;li&gt;Executor Tagging&lt;/li&gt;
&lt;li&gt;Thread Start Tagging&lt;/li&gt;
&lt;li&gt;Java Web Requests&lt;/li&gt;
&lt;li&gt;Servers&lt;/li&gt;
&lt;li&gt;Java Web Services&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcpjjm/12bHs1.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Exception (Java)&lt;/h4&gt;
&lt;p&gt;对Dynatrace默认的Exception定义进行细化，如下图：&lt;/p&gt;
&lt;p&gt;原因：原有的直接排除java.开头的Exception会排除大量我们需要获取的Exception，如网络相关的报错等。所以我们需要尽可能细化不需要抓取的Exception，如&lt;strong&gt;beans&lt;/strong&gt;、 &lt;strong&gt;方法找不到&lt;/strong&gt;相关异常。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpAV9/YqhSj.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - JDBC&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;启用聚合（推荐生产环境开启，因为单个事务的SQL执行次数较多，如果不聚合分析起来很不方便。启用聚合了则无法获取&lt;strong&gt;绑定值&lt;/strong&gt;）&lt;/li&gt;
&lt;li&gt;SQL长度跳大（如：10240）（默认512长度，经常会抓取到不完整的SQL，从而无法定位SQL问题。建议该值大于所监控的应用中的最大的SQL长度）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpVjP/10a2Js.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Logging (Java)&lt;/h4&gt;
&lt;p&gt;此处Log等级大小写敏感，我们可以添加我们监控的级别，如对于WebLogic，可以添加&lt;strong&gt;Error&lt;/strong&gt;等级别，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcqeew/5M54W.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Servlet&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;通常，我们认为静态资源不会对系统性能造成影响，无需监控，此处设置排除对静态资源的监控。&lt;/li&gt;
&lt;li&gt;此外，一些中间件、硬件设备，会有与应用无关的URI，我们也需要排除。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcqnte/hunpl.jpg"&gt;&lt;/p&gt;
&lt;h3 id="agent-group-net"&gt;Agent Group - .NET&lt;a class="headerlink" href="#agent-group-net" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;创建.NET Agent Group模板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcquzV/Pc4ms.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;选择必要的Sensor&lt;/strong&gt;，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqFMu/CkZXe.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - ADO.NET&lt;/h4&gt;
&lt;p&gt;与JDBC Sensor类似，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqMPS/iVLgB.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - ASP.NET&lt;/h4&gt;
&lt;p&gt;与Servlet类似，见下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqRLY/8DuGF.jpg"&gt;&lt;/p&gt;
&lt;h3 id="api"&gt;API&lt;a class="headerlink" href="#api" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以针对应用开发的需求，定义API，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqXC8/th008.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcr2YK/14SZ6f.jpg"&gt;&lt;/p&gt;
&lt;h3 id="measure"&gt;Measure&lt;a class="headerlink" href="#measure" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;根据应用监控的需求，进行相关Measure的定义，此类数据可以进一步作为&lt;strong&gt;过滤、聚合、拆分&lt;/strong&gt;等条件创建Business Transaction。&lt;/p&gt;
&lt;p&gt;如需要创建&lt;strong&gt;大于10s的web请求&lt;/strong&gt;的measure，则具体创建如下：(由&lt;strong&gt;web requests - time&lt;/strong&gt;复制修改而来，设置上限阈值)，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsFyB/4pne8.jpg"&gt;&lt;/p&gt;
&lt;h3 id="business-transaction"&gt;Business Transaction&lt;a class="headerlink" href="#business-transaction" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如需要进行更为复杂的应用监控（如针对应用细节的监控、对关键业务的监控等），可以创建Business Transaction。&lt;/p&gt;
&lt;p&gt;如要抓取所有&lt;strong&gt;web响应时间大于10s&lt;/strong&gt;的请求，可以将之前创建的Measure作为过滤条件来创建。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcrg0x/eFEUX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TIPS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;勾选&lt;strong&gt;Active&lt;/strong&gt; 才会正式启用。&lt;/li&gt;
&lt;li&gt;勾选对应选项后结果会存放到数据库中。&lt;/li&gt;
&lt;li&gt;三大因子&lt;ul&gt;
&lt;li&gt;Filter&lt;/li&gt;
&lt;li&gt;Calculate Results&lt;/li&gt;
&lt;li&gt;Split Results&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Splitting 也是重要的选项&lt;/li&gt;
&lt;li&gt;基线设置用来设置动态或静态的告警阈值&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="monitor"&gt;Monitor&lt;a class="headerlink" href="#monitor" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Monitor这块内容待完善及丰富。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Unix Monitor&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrlB8/kLc10.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;VMware Monitor&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Host System Performance Monitor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrlB8/kLc10.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrLyx/9Rh2b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Virtual Machine Performance Monitor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrU8l/7iHmE.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcs3as/cUXUV.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Windows Performance Monitor&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsqFN/hKRir.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_8"&gt;总结&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;至此，系统配置文件模板及关于系统配置文件大部分要点已经配置完成，后续可以基于该模板创建正式的系统配置文件。&lt;/p&gt;
&lt;p&gt;正式的系统配置文件还需要配置的内容有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Agent基础配置（如mapping、分辨率等）&lt;/li&gt;
&lt;li&gt;观察层（Messaging、Load Balance等）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;需要细化的内容有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;应用定义&lt;/li&gt;
&lt;li&gt;Monitor&lt;/li&gt;
&lt;li&gt;任务（定时报告、定时采样等）&lt;/li&gt;
&lt;li&gt;Measure（中间件指标、JMX指标、应用其他指标等）&lt;/li&gt;
&lt;li&gt;Business Transaction （关键业务等）&lt;/li&gt;
&lt;li&gt;Sensor（应用特定Sensor，如关键方法--核保金额；定义入口点，如批处理、TCP Socket及其他）&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-3-create-profile-template.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 4.Dynatrace组件Linux系统配置为服务</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-4-register-linux-system-service.html</link><description>&lt;p&gt;配置为服务，可以在主机启动的时候自启动。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;复制Dynatrace相关脚本（$DT_HOME/init.d）到 /etc/init.d&lt;/li&gt;
&lt;li&gt;在脚本中定义&lt;strong&gt;DT_RUNASUSER&lt;/strong&gt;及其他变量（如有必要，修改&lt;strong&gt;DT_OPTARGS&lt;/strong&gt;和&lt;strong&gt;DT_FE_OPTARGS&lt;/strong&gt;等）(&lt;strong&gt;必需&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;使用&lt;code&gt;chkconfig --add dynaTraceServer&lt;/code&gt;  (如果是其他Linux版本，如Debian(Ubuntu,...)使用&lt;code&gt;sudo update -rc.d dynaTraceServerNonRoot defaults&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;如果Analysis Server和Server位于同一台，则先启动Analysis Server，过10s左右，再启动Server。（可以再Sever的脚本前加入sleep 10）&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-4-register-linux-system-service.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>什么是 AIOps?</title><link>https://www.EWhisper.cn/what-is-aiops.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops"&gt;什么是 AIOps&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops_1"&gt;AIOps 描述&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_2"&gt;典型AIOps 平台介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_1"&gt;上下文协作和知识捕获&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_3"&gt;AIOps 诞生背景&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;市场分析&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;数据摄取和处理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;分析结果&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;代表性供应商&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_4"&gt;AIOps 平台建设建议&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops_5"&gt;通过采用增量方法确保成功部署AIOps功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_6"&gt;选择能够支持广泛的历史和流数据类型的AIOps平台&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;总结&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_7"&gt;建议&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="aiops"&gt;什么是 AIOps&lt;a class="headerlink" href="#aiops" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;AIOps平台结合了&lt;strong&gt;大数据&lt;/strong&gt;和&lt;strong&gt;机器学习&lt;/strong&gt;功能, 通过可扩展的提取和分析IT不断增加的&lt;strong&gt;数据量(volume), 数据种类(variety)和数据生成速度(velocity)&lt;/strong&gt;来支持所有的主要IP运维功能. 该&lt;strong&gt;平台支持使用多个数据源(监控的数据源), 数据收集方法以及分析和演示技术.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="aiops_1"&gt;AIOps 描述&lt;a class="headerlink" href="#aiops_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AIOps可以增强多种常见的IT运营流程和任务, 包括&lt;strong&gt;性能分析, 异常检测, 事件关联和分析, IT服务管理和自动化.&lt;/strong&gt;&lt;br&gt;
它们的核心功能是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;提取数据&lt;/strong&gt; - 从与供应商有关或无关的多个源中提取数据&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据分析&lt;/strong&gt; - 通过以下2点启用数据分析:&lt;ul&gt;
&lt;li&gt;提取时的实时分析(流式数据引擎)&lt;/li&gt;
&lt;li&gt;存储数据的历史分析(大数据离线分析)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据访问&lt;/strong&gt; - 提供对数据的访问&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据存储&lt;/strong&gt; - 存储采集的数据&lt;/li&gt;
&lt;li&gt;使用&lt;strong&gt;机器学习&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关联操作&lt;/strong&gt; - 根据分析结果启动操作或下一步&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;分析工作的目标是发现和建立模型 - 用于预测可能的事件和新出现的使用情况 - 并及时回看历史数据已确定当前系统行为的根本原因.&lt;/p&gt;
&lt;p&gt;&lt;img alt="AIOps平台在IT运营管理(ITOM)中持续洞察" src="./images/340492_0001.png"&gt;&lt;/p&gt;
&lt;h3 id="aiops_2"&gt;典型AIOps 平台介绍&lt;a class="headerlink" href="#aiops_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下面以典型的AIOps 平台为例, 对AIOps的相关功能进行一一介绍.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; 备注:&lt;br&gt;
截图来自: &lt;a href="https://www.moogsoft.com/"&gt;moogsoft&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;概览&lt;/h4&gt;
&lt;p&gt;下图为软件首页,  着重展示了功能:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;告警降噪&lt;/strong&gt; - 250000 的事件降噪为55个场景, 过滤噪声99.9%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="概览" src="./images/moogsoft-ai-ops-overview-in-situ@2x.png"&gt;&lt;/p&gt;
&lt;p&gt;以下是这个AIOps软件的主要功能:&lt;/p&gt;
&lt;h4&gt;集成&lt;/h4&gt;
&lt;p&gt;与IT监控，自动化，服务管理，通知和协作工具进行50多种开箱即用的集成; 通过REST，syslog，webhook，socket或SNMP，我们可以与数百个集成，为您在一个平台上的整个IT工具链提供可见的上下文。(集成, 源端集成监控, 目标端集成自动化, 通知工具等)&lt;/p&gt;
&lt;p&gt;集成接口:&lt;/p&gt;
&lt;p&gt;&lt;img alt="集成方式" src="./images/plug-graphics-logos-lg.png"&gt;&lt;/p&gt;
&lt;p&gt;集成的监控:&lt;/p&gt;
&lt;p&gt;&lt;img alt="集成监控" src="./images/Integrations-1.png"&gt;&lt;/p&gt;
&lt;h4&gt;降噪&lt;/h4&gt;
&lt;p&gt;通过对整个监控堆栈中的所有事件进行数学分析，将信号与噪声分离，将警报量降低90％或更多。&lt;/p&gt;
&lt;p&gt;&lt;img alt="降噪" src="./images/noise-reduction-eduction-reduced.png"&gt;&lt;/p&gt;
&lt;h4&gt;关联&lt;/h4&gt;
&lt;p&gt;关联整个监控堆栈中的相关警报，为运维人员提供上下文感知，以更快地发现事件。&lt;/p&gt;
&lt;p&gt;&lt;img alt="关联" src="./images/Asset-19@3x.png"&gt;&lt;/p&gt;
&lt;h4&gt;根因分析&lt;/h4&gt;
&lt;p&gt;机器学习和基于拓扑的算法在当前事件中列出可能根本原因。最重要的是，我们的技术从过去学习，所以如果问题再次出现，您会自动收到有关如何更快地修复它的说明。&lt;/p&gt;
&lt;p&gt;&lt;img alt="根因分析" src="./images/probable-root-cause-reduced.png"&gt;&lt;/p&gt;
&lt;h3 id="_1"&gt;上下文协作和知识捕获&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;将事件传递到合适的人员，以便他们可以一起更快地解决每个事件，同时记录相关恢复步骤，类似事件。我们的AIOps平台可以快速，轻松地跨团队和工具进行协作。&lt;/p&gt;
&lt;p&gt;&lt;img alt="协作1" src="./images/Collaboration-1-reduced.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="协作2" src="./images/Collaboration-2-reduced.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="协作3" src="./images/Collaboration-3-reduced.png"&gt;&lt;/p&gt;
&lt;h3 id="aiops_3"&gt;AIOps 诞生背景&lt;a class="headerlink" href="#aiops_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在过去二十年中，人工智能技术间歇性地影响了ITOM的发展，而AIOps平台只是这种影响的最新例证。IT运营一方面要求精细化运营, 降低成本，另一方面又增加了运营复杂性。可以在&lt;strong&gt;数据量(volume), 数据种类(variety)和数据生成速度(velocity)&lt;/strong&gt;的三个维度上定义复杂性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IT基础架构和应用程序产生的&lt;strong&gt;数据量&lt;/strong&gt;快速增长（每年增长2到3倍）&lt;/li&gt;
&lt;li&gt;机器和人类生成的&lt;strong&gt;数据类型越来越多&lt;/strong&gt;（例如，指标，日志，wire数据和文档[知识管理]）&lt;/li&gt;
&lt;li&gt;由于采用了云原生或其他敏捷架构，&lt;strong&gt;数据生成速度&lt;/strong&gt;不断提高，IT架构内的变化率也在不断提高&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在处理大量，多样化和速度的数据时，现有的监控工具面临压力。更重要的是，监控工具不会跨越提取有用见解所需的多种数据类型。例如，企业需要大量数据，这些数据可能跨越&lt;strong&gt;基础架构&lt;/strong&gt;和&lt;strong&gt;应用程序指标&lt;/strong&gt;，&lt;strong&gt;用户体验数据&lt;/strong&gt;，&lt;strong&gt;业务交易数据&lt;/strong&gt;，&lt;strong&gt;拨测数据&lt;/strong&gt;以及来自各种&lt;strong&gt;系统的日志&lt;/strong&gt;，以获得更多分析, 洞察和见解。&lt;/p&gt;
&lt;p&gt;非IT团队如业务条线和IT运营团队（如应用程序开发人员和DevOps），越来越多地表现出对AIOps技术的兴趣，以便在多个数据集中表现出洞察力。&lt;br&gt;
此外，由于数字业务，IT需要采取行动的速度也在不断提高(敏捷快速)，因此需要可以提供以下帮助的工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;降低噪音&lt;/strong&gt;（例如，以误报或冗余事件的形式）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;根因分析&lt;/strong&gt; - 提供更好的因果关系，这有助于确定事故的可能原因&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动态告警基线&lt;/strong&gt; - 捕获超出静态阈值的异常，以主动检测异常情况&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;故障预测&lt;/strong&gt; - 推断未来事件以防止潜在的故障&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;集成处理&lt;/strong&gt;  - 启动解决问题的操作（直接或通过集成）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;迄今为止，AIOps功能主要用于支持IT运维流程，以便监控或观察IT基础架构，应用程序行为或数字体验。AIOps平台投资几乎总是基于其&lt;strong&gt;减少平均解决问题时间&lt;/strong&gt;(提高业务连续性)的能力而得到认可。无论是采用机器学习还是在事件管理上下文中对事件进行重复数据删除，还是在APM上下文中结合基于字节码检测的分布式跟踪数据来分析应用程序日志数据，它们都是合理的。&lt;/p&gt;
&lt;p&gt;AIOps正在逐渐演变，不仅可以提取数据进行分析，还可以&lt;strong&gt;根据分析启动相应操作&lt;/strong&gt;。这些操作（最有可能通过与其他ITOM和ITSM工具的集成）将采取多种形式，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;告警及告警处置&lt;/li&gt;
&lt;li&gt;问题自动分类及记录&lt;/li&gt;
&lt;li&gt;CMDB清洗, 修正和关联&lt;/li&gt;
&lt;li&gt;运行预定自动化动作&lt;/li&gt;
&lt;li&gt;应用程序发布编排&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AIOps工具在监控的四个阶段 - &lt;strong&gt;数据采集，聚合，分析和行动&lt;/strong&gt;（见图2） - 显示了“右移” - 具有数据聚合和分析的核心功能。随着技术的进一步发展，用户将能够利用平台的主动建议，实现行动操作的阶段。&lt;br&gt;
关于监控工具与AIOps的争论刚刚开始，而且可能会增长。然而，从长远来看，专家领域将存在专业监控工具，而对于IT运营通才(SRE团妒?)，主要的工具将是AIOps。&lt;/p&gt;
&lt;p&gt;&lt;img alt="监控的4个阶段" src="./images/340492_0002.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;市场分析&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;迄今为止，很少有供应商提供全面，集成的AIOps平台。然而，许多供应商提供了广泛的AIOps功能，其子集彼此集成。为了更清楚地了解市场如何发展以及供应商彼此之间的位置，Gartner将当前可用的AIOps功能划分为数据管理和分析结果两大类：&lt;/p&gt;
&lt;h3 id="_3"&gt;数据摄取和处理&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;历史和流数据管理 - 允许提取，索引和持久化存储日志数据，wire数据，指标和文档数据的软件或设备。由此产生的数据库大部分是非结构化的或多结构化的，而存储的数据集以高容量累积，以高速度变化并且根据高度变化的格式隐式地构造。这种历史数据管理功能可称为“大数据管理”。为了在IT运营用例下提供价值，该工具还必须将人类用户感知的时间尺度的数据呈现为实时，直接在摄取时提供数据无需访问持久数据库。它必须跨多个实时和历史数据流提供连贯的分析。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;分析结果&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;基本和高级统计分析&lt;/strong&gt;- 单变量和多变量分析的组合，包括对IT实体捕获的指标以及源头策划数据的相关性，聚类，分类和推断的使用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自动建立模型和预测&lt;/strong&gt; - 使用上述一种或多种类型的历史或流数据，以引出描述可以从数据集本身推断但不立即存在的新相关的数学或结构模式。然后可以使用这些模式及时前进并以不同程度的概率预测事件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;异常检测&lt;/strong&gt; - 使用先前组件发现的模型首先确定什么构成正常的系统行为，然后辨别出与正常系统行为的偏差。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;根因分析&lt;/strong&gt; - 修剪由自动化模式发现和预测组件建立的相关性网络，以隔离代表真正因果关系的依赖性链接，从而提供有效干预的解决方案。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;适用性建议&lt;/strong&gt; - 对问题进行分类，将其分类为已知类别。然后，它可以挖掘先前解决方案的存储，分析这些解决方案的适用性并以优先级形式提供它们以用于补救。最终，这些将使用闭环方法，并在使用后对其有效性进行投票。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;拓扑&lt;/strong&gt;- 对于AIOps检测到的相关且可操作的模式，必须围绕所摄取的数据放置上下文。该上下文是拓扑。如果没有拓扑的上下文和事实上的约束，检测到的模式虽然有效，但可能无益且分散注意力。从拓扑中的数据派生模式将减少模式的数量，建立相关性并说明隐藏的依赖性。使用拓扑作为因果关系确定的一部分可以大大提高其准确性和有效性。使用图形和瓶颈分析捕获事件发生的位置及其上下游依赖关系可以提供关于重点修复工作的重点。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;代表性供应商&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;供应商&lt;/th&gt;
&lt;th&gt;成立年份&lt;/th&gt;
&lt;th&gt;总部&lt;/th&gt;
&lt;th&gt;网站&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Anodot&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;Israel&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.anodot.com/"&gt;https://www.anodot.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BigPanda&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.bigpanda.io/"&gt;https://www.bigpanda.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BMC&lt;/td&gt;
&lt;td&gt;1980&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.bmc.com/"&gt;https://www.bmc.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Brains Technology&lt;/td&gt;
&lt;td&gt;2008&lt;/td&gt;
&lt;td&gt;Japan&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.brains-tech.co.jp/en/"&gt;https://www.brains-tech.co.jp/en/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CA Technologies&lt;/td&gt;
&lt;td&gt;1974&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.ca.com/us.html"&gt;https://www.ca.com/us.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Devo (Logtrust)&lt;/td&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.devo.com/"&gt;https://www.devo.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Elastic&lt;/td&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.elastic.co/"&gt;https://www.elastic.co/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Evolven&lt;/td&gt;
&lt;td&gt;2007&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.evolven.com/"&gt;https://www.evolven.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FixStream&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://fixstream.com/"&gt;https://fixstream.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IBM&lt;/td&gt;
&lt;td&gt;1911&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="http://www.ibm.com/"&gt;www.ibm.com&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;InfluxData&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.influxdata.com/"&gt;https://www.influxdata.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ITRS&lt;/td&gt;
&lt;td&gt;1993&lt;/td&gt;
&lt;td&gt;United Kingdom&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.itrsgroup.com/"&gt;https://www.itrsgroup.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jKool&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.jkoolcloud.com/"&gt;https://www.jkoolcloud.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Loom Systems&lt;/td&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.loomsystems.com/"&gt;https://www.loomsystems.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Moogsoft&lt;/td&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.moogsoft.com/"&gt;https://www.moogsoft.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Scalyr&lt;/td&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.scalyr.com/"&gt;https://www.scalyr.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ScienceLogic&lt;/td&gt;
&lt;td&gt;2003&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://sciencelogic.com/"&gt;https://sciencelogic.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SignalFx&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://signalfx.com/"&gt;https://signalfx.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Splunk&lt;/td&gt;
&lt;td&gt;2004&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.splunk.com/"&gt;https://www.splunk.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Stackstate&lt;/td&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;Netherlands&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.stackstate.com/"&gt;https://www.stackstate.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Sumo Logic&lt;/td&gt;
&lt;td&gt;2010&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.sumologic.com/"&gt;https://www.sumologic.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="aiops_4"&gt;AIOps 平台建设建议&lt;a class="headerlink" href="#aiops_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="aiops_5"&gt;通过采用增量方法确保成功部署AIOps功能&lt;a class="headerlink" href="#aiops_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AIOps功能的有效部署需要从根据数据源重组IT域开始的结构化方法。这种方法将所需的焦点转移到数据集而不是工具，这是传统的方法。Gartner发现，最好先掌握从各种来源获取的大型持久数据集的使用。只有在IT运营团队熟练掌握AIOps的大数据方面之后，才能尝试掌握能力类别。因此，在选择工具或服务时，企业应优先考虑那些允许部署数据提取，存储和访问的供应商，而不依赖于剩余的AIOps组件。鉴于AIOps将用于多个用例，I＆O领导者必须确保供应商支持逐步添加其他功能。&lt;/p&gt;
&lt;h3 id="aiops_6"&gt;选择能够支持广泛的历史和流数据类型的AIOps平台&lt;a class="headerlink" href="#aiops_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;现代IT运营旨在获得IT实体的综合可见性，包括应用程序，其关系，相互依赖性和过去的转换，以深入了解整体IT环境的现状。选择正确的数据源对于避免盲点至关重要。部署成熟度和不断变化的用例的渐进性需要准备好摄取各种数据源。I＆O领导者必须选择能够摄取和提供对各种历史和流数据类型的访问的AIOps平台（参见图3）。&lt;/p&gt;
&lt;p&gt;&lt;img alt="AIOps获取的数据类型" src="./images/340492_0003.png"&gt;&lt;/p&gt;
&lt;h2 id="_6"&gt;总结&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_7"&gt;建议&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;负责优化IT运营的数据中心负责人应该:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过采用以历史数据开始的增量方法部署AIOps, 并逐步使用&lt;strong&gt;流数据&lt;/strong&gt;, 与不断改进的IT运营成熟度保持一致.&lt;/li&gt;
&lt;li&gt;要选择这样的 AIOps平台: 通过识别能够摄取和提供对文本和指标数据访问的AIOps平台, 能够全面了解IT系统过去和现在的平台.&lt;/li&gt;
&lt;li&gt;通过选择支持逐步部署面向IT运维的机器学习四个阶段的工具, 深化其IT运营团队的分析技能: 描述性, 诊断性, 主动性能力和根本原因分析, 以帮助避免高严重性中断.&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 22:21:31 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/what-is-aiops.html</guid><category>gartner</category><category>aiops</category><category>可观察性</category><category>大数据</category><category>机器学习</category></item><item><title>使用 Dynatrace AppMon 监控 Docker 应用</title><link>https://www.EWhisper.cn/monitoring-docker-app-with-dynatrace.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#appmon-dockerized-apps-basic"&gt;使用AppMon 监控 dockerized apps (basic)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;基于组合的方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;基于继承的方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#qa"&gt;Q&amp;amp;A&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#appmon-dockerized-apps-kubernetes-openshift"&gt;使用AppMon 监控 dockerized apps - Kubernetes 和 OpenShift&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#a"&gt;方案A: 基于继承的方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#b"&gt;B方案: 基于组合的方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;可以配置 AppMon 来监控包裹在docker 容器里的应用:&lt;/p&gt;
&lt;h2 id="appmon-dockerized-apps-basic"&gt;使用AppMon 监控 dockerized apps (basic)&lt;a class="headerlink" href="#appmon-dockerized-apps-basic" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本章节介绍了将&lt;a href="https://www.dynatrace.com/solutions/application-monitoring/"&gt;AppMon&lt;/a&gt; agent与dockerized应用程序集成的两种方案。这些方案在本页面上被称为&lt;strong&gt;基于组合&lt;/strong&gt;和&lt;strong&gt;基于继承&lt;/strong&gt;的方案。每个方案的利弊都会列出. 但是，建议不要使用&lt;strong&gt;基于继承&lt;/strong&gt;的方法，而是将其用于演示目的。&lt;/p&gt;
&lt;h3 id="_1"&gt;基于组合的方案&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;使用基于组合的方案，您可以使用&lt;a href="https://hub.docker.com/r/dynatrace/agent/"&gt;AppMon/agent&lt;/a&gt; Docker镜像(示例见下), 该镜像包含所有的AppMon agent, 你可以配置附加到你的现有的Docker容器中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AppMon 6.5 示例:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;#DOCKERFILE FOR DYNATRACE AGENT&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; alpine:3.5&lt;/span&gt;

&lt;span class="k"&gt;LABEL&lt;/span&gt; &lt;span class="nv"&gt;maintainer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Blazej Tomaszewski &amp;lt;blazej.tomaszewski@dynatrace.com&amp;gt;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ARG&lt;/span&gt; DT_HOME
&lt;span class="k"&gt;ARG&lt;/span&gt; BUILD_VERSION
&lt;span class="k"&gt;ARG&lt;/span&gt; VERSION
&lt;span class="k"&gt;ARG&lt;/span&gt; CUID
&lt;span class="k"&gt;ARG&lt;/span&gt; CGID

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-agent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-unix.jar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER32_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-wsagent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86-32.tar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER64_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-wsagent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86-64.tar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;NODE_AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-one-agent-nodejs-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86.tgz
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER32_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER32_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER64_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER64_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;NODE_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;NODE_AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;SLAVE_AGENT_PORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;8001&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;curl&lt;span class="se"&gt;\ &lt;/span&gt;openjdk8-jre-base
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;DT_RUNTIME_DEPS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bash

&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-agent.sh /usr/bin
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-node-agent.sh /usr/bin
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-wsagent.sh /usr/bin

&lt;span class="k"&gt;RUN&lt;/span&gt;  apk update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add --no-cache &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_RUNTIME_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     mkdir -p &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-agent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER32_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER64_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-node-agent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;NODE_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     mkdir -p &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/log/agent &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     apk del &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;ADD&lt;/span&gt;  build/bin/dtnginx_offsets.json.tar.gz &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/agent/conf
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/run-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/create-user.sh /tmp
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;CUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CUID&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;CGID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CGID&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; /bin/sh -c /tmp/create-user.sh &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf /tmp/*
&lt;span class="k"&gt;USER&lt;/span&gt;&lt;span class="s"&gt; ${CUID}:${CGID}&lt;/span&gt;

&lt;span class="k"&gt;CMD&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt; true&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; sleep &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;从技术上讲，这种方法使用了docker的一个特性，它允许docker容器将其文件系统的一部分导出为&lt;a href="https://docs.docker.com/engine/tutorials/dockervolumes/"&gt;docker卷&lt;/a&gt;，从而使其可以被其他感兴趣的容器获得。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_1.png"&gt;&lt;/p&gt;
&lt;h4&gt;示例&lt;/h4&gt;
&lt;p&gt;以下示例假定您已经运行&lt;code&gt;dynatrace/agent&lt;/code&gt; Docker容器, 通过名字 &lt;code&gt;dtagent&lt;/code&gt; 导入到&lt;code&gt;/dynatrace&lt;/code&gt;安装目录作为一个卷. GitHub上的&lt;a href="https://github.com/Dynatrace/Dynatrace-AppMon-Docker"&gt;AppMon in Docker&lt;/a&gt; 项目包含脚本来完成这个任务，甚至允许你在docker中方便地设置一个完整的appmon环境。更多的信息可以在以下的"性能诊所"(视频)找到。&lt;/p&gt;
&lt;h5&gt;示例: Apache Tomcat&lt;/h5&gt;
&lt;p&gt;下边的&lt;code&gt;docker-compose.yml&lt;/code&gt; 挂载容器&lt;code&gt;dtagent&lt;/code&gt; 导入的卷, 并且使用合适的&lt;code&gt;-agentpath&lt;/code&gt;来初始化&lt;code&gt;CATALINA_OPTS&lt;/code&gt;环境变量.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;tomcat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;tomcat&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
  &lt;span class="nt"&gt;volumes_from&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;dtagent&lt;/span&gt;
  &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;CATALINA_OPTS&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;-agentpath:/dynatrace/agent/lib64/libdtagent.so=name=tomcat,collector=127.0.0.1:9998&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;catalina.sh run&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;示例: NGINX&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;分析&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;优点&lt;/strong&gt;: 这种方法有助于巧妙地清晰地分离关注点，这是Docker世界的设计原则。此外，您不需要将agent放入您的基本映像中。在运行时进行一个简单的配置就可以监控您需要的容器的一切。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;缺点&lt;/strong&gt;: 虽然Docker运行时对容器之间交换volumes有很大的支持，但在容器编排平台（如kubernetes或openshift）上这样做会使您的应用程序配置过于复杂。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_2"&gt;基于继承的方案&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;不建议使用此方法，仅在此处进行演示。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;从技术角度而言，Docker化应用程序通常涉及两个部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个基本镜像, 如:&lt;code&gt;java:8&lt;/code&gt;或&lt;code&gt;node:7&lt;/code&gt;, 提供基础的执行环境&lt;/li&gt;
&lt;li&gt;一个&lt;code&gt;Dockerfile&lt;/code&gt;, 用特定于应用程序的安装指令来扩充选定的基本镜像。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用你的&lt;code&gt;Dockerfile&lt;/code&gt;, 运行&lt;code&gt;docker build&lt;/code&gt;命令来创建需要的Docker 镜像.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/"&gt;Docker Hub&lt;/a&gt;上提供了一整套的基础镜像. 你可以阅读&lt;a href="https://www.digitalocean.com/community/tutorials/docker-explained-using-dockerfiles-to-automate-building-of-images"&gt;使用Dockerfiles自动化镜像构建&lt;/a&gt;和&lt;a href="https://docs.docker.com/articles/dockerfile_best-practices/"&gt;写Dockerfiles的最佳实践&lt;/a&gt;获取更多信息.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_2.png"&gt;&lt;/p&gt;
&lt;h4&gt;示例&lt;/h4&gt;
&lt;p&gt;你可以为准备监控的应用创建基础镜像. 把agent打包为基础的自动启用监控的镜像。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_3.png"&gt;&lt;/p&gt;
&lt;h5&gt;示例: Java&lt;/h5&gt;
&lt;p&gt;本例子展示了一个&lt;code&gt;Dockerfile&lt;/code&gt;, 来扩展官方的&lt;a href="https://github.com/docker-library/openjdk"&gt;openJDK Docker镜像&lt;/a&gt; 基础镜像, 并下载对应的agent. 为了遍历, 需要设置一些环境变量, 如&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;和&lt;code&gt;DT_AGENT_COLLECTOR&lt;/code&gt;, 以后可以在这些变量中填入你自己的数据. 另外, &lt;code&gt;JAVA_OPTS&lt;/code&gt;添加一个指向&lt;code&gt;DT_AGENT_LIB64&lt;/code&gt;的&lt;code&gt;-agentpath&lt;/code&gt;参数.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; openjdk:8&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_INSTALLER_URL &lt;span class="s2"&gt;&amp;quot;http://files.dynatrace.com/downloads/OnPrem/dynaTrace/6.5/6.5.0.1289/dynatrace-agent-6.5.0.1289-unix.jar&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT                     &lt;span class="s2"&gt;&amp;quot;/dynatrace&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_LIB32         &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/agent/lib/libdtagent.so&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_LIB64         &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/agent/lib64/libdtagent.so&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_NAME          &lt;span class="s2"&gt;&amp;quot;java&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_COLLECTOR     &lt;span class="s2"&gt;&amp;quot;127.0.0.1:9998&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; JAVA_OPTS              &lt;span class="s2"&gt;&amp;quot;-agentpath:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_LIB64&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;=name=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;,collector=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_COLLECTOR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# Install the Agent&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; curl -L -o /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    java -jar /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; -t &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    rm -f /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;构建该Dockerfile使用&lt;code&gt;docker build . -t openjdk:8-dtappmon -f ./Dockerfile&lt;/code&gt;在本地Docker仓库创建一个新的Docker镜像, 名字为&lt;code&gt;openjdk&lt;/code&gt;, 标签为&lt;code&gt;8-dtappmon&lt;/code&gt;. 每个应用构建, 你可以通过扩展&lt;code&gt;openjdk:8-dtappmon&lt;/code&gt;来创建应用镜像(如下所示, &lt;code&gt;repo.internal&lt;/code&gt;指的是虚拟仓库, &lt;code&gt;my-app&lt;/code&gt;是虚拟应用.) 你也可以覆盖&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;环境变量来在该镜像里更准确的配置.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; openjdk:8-dtappmon&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_NAME &lt;span class="s2"&gt;&amp;quot;my-app&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; https://repo.internal/my-app/builds/latest.tar.gz /app

&lt;span class="k"&gt;CMD&lt;/span&gt; java &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;JAVA_OPTS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; -jar /app/my-app.jar
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;示例: Nginx&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;分析&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;优点&lt;/strong&gt;: 一旦agent已经被放入你的Docker基础映像中，在哪个容器平台上运行你的应用程序并不重要. 此外，这种方案减少了appmon整合的准备工作，不会增加频繁building，shipping和running Dockerized 应用程序过程的任何开销。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;缺点&lt;/strong&gt;: 根据您的特定用例和您所使用的技术,您必须手动集成这些技术. 因为这个方案会在特定技术的基础镜像上, 与特定技术的agent(如Java agent)紧密绑定, 当切换到另一种技术或appmon的新版本时，这些基本镜像可能需要被全部重新创建. (其实这个不算什么大问题, 就是定期更新agent)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="qa"&gt;Q&amp;amp;A&lt;a class="headerlink" href="#qa" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;我能监控运行在docker, alpine上的程序么?&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;我能监控在kubernetes或OpenShift上单 docker化应用么?&lt;/h4&gt;
&lt;p&gt;是的. 参见下一章节.&lt;/p&gt;
&lt;h4&gt;我能在docker中运行easyTravel(AppMon的demo程序)么?&lt;/h4&gt;
&lt;p&gt;EasyTravel已经在GitHub的&lt;a href="https://github.com/dynatrace/Dynatrace-easytravel-docker"&gt;EasyTravel in Docker &lt;/a&gt;完全实现容器化了. 你可以使用&lt;a href="https://github.com/Dynatrace/Dynatrace-AppMon-Docker"&gt;Dynatrace in Docker&lt;/a&gt;项目来注入监控.&lt;/p&gt;
&lt;h2 id="appmon-dockerized-apps-kubernetes-openshift"&gt;使用AppMon 监控 dockerized apps - Kubernetes 和 OpenShift&lt;a class="headerlink" href="#appmon-dockerized-apps-kubernetes-openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;上一章描述了如何使用&lt;a href="https://www.dynatrace.com/solutions/application-monitoring/"&gt;AppMon&lt;/a&gt;监控 普通的Docker环境中的Dockerized apps.&lt;/p&gt;
&lt;p&gt;本章阐述了如何监控在&lt;a href="http://kubernetes.io/"&gt;Kubernetes&lt;/a&gt;和&lt;a href="https://www.openshift.com/"&gt;Red Hat OpenShift(v3)&lt;/a&gt;的 Dockerized 应用. (OpenShift算是Kubernetes的商业化).&lt;/p&gt;
&lt;p&gt;如上章"如何使用AppMon监控dockerized apps"所述, 根据于你的实际情况,  你可能会发现下列的方案更适合. 每种方案的利弊都已列出.&lt;/p&gt;
&lt;h3 id="a"&gt;方案A: 基于继承的方案&lt;a class="headerlink" href="#a" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;基于继承的方案的目标是把AppMon的agent放到你的Docker基础镜像里. 因为Kubernetes和OpenShift都是容器平台, 这种方案允许你来在这些平台上复用你的启用监控的镜像. 然而, 因为OpenShift是一个安全加固的容器平台, 使用root运行容器和执行进程(大部分Docker都是这么构建的)默认会被禁止.  参考&lt;a href="https://docs.openshift.org/latest/creating_images/guidelines.html"&gt;OpenShift 容器镜像向导&lt;/a&gt;来学习如何为OpenShift准备你的Docker镜像. 参见&lt;a href="https://www.dynatrace.com/support/doc/appmon/application-monitoring/monitor-specific-applications/monitor-docker-apps/monitor-dockerized-apps-with-appmon/"&gt;如何使用AppMon监控dockerized apps&lt;/a&gt;获取如何应用本方案到你的Docker镜像.&lt;/p&gt;
&lt;h4&gt;示例: Java&lt;/h4&gt;
&lt;p&gt;因为在你的基础镜像中的特定技术已被appmon监控，因此只需简单的运行时配置设置即可将agent绑定到appmon collector。&lt;/p&gt;
&lt;p&gt;下列例子为一个运行在&lt;a href="http://kubernetes.io/docs/user-guide/pods/"&gt;Pod&lt;/a&gt;上的一个叫做&lt;em&gt;catalog&lt;/em&gt;的容器定义了一个&lt;a href="http://kubernetes.io/docs/user-guide/replication-controller/"&gt;ReplicationController&lt;/a&gt;. 环境变量&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;和&lt;code&gt;DT_AGENT_COLLECTOR&lt;/code&gt;(&lt;a href="https://www.dynatrace.com/support/doc/appmon/application-monitoring/monitor-specific-applications/monitor-docker-apps/monitor-dockerized-apps-with-appmon/"&gt;如何使用AppMon监控dockerized apps&lt;/a&gt;中已定义好)覆盖掉由基础的&lt;code&gt;acmeco/my-app&lt;/code&gt;镜像提供的各自的对应值.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ReplicationController&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-app&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-app&lt;/span&gt;
        &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;acmeco/my-app&lt;/span&gt;
        &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DT_AGENT_NAME&lt;/span&gt;
          &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;my-app&amp;quot;&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DT_AGENT_COLLECTOR&lt;/span&gt;
          &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;dtappmon-collector.acmeco.com:9998&amp;quot;&lt;/span&gt;
        &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;containerPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;示例: Nginx&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;分析&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;优点&lt;/strong&gt;: 一旦agent已经被放入你的Docker基础映像中，在哪个容器平台上运行你的应用程序并不重要. 此外，这种方案减少了appmon整合的准备工作，不会增加频繁building，shipping和running Dockerized 应用程序过程的任何开销。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;缺点&lt;/strong&gt;: 根据您的特定用例和您所使用的技术,您必须手动集成这些技术. 因为这个方案会在特定技术的基础镜像上, 与特定技术的agent(如Java agent)紧密绑定, 当切换到另一种技术或appmon的新版本时，这些基本镜像可能需要被全部重新创建. (其实这个不算什么大问题, 就是定期更新agent)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="b"&gt;B方案: 基于组合的方案&lt;a class="headerlink" href="#b" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充.&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 12 Mar 2019 10:58:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-12:/monitoring-docker-app-with-dynatrace.html</guid><category>APM</category><category>Dynatrace</category><category>docker</category></item></channel></rss>