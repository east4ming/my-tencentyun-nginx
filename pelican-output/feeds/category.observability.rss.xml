<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>东风微鸣 Blog - Observability</title><link>https://www.EWhisper.cn/</link><description>Focus on Python/Java/DevOps/Observability</description><lastBuildDate>Wed, 19 Jun 2019 19:15:00 +0800</lastBuildDate><item><title>Dynatrace AppMon 实战手册 - 29.某保险公司核心系统变慢问题分析</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-29-analysis-a-app-slowdown-problem.html</link><description>&lt;h2 id="dynatrace-20151106"&gt;dynaTrace最新案例分享-20151106应用性能下降问题&lt;a class="headerlink" href="#dynatrace-20151106" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这是一个展现&lt;strong&gt;dynaTrace强大功能&lt;/strong&gt;的典型案例！具体的故障及相关的分析如下。&lt;/p&gt;
&lt;h3 id="_1"&gt;具体故障分析流程&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;1. 先用&lt;strong&gt;事务流拓扑图&lt;/strong&gt;查看具体慢的点在哪，如下图：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;可以大体看出有2段为红色告警，一个是weblogic层面，一个是数据库层面。&lt;/p&gt;
&lt;p&gt;另外也观察到数据库响应时间过长，达到了8s之久。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-49-15.png"&gt;&lt;/p&gt;
&lt;p&gt;2. 分析第一个红色告警，主要是&lt;strong&gt;事务失败率过高&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-50-04.png"&gt;&lt;/p&gt;
&lt;p&gt;3. 查看相关的报错，可以看到主要是&lt;strong&gt;数据库相关&lt;/strong&gt;异常报错。&lt;/p&gt;
&lt;p&gt;可以从日志中初步判断：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;连接池满&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;DBA已经在杀SQL了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-50-34.png"&gt;&lt;/p&gt;
&lt;p&gt;4. 再查看第二个红色告警，可以看到：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;数据库响应时间过长，为8s左右&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;连接池满&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-51-02.png"&gt;&lt;/p&gt;
&lt;p&gt;5. 查看数据库的相关情况，具体如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;池大小160，使用量100%&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tpl2a&lt;/strong&gt;平均获取时间12s。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-51-35.png"&gt;&lt;/p&gt;
&lt;p&gt;6. 找出相关的&lt;strong&gt;执行次数多、平均执行时间长&lt;/strong&gt;的sql语句。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-51-55.png"&gt;&lt;/p&gt;
&lt;p&gt;7. 从对应sql直接转到相关请求，从下图可以看出事务来自客户端：&lt;strong&gt;10.94.21.23&lt;/strong&gt;。（这个是&lt;strong&gt;微信平台系统&lt;/strong&gt;的一个server地址）。联系微信后，知道对方在&lt;strong&gt;搞活动&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-52-18.png"&gt;&lt;/p&gt;
&lt;p&gt;8. 最后也可以看一下这条web请求的相关信息：（吞吐量中&lt;strong&gt;绿色面积&lt;/strong&gt;是根据历史数据计算出来的正常吞吐量区间范围，可以看到因为做活动，&lt;strong&gt;吞吐量飙涨，远远大于历史基线&lt;/strong&gt;。而且可以看出活动高峰期是在8:00-9:00）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-52-38.png"&gt;&lt;/p&gt;
&lt;p&gt;9. 再看一下&lt;strong&gt;最慢响应时间的基线&lt;/strong&gt;，如下图：&lt;strong&gt;基线时间准确到2669ms，但是活动高峰期响应时间高出了近50s！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-52-57.png"&gt;&lt;/p&gt;
&lt;h3 id="_2"&gt;总结&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这是一个典型的由于其他系统调用而导致核心系统出问题的案例，在这个案例中dynaTrace的强大功能展现的淋漓尽致。&lt;br&gt;
从dynaTrace给出的信息我们可以看出以下几个问题：&lt;br&gt;
- 很明显微信项目组对活动的准备不足；&lt;br&gt;
- 各个系统之间的相互调用拓扑关系是非常重要的。（这次dynaTrace的agent只安装在核心的一台机器上，但是仍然可以发现微信的调用；如果微信系统有安装，那么我猜测直接从拓扑图就能一眼看出问题根源）&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 19 Jun 2019 19:15:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-29-analysis-a-app-slowdown-problem.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 28.Dynatrace 6.5升级和迁移向导</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-28-update-migrate-guide.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;前言&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#1"&gt;1.准备迁移（见第一章）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2"&gt;2.安装新组件并迁移数据（见第二章）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3agents"&gt;3.如果需要，则升级Agents（见第三章）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4"&gt;4.最终检查和验证（见第四章）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#1_1"&gt;1 准备升级&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;步骤一&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;步骤二&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;步骤三&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;步骤四&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;步骤五&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;步骤六&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;步骤七&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;步骤八&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;步骤九&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;步骤十&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;步骤十一&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;步骤十二&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;步骤十三&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_15"&gt;步骤十四&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_16"&gt;步骤十五&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_17"&gt;步骤十六&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#11-agent"&gt;1.1 Agent兼容矩阵&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-servercollectors"&gt;2 升级Server，Collectors，客户端&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#21-servercollectors"&gt;2.1 安装新的Server，Collectors和客户端&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#22"&gt;2.2 关闭老版本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#23"&gt;2.3 创建备份&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#24-servercollector"&gt;2.4 服务迁移（Server，Collector和内存分析服务器）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#25"&gt;2.5 自动启动新服务&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#26"&gt;2.6 客户端迁移&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#27-server"&gt;2.7 启动新的Server组件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#28"&gt;2.8 启动新的客户端&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#29-serverlicenses"&gt;2.9 激活新的Server的licenses&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#210-server-sizing"&gt;2.10 选择Server Sizing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#211-dynatrace"&gt;2.11 升级新的Dynatrace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#212"&gt;2.12 连接性能仓库&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#213-session"&gt;2.13 配置Session存储&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#214-collectors"&gt;2.14 启动新的Collectors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#215"&gt;2.15 手动文件迁移&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-agents"&gt;3 升级Agents&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#31-agents"&gt;3.1 升级Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#32-agents"&gt;3.2 重启Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#33-bootstrap-agents"&gt;3.3 升级Bootstrap Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#34-zos-agents"&gt;3.4 升级zOS Agents&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#4_1"&gt;4 最终检查&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#41"&gt;4.1 检查配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#42-dynatrace-server"&gt;4.2 确认新的Dynatrace Server的运行&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#5"&gt;5 故障排除&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#51"&gt;5.1 常见问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#52-dynatrace"&gt;5.2 Dynatrace 支持&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;2017年2月22日&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_1"&gt;前言&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本文档用于：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;升级现有的Dynatrace环境到6.5，或者&lt;/li&gt;
&lt;li&gt;迁移已存在的Dynatrace 6.5 Server 到另一台主机&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="1"&gt;1.准备迁移（见第一章）&lt;a class="headerlink" href="#1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;开始之前，检查当前已安装（Servers, Collectors, Agents)来判定当前使用的版本，以及是否有组件可以直接升级到新版本。另外，检查&lt;strong&gt;系统需求&lt;/strong&gt;来确定你正在使用受支持的硬件和平台。&lt;/p&gt;
&lt;h3 id="2"&gt;2.安装新组件并迁移数据（见第二章）&lt;a class="headerlink" href="#2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;安装新组件，&lt;strong&gt;使用最新&lt;/strong&gt;的&lt;a href="https://files.dynatrace.com/downloads/migrationtool/dynatrace-migration.jar"&gt;&lt;em&gt;dynatrace-migration Tool&lt;/em&gt;&lt;/a&gt;来转移当前数据和配置至新版本。当你从命令行运行该工具时请检查所显示的版本！&lt;/p&gt;
&lt;p&gt;你需要几步手工的操作和编辑来完成迁移。&lt;/p&gt;
&lt;h3 id="3agents"&gt;3.如果需要，则升级Agents（见第三章）&lt;a class="headerlink" href="#3agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;大多数Agents会自动升级到最新版本。在某些情况下，你可能需要手动升级Agents。&lt;/p&gt;
&lt;h3 id="4"&gt;4.最终检查和验证（见第四章）&lt;a class="headerlink" href="#4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;启动Dynatrace AppMon并且查看是否Agents在发送数据，PurePaths和仪表板正确地显示。&lt;/p&gt;
&lt;h2 id="1_1"&gt;1 准备升级&lt;a class="headerlink" href="#1_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;检查下列checklist来确保你已经做好迁移准备。&lt;/p&gt;
&lt;h3 id="_2"&gt;步骤一&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;检查已安装的Dynatrace的版本和安装类型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于5.6之前版本，你&lt;strong&gt;必须&lt;/strong&gt;先迁移到6.2。具体见&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Upgrade+and+Migration+Guide"&gt;《6.2升级向导》&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;对于POC，需要&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Installation+Overview"&gt;重新安装&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;对于独立软件供应商版本（PTC Windchill),请使用供应商提供的文档。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_3"&gt;步骤二&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;创建一个已安装的Collectors, Agents, Clients的详细清单，来审定升级的范围。&lt;/p&gt;
&lt;h3 id="_4"&gt;步骤三&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;验证&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/System+Requirements"&gt;&lt;strong&gt;系统需求&lt;/strong&gt;&lt;/a&gt;是否符合。一些要点如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Servers&lt;strong&gt;只兼容&lt;/strong&gt;主版本相同，小版本相同或更小的Collectors。例如：一台6.1的Server可以和一台6.0的Collector正常工作，但是&lt;strong&gt;不兼容&lt;/strong&gt;5.6或6.2的Collector.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;推荐&lt;/strong&gt;使用&lt;strong&gt;64位客户端&lt;/strong&gt;而不是32位的。查看&lt;em&gt;客户端配置&lt;/em&gt;和&lt;em&gt;Webstart 客户端&lt;/em&gt;获取更多信息。&lt;/li&gt;
&lt;li&gt;迁移&lt;strong&gt;不支持&lt;/strong&gt;Server内置的Collector。&lt;strong&gt;升级之前&lt;/strong&gt;需要为当前版本安装一个stand-alone服务。特别是对于“开发团队版本”。&lt;/li&gt;
&lt;li&gt;内置性能仓库&lt;strong&gt;不支持&lt;/strong&gt;迁移。首先要切换到外置的，具体描述见&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Performance+Warehouse+Administration"&gt;链接&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;如果启用LDAP认证，用户需要至少称为一个Dynatrace LDAP组的一员用以登陆。查看&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/User+Permissions+and+Authentication#UserPermissionsandAuthentication-LDAP"&gt;LDAP&lt;/a&gt;获取更多信息。&lt;/li&gt;
&lt;li&gt;如果你的Dynatrace和DC RUM整合，DC RUM必须&amp;gt;= 12.0.2.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_5"&gt;步骤四&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;对于清单上的每个Agent，检查&lt;em&gt;Agent和新的Servers和Collectors的兼容性&lt;/em&gt;（见1.1）。&lt;/p&gt;
&lt;p&gt;推荐升级所有Agents，可能需要新功能来正常工作以及获取支持，来确保已知问题已经被修复。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;计划好利用已安排好的升级窗口来进行升级：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;必须能够重启Agent 组。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意项&lt;/strong&gt;：.NET和IIS Agent： 由于license的变动，所有.NET和IIS Agents在6.3之前的需要升级后重启只6.3或更高。&lt;/p&gt;
&lt;h3 id="_6"&gt;步骤五&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;注意项&lt;/strong&gt;：如果当前的Dynatrace server安装路径&lt;DT_HOME_OLD&gt;,存在一个&lt;em&gt;server/instances&lt;/em&gt;文件夹，并且你正在使用这些&lt;strong&gt;Server实例&lt;/strong&gt;：该功能，dtserver和dtfrontendserver的&lt;em&gt;- instance&lt;/em&gt;参数6.3版本已弃用。Collector实例仍然支持。&lt;/p&gt;
&lt;p&gt;使用&lt;a href="https://community.dynatrace.com/community/display/APMDOC/Migrating+Server+Instances+to+Separate+Installations"&gt;该向导&lt;/a&gt;，&lt;strong&gt;升级前&lt;/strong&gt;检查迁移Server 实例到独立安装的需求。&lt;/p&gt;
&lt;h3 id="_7"&gt;步骤六&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;注意项&lt;/strong&gt;：6.2主机监控发生重大更改。被监控的主机不在被映射到系统配置文件，而是在一个叫做&lt;strong&gt;基础结构&lt;/strong&gt;的部分进行全局管理。&lt;/p&gt;
&lt;p&gt;因为这些更改，迁移前被收集的历史主机监控数据和相关的系统配置文件在使用Dynatrace 6.2或以后版本将不再可以访问。&lt;/p&gt;
&lt;p&gt;要使历史主机监控数据迁移后仍可以访问，具体步骤参考&lt;a href="https://community.dynatrace.com/community/display/DTKB/After+Upgrade+to+6.2%2C+Host+Metrics+From+Times+Before+the+Upgrade+Are+No+Longer+Shown"&gt;&lt;em&gt;升级6.2后，来自升级前的主机度量无法显示&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;步骤七&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;检查Server sizing,如果从以下版本升级，请事先&lt;a href="https://support.dynatrace.com/"&gt;联系support&lt;/a&gt; ：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;5.6，并且&lt;em&gt;dtserver.ini&lt;/em&gt;中&lt;em&gt;-Xmx&lt;/em&gt;值大于14GB&lt;/li&gt;
&lt;li&gt;≥ 6.0，并且在&lt;em&gt;dtserver.ini&lt;/em&gt;或&lt;em&gt;dfrontendserver.ini&lt;/em&gt;, &lt;em&gt;memory&lt;/em&gt;的值不受支持。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_9"&gt;步骤八&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要证明是否正在使用&lt;strong&gt;连续事务存储&lt;/strong&gt;。在客户端检查：&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;存储&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;步骤九&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;要证明是否有安装额外插件：客户端：&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;插件&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;要证明自监控Profile里的所有的&lt;strong&gt;停机时间和事件规则&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_11"&gt;步骤十&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;性能仓库数据库&lt;/strong&gt;和&lt;strong&gt;Session存储&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;查看当前配置：从客户端：&lt;strong&gt;设置-&amp;gt;Dynatrace Server&lt;/strong&gt;，选择左侧面板：&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;性能仓库&lt;/strong&gt;所有细节包括密码，因为6.1版本密码存储改变过，你需要迁移后重新输入密码。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;该向导工作的一部分，要准备好创建备份。&lt;/li&gt;
&lt;li&gt;检查&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/System+Requirements#SystemRequirements-pwh"&gt;系统需求&lt;/a&gt;，是否你的SQL DB server受支持：&lt;ul&gt;
&lt;li&gt;如果不支持，&lt;strong&gt;升级前&lt;/strong&gt;创建&lt;strong&gt;备份&lt;/strong&gt;并切换到受支持的DB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;确认配置&lt;strong&gt;性能仓库&lt;/strong&gt;的用户有权限创建和移除DBMS的表。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_12"&gt;步骤十一&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;会话存储&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;如果当前存储位置位于安装路径（默认的），并且你想保留sessions，为了简化session存储和未来的迁移，在迁移之前可以&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Move+Session+Storage+to+a+new+Disk+or+Directory"&gt;移动session存储&lt;/a&gt;到一个2者（老的和新的安装）都可以访问到的独立目录。&lt;/li&gt;
&lt;li&gt;确定当前配置：从客户端： &lt;strong&gt;Settings -&amp;gt; Dynatrace Server&lt;/strong&gt;，选择左面版的&lt;strong&gt;存储&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;创建备份作为升级的一部分。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_13"&gt;步骤十二&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;确定下列服务的密码：Email、LDAP、Proxy、DC-RUM、Gomez、数据库。&lt;/p&gt;
&lt;h3 id="_14"&gt;步骤十三&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在现有的&lt;strong&gt;Dynatrace Server&lt;/strong&gt;上停用license。可能需要升级现有的license。查看&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/License+Upgrade"&gt;license升级文档&lt;/a&gt;获取更多信息。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意！&lt;/p&gt;
&lt;p&gt;如果你使用z/OS Agents，（从6.3开始）不在需要额外的license（LMS - license管理系统）。取而代之的是你需要联系&lt;strong&gt;license 管理&lt;/strong&gt;去获得需要数量的CICS和IMS agents 和/或 Java Agents加到你的Server license上。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_15"&gt;步骤十四&lt;a class="headerlink" href="#_15" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;迁移之前，需要下载软件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对应应用平台和操作系统的&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;安装包&lt;/a&gt; (完整包 或 Server/Collector/Client/Memory Analysis Server 或只是Agent)&lt;/li&gt;
&lt;li&gt;最新版的&lt;strong&gt; dynatrace-migration Tool&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最新的升级包&lt;/strong&gt;，如果可用，可以在6.5&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;下载列表&lt;/a&gt;的顶部找到。具体参考&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Install+an+Update"&gt;安装升级包&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;如果Server无法联网，从&lt;a href="http://eservices.dynatrace.com/"&gt;eServices&lt;/a&gt;下载&lt;strong&gt;升级后的licenses&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_16"&gt;步骤十五&lt;a class="headerlink" href="#_16" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果正在使用自定义keys用于Dynatrace TLS通信（替换&lt;em&gt;keystore.jks&lt;/em&gt;)或WebUI（通过&lt;em&gt;com.dynatrace.diagnostics.web.ssl.&lt;/em&gt;* 参数），准备好私钥和相应的证书链以防这些需要被重新导入。参见&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Custom+Certificate+Requirements"&gt;自定义证书需求&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="_17"&gt;步骤十六&lt;a class="headerlink" href="#_17" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;你可以并行运行不同版本的Dynatrace来测试升级情况，另外要了解&lt;strong&gt;并行运行配置需求&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下一步&lt;/strong&gt;：升级Server，Collectors，客户端（见第二章）。&lt;/p&gt;
&lt;h3 id="11-agent"&gt;1.1 Agent兼容矩阵&lt;a class="headerlink" href="#11-agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;升级Agents取决于他们的类型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当应用重启时，&lt;strong&gt;Bootstrapped Agents&lt;/strong&gt;自动升级。&lt;/li&gt;
&lt;li&gt;使用了&lt;strong&gt;non-bootstrapped Agents&lt;/strong&gt;，需要手动升级。（安装到一个新的目录路径）当应用层被重启，Agent连接字符串必须被指定到新的路径。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;要查看Agent的版本以及是否有引导程序，使用Dynatrace客户端的&lt;strong&gt;驾驶舱 -&amp;gt; Agent概述&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;尽管老版本Agents连接新版本Collectors是支持的。但是Agents应该尽早升级到Collector的版本 -- 通过安装新的Agents并且重启apps。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Agent/Collector 兼容性&lt;/em&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Collector（横）/Agent(竖)&lt;/th&gt;
&lt;th&gt;6.0&lt;/th&gt;
&lt;th&gt;6.1&lt;/th&gt;
&lt;th&gt;6.2&lt;/th&gt;
&lt;th&gt;6.3&lt;/th&gt;
&lt;th&gt;6.5&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5.6&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.1&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.2&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.3&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.5&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;n/a 1)&lt;/td&gt;
&lt;td&gt;OK&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;1) 在非引导程序Agents之前升级Server和Collectors。&lt;/p&gt;
&lt;h2 id="2-servercollectors"&gt;2 升级Server，Collectors，客户端&lt;a class="headerlink" href="#2-servercollectors" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;如果你需要迁移Server到新主机而不是升级到新版本，你只需要执行适当的步骤，例如，不需要停止和安装新的Collectors。&lt;/p&gt;
&lt;h3 id="21-servercollectors"&gt;2.1 安装新的Server，Collectors和客户端&lt;a class="headerlink" href="#21-servercollectors" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在所有相关机器上安装新的Dynatrace Server和Dynatrace Collectors和客户端。&lt;/li&gt;
&lt;li&gt;应该被安装到&lt;strong&gt;新的目录&lt;/strong&gt;，在该向导中被引用做&lt;DT_HOME_NEW&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;：使用完整安装包&lt;strong&gt;自定义&lt;/strong&gt;选项或者使用Server, Collector, Client独立安装包。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;重要&lt;/strong&gt;：Windows：在安装完成后，推荐手动启动Server, Collector和客户端。&lt;strong&gt;不要在安装时启动这些组件。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/*NIX"&gt;*NIX&lt;/a&gt;：&lt;strong&gt;不要&lt;/strong&gt;解压&lt;em&gt;.jar&lt;/em&gt;。而是运行&lt;br&gt;
&lt;code&gt;java -jar &amp;lt;pathToInstallerJar&amp;gt;/dynatrace-6.5.0.&amp;lt;build&amp;gt;-linux-&amp;lt;bit&amp;gt;.jar&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;自动化安装参见&lt;strong&gt;无人值守（静默）安装&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id="22"&gt;2.2 关闭老版本&lt;a class="headerlink" href="#22" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;关闭老版本客户端，停掉老版本Server，Frontend Server，Collector和内存分析服务器服务。&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;提示&lt;/strong&gt;：关于如何启动和停止Dynatrace 服务可以在&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/How+to+Start+and+Stop+dynaTrace+Services+or+Daemons"&gt;这儿&lt;/a&gt;找到。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="2"&gt;
&lt;li&gt;取消老版本Server，Frontend Server，Collector和内存分析服务器的自启动:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;: &lt;strong&gt;控制面板-&amp;gt;管理员工具-&amp;gt;服务&lt;/strong&gt;。在每个服务属性里，设置&lt;strong&gt;启动类型&lt;/strong&gt;为&lt;strong&gt;手动&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;NIX&lt;/strong&gt;: 使用&lt;/em&gt;chkconfig&lt;em&gt; 或者&lt;/em&gt;update - rc.d *来禁用所有Dynatrace服务。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="23"&gt;2.3 创建备份&lt;a class="headerlink" href="#23" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;准备期间进行配置信息收集：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;备份&lt;strong&gt;性能仓库DB&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;备份&lt;strong&gt;Session存储&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;在&lt;em&gt;&lt;strong&gt;NIX&lt;/strong&gt;，备份在&lt;/em&gt;/etc/init.d*下的所有Dynatrace脚本。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;DT_HOME&lt;/em&gt;的文件在下一步进行备份。&lt;/p&gt;
&lt;h3 id="24-servercollector"&gt;2.4 服务迁移（Server，Collector和内存分析服务器）&lt;a class="headerlink" href="#24-servercollector" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下载并在所有Server和Collector机器上使用最新&lt;a href="https://files.dynatrace.com/downloads/migrationtool/dynatrace-migration.jar"&gt;dynatrace-migration tool&lt;/a&gt;。对于迁移的更多选项参见&lt;a href="https://community.dynatrace.com/community/display/APMDOC/Migration+Tool+Details"&gt;dynatrace-migration Tool 细节&lt;/a&gt;或者运行&lt;code&gt;java -jar dynatrace-migration.jar&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;2.4.1 文件收集&lt;/h4&gt;
&lt;p&gt;使用&lt;em&gt;dynatrace-migration&lt;/em&gt;创建迁移存档：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;文件收集&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;shell
java -jar dynatrace-migration.jar -migration -sourceDTHome "&amp;lt;DT_HOME_OLD&amp;gt;" -targetArchiveDir "&amp;lt;ARCHIVE_DIR&amp;gt;"&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;DT_HOME_OLD&gt;&lt;/strong&gt;是老版本Dynatrace安装路径。名为&lt;Server_name&gt;_&lt;creation_dateTime&gt;.dtma的&lt;MIGRATION_ARCHIVE&gt;文件将会在&lt;ARCHIVE_DIR&gt;中被创建。&lt;/p&gt;
&lt;p&gt;保留该生成文件作为永久备份。&lt;/p&gt;
&lt;h4&gt;2.4.2 文件迁移&lt;/h4&gt;
&lt;p&gt;在目标主机， 要迁移所有Server和Collector实例&lt;DT_HOME_NEW&gt;，使用如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;推荐迁移方式&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;java -jar dynatrace-migration.jar -migration -sourceArchive &lt;span class="s2"&gt;&amp;quot;&amp;lt;ARCHIVE_DIR&amp;gt;/&amp;lt;MIGRATION_ARCHIVE&amp;gt;&amp;quot;&lt;/span&gt; -targetDTHome &lt;span class="s2"&gt;&amp;quot;&amp;lt;DT_HOME_NEW&amp;gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;备份（文件转移到&lt;DT_HOME_NEW&gt;）,迁移日志会在&lt;em&gt;&lt;DT_HOME_NEW&gt;/migration/backup/&lt;/em&gt; 创建一个新目录。&lt;/p&gt;
&lt;p&gt;若果你在这些步骤遇到问题，可以获取支持或者考虑&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Manual+File+Migration"&gt;手动文件迁移&lt;/a&gt;。&lt;/p&gt;
&lt;h4&gt;2.4.3 编辑配置文件&lt;/h4&gt;
&lt;p&gt;最后， dynatrace-migration 会列出可能需要手动迁移到新版本的文件（如配置设置文件）。因此，相关的老版本文件被复制并加上后缀&lt;em&gt;.toBeMigrated&lt;/em&gt; 。这些文件位于&lt;DT_HOME_NEW&gt;。&lt;strong&gt;不要复用&lt;/strong&gt;这些老版本文件，因为6.3修改过boot bundles，将导致Server无法启动。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;以下是示例输出：&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;There are some files left, which have to be migrated manually:
In C:\Program Files\dynaTrace\dynaTrace 6.5 :
 \dtanalysisserver.ini -&amp;gt; edit and integrate custom settings from old \dtanalysisserver.ini.toBeMigrated
 \dtcollector.ini -&amp;gt; edit and integrate custom settings from old \dtcollector.ini.toBeMigrated
 \dtfrontendserver.ini -&amp;gt; edit and integrate custom settings from old \dtfrontendserver.ini.toBeMigrated
 \dtserver.ini -&amp;gt; edit and integrate custom settings from old \dtserver.ini.toBeMigrated
 \server\selfmonitoring\dtselfmon.ini -&amp;gt; edit and integrate custom settings from old
\server\selfmonitoring\dtselfmon.ini.toBeMigrated
Do NOT re-use the old files, this may cause components not to start!
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;em&gt;dtserver.ini&lt;/em&gt; ：如果你正在升级，且使用连续事务存储，如果显式指定&lt;code&gt;-Dcom.dynatrace.diagnostics.memory.maxPurePathBufferSize=&amp;lt;x&amp;gt;&lt;/code&gt;,则&lt;strong&gt;不要&lt;/strong&gt;迁移该参数。&lt;/li&gt;
&lt;li&gt;如果从 ＜ 6.1 升级，并且&lt;em&gt;dtserver.ini.toBeMigrated&lt;/em&gt; 包含&lt;em&gt;-Dcom.dynatrace.diagnostics.SQLSERVERUSENTLMV2&lt;/em&gt;，参考&lt;a href="https://community.dynatrace.com/community/display/DTKB/How+to+connect+the+Performance+Warehouse+to+a+MS+SQL+Server+via+Windows+Authentication"&gt;该文章&lt;/a&gt;,迁移该条目并且也需要新增2个条目到&lt;em&gt;dtfrontendserver.ini&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;迁移所有的-Xmx, -Xms, -XX:PermSize, 和 -XX:MaxPermSize条目。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="⚠" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;自定义证书：&lt;/strong&gt; 如果ini文件包含&lt;em&gt;-Dcom.dynatrace.diagnostics.web.ssl.keystore&lt;/em&gt;,则一个自定义web认证&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Configure+SSL+Communication"&gt;被配置&lt;/a&gt;。不要带上该条目，而是在升级结束后使用新的&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Certificate+Management"&gt;证书管理&lt;/a&gt;来roll out之前的证书。&lt;/p&gt;
&lt;p&gt;如果修改&lt;em&gt;&lt;DT_HOME_OLD&gt;/server/conf/keystore.jks&lt;/em&gt;，使用一个自定义证书用于通信，该证书将会被自动迁移。&lt;/p&gt;
&lt;p&gt;如果两者都做过配置，推荐升级后使用&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Certificate+Management"&gt;证书管理&lt;/a&gt;来切换到一个单一证书。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;更多信息参见&lt;strong&gt;Server配置&lt;/strong&gt;和&lt;strong&gt;Collector配置&lt;/strong&gt;。&lt;/p&gt;
&lt;h4&gt;2.4.4 注册并自动启动额外的Collector 实例&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;关于多实例的信息扩展。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果你在老版本是使用Collector多实例：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;: 对于每个Collector实例，在老版本中使用相同的&lt;code&gt;&amp;lt;CollectorInstanceName&amp;gt;&lt;/code&gt;,在目录&lt;DT_HOME_NEW&gt;中，执行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dtcollector -service install -instance &amp;lt;CollectorInstanceName&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;*NIX&lt;/strong&gt; ：在&lt;code&gt;/etc/init.d&lt;/code&gt;中，对于每个Collector示例，会有一个老的启动脚本叫做&lt;code&gt;dynaTraceCollector&amp;lt;NN&amp;gt;&lt;/code&gt; ， &lt;code&gt;&amp;lt;NN&amp;gt;&lt;/code&gt;是数字。对于每个该文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;记下变量&lt;em&gt;DT_OPTARGS&lt;/em&gt;和&lt;em&gt;DT_INSTANCE&lt;/em&gt;的值&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用新版本替换：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp &amp;lt;DT_HOME_NEW&amp;gt;/init.d/dynaTraceCollector /etc
/init.d/dynaTraceCollector&amp;lt;NN&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;编辑&lt;code&gt;/etc/init.d/dynaTraceCollector&amp;lt;NN&amp;gt;&lt;/code&gt;并填写&lt;code&gt;DT_OPTARGS&lt;/code&gt;和&lt;code&gt;DT_INSTANCE&lt;/code&gt;的记录值&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="25"&gt;2.5 自动启动新服务&lt;a class="headerlink" href="#25" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;仅限*NIX&lt;/strong&gt;：使用&lt;em&gt;chkconfig&lt;/em&gt;或&lt;em&gt;update-rc.d&lt;/em&gt;，确保新的Server，Collectors，内存分析服务器，和Frontend Server使用&lt;em&gt;/etc/init.d&lt;/em&gt;脚本自动启动，并且权限是正确的。&lt;/p&gt;
&lt;h3 id="26"&gt;2.6 客户端迁移&lt;a class="headerlink" href="#26" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果你在Dynatrace 客户端里有特殊设置，像是代理设置，比较&lt;DT_HOME_OLD&gt;和&lt;DT_HOME_NEW&gt;中的&lt;em&gt;dtclient.ini&lt;/em&gt;,以及：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;:&lt;code&gt;C:\Users\&amp;lt;username&amp;gt;\.dynaTrace\dynaTrace 6.5\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;*NIX&lt;/strong&gt;:  &lt;code&gt;~/.dynaTrace/dynaTrace 6.5/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;适用的属性仍然要延续。&lt;/p&gt;
&lt;h3 id="27-server"&gt;2.7 启动新的Server组件&lt;a class="headerlink" href="#27-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果你配置过&lt;em&gt;DT_HOME&lt;/em&gt;变量，把它升级到&lt;DT_HOME_NEW&gt;,并且之后启动Dynatrace Server和&lt;strong&gt;Frontend Server&lt;/strong&gt;（6.0版本引入）。&lt;/p&gt;
&lt;h3 id="28"&gt;2.8 启动新的客户端&lt;a class="headerlink" href="#28" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在&lt;DT_HOME_NEW&gt;里启动&lt;em&gt;dtclient&lt;/em&gt;或者使用&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Webstart+Client"&gt;Webstart Client&lt;/a&gt;: &lt;code&gt;http://&amp;lt;servername&amp;gt;:8020&lt;/code&gt;。在&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;连接状态&lt;/strong&gt;面板配置，确保连接到正确的Dynatrace Server（hostname）。&lt;/p&gt;
&lt;h3 id="29-serverlicenses"&gt;2.9 激活新的Server的licenses&lt;a class="headerlink" href="#29-serverlicenses" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如过你需要代理服务器来访问互联网，手动配置&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Licensing+Details#LicensingDetails-proxysettings"&gt;代理服务器设置来访问eServices的在线liensing站点&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id="210-server-sizing"&gt;2.10 选择Server Sizing&lt;a class="headerlink" href="#210-server-sizing" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;license导入后，会显示选择不同的sizing选项（参见&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Sizing+Settings"&gt;Sizing设置&lt;/a&gt;获取更多信息。）选择在准备阶段验证过的Sizing。&lt;strong&gt;在启动新的Collectors之前&lt;/strong&gt;执行这一步骤很重要，可以避免内存溢出问题。&lt;/p&gt;
&lt;h3 id="211-dynatrace"&gt;2.11 升级新的Dynatrace&lt;a class="headerlink" href="#211-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;检查&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;下载页面&lt;/a&gt;是否有Dynatrace 6.5的升级包，使用客户端&lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Install+an+Update"&gt;安装升级包&lt;/a&gt;，然后按照说明做。升级包安装好后会重启和升级Collectors和Agents。&lt;/p&gt;
&lt;h3 id="212"&gt;2.12 连接性能仓库&lt;a class="headerlink" href="#212" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;性能仓库&lt;/strong&gt;，验证连接细节并且输入数据库授权信息来连接到老的数据库。&lt;/p&gt;
&lt;p&gt;点击&lt;strong&gt;测试&lt;/strong&gt;,如果DB连接状态正常，点击&lt;strong&gt;连接&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;Server会自动升级schema和数据到最新版本。这可能会花费大概5分钟。&lt;/p&gt;
&lt;h3 id="213-session"&gt;2.13 配置Session存储&lt;a class="headerlink" href="#213-session" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果你想迁移已存储的sessions，在&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;存储&lt;/strong&gt;修改目录到你的session存储数据。&lt;/p&gt;
&lt;h3 id="214-collectors"&gt;2.14 启动新的Collectors&lt;a class="headerlink" href="#214-collectors" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;启动新的Collectors，然后在&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;Collectors&lt;/strong&gt;面板确保所有的Collectors已连接到新的Server。如果你应用过升级（到新的Server），你应该在当前的对话框中立刻重启Collectors，确保应用升级。&lt;/p&gt;
&lt;p&gt;Dynatrace Server和Collector现在将接收Agent的连接。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下一步&lt;/strong&gt;：升级Agents（见第三章）。&lt;/p&gt;
&lt;h3 id="215"&gt;2.15 手动文件迁移&lt;a class="headerlink" href="#215" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;不推荐手动迁移文件。如果使用迁移工具出现问题，请开ticket。&lt;/p&gt;
&lt;h2 id="3-agents"&gt;3 升级Agents&lt;a class="headerlink" href="#3-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="31-agents"&gt;3.1 升级Agents&lt;a class="headerlink" href="#31-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;那么推荐升级Agents到最新而且将需要接收升级包。&lt;/p&gt;
&lt;h4&gt;3.1.1 Bootstrapped Agents(Java, .NET, HOST, Native ADK, Web Server, PHP, CICS, and IMS)&lt;/h4&gt;
&lt;p&gt;Bootstrapped Agents重启时自动升级。到那时，老的Agents会尝试连接运行中的 Collector/Server。参见在兼容性矩阵中关于重启考量的详细描述（见1.1）。&lt;/p&gt;
&lt;p&gt;如果你从＜6.0升级，并且想使用&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Updates"&gt;Controlled Update Rollout&lt;/a&gt;,那么你必须重新安装Agents到&lt;strong&gt;升级它们的bootstrap组件&lt;/strong&gt;（见3.3）。&lt;/p&gt;
&lt;p&gt;如果你有 与你在升级的同一台主机上的bootstrapped Agents，它们将升级，但是会&lt;strong&gt;继续使用&lt;DT_HOME_OLD&gt;&lt;/strong&gt;目录来恢复它们的配置。因此，需要手动迁移它们的配置文件到&lt;DT_HOME_NEW&gt;(新版本安装目录)或为了相关配置继续使用&lt;DT_HOME_OLD&gt;。查看特殊Agent 配置获取更多细节（见3.1.1下文）。&lt;/p&gt;
&lt;h5&gt;Bootstrapped Web Server Agents&lt;/h5&gt;
&lt;p&gt;使用正确顺序来重启Web Server Agent 服务和Web Server Agent是必要的。第一次重启Web Server Agent 服务并且等待直至重新连接。然后重启Web Server Agent。这个步骤是必须的以确保两个Agents都升级到正确的版本。对于老版本的，Apache Web Server自动启动Web Server Agent服务的Unix安装，Apache Web Server可能需要二次重启。&lt;/p&gt;
&lt;p&gt;如果你想从客户端重启Webserver Agent 服务，那么你必须升级bootstrap(见3.3)。&lt;/p&gt;
&lt;h5&gt;NGINX Web Server Agent&lt;/h5&gt;
&lt;p&gt;6.2中，JSON偏移量文件包括比6.1更多的数据。如果NGINX binary包含debug标志，重命名JSON文件就好，Agent启动时它将被自动再次生成。然而，如果stripped NGINX binary被使用，偏移量文件需要在NGINX Agent重启前被手动再次生成，否则升级后的Agent将无法启动。&lt;/p&gt;
&lt;p&gt;使用下列命令行重命名偏移量(offset)文件:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;lt;AGENT_HOME&amp;gt;/agent/conf/ngx_offset_gen.sh &amp;lt;nginx binary&amp;gt; &amp;lt;nginx debug symbols file&amp;gt; &amp;lt;JSON offset file&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;3.1.2 Non-bootstrapped Agents需要手动升级（浏览器和移动APP ADK）&lt;/h4&gt;
&lt;p&gt;在&lt;a href="https://downloads.compuwareapm.com/downloads/download.aspx?p=DT"&gt;这儿&lt;/a&gt;找到新的浏览器Agent安装包和新的ADK版本。&lt;/p&gt;
&lt;p&gt;瞎子啊并应用新的Agent-only安装包升级到最新的浏览器Agent。&lt;/p&gt;
&lt;p&gt;在移动APP开发环境，切换到新的ADK并部署新版本升级。&lt;/p&gt;
&lt;h4&gt;3.1.3 z/OS Agents&lt;/h4&gt;
&lt;p&gt;它们可以被 bootstrapped 或 non-bootstrapped。参见&lt;strong&gt;升级zOS Agents&lt;/strong&gt;（见3.4）。&lt;/p&gt;
&lt;h3 id="32-agents"&gt;3.2 重启Agents&lt;a class="headerlink" href="#32-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;除非你已经升级并手动重启Agents，否则请&lt;strong&gt;对你所有相关的应用现在执行重启&lt;/strong&gt;来升级Agents。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下一步&lt;/strong&gt;：最终检查（见第四章）&lt;/p&gt;
&lt;h3 id="33-bootstrap-agents"&gt;3.3 升级Bootstrap Agents&lt;a class="headerlink" href="#33-bootstrap-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace是6.5版本不支持bootstrap agents &amp;lt; 6.0 。 使用该向导升级6.0之前的 bootstrap agents到最新版本。&lt;/p&gt;
&lt;h4&gt;3.3.1 准备&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;从&lt;a href="https://downloads.dynatrace.com/downloads/download.aspx?p=DT"&gt;downloads.dynatrace.com&lt;/a&gt;下载对应平台的新的agent安装包。&lt;/li&gt;
&lt;li&gt;备份当前agent的配置文件目录&lt;/li&gt;
&lt;li&gt;在你的目标平台上部署和安装agent靠近当前正在使用的agents安装。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;3.3.2 Bootstrap agent升级过程&lt;/h4&gt;
&lt;h5&gt;Host Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;停掉所有老版本的host agent&lt;/li&gt;
&lt;li&gt;将&lt;em&gt;/conf/dthostagent.ini&lt;/em&gt;（主要是名称和对应server）从老目录迁移到新目录。&lt;/li&gt;
&lt;li&gt;启动新的host agent。&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;Webserver Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;停掉老版本的web server agent&lt;/li&gt;
&lt;li&gt;将&lt;em&gt;conf/dtwsagent.ini&lt;/em&gt;从老目录迁移到新安装目录。&lt;/li&gt;
&lt;li&gt;启动新的web server agent&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;Java Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;重新在应用配置里配置agent路径（如从-agentpath:/opt/dynatrace-5.6.0/agent/lib64/libdtagent.&lt;br&gt;
   so=name=Application_Monitoring  到  -agentpath:/opt/dynatrace-6.2/agent/lib64&lt;br&gt;
   /libdtagent.so=name=Application_Monitoring）。:light:你也可以安装和配置一个与版本无关的agent路径（如/opt/dynatrace-agent/)，并移除老版本，安装新版本到同一目录。&lt;/li&gt;
&lt;li&gt;重启应用。&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;.NET Agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;安装好新agents后重启应用&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;zOS zLocal/zRemote agent&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;升级zLocal/zRemote agents将自动升级bootstrap agents。请参考说明（见3.4）。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;3.3.3 卸载过时agents&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Linux：简单删除过时agents的安装目录&lt;/li&gt;
&lt;li&gt;Windows：使用添加/删除应用卸载过时agents。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="34-zos-agents"&gt;3.4 升级zOS Agents&lt;a class="headerlink" href="#34-zos-agents" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;3.4.1 前提条件&lt;/h4&gt;
&lt;h5&gt;升级Dynatrace Servers，Collectors，Agents和性能仓库&lt;/h5&gt;
&lt;p&gt;在启动z/OS Agents的任何迁移操作之前，先阅读通用&lt;strong&gt;升级&lt;/strong&gt;（见前言）到6.5向导并创建一份详细的Dynatrace Servers，Collectors，其他Agents，性能仓库和其他组件的升级计划。为了减少维护开票，协调应用程序重启来配合这些升级。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="⚠" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;重要&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace 6.2版本， z/OS Agent不先通过zRemote Agent则无法直接连接到Dynatrace Collector。使用zRemote Agent是为了减少z/OS上的CPU开销。如果你现在的6.2之前的z/OS Agent部署忽略了zRemote Agent，作为升级的一部分你需要安装它。更多信息参见&lt;strong&gt;zRemote Agent&lt;/strong&gt;(见下文)。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;License&lt;/h5&gt;
&lt;p&gt;你需要Dynatrace Server和z/OS Agents的有效licenses。参考&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/License+Upgrade"&gt;license 升级&lt;/a&gt;获取更多信息。z/OS Agent的license是基于MIPS的。参见&lt;strong&gt;准备升级&lt;/strong&gt;（见第一章）和&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/License+Upgrade"&gt;license 升级&lt;/a&gt;获取更多信息。&lt;/p&gt;
&lt;p&gt;对于任何Dynatrace 版本（预生产/测试中心或生产），z/OS license是有效的。如果硬件（“fingerprint”）发生改变（例如，加了一个CPU），license会失效，并且必须在14天内更新。&lt;/p&gt;
&lt;h4&gt;3.4.2 升级步骤&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;如升级描述（见前言）将Dynatrace Server和Collector优先升级到6.5，以此来升级主框架组件。新的zOS Agents一般无法与老的Dynatrace Collectors或Servers兼容，反而是新的Dynatrace Collectors或Servers通常可以和老的zOS Agents一起工作。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按照标准Agent 安装步骤。这包括：运行JCL来下载agent 分发文件，运行SMP/E来为新版本填入目标数据集。更多信息，参考&lt;strong&gt;下载并SMP/E 安装z/OS Agent组件&lt;/strong&gt;（见下文）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第二步之后，你可以选择下文的1或2的其中一个来做：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;停掉当前zDC，并升级zDC认证库到6.5版。重启z/DC之前，你应该确保zDC参数&lt;em&gt;DTMSG_SMOSIZE&lt;/em&gt;已经去掉注释，而且参数&lt;em&gt;DTMSG_QSIZE&lt;/em&gt;已经被删除。这些参数控制无论信息已经队列进入zDC数据空间还是zDC 64位共享内存对象（SMO）挂起他们的写入，到Dynatrace Agent。       5.6版本，数据空间已经被弃用。如果你在5.6版本中自定义了ZDCSYSIN 样例，你可以跳过该步骤因为该样例已经包含了该变更。zDC启动后，CICS和IMS agents 应该在5分钟内注册。 &lt;strong&gt;- OR -&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;为zDC和zLocal（原名USS）Agent创建并行6.5环境。按照&lt;strong&gt;安装zDC&lt;/strong&gt;（见上文）的指引。在并行6.5环境，当你迁移独立的CICS区域和IMS控制区域到新的zDC时,你可以继续运行老的z/DC，或者你可以优先测试几个区域来升级默认的zDC。如果多个zDC在运行，指定为DEFAULT（YES）的那个将被选中除非在CICS或IMS系统初始化字段指定了一个INITPARM参数，那样的话它必须使用一个独有名称：INITPARM=(ZDTPLT6x='xxxx')连接到zDC。&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;​ &lt;img align="absmiddle" alt="⚠" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;注意&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;有DEFAULT（YES）选项，每个LPAR只有一个zDC。&lt;/li&gt;
&lt;li&gt;每个zDC的SUBSYSTEM_ID必须独一无二。&lt;/li&gt;
&lt;li&gt;zDC STEPLIB使用的库必须被授权。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;当bootstrap Agent 第一次连接到升级后的Dynatrace Collector/Server，会自动升级zLocal Agent。如果使用z/OS UNIX Agent的 non-bootstrap 版本，你必须运行 COPYAGNT来复制新版本到z/OS UNIX文件系统的相应执行位置。参考位于&lt;strong&gt;安装zDC&lt;/strong&gt;中的COPYAGNT步骤（见上文）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;因为Dynatrace新版本zDC兼容老的CICS和IMS agents，你不需要立刻升级所有的CICS区域和IMS控制区域。然而，如果你监控跨CICS区域或IMS控制区域的事务，这些相关区域应该agent版本相同，否则会有未完成的PurePath。因此，CICS区域和IMS控制区域的升级应该考虑应用组群来做。尽早计划升级所有的CICS区域和IMS控制区域，以此来使用最新Dynatrace版本的功能。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;要升级CICS区域，使用新的PDS（或它的内容）来替换老的PDS（或它的内容）DFHRPL concatenation。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;// DD DISP=SHR,DSN=&amp;lt;hlq&amp;gt;.LZDT6 30.SZDTLOAD&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;要升级IMS控制区域，在JCL，执行IMS Agent注入程序，ZDTIINST，使用新的PDS（或它的内容）来替换STEPLIB PDS（或它的内容）。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;// DD DISP=SHR,DSN=&amp;lt;hlq&amp;gt;.LZDT6 30.SZDTAUTH&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="⚠" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/26a0.png" title=":warning:" width="20px"&gt; &lt;strong&gt;注意&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;STEPLIB使用的库必须被授权。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;关于Dynatrace组件兼容性列表，请参考&lt;a href="https://community.compuwareapm.com/community/display/DOCDT56/zOS+Agent+Troubleshooting#zOSAgentTroubleshooting-MigrationTroubleshooting"&gt;迁移故障排除&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="4_1"&gt;4 最终检查&lt;a class="headerlink" href="#4_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="41"&gt;4.1 检查配置&lt;a class="headerlink" href="#41" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;4.1.1 应用自定义配置，不要被自动化的覆盖&lt;/h4&gt;
&lt;h5&gt;事件规则和停机时间&lt;/h5&gt;
&lt;p&gt;你需要重新定义Self-Monitoring系统配置文件的所有&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Incidents+and+Alerting"&gt;停机时间&lt;/a&gt;和&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Incidents+and+Alerting"&gt;事件规则&lt;/a&gt;。&lt;/p&gt;
&lt;h5&gt;在自带项：传感器包 中重新应用修改项&lt;/h5&gt;
&lt;p&gt;dynatrace-migration不会迁移随着产品安装和分发的项，像是内置传感器包。因为这些在不同版本可能有改动，你不应该简单导出和导入它们，而是应该重新配置编辑。&lt;/p&gt;
&lt;h5&gt;检查用户插件&lt;/h5&gt;
&lt;p&gt;在Dynatrace 客户端：&lt;strong&gt;设置-&amp;gt;Dynatrace Server&lt;/strong&gt;，检查是否所有的插件被迁移，是否需要重新安装。&lt;/p&gt;
&lt;h5&gt;重新导入LDAP认证&lt;/h5&gt;
&lt;p&gt;如果额外认证（如为LDAP创建的CA或自签名证书）被导入到Dynatrace的keystore：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;server/conf/jssecacerts&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;重新导入证书到新的keystore。不要复制老的keystores，以此来避免通过潜在的被盗用的公有证书的安全漏洞。&lt;/p&gt;
&lt;p&gt;在LDAP证书的案例中，你可以通过使用Dynatrace本地用户登陆并点击Dynatrace客户端：&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;用户-&amp;gt;LDAP-&amp;gt;测试连接&lt;/strong&gt;来重新导入之前的证书。&lt;/p&gt;
&lt;h3 id="42-dynatrace-server"&gt;4.2 确认新的Dynatrace Server的运行&lt;a class="headerlink" href="#42-dynatrace-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;为确保新的Server正常运转，验证下列内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;驾驶舱-&amp;gt;状态概述-&amp;gt;agent概述&lt;/strong&gt;中显示了所有的Agents：&lt;ul&gt;
&lt;li&gt;已连接&lt;/li&gt;
&lt;li&gt;有数据到达：水平滚动来验证&lt;strong&gt;事件计数&lt;/strong&gt; 或 &lt;strong&gt;类加载计数&lt;/strong&gt; （或2个一起）的变化&lt;/li&gt;
&lt;li&gt;如果安装了，有正确的Agent版本（6.5）和升级版本。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有PurePath&lt;/li&gt;
&lt;li&gt;仪表板正确显示&lt;/li&gt;
&lt;li&gt;如果迁移了Session存储，历史数据可以展现&lt;/li&gt;
&lt;li&gt;如果使用自定义证书，通过Server的&lt;a href="http://localhost:8020/"&gt;http://localhost:8020/&lt;/a&gt; 站点来验证。&lt;/li&gt;
&lt;li&gt;验证这些服务和连机器工作：Email、LDAP、Proxy、DC-RUM、Gomez&lt;/li&gt;
&lt;li&gt;查看&lt;strong&gt;开始中心 -&amp;gt; 管理&lt;/strong&gt;的告警和错误。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="☑" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2611.png" title=":ballot_box_with_check:" width="20px"&gt; &lt;strong&gt;恭喜！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;迁移完成！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="5"&gt;5 故障排除&lt;a class="headerlink" href="#5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="51"&gt;5.1 常见问题&lt;a class="headerlink" href="#51" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;什么版本Agent在运行&lt;/h4&gt;
&lt;p&gt;Server/Collector升级后，Agent bootstrap 升级部分现有Agent，但是老版本Agents会一直运行直到你重启了应用。&lt;/p&gt;
&lt;p&gt;请准备一个应用层的重启计划/协调。&lt;/p&gt;
&lt;p&gt;你可以在&lt;strong&gt;驾驶舱-&amp;gt;Agent概述&lt;/strong&gt;里找到Agent版本信息（bootstrap和活动部分）。&lt;/p&gt;
&lt;h4&gt;我的性能仓库DB schema是哪个版本&lt;/h4&gt;
&lt;p&gt;当新的Dynatrace Server连接到老的性能仓库DB时，Dynatrace DB schema被升级。因此，如果你不确定版本，在连接前检查一下是个好主意。&lt;/p&gt;
&lt;p&gt;对于SQL Server，例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;dynatrace6&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dbo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;version&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;性能仓库DB schema向后兼容吗&lt;/h4&gt;
&lt;p&gt;不兼容。请使用DB备份进行回滚。&lt;/p&gt;
&lt;h4&gt;升级后PurePath丢失&lt;/h4&gt;
&lt;p&gt;如果升级时没有迁移类缓存，且有丢失的PurePath或者PurePath包含&lt;code&gt;&amp;lt;unknown&amp;gt;&lt;/code&gt;节点，尝试重启相关应用。需要重启&lt;strong&gt;2次&lt;/strong&gt;来避免该问题。&lt;/p&gt;
&lt;h4&gt;为什么dtserver.ini和dtfrontendserver.ini中的内存设置被忽略甚至移除&lt;/h4&gt;
&lt;p&gt;从Dynatrace 6.0开始，‘-Xmx’和‘-Xms’ VM参数被忽略。请通过&lt;strong&gt;设置-&amp;gt;Dynatrace Server-&amp;gt;设置面板-&amp;gt;Sizing&lt;/strong&gt;来选择合适的sizing。更多信息，见&lt;a href="https://community.dynatrace.com/community/display/DOCDT63/Sizing+Settings"&gt;Sizing 设置&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id="52-dynatrace"&gt;5.2 Dynatrace 支持&lt;a class="headerlink" href="#52-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果需要更多支持，请访问我们的&lt;strong&gt;支持页面&lt;/strong&gt;。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 19 Jun 2019 19:00:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-28-update-migrate-guide.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 27.Dynatrace Web 客户端使用说明</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-27-use-dynatrace-appmon-web-console.html</link><description>&lt;h2 id="1-dynatrace-appmon-web"&gt;1 Dynatrace AppMon Web管理&lt;a class="headerlink" href="#1-dynatrace-appmon-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace AppMon Web 是一个基于HTML5的页面应用，可以通过以下默认地址访问：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://&amp;lt;servername&amp;gt;:9911&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;AppMon Web是用于&lt;strong&gt;浏览器分辨率至少为1024×768&lt;/strong&gt;的&lt;strong&gt;平板设备&lt;/strong&gt;和&lt;strong&gt;桌面设备&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;为了最佳的使用体验，推荐使用&lt;strong&gt;经过测试的最新版本的浏览器&lt;/strong&gt;： IE11、Edge、Firefox 45+、Chrome 53+、Safari 9.1+。&lt;/p&gt;
&lt;p&gt;老版本的Firefox、Chrome和Safari可以显示AppMon Web，但是一些功能可能显示效果不佳。&lt;/p&gt;
&lt;h3 id="11"&gt;1.1 安全证书安装&lt;a class="headerlink" href="#11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;当登陆AppMon Web时，浏览器可能会提示安全警告。这是因为浏览器无法识别AppMon Web安全证书。如果该信息出现，你可以做以下措施：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于所有的浏览器，你都可以忽略该安全警告，并继续登陆AppMon Web&lt;/li&gt;
&lt;li&gt;对于Firefox，IE和Safari，你可以添加Dynatrace证书到浏览器信任证书列表&lt;/li&gt;
&lt;li&gt;对于Chrome，你可以要求你的系统管理员安装AppMon Web安全证书到你的系统的keystore。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="12"&gt;1.2 数据展示&lt;a class="headerlink" href="#12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;只有在Dynatrace AppMon 性能仓库中的&lt;em&gt;live session&lt;/em&gt; 数据可以在Web仪表板中展示。&lt;em&gt;Stored session&lt;/em&gt; 数据，如：内存快照、线程快照、CPU采样、以前存储在硬盘上的Purepath Session是不能在web仪表板中显示的。而这些数据可以在AppMon客户端仪表板中显示。&lt;/p&gt;
&lt;h2 id="2"&gt;2 仪表板&lt;a class="headerlink" href="#2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;仪表板是一个在软件应用生命周期中显示不同用例的诊断数据的强力工具。在仪表板中，你可以为不同领域的专家过滤、聚合和注释PurePath相关的信息。&lt;/p&gt;
&lt;p&gt;AppMon当前提供2种类型的仪表板：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;富客户端仪表板&lt;/li&gt;
&lt;li&gt;Web 仪表板&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;仪表板 - 富客户端 vs Web 见下文。&lt;/p&gt;
&lt;h3 id="21-vs-web"&gt;2.1 仪表板 - 富客户端 vs Web&lt;a class="headerlink" href="#21-vs-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;2者很多概念是相同的（如选择系统配置文件和时间范围来显示，过滤其他的条件，创建自定义...）。因为web仪表板使用的是&lt;strong&gt;磁贴风格&lt;/strong&gt;，而富客户端使用的是&lt;strong&gt;仪表图(dashlet)&lt;/strong&gt;,所以看起来差别相当明显。&lt;/p&gt;
&lt;h4&gt;富客户端仪表板&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Dynatrace富客户端的传统信息、分析展现形式是仪表板。&lt;/li&gt;
&lt;li&gt;因为6.5种很多仪表板只有富客户端可用并且配置更多，所以建议&lt;ul&gt;
&lt;li&gt;安装一个绿色版的客户端在电脑设备上，并连接到AppMon Server&lt;/li&gt;
&lt;li&gt;为了持续使用，和更丰富的配置，请安装客户端。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;可以存储在AppMon Server上并共享仪表板&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Web 仪表板&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;频繁使用的仪表板用浏览器，更方便查看&lt;/li&gt;
&lt;li&gt;不需要安装，直接在浏览器中打开(&lt;code&gt;https://&amp;lt;DynatraceServer&amp;gt;:9911&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;移动设备观感良好&lt;/li&gt;
&lt;li&gt;有关键仪表板如事务流&lt;/li&gt;
&lt;li&gt;你可以通过URL（或在AppMon Server上的一个账户和权限）来共享这些仪表板&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="22-web"&gt;2.2 Web仪表板&lt;a class="headerlink" href="#22-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AppMon Web使用最新的web技术来显示直观和可视化的漂亮仪表板，显示内容包括：应用性能、关键基础架构指标。AppMon Web有以下功能和优点：&lt;/p&gt;
&lt;h4&gt;广泛适用的仪表板&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;App Owner&lt;/strong&gt; 仪表板提供应用性能概览视图，你可以使用&lt;strong&gt;Operation&lt;/strong&gt;仪表板迅速定位和浏览基础架构问题。可以共享任何仪表板给用户来交流问题，并帮助你和其他人保持有共同的视图页面。&lt;/p&gt;
&lt;p&gt;Web仪表板会显示你应用性能和系统健康、错误和失败等的关键指标，不需要任何配置。&lt;/p&gt;
&lt;p&gt;你可以拉取你需要的任何数据，并以此来创建自定义的仪表板。在自定义仪表板中以通过个性化的拖拽来安排磁贴排列。甚至可以选择自定义的HTML和JavaScript资源。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation 仪表板&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Operation仪表板提供了对系统健康状态的一站式查看。Operation仪表板和它的详细视图包括关键基础架构指标来帮助你发现问题热点。并提供分析和解决问题的起始点。你可以共享任何运维数据给收到该系统健康问题影响的任何团队。&lt;/p&gt;
&lt;p&gt;具体见&lt;strong&gt;Web仪表板的基础架构监控&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;内置Web 仪表板&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这些内置仪表板包括主机资源使用率、错误和失败、应用性能和系统健康状态等信息，这些仪表板也为配置自定义仪表板提供了很好的参考。&lt;/p&gt;
&lt;p&gt;具体见下文&lt;strong&gt;内置仪表板&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;为你的数据和团队自定义Web仪表板&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;创建你需要的数据的自定义仪表板，来监控和防止问题出现。&lt;/p&gt;
&lt;p&gt;使用拖拽编辑器，从一系列的磁贴风格中选择一个创建自定义的仪表板布局。每个磁贴都可以调整为你想要的大小。&lt;/p&gt;
&lt;p&gt;通过一个独有的URL或者通过包含在报告或展示中的截图图片来和你团队的其他成员共享你的自定义web 仪表板。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-38-08.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;自定义web仪表板&lt;/strong&gt; 和 &lt;strong&gt;共享web仪表板&lt;/strong&gt;见下文。&lt;/p&gt;
&lt;h4&gt;易于合作&lt;/h4&gt;
&lt;p&gt;一起工作更容易。AppMon Web让你轻松共享web仪表板。你的APM团队可以自定义图表来提供基础架构健康状态，应用性能的监控。你也可以导出一组仪表板，这样其他人可以导入它们，或者复制这些仪表板并修改来满足不同的需求。这让团队间更容易一起工作，并加强团队成员合作，帮助团队成员有共同的监控页面。&lt;/p&gt;
&lt;p&gt;更多内容见&lt;strong&gt;共享 web仪表板&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;访问AppMon web&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;必要的权限&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;AppMon Web 的登陆，需要AppMon 用户至少具有“Use System Profile in Dynatrace Web”的权限。另一个要点，对于特定的web仪表板需要非常关键的权限“Read Confidential Strings”。&lt;/p&gt;
&lt;h4&gt;内置仪表板&lt;/h4&gt;
&lt;p&gt;内置web仪表板自动共享给所有可以访问仪表板的用户。&lt;/p&gt;
&lt;p&gt;在Dynatrace Web，点击&lt;strong&gt;仪表板&lt;/strong&gt;按钮，然后点击&lt;strong&gt;Shared&lt;/strong&gt;标签页，会看到一系列的内置仪表板。内置仪表板的创建者为&lt;strong&gt;Dynatrace&lt;/strong&gt;，包括下列：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application overview&lt;/li&gt;
&lt;li&gt;CDN &amp;amp; 3rd party performance&lt;/li&gt;
&lt;li&gt;Errors &amp;amp; failures overview&lt;/li&gt;
&lt;li&gt;Host resource allocation&lt;/li&gt;
&lt;li&gt;Mobile overview&lt;/li&gt;
&lt;li&gt;User behavior analytics&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="✔" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; 共享仪表板列表页包括有其他用户共享的仪表板 。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-39-22.png"&gt;&lt;/p&gt;
&lt;h4&gt;自定义Web仪表板&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;概览&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;你可以创建自定义web仪表板来可视化你关注的数据。点击&lt;strong&gt;仪表板&lt;/strong&gt;按钮，在&lt;strong&gt;My dashboards&lt;/strong&gt;里访问自定义的web仪表板。&lt;/p&gt;
&lt;p&gt;自定义仪表板是私人的，除非你把对应的URL共享给其他人。通过共享链接打开web仪表板需要Dynatrace用户账户并登陆。&lt;/p&gt;
&lt;p&gt;其他重要功能和注意事项包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自定义web仪表板只显示live session数据。不显示stored session数据。&lt;/li&gt;
&lt;li&gt;全局时间设置适用于仪表板的所有磁贴。自动刷新频率默认是1 min。&lt;/li&gt;
&lt;li&gt;每个仪表板最多允许有16个磁贴。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-41-13.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;准备工作&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;创建自定义web 仪表板之前，识别并创建包含你想显示在仪表板上的measure或business transaction信息。创建measure和business transaction需要使用AppMon Client。&lt;/p&gt;
&lt;p&gt;当创建你的仪表板布局时，你可以以网格的形式灵活安排16个磁贴的位置和大小。磁贴可以变为需要显示数据的合适的大小。仪表板网格布局支持最大宽度为4磁贴列，最大高度为4磁贴行。磁贴不能堆叠。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;自定义布局 - 拖拽来改变磁贴布局和大小&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-41-53.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/Snipaste_2019-06-19_19-42-13.png"&gt;&lt;/p&gt;
&lt;h5&gt;创建自定义web仪表板&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;点击&lt;strong&gt;仪表板&lt;/strong&gt;按钮，在&lt;strong&gt;My dashboards&lt;/strong&gt;里访问自定义的web仪表板。&lt;/li&gt;
&lt;li&gt;点击&lt;strong&gt;Add dashboard&lt;/strong&gt;按钮。&lt;/li&gt;
&lt;li&gt;命名仪表板，然后选择系统配置文件和数据时间段。时间段决定了你的仪表板显示的数据。这个值应用于全局的每个磁贴。&lt;/li&gt;
&lt;li&gt;可选，在&lt;strong&gt;Dashboard name&lt;/strong&gt;旁边点击添加logo图标，输入你喜欢的logo的URL。logo会替换掉默认的图标。&lt;/li&gt;
&lt;li&gt;点击默认磁贴的&lt;strong&gt;Edit title&lt;/strong&gt;。&lt;strong&gt;Tile configurator&lt;/strong&gt;出现。&lt;/li&gt;
&lt;li&gt;配置磁贴。参见 &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Tile+Types"&gt;Tile Types&lt;/a&gt;, &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Add+and+Edit+Measures"&gt;Editing a Measure&lt;/a&gt;, and the &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Web+Dashboard+Timeframe+and+Resolution"&gt;Timeframe and Resolution&lt;/a&gt; 查看每种磁贴类型的具体配置。&lt;/li&gt;
&lt;li&gt;点击&lt;strong&gt;Done&lt;/strong&gt;来关闭Tile configurator 并返回dashboard editor&lt;/li&gt;
&lt;li&gt;点击在右上角的&lt;strong&gt;Done&lt;/strong&gt;来查看仪表板。每个仪表板都可以点击最大化。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;你可以复制自定义仪表板，以及共享自定义仪表板给其他人。从&lt;strong&gt;My dashboards&lt;/strong&gt;里选择你想要复制，点击&lt;strong&gt;More Actions&lt;/strong&gt;按钮,选择&lt;strong&gt;Copy&lt;/strong&gt;。在出现的仪表板中，命名该仪表板，并点击&lt;strong&gt;Copy and open&lt;/strong&gt;。仪表板副本会显示在&lt;strong&gt;My tab&lt;/strong&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="✔" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; &lt;strong&gt;Tip&lt;/strong&gt;:默认复制的仪表板会命名为 [copied dashboard name] - Copy。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;查看 &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Share+Web+Dashboards"&gt;共享Web Dashboards&lt;/a&gt;获取共享自定义仪表板的更多信息。&lt;/p&gt;
&lt;h5&gt;磁贴类型&lt;/h5&gt;
&lt;p&gt;The following list describes the available tile types that you can add to a custom web dashboard.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Tile Type&lt;/th&gt;
&lt;th&gt;Use&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;双轴线形/柱状图 &amp;amp; 双轴柱状/线形图&lt;/td&gt;
&lt;td&gt;可视化两个数据系列或混合类型数据的值的广泛差异     &lt;strong&gt;提示:&lt;/strong&gt; 对于 &lt;strong&gt;双轴线形/柱状图&lt;/strong&gt;, 左y轴显示为线形图，右y轴显示为柱状图。 对于 &lt;strong&gt;双轴柱状/线形图&lt;/strong&gt;, 正相反。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;堆积百分比柱状图&lt;/td&gt;
&lt;td&gt;以部分对整个系列作出贡献的每个值的百分比来比较一系列中的部分。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;饼图&lt;/td&gt;
&lt;td&gt;绘制单个数据序列。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;面积图/堆积面积图&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;面积图&lt;/strong&gt; -将一个系列作为独立值显示出来， 这对于可视化多个数据系列之间的相对差异很有用。&lt;strong&gt;堆积面积图&lt;/strong&gt; - 可视化包含数据系列的每个部分的百分比。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;数字仪表&lt;/td&gt;
&lt;td&gt;在测量值之间相对地比较来可视化和分析数据&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;百分位图&lt;/td&gt;
&lt;td&gt;在所选时间范围内，以0到100的百分位数分析数据系列。&lt;strong&gt;Tip:&lt;/strong&gt;  如果图表有许多测量，则使用对数y轴来增加可读性。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;交通灯图&lt;/td&gt;
&lt;td&gt;通过交通灯来查看是否超出阈值:&lt;strong&gt;OK&lt;/strong&gt; - 表示没有超出阈值.&lt;strong&gt;Problem&lt;/strong&gt; - 表示选中时间内已经超出严重阈值。&lt;strong&gt;Warning&lt;/strong&gt; - 表示选中时间内已经超出警告阈值。Notes：所选的测量必须具有阈值指标。根据配置的聚合计算阈值违规状态。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guage Chart&lt;/td&gt;
&lt;td&gt;单个配置的测量结果，用组合的甜甜圈图和饼图列出。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;测量&lt;/td&gt;
&lt;td&gt;在测量之间用相对比较的方式可视化数据。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;业务分析&lt;/td&gt;
&lt;td&gt;查看选中的业务分析的指标（响应时间，失败率，吞吐量）。这个图可以交互，每个指标都有显示，你可以选择默认显示那个指标。Notes： 如果选中的指标没有配置为业务分析，那么会显示&lt;strong&gt;N/A&lt;/strong&gt;。 该磁贴不支持业务分析的自定义度量值。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;业务分析列表&lt;/td&gt;
&lt;td&gt;在一个列表里查看业务分析的拆分值，计算结果，聚合类型 (如总和，平均，最大值)。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;World Map&lt;/td&gt;
&lt;td&gt;Notes：无UEM license无数据。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Image&lt;/td&gt;
&lt;td&gt;通过URL显示图片。&lt;strong&gt;Tip:&lt;/strong&gt;  图片大小过大会压缩。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;外部内容&lt;/td&gt;
&lt;td&gt;在一个web 仪表板的磁贴中查看URL里的内容和信息。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;告警&lt;/td&gt;
&lt;td&gt;获取一个或多个配置的事件条件的结果的一览表。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Synthetic Tests&lt;/td&gt;
&lt;td&gt;Notes：需要与Dynatrace的Synthetic产品整合。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;文本和测量&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;添加和编辑测量&lt;/h5&gt;
&lt;p&gt;测量是图表数据的来源。你可以选择一个或多个测量。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;添加和编辑测量&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开Tile Configurator，点击&lt;strong&gt;Add Measure&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;查找或浏览要添加的测量，然后点击测量列表底部的&lt;strong&gt;Done&lt;/strong&gt;按钮。&lt;/li&gt;
&lt;li&gt;添加测量后，点击旁边的&lt;strong&gt;Edit&lt;/strong&gt;按钮来修改测量的显示名称，聚合方法，拆分值。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-44-12.png"&gt;&lt;/p&gt;
&lt;h5&gt;web仪表板时间范围和解析度&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;时间范围&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-44-34.png"&gt;&lt;/p&gt;
&lt;p&gt;“时间表”下拉列表可在所有网页信息中心的顶部显示，并显示当前用于仪表板的时间范围。点击下拉列表，使用&lt;strong&gt;Quick，Relative，Custom&lt;/strong&gt;标签页来设置web仪表板要显示的时间范围。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Quick&lt;/strong&gt;: 点击Quick标签页来使用根据当前时间的相对时间偏移，或者设置时间范围为&lt;strong&gt;Today&lt;/strong&gt;或&lt;strong&gt;Yesterday&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Relative&lt;/strong&gt;：设置从15min到999天的时间范围，可以从当前时间开始，或者从过去的15 min到999天。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Custom&lt;/strong&gt;：点击Custom start和 Custom end，通过弹出的日历框来选择时间。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所有仪表板的时间范围是动态的，并为所有磁贴以1分钟的间隔自动刷新。&lt;/p&gt;
&lt;p&gt;根据您选择的测量中的数据量，将时间范围增加到更长的时间段（如30天）可能会导致Web仪表板内容的呈现轻微延迟。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;图表解析度&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-44-55.png"&gt;&lt;/p&gt;
&lt;p&gt;图表分辨率下拉列表定义了显示在仪表板图块上的数据点之间的间隔。默认情况下，分辨率设置为所选仪表板时间范围的最佳间隔值。例如，如果仪表板的时间范围为1小时，则分辨率将自动设置为1分钟。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark: 所选仪表板时间框架的最佳间隔值在“分辨率”列表中始终显示为“自动”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;您可以调整分辨率以增加或减少图表上的数据点数，但是，请记住，在设置自定义分辨率值后更改仪表板的时间范围可能会使您的数据失真，从而难以解读。此外，数据点计算是相对于前一个数据点而不是时间帧的第一个数据点。因此，增加分辨率还会增加每个数据点的任何聚合值，因为在给定间隔内有更多的数据点。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="✔" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; &lt;strong&gt;Tip:&lt;/strong&gt;作为最佳实践，将默认分辨率值设置为“自动”，以确保每当仪表板时间框架被修改时，分辨率都将以最佳方式显示。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;共享web仪表板&lt;/h4&gt;
&lt;p&gt;您创建的自定义Web仪表板仅在您与其他用户共享之前才可以访问。共享视图或仪表板的基本概念是一个持久性的URL，您可以发送或包含在其他资产（如文档或wiki页面）中。&lt;/p&gt;
&lt;h5&gt;功能&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;通过电子邮件邀请&lt;strong&gt;与特定用户共享&lt;/strong&gt;。只有他们可以看到仪表板。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;与所有访问AppMon Server的用户共享&lt;/strong&gt;。仪表板的人气显示有多少用户将仪表板添加到他们的个人收藏夹。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;与没有AppMon用户帐户的用户共享。&lt;/strong&gt;请参阅以下部分的指南。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;每当您登录到AppMon Web时，都会在仪表板概述中的“共享” - 标签中显示已与您共享的仪表板。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark: 打开一个共享的Web仪表板需要一个AppMon用户帐户。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;将Web仪表板标记为个人最爱&lt;/h5&gt;
&lt;p&gt;每当用户与您共享一个价值的web仪表板时，您可以将其添加到您的个人收藏夹。如果仪表板与所有用户共享，这将增加仪表板的受欢迎度及其在列表中的排名，因此您的团队成员轻松查看哪些仪表板最有价值。&lt;/p&gt;
&lt;h5&gt;公开分享web仪表板&lt;/h5&gt;
&lt;p&gt;web 仪表板可以公开共享，无需登录即可访问。仪表板的共享URL必须通过用于根据以下语法进行公共共享的用户帐户的用户名和密码进行扩展：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;https&lt;/span&gt;&lt;span class="o"&gt;://&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;dt&lt;/span&gt; &lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="nt"&gt;host&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;ip&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;9911&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;index&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;jsp&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="nt"&gt;username&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;username&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class="nt"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;password&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;dashboard&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxx&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;因此，建议使用专用的用户帐户，以便全面控制哪些系统配置文件是公开的。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-45-26.png"&gt;&lt;/p&gt;
&lt;h5&gt;其他报告功能&lt;/h5&gt;
&lt;p&gt;使用磁贴图像下载功能来创建磁贴图表的可分发PNG或SVG图像文件，以包含在演示文稿中，在wiki页面上发布或发送电子邮件。&lt;/p&gt;
&lt;p&gt;要下载磁贴图像，请单击内置或自定义web仪表板的上下文菜单，然后选择要下载的图像格式。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-45-53.png"&gt;&lt;/p&gt;
&lt;h4&gt;导出和导入web仪表板&lt;/h4&gt;
&lt;p&gt;Web仪表板导出和导入提供了另一种方式来将您的仪表板与组织中的其他人共享。当需要与其他人共享大量仪表板时，导出功能非常有用。一次可以导出和导入数百个仪表板。只有自定义仪表板可以导出或导入。&lt;/p&gt;
&lt;h5&gt;导出web仪表板&lt;/h5&gt;
&lt;p&gt;在AppMon Web中，单击“Dashboards”，然后选择“My”选项卡。显示您的自定义仪表板列表，复选框显示在仪表板条目旁边。&lt;/p&gt;
&lt;p&gt;单击要导出的每个仪表板的复选框，然后单击&lt;strong&gt;Export&lt;/strong&gt;按钮。名为&lt;em&gt;DashboardExport.dwd&lt;/em&gt;的文件下载到您分配的下载文件夹。使用Windows将文件发送给要与之共享仪表板的其他人。一旦导出文件被复制到可访问的位置，其他人可以使用它导入Web仪表板。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="✔" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/2714.png" title=":heavy_check_mark:" width="20px"&gt; 注意:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;导出按钮仅在选择仪表板时显示。&lt;/li&gt;
&lt;li&gt;单击自定义仪表板标题旁边的复选框以选择列表中的所有自定义仪表板。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-46-23.png"&gt;&lt;/p&gt;
&lt;h5&gt;导入Web仪表板&lt;/h5&gt;
&lt;p&gt;您可以从任何可访问的文件位置导入Web仪表板文件。文件中的所有导出的自定义Web仪表板导入到“自定义仪表板”列表。&lt;/p&gt;
&lt;p&gt;要导入自定义Web仪表板文件，请单击&lt;strong&gt;Dashboards&lt;/strong&gt;，然后选择&lt;strong&gt;My&lt;/strong&gt;选项卡以显示自定义仪表板，然后单击&lt;strong&gt;Import&lt;/strong&gt;按钮。&lt;/p&gt;
&lt;p&gt;使用操作系统文件浏览器导航到导出文件的位置并选择它。&lt;/p&gt;
&lt;p&gt;当出现消息框指示仪表板成功导入时，单击&lt;strong&gt;OK&lt;/strong&gt;。导入的仪表板显示在“自定义仪表板”列表中。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="./images/Snipaste_2019-06-19_19-46-46.png"&gt;&lt;/p&gt;
&lt;h5&gt;删除自定义web仪表板&lt;/h5&gt;
&lt;p&gt;您可以删除仪表板，以删除过时或不必要的自定义仪表板，并帮助管理自定义仪表盘列表。&lt;/p&gt;
&lt;p&gt;只需点击要删除的每个仪表板的复选框，然后单击&lt;strong&gt;Delete&lt;/strong&gt;按钮。在出现的消息框中单击确定以&lt;strong&gt;OK&lt;/strong&gt;删除。&lt;/p&gt;
&lt;h4&gt;web仪表板的基础架构监控&lt;/h4&gt;
&lt;p&gt;运营人员需要持续更新有关环境健康的信息。&lt;strong&gt;Operation&lt;/strong&gt;信息板可让您从任何设备中查看热点，了解导致热点的原因，并分享您的分析给团队中以解决问题。了解您的基础设施或特定应用程序中是否存在问题，跟踪关键事件警报，然后深入了解警报详细信息，事件分配和根本原因分析。&lt;/p&gt;
&lt;p&gt;与AppMon Client中的基础设施概述一样，“Operation”面板中的“HOST”视图列出了每个范围内主机的操作系统，并指示其相对运行状况。此外，其主机上每个运行的进程会监控和展示。健康，不健康的进程和当前不运行的进程在详细进程视图中的单独选项卡中，因此您可以快速关注问题进程。&lt;/p&gt;
&lt;p&gt;可以选择Operations Dashboard的详细视图中的所有事件警报，并直接跳转到AppMon Client，进行进一步分析和解决主机和进程问题。&lt;/p&gt;
&lt;p&gt;在这个仪表版中的磁贴：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;帮助您监控主机和进程运行状况。&lt;/li&gt;
&lt;li&gt;确定问题是否与基础设施或应用程序相关，并对应问题事件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;警报通知也可以使用Alert 磁贴类型在自定义Web仪表板上查看。有关详细信息，请参阅磁贴类型。&lt;/p&gt;
&lt;h4&gt;AppMon客户端深入分析&lt;/h4&gt;
&lt;h5&gt;概览&lt;/h5&gt;
&lt;p&gt;AppMon Web与AppMon Client一起提供方便的用户体验管理工作流程和基础架构监控功能，用于快速和翔实的根本原因分析。AppMon Web中的几个视图可让您从特定的AppMon Web项目中深入到AppMon Client中打开相应的或详细的数据。&lt;/p&gt;
&lt;h5&gt;客户端深入分析&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;安装AppMon客户端或AppMon Webstart客户端。&lt;/li&gt;
&lt;li&gt;在AppMon Web中，打开包含要向下钻取的项目的页面。您可以深入了解以下内容：&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;AppMon Web的视图/动作&lt;/th&gt;
&lt;th&gt;AppMon Client 打开&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Business analytics &amp;gt; Visits &amp;gt; Visit details&lt;/td&gt;
&lt;td&gt;用户体验的访问&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Infrastructure &amp;gt; 选择alert 或 alert rule&lt;/td&gt;
&lt;td&gt;事件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Hosts &amp;gt;选择Host name&lt;/td&gt;
&lt;td&gt;事件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Hosts &amp;gt; 选择Host name&lt;/td&gt;
&lt;td&gt;主机信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operations &amp;gt; Processes &amp;gt; 选择Process name&lt;/td&gt;
&lt;td&gt;进程信息&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark: &lt;strong&gt;Note:&lt;/strong&gt; 根据您的浏览器类型，可能会提示您授权加载不安全的脚本，不安全的内容或证书。如果要使用AppMon Client向下钻取，则必须接受浏览器授权请求。如果没有，则默认情况下只打开Webstart客户端。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="3"&gt;
&lt;li&gt;单击访问表下面的&lt;strong&gt;Open in client&lt;/strong&gt;按钮。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果AppMon Client正在运行，它将启动。如果没有，则Webstart Client启动。一个浏览器消息框会弹出来下载client.jnlp文件。用建议的Java Web Start Launcher打开它来启动客户端。&lt;/p&gt;
&lt;p&gt;客户端打开并显示所选信息的详细信息。显示所选的访问信息。&lt;/p&gt;
&lt;h4&gt;FAQ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;我可以将富客户端仪表板转换为网页信息中心吗？&lt;/p&gt;
&lt;p&gt;不行。这种情况，使用富客户端创建的仪表板必须重新创建为Web仪表板。&lt;/p&gt;
&lt;p&gt;但是，您可以创建富客户端仪表板的HTML报告。HTML报告也可以在浏览器中查看。&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 19 Jun 2019 18:55:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-27-use-dynatrace-appmon-web-console.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 26.分析诡异的应用性能问题</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-26-analysis-a-difficult-app-performance-problem.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;一 概述&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#11"&gt;1.1 客户需求&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#12"&gt;1.2  收集信息概述&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;二 事故影响范围&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#21"&gt;2.1 主机&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#22"&gt;2.2 中间件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#23"&gt;2.3 应用&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;三 问题分析及定位&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#31-2"&gt;3.1 我定制2个仪表图来分析问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#32"&gt;3.2 为什么加载的类会突然飙增&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#33-825-830jbosspurepath"&gt;3.3 查看8:25-8:30的Jboss上的purepath&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;四 总结及优化建议&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#41"&gt;4.1 问题发生的先后顺序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#42"&gt;4.2 优化建议&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#43"&gt;4.3 最后说一句&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;一 概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="11"&gt;1.1 客户需求&lt;a class="headerlink" href="#11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;1.1.1 客户问题描述&lt;/h4&gt;
&lt;p&gt;客户通过Dynatrace发现某台Jboss的JVM&lt;strong&gt;内存突然提交，然后垃圾回收&lt;/strong&gt;。如下图。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5HKe/6IqvB.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;1.1.2 客户需求&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;客户想要了解Root Cause。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="12"&gt;1.2  收集信息概述&lt;a class="headerlink" href="#12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;客户发现Jboss的内存突然彪增，且JVM的GC时间大幅增长。查看Dynatrace发现，当时该及节点已经发生&lt;strong&gt;Perm区内存溢出&lt;/strong&gt;。且有&lt;strong&gt;告警&lt;/strong&gt;产生（同时应用关键业务错误率大幅增长）（Perm区内存溢出导致的OLD去彪增和GC时间彪增，具体分析见下文）。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5NsA/8zCBy.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5SAB/jRbrt.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;二 事故影响范围&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;查看当时的主机、JVM及应用业务情况，该问题造成一系列的连锁影响，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPU利用率升高&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;物理内存升高&lt;/li&gt;
&lt;li&gt;JVM heap区增大&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JVM gc及挂起时间变长&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Jboss线程数上升&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关键业务全部失败&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;关键业务响应变慢&lt;br&gt;
  具体如下图：&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="21"&gt;2.1 主机&lt;a class="headerlink" href="#21" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC6cC7/AeojF.jpg"&gt;&lt;/p&gt;
&lt;h3 id="22"&gt;2.2 中间件&lt;a class="headerlink" href="#22" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC5XC0/VPQzr.jpg"&gt;&lt;/p&gt;
&lt;h3 id="23"&gt;2.3 应用&lt;a class="headerlink" href="#23" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC6Wjg/myso8.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_3"&gt;三 问题分析及定位&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="31-2"&gt;3.1 我定制2个仪表图来分析问题&lt;a class="headerlink" href="#31-2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;具体如下图。&lt;strong&gt;直接Perm OOM的原因是：类加载量的大幅增长&lt;/strong&gt;（因为Perm区存放的就是静态类和常量等，而Perm OOM JDK默认会做fullgc，因此导致gc及挂起时间增加；因为无法GC掉，会导致Heap区调整及CPU增加、线程数增加）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC6jtL/WnSxj.jpg"&gt;&lt;/p&gt;
&lt;h3 id="32"&gt;3.2 为什么加载的类会突然飙增&lt;a class="headerlink" href="#32" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;我们对上图放大，查看细节。如下图：&lt;/p&gt;
&lt;p&gt;类加载数量是在&lt;strong&gt;8:25-8:30&lt;/strong&gt;期间大幅增长的。&lt;strong&gt;接下来我们需要查看这期间的该Jboss具体在做什么业务。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC7g9r/M5dMD.jpg"&gt;&lt;/p&gt;
&lt;h3 id="33-825-830jbosspurepath"&gt;3.3 查看8:25-8:30的Jboss上的purepath&lt;a class="headerlink" href="#33-825-830jbosspurepath" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;purepath简单理解：所有的事务的分布式方法调用栈及相关信息。（如响应时间、时间细分、线程、LOG、Exception、SQL、Message等）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如下图，直接可以看出：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;导致该问题的root cause 事务：/RuleManager/showCalib1QueryCondition.htm&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;导致该问题的root casue代码：c3p0(c3p0性能有问题。调用c3p0前后会有类加载的动作，正是这个情况导致了当时大量的类加载)&lt;/strong&gt;  （下图forName0就是类加载的相关方法）&lt;br&gt;
&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GmHC7aDf/JGcrG.jpg"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_4"&gt;四 总结及优化建议&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="41"&gt;4.1 问题发生的先后顺序&lt;a class="headerlink" href="#41" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;出现大量的/RuleManager/showCalib1QueryCondition.htm请求&lt;/li&gt;
&lt;li&gt;需要加载大量的C3p0相关类&lt;/li&gt;
&lt;li&gt;类加载数量大幅增长&lt;/li&gt;
&lt;li&gt;Perm区256M内存用完&lt;/li&gt;
&lt;li&gt;触发JVM full gc&lt;/li&gt;
&lt;li&gt;gc及挂起时间增加&lt;/li&gt;
&lt;li&gt;无法GC掉 -&amp;gt; CPU增加、线程增加、Heap区增加、业务失败&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="42"&gt;4.2 优化建议&lt;a class="headerlink" href="#42" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;4.2.1 中间件（治标不治本）&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;增大Perm区大小&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;优化与Perm清理有关的参数（如Perm满后清理，不执行full gc等）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为了更方便的定位问题，特别是在没有Dynatrace的情况下，&lt;strong&gt;建议在生产环境开启GC日志。&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;阿里的JAVA专家说过:&lt;/p&gt;
&lt;p&gt;其实线上开GC日志没关系啦，我们线上就一直开着，对性能不会有那么大影响的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;4.2.2 开发&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;优化JDBC相关代码（如果想要优化c3p0代码可以看3.3的代码逻辑。如果不想优化建议直接不要采用c3p0作为JDBC框架，选择其他JDBC框架）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="43"&gt;4.3 最后说一句&lt;a class="headerlink" href="#43" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;其实这个问题一个月以前就已经分析过了，但是由于当时的影响只是&lt;em&gt;应用关键业务变慢&lt;/em&gt;，所以并没有引起重视。但是这次造成的影响就比较大了，直接导致关键业务全部失败以及Jboss长时间挂起（即不可用）。&lt;/p&gt;
&lt;p&gt;所以，大的生产事故，其实可能都是因为一些细小的，我们认为没关系或者可以忽略的性能问题导致的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​&lt;img align="absmiddle" alt="👊" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f44a.png" title=":punch:" width="20px"&gt;​ 生产无小事！责任大于天！&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 19 Jun 2019 18:50:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-06-19:/dynatrace-appmon-handbook-26-analysis-a-difficult-app-performance-problem.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 25.RESTful API</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-25-restful-api.html</link><description>&lt;h2 id="rest"&gt;REST 接口&lt;a class="headerlink" href="#rest" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace Server 和 Dynatrace Client都通过REST接口提供管理功能。这些接口可以用于执行以下任务：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;启停session recording&lt;/li&gt;
&lt;li&gt;为系统配置文件切换活动配置&lt;/li&gt;
&lt;li&gt;触发内存快照、线程快照及CPU采样&lt;/li&gt;
&lt;li&gt;重启Dynatrace Server 和 Dynatrace Collector&lt;/li&gt;
&lt;li&gt;执行传感器热部署&lt;/li&gt;
&lt;li&gt;生成报告&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Dynatrace 6.1中，由于安全原因，对SSLv3的支持已经不再继续。在Java 7中，默认已经禁用对伪协议SSLv2Hello的支持。这也在RSET接口中得以体现。使用Java6或者更早版本运行的应用，如果他们通过HTTPS访问REST接口，也可能会受影响。为了能够使用Java 6访问REST接口，SSLv2Hello必须被禁用：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;java
Set&amp;lt;String&amp;gt; protocols = new HashSet&amp;lt;String&amp;gt;(Arrays.asList(socket.getEnabledProtocols()));
protocols.remove("SSLv2Hello");
socket.setEnabledProtocols(protocols.toArray(new String[protocols.size()]));&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="server-rest"&gt;Server REST接口&lt;a class="headerlink" href="#server-rest" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;概览&lt;/h4&gt;
&lt;p&gt;Dynatrace Server 和 Dynatrace Client都通过REST接口提供管理功能。通过这些接口，你可以启动和停止session recording，触发内存和线程快照，创建报告等等。&lt;/p&gt;
&lt;p&gt;你可以用默认的8020和8021端口，使用HTTP 1.1和HTTPS 1.1 访问所有的Dynatrace Server REST 接口。如何更改端口设置和如何启用/禁用REST接口参见“Setup Communication”（见dynaTrace 6.2 Documentation 525页）。&lt;/p&gt;
&lt;p&gt;大多数接口通过HTML被暴露，可以通过浏览器访问。默认，HTML的接口访问地址为：&lt;a href="https://DT_SERVER:8021/rest/html/management/server"&gt;https://DT_SERVER:8021/rest/html/management/server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下列主题描述了如何访问REST服务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Agent Groups (REST) (2438页)&lt;/li&gt;
&lt;li&gt;Agents and Collectors (REST) (2447页)&lt;/li&gt;
&lt;li&gt;仪表板和报告 (REST) (2450页)&lt;/li&gt;
&lt;li&gt;“停机时间” (REST) (2459页)&lt;/li&gt;
&lt;li&gt;事件 （REST) (2463页)&lt;/li&gt;
&lt;li&gt;活动Sessions (REST) (2497页)&lt;/li&gt;
&lt;li&gt;内存快照 (REST) (2468页)&lt;/li&gt;
&lt;li&gt;性能仓库 (REST) (2479页)&lt;/li&gt;
&lt;li&gt;插件管理 (REST) (2485页)&lt;/li&gt;
&lt;li&gt;资源快照 (REST) (2490页)&lt;/li&gt;
&lt;li&gt;Server 管理 (REST) (2492页)&lt;/li&gt;
&lt;li&gt;存储的Sessions (REST) (2500页)&lt;/li&gt;
&lt;li&gt;系统配置文件 (REST) (2507页)&lt;/li&gt;
&lt;li&gt;任务和监视器 (REST) (2511页)&lt;/li&gt;
&lt;li&gt;测试自动化 (REST) (2512页)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;HTTP响应码&lt;/h4&gt;
&lt;p&gt;HTTP状态响应码展示了你的访问的结果。&lt;em&gt;RFC 2616&lt;/em&gt; 标准（&lt;a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"&gt;W3C&lt;/a&gt;, &lt;a href="http://www.ietf.org/rfc/rfc2616.txt"&gt;IETF&lt;/a&gt;描述了这些状态码。&lt;/p&gt;
&lt;p&gt;例如，如果请求被成功收到，理解，并接受，REST接口返回2xx状态码。如果请求不能被Dynatrace Server理解，会返回4xx状态码。状态码5xx表示有server error在组织Dynatrace Server完成该请求。&lt;/p&gt;
&lt;p&gt;下列是常见的响应码：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;200&lt;/strong&gt; - OK：请求已成功。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;201&lt;/strong&gt; - Created：请求被执行，一个新资源被创建。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;202&lt;/strong&gt; - Accepted: 请求被接受处理，但是处理尚未完成。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;204&lt;/strong&gt; - No Content: 请求已成功，但是响应没有entity-body。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;400&lt;/strong&gt; - Bad Request: 一些请求参数不正确。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;401&lt;/strong&gt; - Unauthorized: 需要一个合法认证头（基本认证），但是却没有。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;403&lt;/strong&gt; - Forbidden: 请求的执行不被允许，例如：用户没有权限。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;404&lt;/strong&gt; - Not Found: 一些实体找不到，如：系统配置文件，仪表板，Collector，或Agent。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;500&lt;/strong&gt; - Internal Server Error: 具体信息请查看response body。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;501&lt;/strong&gt; - Not Implemented: 请求的服务当前没有被执行。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;身份认证和授权&lt;/h4&gt;
&lt;p&gt;为访问Dynatrace REST接口，User Agent必须通过HTTP 基本认证证实它自己。&lt;a href="http://www.ietf.org/rfc/rfc2617.txt"&gt;RFC2617&lt;/a&gt;描述了该认证技术。基于用户名，一个冒号(:)，和密码的串联的字符串的BASE 64 hash key必须被计算。&lt;em&gt;Basic&lt;/em&gt;加上该hash key的字符串必须被设为HTTP请求的&lt;em&gt;Authorization&lt;/em&gt; 头。参见&lt;a href="http://en.wikipedia.org/wiki/Basic_access_authentication"&gt;Wiki page&lt;/a&gt; 获取更多信息。&lt;/p&gt;
&lt;p&gt;如果用户成功被认证，Dynatrace Server检查该用户是否可以访问该REST接口。如果该用户没有&lt;em&gt;Web Service Interface Access&lt;/em&gt;权限，返回HTTP状态码401(Unauthorized)。取决于被请求的服务，用户可能需要额外的权限（如：访问一个具体的仪表板或者系统配置文件。）&lt;/p&gt;
&lt;h4&gt;Agent Groups (REST)&lt;/h4&gt;
&lt;h5&gt;Agent Groups&lt;/h5&gt;
&lt;p&gt;Dynatrace Server提供几个RESTful接口URL：&lt;code&gt;http://&amp;lt;server&amp;gt;:8020/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt; 来管理一个系统配置文件的Agent Groups。使用HTTP GET (2439页)来请求一个Agent Group的细节信息。使用HTTP PUT (2440页)来创建新的Agent Groups或者修改已经存在的Agent Groups。使用HTTP方法DELETE(2442页)来删除已存在的Agent Group。也有一个接口，用于list(2439页)一个具体系统配置文件的所有的Agent Groups。&lt;/p&gt;
&lt;h6&gt;List Groups&lt;/h6&gt;
&lt;p&gt;这个接口列出一个具体系统配置文件的的所有Agent Groups。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;相应的系统配置文件名称&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;响应内容&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;xml
&amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes" ?&amp;gt;
&amp;lt;agentgroups&amp;gt;
    &amp;lt;agentgroupreference name="Business Backend Server (Java)" href="http://localhost:8020/rest/management
/profiles/easyTravel/agentgroups/Business%20Backend%20Server%20(Java)" /&amp;gt;
    &amp;lt;agentgroupreference name="Customer Web Frontend (Java)" href="http://localhost:8020/rest/management
/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)" /&amp;gt;
    &amp;lt;agentgroupreference name="CreditCardAuthorization (C++)" href="http://localhost:8020/rest/management
/profiles/easyTravel/agentgroups/CreditCardAuthorization%20(C++)" /&amp;gt;
    &amp;lt;agentgroupreference name="Payment Backend (.NET)" href="http://localhost:8020/rest/management/profiles
/easyTravel/agentgroups/Payment%20Backend%20(.NET)" /&amp;gt;
    &amp;lt;agentgroupreference name="B2B Web Frontend (.NET)" href="http://localhost:8020/rest/management/profiles
/easyTravel/agentgroups/B2B%20Web%20Frontend%20(.NET)" /&amp;gt;
&amp;lt;/agentgroups&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;GET Group&lt;/h6&gt;
&lt;p&gt;在一个指定的Agent Group使用HTTP GET来获取XML展示的Agent Group。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;对应Agent Group名称&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;本例展示了Agent Group Customer Web Frontend (java)的XML描述如何被请求。返回的XML包含Agent Group名称，描述，相关Agent映射的引用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentgroup&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Customer Web Frontend (Java)&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Web application which provides the customer web pages via JSF/icefaces technology. Accesses the siness backend via WebServices.&amp;gt;&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;agentmappingsreference&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost:8020/rest/management/profiles/easyTravel/agentgroups/stomer%20Web%20Frontend%20(Java)/mappings&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentgroup&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;PUT Group&lt;/h6&gt;
&lt;p&gt;使用HTTP PUT接口创建或覆盖一个Agent Group通过发送XML格式作为请求的内容。请求内容的期望XML格式内容与响应HTTP GET接口的内容类似。需要有写入系统配置文件的权限。重载POST接口提供与HTTP PUT相同的输出。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;PUT&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;consumes application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;?httpMethod=PUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;consumes application/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;agentmappingsreference元素没有被PUT接口显示。要增加一个Agent映射到Agent Group，使用Agent 映射的HTTP PUT接口（2445页）。不支持通过该接口重命名Agent Group。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;要创建或更新的Agent Group名称&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;本例演示如何修改已有的Agent Group Customer Web Frontend (Java)的描述。如果请求被成功执行，会返回状态码204(No Content)。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentgroup&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;This is a modified description.&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentgroup&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
204 No Content&lt;/p&gt;
&lt;p&gt;本例展示了如何创建一个包含描述的，叫做New Agent Group的新的Agent Group。Agent Group的名称通过路径参数指定，描述在XML内容中指定。如果请求执行成功，返回响应码201，然后头信息Location指定为刚创建的Agent Group的URL。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/New%20Agent%20Group&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentgroup&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;This is a new agent group.&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentgroup&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
201 Created&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;响应头&lt;/strong&gt;&lt;br&gt;
Location: &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/New%20Agent%20Group&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;DELETE Group&lt;/h6&gt;
&lt;p&gt;使用HTTP DELETE接口来删除已有的Agent Group。需要有修改系统配置文件的权限。重载POST接口提供和HTTP DELETE相同的输出。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DELETE&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;?httpMethod=DELETE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;要删除的Agent Group名称&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;本例展示如何删除一个叫做Cunstomer Web Frontend (Java)的Agent Group。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
DELETE &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
204 No Content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;Agent映射&lt;/h5&gt;
&lt;p&gt;与Agent Groups（2439页）类似，Dynatrace Server提供几个接口管理Agent映射。使用HTTP GET（2444页）来请求Agent映射的细节信息。使用HTTP方法PUT（2445页）和DELETE（2446页）来创建、修改和删除Agent映射。使用Lists 接口（2443页）来得到一个Agent Group的Agent映射列表。&lt;/p&gt;
&lt;h6&gt;List 映射&lt;/h6&gt;
&lt;p&gt;该接口列出一个Agent Group的所有Agent映射。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmappings&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentmappingreference&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost:8020/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;agentmappingreference&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel_CF&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost:8020/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/easyTravel_CF&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmappings&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;GET 映射&lt;/h6&gt;
&lt;p&gt;在一个指定的Agent Mapping使用HTTP GET来获得该Agent映射的XML格式描述。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mappingalias&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;请求的Agent Mapping的alias&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;本例展示了如何请求CustomerFrontend_easyTravel的XML格式的Agent 映射。返回的XML描述了该映射匹配哪些agent名和主机名。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20%28Java%29/mappings/CustomerFrontend_easyTravel&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;CustomerFrontend_easyTravel&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;PUT映射&lt;/h6&gt;
&lt;p&gt;使用HTTP PUT接口来创建或覆盖Agent映射。需要有写系统配置文件的权限。重载POST接口提供与HTTP PUT相同的输出。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;PUT&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;consumes application/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;?httpMethod=PUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;consumes application/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mappingalias&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;需要创建或修改的Agent Mapping 的alias&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;请求必须发送XML格式的Agent 映射。Agent 映射的HTTP GET请求可以查看需要的XML架构。&lt;em&gt;agentnamematchtype&lt;/em&gt; 和 &lt;em&gt;hostnamematchtype&lt;/em&gt; 元素可以有以下的其中一个值：&lt;em&gt;starts&lt;/em&gt;，&lt;em&gt;ends&lt;/em&gt;，&lt;em&gt;contains&lt;/em&gt;，&lt;em&gt;equals&lt;/em&gt; 或 &lt;em&gt;regex&lt;/em&gt;。（详见Agent Group - Agent 映射（979页））。该接口不支持Agent映射重命名。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;CustomerFrontend_easyTravel&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;本例展示如何修改CustomerFrontend_easyTravel的Agent 映射。如果请求成功执行，返回状态码204(No Content)。&lt;br&gt;
&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/CustomerFrontend_easyTravel&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;sampleApp&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;contains&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&amp;gt;&lt;/span&gt;machineX&lt;span class="nt"&gt;&amp;lt;/hostnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;contains&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
204 No Content&lt;br&gt;
本例展示如何使用alias名New Mapping来创建一个新的Agent映射。如果请求被成功执行，返回响应码201，对应的创建Agent映射的URL会指定Location头信息。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
PUT &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/New%20Mapping&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agentmapping&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamepattern&amp;gt;&lt;/span&gt;someprefix&lt;span class="nt"&gt;&amp;lt;/agentnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentnamematchtype&amp;gt;&lt;/span&gt;starts&lt;span class="nt"&gt;&amp;lt;/agentnamematchtype&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamepattern&amp;gt;&lt;/span&gt;machineX&lt;span class="nt"&gt;&amp;lt;/hostnamepattern&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;hostnamematchtype&amp;gt;&lt;/span&gt;ends&lt;span class="nt"&gt;&amp;lt;/hostnamematchtype&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agentmapping&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
201 Created&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;响应头信息&lt;/strong&gt;&lt;br&gt;
Location: &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/New%20Mapping&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;DELETE映射&lt;/h6&gt;
&lt;p&gt;使用HTTP DELETE接口来删除已经存在的Agent映射。需要有修改系统配置文件的权限。重载POST接口提供与HTTP DELETE相同的输出。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DELETE&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/agentgroups/&amp;lt;groupname&amp;gt;/mappings/&amp;lt;mappingalias&amp;gt;?httpMethod=DELETE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;profilename&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;groupname&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mappingalias&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;需要删除的Agent映射的alias&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;本例展示如何删除Agent映射CustomerFrontend_easyTravel的alias。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
DELETE &lt;code&gt;https://localhost:8021/rest/management/profiles/easyTravel/agentgroups/Customer%20Web%20Frontend%20(Java)/mappings/CustomerFrontend_easyTravel&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
204 No Content&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Agents和Collectors (REST)&lt;/h4&gt;
&lt;h5&gt;Agents&lt;/h5&gt;
&lt;p&gt;Dynatrace Server提供2个RESTful 接口与Dynatrace Agents交互。使用List Agents(2447页)接口来收集Dynatrace Agents的信息。使用Hot Sensor Placement接口来执行指定Dynatrace Agent的传感器热部署(2448页)&lt;/p&gt;
&lt;h6&gt;List Agents&lt;/h6&gt;
&lt;p&gt;该接口列出所有已知的Dynatrace Agents，并且提供诸如它们连接的Collector和其他元数据信息。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/agents&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/agents&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;agents&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;agentinformation&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;agentGroup&amp;gt;&lt;/span&gt;easyTravelBackend&lt;span class="nt"&gt;&amp;lt;/agentGroup&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;agentId&amp;gt;&lt;/span&gt;-91443089&lt;span class="nt"&gt;&amp;lt;/agentId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;capture&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/capture&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;classLoadCount&amp;gt;&lt;/span&gt;4783&lt;span class="nt"&gt;&amp;lt;/classLoadCount&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;collectorinformation&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Embedded dynaTrace Collector&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;embedded&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/embedded&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/collectorinformation&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;easyTravel&lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;eventCount&amp;gt;&lt;/span&gt;70&lt;span class="nt"&gt;&amp;lt;/eventCount&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;licenseInformation&amp;gt;&lt;/span&gt;License OK&lt;span class="nt"&gt;&amp;lt;/licenseInformation&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;licenseOk&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/licenseOk&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;easyTravelBackend&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;processId&amp;gt;&lt;/span&gt;6612&lt;span class="nt"&gt;&amp;lt;/processId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;skippedEvents&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/skippedEvents&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;skippedPurePaths&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/skippedPurePaths&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;startupTimeUTC&amp;gt;&lt;/span&gt;1250107304703&lt;span class="nt"&gt;&amp;lt;/startupTimeUTC&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;supportsHotSensorPlacement&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/supportsHotSensorPlacement&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;systemProfile&amp;gt;&lt;/span&gt;easyTravel&lt;span class="nt"&gt;&amp;lt;/systemProfile&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;technologyType&amp;gt;&lt;/span&gt;Java&lt;span class="nt"&gt;&amp;lt;/technologyType&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalClassLoadCount&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/totalClassLoadCount&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalCpuTime&amp;gt;&lt;/span&gt;0.0&lt;span class="nt"&gt;&amp;lt;/totalCpuTime&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalExecutionTime&amp;gt;&lt;/span&gt;0.0&lt;span class="nt"&gt;&amp;lt;/totalExecutionTime&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;totalPurePathCount&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/totalPurePathCount&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/agentinformation&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/agents&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;传感器热部署&lt;/h6&gt;
&lt;p&gt;该接口执行ID为&lt;agent_id&gt;的Dynatrace Agent的传感器热部署。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/agents/&amp;lt;agent_id&amp;gt;/hotsensorplacement&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;Mandatory&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;路径&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;agent_id&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;对应Dynatrace Agent的ID&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;本例激活了ID为-86650354的Dynatrace Agent的传感器热部署。XML响应描述了请求被成功执行。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;请求URL&lt;/strong&gt;&lt;br&gt;
GET &lt;code&gt;https://localhost:8021/rest/management/agents/-86650354/hotsensorplacement&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应内容&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;result&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;响应代码&lt;/strong&gt;&lt;br&gt;
200 OK&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;Collectors&lt;/h5&gt;
&lt;h6&gt;列出Collectors&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/collectors&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;返回的XML包含关于已连接的collectors的根节点和子节点的详细信息。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;collectors&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/collectors&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;collectorinformation&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/collectors/Embedded%20dynaTrace%20Collector@GRABS&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;embedded&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/embedded&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Embedded dynaTrace Collector&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/collectorinformation&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/collectors&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;Collector细节&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/collectors/&amp;lt;collectorname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;produces text/xml&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;返回的XML包括该collector的根节点的细节信息。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;collectorinformation&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/collectors/Embedded%20dynaTrace%20Collector@GRABS&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;connected&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/connected&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;embedded&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/embedded&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;host&amp;gt;&lt;/span&gt;GRABS&lt;span class="nt"&gt;&amp;lt;/host&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Embedded dynaTrace Collector&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/collectorinformation&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;重启和关闭Collector&lt;/h6&gt;
&lt;p&gt;Dynatrace Server提供2个REST接口来重启和关闭已连接的Dynatrace Collectors。都是HTTP POST请求。下列2个例子展示了如何重启和停止已连接到Dynatrace Server的collectors。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;POST https://&amp;lt;server&amp;gt;:8021/rest/management/collector/&amp;lt;collectorname&amp;gt;/restart HTTP/1.1
POST https://&amp;lt;server&amp;gt;:8021/rest/management/collector/&amp;lt;collectorname&amp;gt;/shutdown HTTP/1.1
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;仪表板和报告 (REST)&lt;/h4&gt;
&lt;p&gt;Dynatrace Server提供一系列的RESTful接口来通过HTTP请求创建仪表板报告。使用这个接口来取回不同文件格式的仪表板中的信息，并且通过灵活的参数来选择报告数据的源和时间段。&lt;br&gt;
关于报告的概览信息和Dynatrace的报告功能，见报告(1966页)。&lt;/p&gt;
&lt;h5&gt;生成仪表板报告&lt;/h5&gt;
&lt;p&gt;通过REST生成报告的语法如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/reports/create/&amp;lt;dashboardname&amp;gt;&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6&gt;参数&lt;/h6&gt;
&lt;p&gt;你可以添加请求参数来完善报告。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark: 更改只应用在仪表板等级。单个dashlet（如数据源）的特殊配置不受这些参数的影响。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;强制&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;类型(2451页)&lt;/td&gt;
&lt;td&gt;指定请求输出类型&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;HTML&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;格式(2451页)&lt;/td&gt;
&lt;td&gt;指定用于选择的报告类型的报告格式&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;已选择的基于报告内部基本类型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;过滤器(2451页)&lt;/td&gt;
&lt;td&gt;设置源的过滤器，但是会被指定的源过滤器覆盖。可以被指定多次&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;源(2452页)&lt;/td&gt;
&lt;td&gt;负载仪表板的默认源&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;比较(2452页)&lt;/td&gt;
&lt;td&gt;覆盖(如必要则激活)默认数据源的参照&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6&gt;# 参数细节&lt;/h6&gt;
&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;br&gt;
指定输出类型。指定类型可以在Reporting(1966页)找到或者可以通过REST列出(2454页)。&lt;br&gt;
示例：&lt;br&gt;
URI    &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?type=CSV&lt;/code&gt;&lt;br&gt;
这会创建一个CSV格式的，叫做&lt;strong&gt;demo&lt;/strong&gt;的报告。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;format&lt;/strong&gt;&lt;br&gt;
一些类型提供不同的格式。每种类型可用的格式可以在"每种类型支持格式列表"(2454页)找到。&lt;br&gt;
示例：&lt;br&gt;
URI    &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?type=HTML&amp;amp;format=HTML%20Paged&lt;/code&gt;&lt;br&gt;
这会创建一个叫做&lt;strong&gt;demo&lt;/strong&gt;的HTML报告。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;filter&lt;/strong&gt;&lt;br&gt;
Filters可以自定义报告使用的数据。关于filters的详细届时，参见REST Filters(2550页)。&lt;br&gt;
示例：&lt;br&gt;
URI    &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?filter=tf:Last5Min&amp;amp;filter=ag:AgentGroups?Browser&lt;/code&gt;&lt;br&gt;
这会创建一个dashboard demo的HTML格式的报告，时间为过去5min，Agent Group为&lt;strong&gt;Browser&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;source&lt;/strong&gt;&lt;br&gt;
源可以覆盖报告的dashboard的源系统配置文件。&lt;br&gt;
示例：&lt;br&gt;
URI   &lt;code&gt;https://localhost:8021/rest/management/reports/create/demo?source=live:easyTravel&lt;/code&gt;&lt;br&gt;
这回创建&lt;strong&gt;demo&lt;/strong&gt; dashboard的HTML格式的报告，使用活动session &lt;strong&gt;easyTravel&lt;/strong&gt;作为源。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark:​ source参数的值是在Dynatrace Client上储存会话的名字。你可能需要encode一些字符来构造一个合法的URL。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;compare&lt;/strong&gt;&lt;br&gt;
URI   &lt;code&gt;https://localhost:8021/rest/management/dashboard/Incident%20Dashboard?compare=stored:easyTravel%20baseline&lt;/code&gt;&lt;br&gt;
这个事件仪表板会比较默认源和储存的会话&lt;strong&gt;easyTravel&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;查询默认配置的本地Server的事件仪表板： &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;改变默认仪表板的源为live session easyTravel。 &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?source=live:easyTravel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;对默认仪表板源应用web 请求过滤  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=wr:/frontend/userlogin.do&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;设置一个基线session作为比较源  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?compare=stored:easyTravel%20baseline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;过滤UserLogin和UserLogout事务。  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=bt:UserLogin&amp;amp;filter=bt:UserLogout&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;请求过去15min数据。  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:Last15Min&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;请求昨天数据  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:Yesterday&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;请求过去15s的数据  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:OffsetTimeframe?15:SECONDS&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;请求from 2015-03-14 09:26 GMT to 09:27 GMT的数据。  &lt;code&gt;https://localhost:8021/rest/management/reports/create/Incident%20Dashboard?filter=tf:CustomTimeframe?1426339613000:1426339620000&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;仪表板信息&lt;/h5&gt;
&lt;h6&gt;列出可用仪表板&lt;/h6&gt;
&lt;p&gt;要得到可用仪表板，发送下列RESTful请求：&lt;br&gt;
|     |                                                    |                   |&lt;br&gt;
| --- | -------------------------------------------------- | ----------------- |&lt;br&gt;
| GET | &lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/dashboards&lt;/code&gt; | produces text/xml |&lt;/p&gt;
&lt;p&gt;返回的XML包含仪表板的根节点和子节点。&lt;em&gt;href&lt;/em&gt;属性包含报告这个仪表板的链接。在特殊情况下，一个仪表板会把一个icon作为引用，icon可以请求，带有&lt;em&gt;icon&lt;/em&gt;属性的链接。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark:​ 只会列出登陆用户可用的仪表板。没有权限的仪表板不会列出。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;仪表板Icon&lt;/h6&gt;
&lt;p&gt;一些预配置的仪表板引用了PNG，GIF，或JPEG格式的图标。使用下列请求来下载指定仪表板的图标：&lt;br&gt;
GET    &lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/dashboards/&amp;lt;dashboardname&amp;gt;/icon&lt;/code&gt;&lt;/p&gt;
&lt;h5&gt;类型和格式&lt;/h5&gt;
&lt;h6&gt;列出受支持的报告类型&lt;/h6&gt;
&lt;p&gt;报告类型是指由Dynatrace Server提供的报告功能中的一种输出格式，如PDF和HTML。报告类型可以支持多种报告格式，如HTML不同的排版，但是一般情况下每种报告类型只有一种报告格式。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/reports/types&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;produces text/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;返回XML包含一个&lt;em&gt;reporttypes&lt;/em&gt;根节点，和列出可用类型的&lt;em&gt;reporttype&lt;/em&gt;子节点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;响应示例&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;reporttypes&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/reports/types&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HTML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PDF&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CSV&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XLS&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XLSX&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XSD&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reporttype&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;XSL&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/reporttypes&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;列出每种类型受支持的格式&lt;/h6&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/reports/formats&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;produces text/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;返回XML包含一个&lt;em&gt;reporttypes&lt;/em&gt;根节点和列出可用仪表板的&lt;em&gt;reporttype&lt;/em&gt;子节点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;&lt;br&gt;
要得到可用的HTML报告的格式：&lt;br&gt;
URL   &lt;code&gt;https://localhost:8021/rest/management/reports/formats/HTML&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;返回：&lt;br&gt;
&lt;strong&gt;响应示例&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;reportformats&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://localhost:8021/rest/management/reports/formats/HTML&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reportformat&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HTML Report&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Produces a report in HTML format&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/reportformat&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;reportformat&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HTML Paged&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Produces a report in HTML format with tabs to quickly switch between the Dashlets&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/reportformat&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/reportformats&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;扩展XML报告&lt;/h5&gt;
&lt;p&gt;XML报告可以像任何其他报告一样被创建。也有一个指定的XML报告接口（2455页）支持一些额外的参数。&lt;/p&gt;
&lt;h5&gt;XML报告（REST）&lt;/h5&gt;
&lt;h6&gt;介绍&lt;/h6&gt;
&lt;p&gt;除了常规的REST 报告（2450页），Dynatrace Server对于XML报告也支持另一种REST接口。它提供比常规接口更多的参数。XML报告也可以使用客户端报告(1973页)来生成。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark:​ XML REST报告与常规REST报告不同。一些参数列在下边，这些参数在其他报告类型和格式里不可用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;XML请求接口&lt;/h6&gt;
&lt;p&gt;创建XML报告的常用语法是：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;请求类型&lt;/th&gt;
&lt;th&gt;HTTP GET&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;URI&lt;/td&gt;
&lt;td&gt;&lt;code&gt;http://DTSERVER:8020/rest/management/dashboard/DASHBOARDNAME?PARAMETERS&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;查看安装通信(525页)获取更多配置细节。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark:​ 请注意常规REST报告使用接口 /rest/management/reports/create/ 。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;参数&lt;/h6&gt;
&lt;p&gt;下列参数配置报告和仪表板。变更只应用在仪表板级别。对于单个dashlet的特定设置无法修改。&lt;br&gt;
参数&lt;strong&gt;source&lt;/strong&gt;， &lt;strong&gt;compare&lt;/strong&gt;， &lt;strong&gt;filter&lt;/strong&gt;在仪表板和报告(REST)(2451页)中有说明。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;强制&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;源(2452页)&lt;/td&gt;
&lt;td&gt;覆盖仪表板默认数据源&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;includeLayout(2456页)&lt;/td&gt;
&lt;td&gt;设为&lt;em&gt;true&lt;/em&gt;(默认为false)，额外的布局信息被添加，像是表的列顺序，列显示名称，或排序。(只有XML可用)&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;过滤器(2451页)&lt;/td&gt;
&lt;td&gt;设置源的过滤器，但是会被指定的源过滤器覆盖。可以被指定多次&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;源(2452页)&lt;/td&gt;
&lt;td&gt;负载仪表板的默认源&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;比较(2452页)&lt;/td&gt;
&lt;td&gt;覆盖(如必要则激活)默认数据源的参照&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;purePathDetails(2457页)&lt;/td&gt;
&lt;td&gt;启用报告的全部细节，包括报告仪表板中一个或者所有PurePath的所有节点数据。这只会影响PurePath dashlet的报告。(只有XML可用)&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6&gt;# includeLayout&lt;/h6&gt;
&lt;p&gt;&lt;em&gt;includeLayout&lt;/em&gt;决定是否需要在XML报告里添加额外的布局信息。&lt;br&gt;
&lt;em&gt;示例：&lt;/em&gt;&lt;br&gt;
URI    &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?includeLayout=true&lt;/code&gt;&lt;br&gt;
这会创建一个包含额外布局信息的XML报告，如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;sort&lt;/span&gt; &lt;span class="na"&gt;field=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;exec&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;descending&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;state&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;name&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PurePath&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;5&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;agent&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Agent&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;node_count&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Size&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;exec&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Duration [ms]&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;7&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;start&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Start Time&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;9&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;agentid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Agent ID&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;10&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tagid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Tag ID&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;application&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Application&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;breakdown&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Breakdown&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;field&lt;/span&gt; &lt;span class="na"&gt;order=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;response_time&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;display=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Response Time [ms]&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;# purePathDetails&lt;/h6&gt;
&lt;p&gt;&lt;em&gt;purePathDetails&lt;/em&gt; 和PurePath dashlet中PurePath 树显示的是等效的。该参数只影响PurePath dashlet的报告。它可以选择所有的PurePath(purePathDetails=ALL)或者通过PurePath标识符(2457页)选择指定的Purepath。&lt;br&gt;
&lt;em&gt;示例：&lt;/em&gt;&lt;br&gt;
URI    &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?purePathDetails=ALL&lt;/code&gt;&lt;br&gt;
这将会创建XML报告，包括demo仪表板(包含一个PurePath dashlet)的所有PurePath细节。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​:heavy_exclamation_mark:​  请求所有PurePath细节可能会产生巨大的数据量。导出所有PurePath会花费很长时间，取决于报告中PurePath的数量和节点。当导出所有PurePath数据时，Dynatrace Server的CPU开销可能会增加。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;XML报告的PurePath 标识符&lt;/h6&gt;
&lt;p&gt;要选择你想看到细节的PurePath，你需要通过它的Agent ID和Tag ID来确定。要得到这些数据，打开PurePath dashlet，选择指定Purepath的&lt;strong&gt;详细信息&lt;/strong&gt;。&lt;strong&gt;Agent ID&lt;/strong&gt;和&lt;strong&gt;Tag ID&lt;/strong&gt;会列出。你也可以再PurePath dashlet上显示该列。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;部分&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;强制&lt;/th&gt;
&lt;th&gt;示例&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PA&lt;/td&gt;
&lt;td&gt;十进制或十六进制('0x'开头)的Agent tag&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;PA=0x4ae37f41&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PT&lt;/td&gt;
&lt;td&gt;十进制格式的tag 号&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;PT=0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;示例:&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;下列请求会从demo仪表板中获取一个指定PurePath的详细信息：&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;URI    &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?purePathDetails=PT=1175239;PA=0xe1bfd3b9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;返回的XML(节选)&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dashboardreport&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;demo&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;version=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6.2.0.1140&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;reportdate=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2015-03-18T13:44:21.006+01:00&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;description=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;source&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;filtersummary=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;last 30 minutes (auto)&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;data&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;purepathsdashlet&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PurePaths&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;description=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;displaysource=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Base&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;purepaths&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;purepath&lt;/span&gt; &lt;span class="na"&gt;state=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;OK&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/CalculateRecommendations&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agent=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel_8080@lnz126872d02:5872&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;node_count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6639&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;exec=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3292.459228515625&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;start=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Wed Mar 18 13:43:53 CET 2015&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agentid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;e1bfd3b9&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;tagid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1178204&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;application=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel portal&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;breakdown=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CPU: 844.514 ms, Sync: -, Wait: -, Suspension: 1,978.724 ms&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;response_time=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0.25823116302490234&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;purepath&lt;/span&gt; &lt;span class="na"&gt;state=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Transaction failed&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/services/BookingService/storeBooking&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agent=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel_8080@lnz126872d02:5872&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;node_count=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;49&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;exec=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3008.294189453125&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;start=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Wed Mar 18 13:43:05 CET 2015&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agentid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;e1bfd3b9&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;tagid=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1175239&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;application=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel mobile&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;breakdown=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CPU: 832.091 ms, Sync: -, Wait: -, Suspension: 1,075.756 ms&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;response_time=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3008.294189453125&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;node&lt;/span&gt; &lt;span class="na"&gt;method=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;doGet(javax.servlet.http.HttpServletRequest req, javax.servlet.http.HttpServletResponse resp)&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;com.dynatrace.easytravel.frontend.servlet.BackendServicesServlet&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;argument=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/services/BookingService/storeBooking&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;agent=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CustomerFrontend_easyTravel_8080@lnz126872d02:5872&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;api=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;easyTravel, Servlet&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;totaltime=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3008.2942302301526&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;relativestart=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0.0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;attachment&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;EuWebRequestNodeAttachment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sessioncookie&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2EB3EB92778753CF9A2C12BC2D0AA006&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;id&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;requestid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1882790301&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;responseid&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1744252718&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/attachment&amp;gt;&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;示例&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;为demo仪表板创建默认XML报告： &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;使用session 'easyTravel'，时间为'过去7天': &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?source=live:easyTravel!tf:Last7d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;使用'easyTravel Baseline'作为比较源： &lt;code&gt;http://localhost:8020/rest/management/dashboard/Incident%20Dashboard?compare=stored:easyTravel%20Baseline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;报告包含布局信息： &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?includeLayout=true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;包含Agent ID xe1bdf3b9 和 Tag ID 1306756 的PurePath详细信息： &lt;code&gt;http://localhost:8020/rest/management/dashboard/demo?purePathDetails=PA=0xe1bfd3b9;PT=1306756&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h6&gt;XML Schema&lt;/h6&gt;
&lt;p&gt;响应被XML Schema指定，可以在Dynatrace Server上查到具体定义：&lt;br&gt;
URI &lt;code&gt;http://DTSERVER:8020/rest/management/schema/dashboard&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;事件停机时间(REST)&lt;/h4&gt;
&lt;h5&gt;概览&lt;/h5&gt;
&lt;p&gt;在Dynatrace，如果超过指定阈值，事件规则可以被定义来执行行为(如发邮件)。某些情况下，你可能不想触发这些行为，比如系统备份，数据库镜像，server重启等等。你可以配置事件停机时间(1893页)来抑制这些规则。&lt;br&gt;
使用Dynatrace客户端或者Dynatrace Server RESTful服务:  &lt;code&gt;http://&amp;lt;server&amp;gt;:8020/rest/management/profiles/&amp;lt;profilename&amp;gt;/incidentdowntimes/&amp;lt;downtimename&amp;gt;&lt;/code&gt; 来管理事件停机时间。你可以通过发送HTTP GET请求来检查事件停机时间细节。你必须使用HTTP方法PUT来添加一个新的事件停机时间或者升级一个现有的停机时间。使用HTTP方法DELETE来删除事件停机时间。&lt;/p&gt;
&lt;h5&gt;GET 事件停机时间&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/incidentdowntimes/&amp;lt;downtimename&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;produces  application/xml&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;会得到一个已存在事件停机时间的XML展示。&lt;br&gt;
&lt;strong&gt;参数&lt;/strong&gt;&lt;br&gt;
| 类型 | 参数         | 描述               | 强制 | 默认值 |&lt;br&gt;
| ---- | ------------ | ------------------ | ---- | ------ |&lt;br&gt;
| Path | profilename  |                    | yes  |        |&lt;br&gt;
| Path | downtimename | 对应停机时间的名称 | yes  |        |&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Sun, 26 May 2019 21:09:38 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-25-restful-api.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 21.分析事件简要流程</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-21-analysis-events.html</link><description>&lt;h2 id="_1"&gt;告警类别及含义&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;应用告警&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;响应时间/速度较慢的请求的响应时间降低&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;响应时间降低--对应的应用或URL平均响应时间(中值)明显高于期望。即使所观测的响应时间尚可被客户接受，这种状态明显是应用程序或是硬件问题导致，并且会降低所能达到的最大吞吐量。&lt;/li&gt;
&lt;li&gt;速度较慢的请求的响应时间降低--观测中 10% 最慢请求的反应时间明显增加。这将导致用户体验变差。应用程序及硬件问题都能导致该问题。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;失败率过高/页面操作/事务整体失败率高&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;失败率过高--事务失败率远高于预期。&lt;/li&gt;
&lt;li&gt;页面操作失败率高--总体页面操作失败率超过预设阀值。&lt;/li&gt;
&lt;li&gt;事务整体失败率高--事务整体失败率高。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_3"&gt;中间件告警&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;应用程序进程不可用（非预期）&lt;/h4&gt;
&lt;p&gt;与之前连接的应用程序进程/Agent 之间的连接已丢失，无法与 Agent 断开连接。&lt;/p&gt;
&lt;p&gt;一般出现该告警的原因为停止或杀掉对应中间件的进程。&lt;/p&gt;
&lt;h4&gt;应用程序进程运行状况不佳&lt;/h4&gt;
&lt;p&gt;由于在垃圾回收过程中花费大量执行时间，因此应用程序进程的显著挂起时间会持续一段时间。&lt;/p&gt;
&lt;p&gt;一般是由于频繁GC导致的。&lt;/p&gt;
&lt;h4&gt;可能挂起的JVM&lt;/h4&gt;
&lt;p&gt;可能的java VM挂起。可能是由于heap/thread dump或者GC活动。原因未知需要手动分析。&lt;/p&gt;
&lt;h4&gt;应用程序进程内存不足&lt;/h4&gt;
&lt;p&gt;应用程序进程报出内存不足。&lt;/p&gt;
&lt;p&gt;一般是由于中间件内存使用已满或内存溢出。&lt;/p&gt;
&lt;h3 id="_4"&gt;主机告警&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;主机类告警的阈值与所属的主机组有关。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCXRay6p/bea1t.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;CPU运行状况不佳&lt;/h4&gt;
&lt;p&gt;CPU使用率或系统时间超过预设阈值。&lt;/p&gt;
&lt;p&gt;CPU的阈值有2个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用率&lt;/li&gt;
&lt;li&gt;系统时间&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;硬盘运行状况不佳&lt;/h4&gt;
&lt;p&gt;主机硬盘的可用空间大小及百分比低于预设阈值。有2个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可用空间大小&lt;/li&gt;
&lt;li&gt;可用空间百分比&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;内存运行状况不佳&lt;/h4&gt;
&lt;p&gt;主机的可用内存大小及百分比低于预设阈值或内存页面故障大于预设阈值。有3个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可用内存大小&lt;/li&gt;
&lt;li&gt;可用内存百分比&lt;/li&gt;
&lt;li&gt;页面故障数&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;网络运行状况不佳&lt;/h4&gt;
&lt;p&gt;网络带宽使用率大于预设阈值。有1个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;带宽使用率&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;告警简要分析流程&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;简介&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;通用入口&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;“驾驶舱”，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY07pnX/Ry7Q9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;​&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Start Center，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY32F9u/eT8op.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;“监控”，如下图：(绿色正常/红色异常/灰色无数据)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY4WDEM/l7JDg.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;响应时间/速度较慢的请求的响应时间降低&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;打开事件仪表板，如下图：(告警红色为Severe级别/黄色为Warning级别；告警时间段可以按需选择)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY7f5oF/dYODm.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;移动到对应的告警信息→右键→深入分析→PurePath，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYaxIBv/uWnkT.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;跳转到PurePath仪表板，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYdl5vQ/10ziUa.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;右键仪表板→编辑筛选器→筛选对应的PurePath并应用，如下图:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYehBhS/Jkp4w.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYfBRlP/NMHo5.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;全选所有的PurePath→右键→深入分析→响应时间热点 （此处可以点击第二列”响应时间“对PurePath进行排序，针对性分析）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYhLI4x/nAr3y.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;响应时间热点仪表板，如下：(针对“速度较慢的请求的响应时间降低”告警，需要在右上角“百分比筛选器进行选择。至此，初步分析结果已得出)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYk4En1/n9rDF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;
&lt;p&gt;最终分析结果：API细分仪表板及方法细分仪表板，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQlsd/NpiKX.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQd76/REkXi.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;更近一步分析：可以直接分析源代码，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnAAJy/yrJBF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnwwKB/LynTC.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;失败率过高/页面操作/事务整体失败率高&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;事件→Purepath，如上文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑筛选器内容，如上文。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按错误排序，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYrsFLH/Qyujo.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;右键上图报错方法，出现具体的报错/异常/日志等内容，如下图：(可以多看十几条PurePath，如果报错内容都相同，则已经初步定位到告警原因)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYsL7Nf/UcVBq.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;全选所有PurePath→深入分析→错误率相关菜单，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYtOs3i/Myyj4.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;定位到告警原因，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYuXMxi/148DNZ.jpg"&gt;&lt;/p&gt;
&lt;p&gt;​&lt;/p&gt;
&lt;h3 id="_9"&gt;应用程序进程不可用（非预期）&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;该类报错通常是由于停止或杀掉或重启中间件等进程导致的。&lt;/p&gt;
&lt;p&gt;可以直接在”事件”仪表板中查看，如下图：（告警开始时间就是停进程的时间；终止时间就是启动进程的时间）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYwhZNA/gEE3m.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;应用程序进程运行状况不佳&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;该类报错分析起来较为复杂，需要有丰富的中间件运维经验和dynaTrace使用经验。详细信息参考附件：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;《应用程序进程运行状况不佳分析示例》&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="jvm"&gt;可能挂起的JVM&lt;a class="headerlink" href="#jvm" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如上文所述：可能是由于heap/thread dump或者GC活动。原因未知需要手动分析。具体问题具体对待。&lt;/p&gt;
&lt;h3 id="_11"&gt;应用程序进程内存不足&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如上文所述，通常是由于内存溢出或内存快满。分析流程如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过上文提到的入口--“监控”→点击“进程”→查看进程仪表板，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYKC06L/RD3sF.jpg"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;![](http://pic.yupoo.com/east4ming_v/FCYJdo4D/10CMzY.jpg)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;​&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;点击内存快照→创建内存快照→按需选择快照的类型并应用，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYMr7TG/RzIqA.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;dynaTrace会自动分析并给出结果，如下图：(至此已经定位到问题所在)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYO7UoS/jZMqd.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;如需进一步分析，可以点击内存快照分析的其他标签页。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYPQTpk/T02uX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTrace支持内存溢出时自动做内存快照，且默认开启，在生产环境建议关闭该功能，有需求可以针对性开启。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYRN2UG/H6NSX.jpg"&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="cpu"&gt;CPU运行状况不佳&lt;a class="headerlink" href="#cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;从入口“监控”进入→主机列表→主机监控，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYV9u5l/aweYD.jpg"&gt;&lt;/p&gt;
&lt;p&gt;​&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;主机监控仪表图分析，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYVyY4X/NmNbr.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;做CPU采样与线程快照（步骤与做内存快照类似，见上文）。CPU采样与线程快照分析如下：(已经定位到告警原因)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYX1rCQ/RpJ2j.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;可以对线程快照进一步分析，定位到线程的堆栈以及当时线程执行的URL请求，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYZHuqt/10KqLh.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_12"&gt;硬盘运行状况不佳&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;直接进入主机仪表板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2mxAA/C7G0x.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_13"&gt;内存运行状况不佳&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;直接进入主机仪表板查看内存使用率，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ3lGA6/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;分析占用物理内存的进程情况。&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;JVM使用的JVM代码区、JVM数据区、heap区都应该是固定的。但是JVM进程所使用的线程栈区、永久代、内核内存是可能随着应用程序吞吐量、业务量、负载量的变化而变化的。&lt;/p&gt;
&lt;p&gt;JVM是作为一个进程运行在Linux上的。从进程的角度来看，进程能直接访问的用户内存（虚拟内存空间）被划分为5个部分：代码区、数据区、堆区、栈区、未使用区。代码区中存放应用程序的机器代码，运行过程中代码不能被修改，具有只读和固定大小的特点。数据区中存放了应用程序中的全局数据，静态数据和一些常量字符串等，其大小也是固定的。堆是运行时程序动态申请的空间，属于程序运行时直接申请、释放的内存资源。栈区用来存放函数的传入参数、临时变量，以及返回地址等数据。未使用区是分配新内存空间的预备区域。&lt;/p&gt;
&lt;p&gt;JavaNIO使得JVM可以使用内核内存。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_14"&gt;网络运行状况不佳&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;直接进入主机仪表板查看网络利用率，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2o2RS/hLaMM.jpg"&gt;&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;dynaTrace告警确认及关闭&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;dynaTrace的告警确认及关闭需要登录客户端，进入到“事件”仪表板进行操作。具体如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ6HvHe/eop6b.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-21-analysis-events.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 22.数据流接口-PureLytics</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-22-purelytics.html</link><description>&lt;h2 id="_1"&gt;概览&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;PureLytics stream从AppMon Server发送实时UEM数据到外部数据源如Elasticsearch，这样你可以利用UEM数据作为大数据分析的一部分。流数据包括用户访问，用户行为和客户端错误。&lt;/p&gt;
&lt;p&gt;使用Elasticsearch，基于大量的访问和用户行为数据来做即席分析，并且结合来自其他源的分析数据。你可以通过使用可视化工具如Kibana做细节图和其他数据可视化来消耗来自外部源的存储组合数据，以此提供详细的用户体验分析。&lt;/p&gt;
&lt;p&gt;当启用时，PureLytics stream自动发送所有访问和用户行为的JSON数据到配置的HTTP端点。导出也可以在特定时间或session按命令触发。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX1LCylT/medium.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;关于Elasticsearch&lt;/p&gt;
&lt;p&gt;Elasticsearch is a highly scalable open-source search engine with a full-text search-engine library. It includes a distributed real-time document store where all fields are indexed and can be searched. Streaming live UEM data to Elasticsearch provides multi-dimensional Ad-hoc analysis on large data sets over long time frames.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="json-document"&gt;JSON Document 格式&lt;a class="headerlink" href="#json-document" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;访问，用户行为，和客户端错误数据作为JSON导出。对于访问、用户行为的Business Transactions也作为JSON的一部分导出。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JSON  Document 示例&lt;/p&gt;
&lt;p&gt;下表展示了导出JSON的示例&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Visit&lt;/th&gt;
&lt;th&gt;User Action&lt;/th&gt;
&lt;th&gt;Client Error&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/browser_visit.txt?version=3&amp;amp;modificationDate=1453723096180&amp;amp;api=v2"&gt;Browser Visit&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/browser_useraction.txt?version=6&amp;amp;modificationDate=1474979996337&amp;amp;api=v2"&gt;Browser User Action&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/javascript_error.txt?version=2&amp;amp;modificationDate=1453723238497&amp;amp;api=v2"&gt;Javascript Error&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_visit.txt?version=2&amp;amp;modificationDate=1453723109770&amp;amp;api=v2"&gt;Mobile Visit&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_useraction.txt?version=1&amp;amp;modificationDate=1453723162260&amp;amp;api=v2"&gt;Mobile User Action&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_web_request.txt?version=2&amp;amp;modificationDate=1453723254897&amp;amp;api=v2"&gt;Mobile Web Request&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_error_code.txt?version=1&amp;amp;modificationDate=1453723269387&amp;amp;api=v2"&gt;Mobile Error Code&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_exception.txt?version=1&amp;amp;modificationDate=1453723295607&amp;amp;api=v2"&gt;Mobile Exception&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/mobile_crash.txt?version=1&amp;amp;modificationDate=1453723428797&amp;amp;api=v2"&gt;Mobile Crash&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/javascript_warning.txt?version=1&amp;amp;modificationDate=1453973925313&amp;amp;api=v2"&gt;Javascript Warning &amp;amp; Info&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/blockquote&gt;
&lt;h2 id="purelytics-streamelasticsearchkibana"&gt;使用PureLytics Stream整合Elasticsearch和Kibana&lt;a class="headerlink" href="#purelytics-streamelasticsearchkibana" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;下列视频展示如何使用Kibana可视化来自PureLytics的数据的示例。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://s3.amazonaws.com/apmu-test-videos/RBZaCD-eEh41srh-wF0jkI/Whats_New_63_PurelyticsStream.mp4"&gt;PureLytics chats with ElasticSearch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;以下部分描述了使用Elasticsearch和Kibana来可视化PureLytics Stream的一般步骤。&lt;/p&gt;
&lt;h3 id="_2"&gt;需求和先决条件&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;需求和先决条件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Elasticsearch 1.5.2 or later. Elasticsearch 2.0.0 or higher is recommended because of the major stability improvements and improved resource use introduced in the 2.0.0 release.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elasticsearch requires a recent version of Java on the machine where Elasticsearch runs. You can install the latest Java version from &lt;a href="http://www.java.com/"&gt;www.java.com.&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Most later versions of Kibana work seamlessly with Elasticsearch. However, the latest version of Kibana is recommended because of the increased level of integration with Elasticsearch and more robust analytics and charting features.&lt;/li&gt;
&lt;li&gt;If running Elasticsearch on Windows, install cURL so you can quickly and conveniently submit requests to Elasticsearch. Download cURL from &lt;a href="http://curl.haxx.se/download.html"&gt;&lt;code&gt;http://curl.haxx.se/download.html&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Familiarity with Elasticsearch is needed for deploying Elasticsearch, creating nodes and clusters, indexing, and executing Elasticsearch queries.&lt;/li&gt;
&lt;li&gt;Familiarity with Kibana is needed for visualizing data.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="streaming-target"&gt;安装Streaming Target软件和可视化软件&lt;a class="headerlink" href="#streaming-target" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果尚未安装，&lt;a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/running-elasticsearch.html"&gt;install Elasticsearch&lt;/a&gt; 和 &lt;a href="https://www.elastic.co/downloads/kibana"&gt;install Kibana&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id="elasticsearch"&gt;启动Elasticsearch和配置集群&lt;a class="headerlink" href="#elasticsearch" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;必须启动Elasticsearch并且至少在一个节点启动一个集群来创建JSON documents。最佳选择是使用至少2个节点来运行Elasticsearch 集群。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;关于节点和集群的附加信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It is recommended to create and use multiple nodes rather than one node with more CPU cores.&lt;/li&gt;
&lt;li&gt;Node memory should be between 8 GB and 64 GB.&lt;/li&gt;
&lt;li&gt;Get the fastest SSD you can get to boost performance.&lt;/li&gt;
&lt;li&gt;Once started, communicate with Elasticsearch using the JSON based REST API residing at localhost port 9200. You can query Elasticsearch using cURL in Windows, or use graphical tools such as &lt;a href="http://www.telerik.com/fiddler"&gt;Fiddler&lt;/a&gt; or &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/restclient/"&gt;RESTClient&lt;/a&gt; on other platforms. You can also use Elasticsearch's &lt;a href="https://www.elastic.co/guide/en/sense/current/introduction.html"&gt;Sense&lt;/a&gt; plug-in, which is a simple user interface specifically for using ElasticSearch's REST API that includes auto-completion.&lt;/li&gt;
&lt;li&gt;See the official Elasticsearch documentation on &lt;a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/hardware.html"&gt;Hardware&lt;/a&gt; and &lt;a href="https://www.elastic.co/blog/found-sizing-elasticsearch"&gt;Sizing Elasticsearch&lt;/a&gt; for more information.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;查看Elasticsearch 官网的&lt;a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/running-elasticsearch.html"&gt;guide&lt;/a&gt;，来获取关于启动和使用Elasticsearch的更多信息。&lt;/p&gt;
&lt;h3 id="_3"&gt;应用一个动态模板&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;应用&lt;a href="https://community.dynatrace.com/community/download/attachments/221381017/dynamic_template.txt?version=2&amp;amp;modificationDate=1455701735027&amp;amp;api=v2"&gt;dynamic template&lt;/a&gt; 到集群。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;PUT&lt;/span&gt; &lt;span class="err"&gt;_template/dynatrace&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;order&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;template&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;dt_*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;settings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;number_of_shards&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;6&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;mappings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;useraction&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;dynamic_templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
           &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;allStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;mapping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not_analyzed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match_mapping_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;tagId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;agentId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                      &lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;geo_point&amp;quot;&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;resourceReport&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                   &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;cdn&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                       &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                         &lt;span class="nt"&gt;&amp;quot;domains&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nested&amp;quot;&lt;/span&gt;
                         &lt;span class="p"&gt;}&lt;/span&gt;
                       &lt;span class="p"&gt;}&lt;/span&gt;
                     &lt;span class="p"&gt;},&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;thirdParty&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                       &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                         &lt;span class="nt"&gt;&amp;quot;domains&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nested&amp;quot;&lt;/span&gt;
                         &lt;span class="p"&gt;}&lt;/span&gt;
                       &lt;span class="p"&gt;}&lt;/span&gt;
                     &lt;span class="p"&gt;}&lt;/span&gt;
                   &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;}&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;_parent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;},&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;dynamic_templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
           &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;allStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;mapping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not_analyzed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match_mapping_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                      &lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;geo_point&amp;quot;&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;}&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;},&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;quot;clienterror&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;quot;dynamic_templates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
           &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;allStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;mapping&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;not_analyzed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match_mapping_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;date&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;tagId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;agentId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                     &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;long&amp;quot;&lt;/span&gt;
                 &lt;span class="p"&gt;},&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;quot;properties&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                      &lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;geo_point&amp;quot;&lt;/span&gt;
                      &lt;span class="p"&gt;}&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                 &lt;span class="p"&gt;}&lt;/span&gt;
              &lt;span class="p"&gt;}&lt;/span&gt;
           &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;quot;_parent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
     &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;quot;aliases&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="purelytics-stream"&gt;配置PureLytics Stream&lt;a class="headerlink" href="#purelytics-stream" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要配置AppMon来实时流传输PureLytics数据，启用PureLytics stream功能，指定Elasticsearch端点和其他AppMon Server关于实时流的设置，然后为你想导出数据的每个系统配置文件启用PureLytics stream。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;配置PureLytics Stream&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在AppMon客户端设置里打开实时流(&lt;strong&gt;Settings &amp;gt; Dynatrace Server &amp;gt; Realtime Streaming &amp;gt; PureLytics Stream&lt;/strong&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检查&lt;strong&gt;Configure PureLytics Stream.&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;选择你想导出JSON数据的目标。 你可以导出它们到一个Elasticsearch 集群或一个通用的HTTP端点 (使用与Elasticsearch相同的块格式).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后数据到Elasticsearch集群的URL或在&lt;strong&gt;URL&lt;/strong&gt; field的通用HTTP端点（REST端口）。 &lt;strong&gt;注意:&lt;/strong&gt;  PureLytics Stream 会在输入的URL后加上 &lt;strong&gt;"/_bulk" &lt;/strong&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果你想使用HTTPS和使用非官方证书，可选&lt;strong&gt;Allow untrusted SLL&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用 &lt;strong&gt;Dispatch Interval(s)&lt;/strong&gt; and &lt;strong&gt;Queue Size&lt;/strong&gt;来设置每个请求块发送的数据量 和请求的间隔时间。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;​&lt;/p&gt;
&lt;p&gt;A request is sent when the internal document queue hits the size specified in &lt;strong&gt;Queue Size&lt;/strong&gt; &lt;strong&gt;and/or&lt;/strong&gt; after the amount of time specified in &lt;strong&gt;Dispatch Interval(s)&lt;/strong&gt;  has passed (&lt;em&gt;Dispatch Interval&lt;/em&gt;). Request size is approximately the number of documents times 2 kB. This depends heavily on factors such as configured Business Transactions and resource timings.&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381017/config%20dialogue.png?version=2&amp;amp;modificationDate=1474975218090&amp;amp;api=v2"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;点击&lt;strong&gt;OK&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在&lt;strong&gt; Cockpits&lt;/strong&gt; 标签页,双击指定的系统配置文件来打开 该配置文件的Preferences 会话框。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在常用标签页, 勾选&lt;strong&gt;PureLytics Stream&lt;/strong&gt; 并点击 &lt;strong&gt;OK&lt;/strong&gt;.&lt;br&gt;
&lt;img alt="Enable the PureLytics Stream for each System Profile you want to export" src="https://community.dynatrace.com/community/download/thumbnails/221381017/system_profile.png?version=3&amp;amp;modificationDate=1474975882020&amp;amp;api=v2"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id="_4"&gt;按命令导出&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;你可以在AppMon客户端按命令导出指定的数据，或者使用PureLytics Stream REST API来导出。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用Dynatrace 客户端&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;右存储的或实时的包含要导出数据的会话 并选择 &lt;strong&gt;PureLytics Stream&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381017/on_demand_export.png?version=3&amp;amp;modificationDate=1474976227450&amp;amp;api=v2"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;指定抓取的PureLytics stream的时间范围和哪些内容要导出（用户行为和/或访问）。 按需修改stream配置并点击 &lt;strong&gt;Stream&lt;/strong&gt;.&lt;br&gt;
&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381017/on_demand_export_dialogue.png?version=4&amp;amp;modificationDate=1474979722060&amp;amp;api=v2"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用REST接口&lt;/p&gt;
&lt;p&gt;使用REST API来触发和监控一个按命令导出。 更多信息查看 &lt;a href="https://community.dynatrace.com/community/pages/viewpage.action?pageId=221381578"&gt;PureLytics Stream (REST)&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a job that exports data with a POST request. For example:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;POST https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/analyticsstreamjob&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;​&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monitor the job with a GET request. For example:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;GET https://&amp;lt;server&amp;gt;:8021/rest/management/profiles/&amp;lt;profilename&amp;gt;/analyticsstreamjob/&amp;lt;jobId&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="kibana"&gt;在Kibana中可视化数据&lt;a class="headerlink" href="#kibana" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;必须配置至少一种索引模式来使用Kibana。索引模式识别你想要搜索和可视化PureLytics数据的索引。每个你指定的索引模式必须符合你的Elasticsearch索引的名称。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX1LBTRo/10UZbY.png"&gt;&lt;/p&gt;
&lt;h2 id="_5"&gt;技术细节和限制&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Documents在它们被分析后导出。 对于访问数据, 这意味者访问完成后documents才会被导出。一个访问在Elasticsearch中可视需要一定时间, 这个时间取决于访问的长度和配置的访问超时。&lt;/li&gt;
&lt;li&gt;每个配置的系统文件存储在&lt;em&gt;每个时间戳的索引上&lt;/em&gt;。每月创建一个索引，并以此命名。 例如, 开始于2016年1月的访问、用户行为和客户端错误 (使用document field &lt;code&gt;data.startTime&lt;/code&gt;) 存储于索引，命名为&lt;code&gt;dt_2016-01&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;PureLytics streaming使用Elasticsearch bulk API (&lt;a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html"&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html&lt;/a&gt;). AppMon UEM 添加 &lt;code&gt;/_bulk&lt;/code&gt; 到配置的URL之后  (仅当目标“Elasticsearch”被选中)。单一请求包含多个不同类型的documents。Bulk API也需要额外的元数据，实际数据包含多种信息, 包括使用的索引， document type, 和document ID。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dt_2016-03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_14036&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1860046861&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lnz124742d03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;systemProfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14036&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606705739&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606729349&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;23610&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;appVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.9&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitTag&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;additionalTags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceIndex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperience&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;satisfied&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceReason&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Satisfied&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;connectionType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;WIFI&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;bandwidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5496&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isConverted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isBounced&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isCrashed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pageViews&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;failedActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;landingPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SearchJourneyActivity&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1909&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;exitPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel - Terms of Use&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;289&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android 2.3.3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;manufacturer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Samsung&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;deviceName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Galaxy S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;modelId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;GT-I9000&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;resolution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;480x800&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;cpuInfo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;armv7&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isRooted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;6.1.1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lat&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;48.85832&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;2.29436&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;applicationBuildVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;ipAddress&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;159.108.218.157&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;continent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Europe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Ile-de-France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Neuilly&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;convertedBy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;businessTransactions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Conversion+visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Visits+by+connection+type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Connection+Type+of+Visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;WIFI&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;carrier&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Orange&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dt_2016-03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;visit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_14037&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1860046861&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lnz124742d03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;systemProfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14037&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606708560&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606709023&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel portal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;appVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitTag&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;additionalTags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Visits - App Version&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceIndex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperience&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;frustrated&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperienceReason&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;DueToErrorInLastAction&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;connectionType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Broadband&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;bandwidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5496&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isConverted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isBounced&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isCrashed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;pageViews&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;failedActions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;landingPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel - Terms of Use&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;exitPage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel - Terms of Use&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;463&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;browser&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android 4.0.x Ice Cream Sandwich&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;browserFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Chrome Mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;browserVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;38.0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;ipAddress&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;128.133.96.84&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;continent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;North America&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;United States&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Alabama&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Montgomery&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;convertedBy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;businessTransactions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Conversion+visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Visits+by+connection+type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Connection+Type+of+Visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Broadband (&amp;gt;1500 kb/s)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;browserErrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;videoStreams&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;audioStreams&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_index&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dt_2016-03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;useraction&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_1385397273_1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;parent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1860046861_14036&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1860046861&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;lnz124742d03&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;systemProfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;14036&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;tagId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;agentId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1385397273&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;startTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606705739&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;endTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1457606707648&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;visitTag&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;additionalTags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;searchJourney&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;prettyName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;searchJourney&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ActionEvent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;actionGroup&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Mobile ADK Actions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;actionGroupPerformanceBaseline&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;4000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;apdex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;userExperience&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;satisfied&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isFailed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;failingReasons&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;responseTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1909.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;networkContributionTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1665.6201&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverContributionTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;26.379906&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;thirdPartyContribution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;-1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;cdnContribution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;-1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;easyTravel mobile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;appVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.9&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;continent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Europe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Ile-de-France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Neuilly&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientDetails&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osFamily&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;osVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Android 2.3.3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;manufacturer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Samsung&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;deviceName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Galaxy S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;modelId&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;GT-I9000&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;resolution&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;480x800&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;cpuInfo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;armv7&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isRooted&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;6.1.1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;gpsCoordinates&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lat&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;48.85832&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;lon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;2.29436&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;applicationBuildVersion&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1234&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;isPortrait&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;batteryStatus&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.33563203&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;totalMemory&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;790&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;freeMemory&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.56&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;runningProcesses&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;networkTechnology&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;802.11x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;signalStrength&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;-115&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;xhrUrl&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;clientErrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;serverErrors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;perceivedRenderTime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;perceivedRenderTimeSlowestImageSrc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;source&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SearchJourneyActivity&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;viewDuration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;3593&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;target&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SearchJourneyActivity&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;resourceSummary&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;navTiming&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;onLoad&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;domready&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;metaData&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkStrings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;adkValues&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;businessTransactions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Pageview+Apdex+by+Country&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Apdex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Country+of+Visits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;France&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Pageview+Apdex+by+Application&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;measures&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;Apdex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;splittings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;}}}}&lt;/span&gt;
&lt;span class="err"&gt;(...)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-22-purelytics.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 23.相关网络权限</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-23-firewall.html</link><description>&lt;h2 id="_1"&gt;网络&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;建议Dynatrace的Agent与Collector放在同一网段或2者间无防火墙。&lt;/li&gt;
&lt;li&gt;建议Dynatrace Server与数据库放在同一网段，2者间无防火墙。&lt;/li&gt;
&lt;li&gt;Dynatrace Server和Dynatrace Collector间可以有防火墙，需要开通对应的权限。&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;From&lt;/th&gt;
&lt;th&gt;To&lt;/th&gt;
&lt;th&gt;Port&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;th&gt;协议&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Agent&lt;/td&gt;
&lt;td&gt;dynaTrace Collector&lt;/td&gt;
&lt;td&gt;9998&lt;/td&gt;
&lt;td&gt;建议同一网段，无防火墙。则次端口权限无需开通。&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Collector&lt;/td&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;6698&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;需要开通&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;dynaTrace Memory Analysis Server&lt;/td&gt;
&lt;td&gt;7788&lt;/td&gt;
&lt;td&gt;同一台机器或同一网段则无需开通。&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Client&lt;/td&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;2021&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dynaTrace Server&lt;/td&gt;
&lt;td&gt;数据库（以Oracle为例）&lt;/td&gt;
&lt;td&gt;1521&lt;/td&gt;
&lt;td&gt;其他DB开通对应端口&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Components to Connect&lt;/th&gt;
&lt;th&gt;Port non-SSL&lt;/th&gt;
&lt;th&gt;PortSSL or e. HTTP&lt;/th&gt;
&lt;th&gt;Protocol&lt;/th&gt;
&lt;th&gt;Comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Agent to Collector&lt;/td&gt;
&lt;td&gt;9998&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;Or Agent to Server-embedded Collector if enabled for demo scenarios&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Agent to Collector&lt;/td&gt;
&lt;td&gt;8042&lt;/td&gt;
&lt;td&gt;8043&lt;/td&gt;
&lt;td&gt;HTTP(S)&lt;/td&gt;
&lt;td&gt;For AppMon 6.2 and later, the node.js Agent uses this connection. 1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AppMon Web toFrontend Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;9911&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;td&gt;Port on which browser-based dashboardsget their data.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Browser to Server&lt;/td&gt;
&lt;td&gt;8020&lt;/td&gt;
&lt;td&gt;8021&lt;/td&gt;
&lt;td&gt;HTTP(S)&lt;/td&gt;
&lt;td&gt;Web interface for RESTful Server administration, to start the Webstart Client.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Client to Frontend Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;2021&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;For AppMon 6.5and later, non-SSL connections are no longer supported.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Client to Frontend Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8023&lt;/td&gt;
&lt;td&gt;HTTP&lt;/td&gt;
&lt;td&gt;Tunnel via HTTP. Sent data is by default encrypted using the AES algorithm&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Collector to Server&lt;/td&gt;
&lt;td&gt;(6698)&lt;/td&gt;
&lt;td&gt;6699&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;For AppMon 6.5 and later, non-SSL connections are no longer supported. For compatibility reasons with pre-6.5 collectors the 6698 plain port is still available and must be activated using the Client running in debug mode.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Collector to Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8033&lt;/td&gt;
&lt;td&gt;HTTP&lt;/td&gt;
&lt;td&gt;Tunnel via HTTP. Sent data is by default encrypted.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Collector to Server&lt;/td&gt;
&lt;td&gt;8040&lt;/td&gt;
&lt;td&gt;8041&lt;/td&gt;
&lt;td&gt;HTTP(S)&lt;/td&gt;
&lt;td&gt;For HTTP-based Agent connections 1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Frontend Server to Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;2031&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;The communication port between the Frontend Server and the backend server.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Memory Analysis Server to Server&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;7788&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;For AppMon 6.5 and later, non-SSL connections are no longer supported.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Slave Web Server agent to master Web Server agent&lt;/td&gt;
&lt;td&gt;8001&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;UDP&lt;/td&gt;
&lt;td&gt;The UDP port on which the master Web Server Agent should listen for data packets of the slave Web Server Agent&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;Important&lt;/p&gt;
&lt;p&gt;For performance reasons, do not pass communication between the AppMon Agent and the Collector through firewalls. Place a Collector as close as possible to the Agents.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="set-up-e-mail-communication"&gt;Set up E-Mail Communication&lt;a class="headerlink" href="#set-up-e-mail-communication" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;For more information, see &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Email"&gt;Email configuration&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="set-up-appmon-memory-analysis-server-communication"&gt;Set up AppMon Memory Analysis Server Communication&lt;a class="headerlink" href="#set-up-appmon-memory-analysis-server-communication" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;a href="https://community.dynatrace.com/community/download/attachments/221381541/ManageServersServicesAnalysisServer.png?api=v2"&gt;&lt;img alt="img" src="https://community.dynatrace.com/community/download/thumbnails/221381541/ManageServersServicesAnalysisServer.png?version=1&amp;amp;modificationDate=1398370369357&amp;amp;api=v2"&gt;&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Use this page to configure the connection settings to the AppMon Memory Analysis Server. For more information, see &lt;a href="https://community.dynatrace.com/community/display/DOCDT65/Set+up+a+Memory+Analysis+Server"&gt;Set up a Memory Analysis Server&lt;/a&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-23-firewall.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 24.手机ADK</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-24-mobile-adk.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;支持平台&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#adk"&gt;下载ADK&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;配置dynaTrace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;和应用整合&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;本地应用&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#web"&gt;关联Web请求&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ios-adk"&gt;iOS ADK安装和使用说明&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#adk_1"&gt;ADK安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;使用说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;日志&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;生命周期说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;总结&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#iosauto-instrumentation"&gt;iOS自动感知（Auto-Instrumentation）&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_8"&gt;自动化功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;自动感知概览&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;限制&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;支持平台&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Apple iOS 5或更高（armv7,armv7s或更高架构）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;谷歌Android2.2或更高&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="adk"&gt;下载ADK&lt;a class="headerlink" href="#adk" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;从&lt;a href="http://www.dynatrace.com/downloads/Downloads.aspx"&gt;http://www.dynatrace.com/downloads/Downloads.aspx&lt;/a&gt;下载&lt;em&gt;dynatrace-mobile-adk-$VERSION.$BUILD.zip&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;配置dynaTrace&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;安装步骤和安装UEM类似：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;进行基本的dynaTrace安装。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;应用UEM license，包括访问数。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装Agent和用户体验Sensor在应用服务器或web服务器上。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;和应用整合&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;对于和把ADK和手机应用整合的具体细节，参见下面的相关章节。&lt;/p&gt;
&lt;h3 id="_3"&gt;本地应用&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;iOS ADK&lt;/h4&gt;
&lt;p&gt;参见&lt;strong&gt;iOS ADK安装和使用说明&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;iOS 自动化使用说明&lt;/h4&gt;
&lt;p&gt;参见&lt;strong&gt;iOS自动化使用说明&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Android ADK&lt;/h4&gt;
&lt;p&gt;参见&lt;strong&gt;Android ADK安装和使用说明&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Android应用（APK）使用说明&lt;/h4&gt;
&lt;p&gt;参见&lt;strong&gt;Android使用说明&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;Hybrid应用&lt;/h4&gt;
&lt;p&gt;参见&lt;strong&gt;Hybrid应用安装和使用说明&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="web"&gt;关联Web请求&lt;a class="headerlink" href="#web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="ios-adk"&gt;iOS ADK安装和使用说明&lt;a class="headerlink" href="#ios-adk" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="adk_1"&gt;ADK安装&lt;a class="headerlink" href="#adk_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;1. 解包ADK到任意目录&lt;/h4&gt;
&lt;h4&gt;2. 添加这些文件到你的Xcode项目和iOS target：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libCompuwareUEM.a&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CompuwareUEM.h&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;3. 添加需要的框架和库到你的Xcode项目。&lt;/h4&gt;
&lt;p&gt;在项目导航里，选择你的项目，选择target，选择&lt;strong&gt;Build Phases&lt;/strong&gt;标签页，展开&lt;strong&gt;Link Binaries with Libraries&lt;/strong&gt;，点击 &lt;strong&gt;+&lt;/strong&gt; 按钮，选择下列框架和库：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;libsqlite3.dylib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CoreLocation.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CoreTelephony.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Security.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SystemConfiguration.framework&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libz.dylib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libc++.dylib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MessageUI.framework&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;4. 添加flags到&lt;strong&gt;Other Linker Flags&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;在项目导航里，选择你的项目，选择你的target，选择&lt;strong&gt;Build Settings&lt;/strong&gt;，添加如下设置到&lt;strong&gt;Other Linker Flags&lt;/strong&gt;设置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-Objc&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;5. 设置编译选项&lt;strong&gt;Strip Style&lt;/strong&gt;为&lt;strong&gt;Debugging Symbols&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;这会使你的包稍微增大，但是会保留完整的设备崩溃信息。&lt;/p&gt;
&lt;h4&gt;6. 添加文档到Xcode：&lt;/h4&gt;
&lt;p&gt;复制&lt;em&gt;com.compuware.uem.iOS.CompuwareUEM.docset&lt;/em&gt;*到下列路径 ~/Library/Developer/Shared/Documentation/DocSets&lt;/p&gt;
&lt;h4&gt;7. 基于Swift编程app的手工操作说明：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;创建一个包括Mobile Agent header的Bridging header&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;ifndef&lt;/span&gt; &lt;span class="n"&gt;myApp_Bridging_Header_h&lt;/span&gt;

&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;myApp_Bridging_Header_h&lt;/span&gt;

&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="kd"&gt;import&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CompuwareUEM.h&amp;quot;&lt;/span&gt;

&lt;span class="cp"&gt;#endif&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;在项目导航，选择你的项目，选择你的target，选择&lt;strong&gt;Build Settings&lt;/strong&gt;，添加先下列选项到&lt;strong&gt;Objective-C Bridging Header&lt;/strong&gt; 设置：$(SRCROOT)/myApp/Bridging-Header.h&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;使用说明&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CompuwareUEM.h中定义了2个类来instrument你的iOS app。CompuwareUEM类用于管理ADK的操作。UEMAction类用于创建行为和相关报告。&lt;/p&gt;
&lt;h4&gt;CompuwareUEM&lt;/h4&gt;
&lt;h5&gt;setMonitorCookie&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (void) setMonitorCookie:(NSString *)cookieString`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cookieString&lt;/td&gt;
&lt;td&gt;A cookie string such as MIGRATION_FLAG=3 or n1=v1; n2=v2. Pass nil to remove the Cookie header from requests.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;设置由ADK发送（当和后端建立链接或者发送数据到后端）的HTTP Cookie header的每个HTTP GET/POST请求。只有当你的网络架构里需要该cookie，这个方法才是必须的。这个方法必须被包含在startupWithApplicationName:serverURL:allowAnyCert:certificatePath:之前，来确保最早的请求也包括该cookie。它可以随时被再次调用（invoke）来改变cookie string。&lt;/p&gt;
&lt;h5&gt;startupWithApplicationName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;+ (CPWR_StatusCode) startupWithApplicationName:(NSString *)applicationId
                                      serverURL:(NSString *)serverURL
                                   allowAnyCert:(BOOL)allowAnyCert
                                certificatePath:(NSString *)pathToCertificateAsDER
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;applicatonName&lt;/td&gt;
&lt;td&gt;用户定义的应用识别符 (eg. @"EasyTravel" ). 在应用名称里不要使用下划线（_）。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;serverURL&lt;/td&gt;
&lt;td&gt;嵌入UEM agent的web server的URL (e.g. &lt;code&gt;http://myhost.mydomain.com:8080/agentLocation/&lt;/code&gt;). 包括使用的传输协议( https or   http ) 和这个应用的dynaTrace UEM设置里指定的Agent 位置.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;allowAnyCert&lt;/td&gt;
&lt;td&gt;允许https通讯的任何认证。这个参数只在server name里指定https协议时生效&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pathToCertificateAsDER&lt;/td&gt;
&lt;td&gt;在DER规格料理的到证书（自签署）的路径；或nil。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;ADK成功启动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;&lt;em&gt;applicatonName&lt;/em&gt;或&lt;em&gt;serverURL&lt;/em&gt;参数为nil或空字符串。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;&lt;em&gt;applicatonName&lt;/em&gt;超过255个字符。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotInitialized&lt;/td&gt;
&lt;td&gt;数据库没有初始化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;关闭中；完成后重启&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;调用该方法来实例化ADK。&lt;strong&gt;该方法必须在任何其他方法调用前被引用（invoked）。&lt;/strong&gt;如果在ADK没有关闭前，对该方法的多次调用将被忽略。如果&lt;em&gt;allowAnyCert&lt;/em&gt;和使用自签名证书，那么需要用DER格式认证，它是被用作一个额外的锚点（anchor）来验证HTTPS通讯。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="bp"&gt;NSString&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;pathToCertificateAsDER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="bp"&gt;NSBundle&lt;/span&gt; &lt;span class="n"&gt;mainBundle&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="nl"&gt;pathForResource&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;easyTravelServerCert&amp;quot;&lt;/span&gt; &lt;span class="nl"&gt;ofType&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;der&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;shutdown&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;+ (CPWR_StatusCode) shutdown
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;成功关闭&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;调用该方法来关闭ADK。收集的数据被发送到dynaTrace Server。这个方法直到本次操作成功或失败才会返回值。你不应该在主线程中调用该方法，因为它会导致你的UI无响应。如果操作失败，数据会保留。在数据过期前如果ADK被重启，数据会之后再次发送。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;enableCrashReportingWithReport&lt;/h5&gt;
&lt;p&gt;取决于使用的语法，&lt;em&gt;enableCrashReportingWithReport&lt;/em&gt;方法可以发送crash报告到dynaTrace Server， HockeyApp Server，Quincy Server或Victory Server，或发送crash电子邮件报告到指定接收者。&lt;/p&gt;
&lt;h6&gt;dynaTrace Server&lt;/h6&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) enableCrashReportingWithReport:(BOOL)sendCrashReport`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;sendCrashReport&lt;/td&gt;
&lt;td&gt;&lt;em&gt;True&lt;/em&gt;：发送完整crash报告。&lt;em&gt;False&lt;/em&gt;：只发送crash事件，不包含全部细节。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingUnavailable&lt;/td&gt;
&lt;td&gt;无法启用crash报告&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingAvailable&lt;/td&gt;
&lt;td&gt;crash报告已启用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK没有初始化或ADK没有在收集数据&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;这个方法会激活ADK中的KSCrash框架来抓取信号和未处理的例外。crash发生时，在设备上一份报告被保存。app下次启动后，报告会被处理。如果参数为&lt;em&gt;True&lt;/em&gt;，完整的iOS crash报告被发送到dynaTrace Server.否则包括一些关于crash线程的信息被发送，而不是完整的报告。如果在七天内相同的例外再次发生，crash数据不会被再次报告，但是附带之前已被报告的crash数据的crash事件会被报告。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;~~关于发送到其他Server，略。~~&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;setGpsLocation&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) setGpsLocation:(id)gpsLocation`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;gpsLocation&lt;/td&gt;
&lt;td&gt;从用户应用获得的带有GPS坐标的&lt;em&gt;CLLocation&lt;/em&gt;对象&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;ADK实例化，GPS坐标被接收。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK没有实例化，GPS坐标被接收。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;参数非法&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;使用该方法记录用户的当前GPS位置。ADK不会自动收集任何位置信息。当前dynaTrace Server版本不会对GPS位置信息进行处理，但是未来版本的dynaTrace会。&lt;/p&gt;
&lt;h5&gt;lastErrorCode&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) lastErrorCode`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;返回与最近的内部ADK错误有关的错误代码。返回&lt;em&gt;0&lt;/em&gt;表示没有错误。&lt;/p&gt;
&lt;h5&gt;lastErrorMsg&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (NSString *) lastErrorMsg`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;返回与最近的内部ADK错误有关的错误信息。如果没有错误会返回nil。&lt;/p&gt;
&lt;h5&gt;flushEvents&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`+ (CPWR_StatusCode) flushEvents`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;ADK实例化。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK没有实例化。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;立即发送所有收集到的事件。为了减少网络阻塞/使用，收集的事件通常以包的形式来发送，最老的事件超过9分钟。使用该方法强制发送所有的收集到的事件而不管事件的收集时间。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4&gt;UEMAction&lt;/h4&gt;
&lt;h5&gt;enterActionWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    + (UEMAction *) enterActionWithName:(NSString *)actionName
    + (UEMAction *) enterActionWithName:(NSString *)actionName
                           parentAction:(UEMAction *)parentAction
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;actionName&lt;/td&gt;
&lt;td&gt;行为名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parentAction&lt;/td&gt;
&lt;td&gt;当前行为的UEMAction对象&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;&lt;em&gt;parentAction&lt;/em&gt;为nil，&lt;em&gt;parentAction&lt;/em&gt;已经结束，或行为名为nil或空&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK没有实例化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;行为名被缩短到最大长度。这是warning；行为仍然会创建。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;ADK内部错误发生&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;启动一个行为，会在dynaTrace里产生一条手机行为。在你想计时的代码的开头调用该方法。你必须通过调用&lt;em&gt;leaveAction&lt;/em&gt;设置行为结束。如果行为被成功创建，返回值是non-nil。如果报错，返回值是nil。调用lastErrorCode 或 lastErrorMsg来定位错误。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;返回的&lt;em&gt;UEMAction&lt;/em&gt;被保留，因此它如果不再需要那么必须被释放（只在non-ARC环境合法）。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;leaveAction&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (CPWR_StatusCode) leaveAction`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;行为成功结束&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK已经关闭&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;已经结束。这意味着&lt;em&gt;leaveAction&lt;/em&gt;已经在该行为或其父行为被调用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;发生数据库错误&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionNotFound&lt;/td&gt;
&lt;td&gt;行为不再存在。如果行为保持打开的时间大于发送间隔会发生。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;结束以前开始的行为。所有在一个行为开始结束之间的报告事件，值，或被标记的web请求讲师行为的一部分，例如嵌入手机行为的PurePath。调用该方法在你想计时的代码结尾。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;endVisit&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- (CPWR_StatusCode) endVisit
+ (CPWR_StatusCode) endVisit
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;行为成功结束&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK已经关闭&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;已经关闭。这意味着&lt;em&gt;leaveAction&lt;/em&gt;已经被该行为或其父行为调用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;数据库错误&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupportedInFreeMode&lt;/td&gt;
&lt;td&gt;该操作只支持更高版本&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;结束当前访问，关闭所有当前行为（actions），传输期间的数据给server，然后开始一个新的访问。&lt;/p&gt;
&lt;h5&gt;reportEventWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (CPWR_StatusCode) reportEventWithName:(NSString *)eventName`
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;eventName&lt;/td&gt;
&lt;td&gt;事件名&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;行为成功结束&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK已经关闭&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;已经关闭。这意味着&lt;em&gt;leaveAction&lt;/em&gt;已经被该行为或其父行为调用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;事件名为nil或空&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;事件名被压缩到最大长度。这是warning；事件仍然会被创建&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;发生数据库错误&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;发送一个事件到dynaTrace，会产生一个节点的手机行为PurePath.&lt;/p&gt;
&lt;h5&gt;reportValueWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    - (CPWR_StatusCode) reportValueWithName:(NSString *)valueName
                                   intValue:(NSInteger)value
    - (CPWR_StatusCode) reportValueWithName:(NSString *)valueName
                                doubleValue:(double)doubleValue
    - (CPWR_StatusCode) reportValueWithName:(NSString *)valueName
                                stringValue:(NSString *)stringValue
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;valueName&lt;/td&gt;
&lt;td&gt;值的名称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intValue&lt;/td&gt;
&lt;td&gt;0-2147483的整型值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;doubleValue&lt;/td&gt;
&lt;td&gt;double值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;stringValue&lt;/td&gt;
&lt;td&gt;字符串值&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;值被成功创建&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK已经关闭&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_actionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;已经结束。这意味着&lt;em&gt;leaveAction&lt;/em&gt;已经被该行为或其父行为调用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;值的名称为nil或空&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;值的名称已经被限制到最大长度。这是warning：事件仍会创建&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;数据库发生错误&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupprotedInFreeMode&lt;/td&gt;
&lt;td&gt;免费版不支持含有&lt;em&gt;doubleValue&lt;/em&gt;的&lt;em&gt;reportValueWithName&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;发送一个键/值对到dynaTrace，会产生一个节点的手机行为PurePath。这个值可以通过方法进行图表处理。&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;reportErrorWithName&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    - (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                 errorValue:(NSInteger)errorValue
    - (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                  exception:(NSException *)exception
    + (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                 errorValue:(NSInteger)errorValue
    + (CPWR_StatusCode) reportErrorWithName:(NSString *)errorName
                                  exception:(NSException *)exception
&lt;/pre&gt;&lt;/div&gt;


&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;errorName&lt;/td&gt;
&lt;td&gt;值的名称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;errorValue&lt;/td&gt;
&lt;td&gt;错误整型值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;exception&lt;/td&gt;
&lt;td&gt;例外描述被发送到Server&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;返回值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;错误值被成功创建&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;ADK已经关闭（或类的方法还没有实例化）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;&lt;em&gt;UEMAction&lt;/em&gt;已经被关闭。这意味着&lt;em&gt;leaveAction&lt;/em&gt;已经被该行为或其副行为调用。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;值名称为nil或空&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;错误名已经被压缩至最大长度，这是warning；错误仍然会被创建。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InternalError&lt;/td&gt;
&lt;td&gt;发生数据库错误。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupportedInFreeMode&lt;/td&gt;
&lt;td&gt;带有&lt;em&gt;exception&lt;/em&gt;的&lt;em&gt;reportErrorWithName&lt;/em&gt;在免费版中不受支持。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5&gt;getRequestTagHeader&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (NSString *) getRequestTagHeader`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;你必须添加一个Web请求到dynaTrace Server，链接&lt;em&gt;UEMAction&lt;/em&gt;到PurePath中，会返回HTTP头的名称。你不应该像平常那样调用该方法，因为该自动化请求标签应该抓取所有的网络请求。&lt;/p&gt;
&lt;h5&gt;getRequestTagValue&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;`- (NSString *) getRequestTagValue`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;返回由&lt;em&gt;getRequestTagHeader&lt;/em&gt;返回的HTTP头的值。你不应该像平常那样调用该方法，因为该自动化请求标签应该抓取所有的网络请求。&lt;/p&gt;
&lt;h4&gt;返回值定义&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;代码&lt;/th&gt;
&lt;th&gt;值&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOff&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;数据抓取关闭&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_UemOn&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;数据抓取开启，或方法被成功调用。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingUnavailable&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&lt;em&gt;KSCrash&lt;/em&gt;框架无法实例化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_CrashReportingAvailable&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;&lt;em&gt;KSCrash&lt;/em&gt;成功实例化。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotInitialized&lt;/td&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;ADK实例化失败&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidRange&lt;/td&gt;
&lt;td&gt;-2&lt;/td&gt;
&lt;td&gt;整型值超过界限0-2147483&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionNotFound&lt;/td&gt;
&lt;td&gt;-4&lt;/td&gt;
&lt;td&gt;当使用JavaScript bridge，这意味着行为名没有找到&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_InvalidParameter&lt;/td&gt;
&lt;td&gt;-5&lt;/td&gt;
&lt;td&gt;非法字段被发送给一个ADK方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_ActionEnded&lt;/td&gt;
&lt;td&gt;-6&lt;/td&gt;
&lt;td&gt;在已经被&lt;em&gt;leaveAction&lt;/em&gt;方法结束的行为执行了一个操作&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_ReportErrorOff&lt;/td&gt;
&lt;td&gt;-8&lt;/td&gt;
&lt;td&gt;dynaTrace Server已禁用错误报告。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_TruncatedEventName&lt;/td&gt;
&lt;td&gt;-9&lt;/td&gt;
&lt;td&gt;一个行为，错误，或值名称太长而被压缩。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CPWR_Error_NotSupportedInFreeMode&lt;/td&gt;
&lt;td&gt;-11&lt;/td&gt;
&lt;td&gt;该方法在免费版不被支持&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="_5"&gt;日志&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;你可以启用日志并且通过添加&lt;em&gt;cpwrUEM_logging&lt;/em&gt;来设置日志级别。日志关键词在应用的&lt;em&gt;info.plist&lt;/em&gt;文件。参见&lt;strong&gt;iOS自动安装说明&lt;/strong&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;实例说明&lt;br&gt;
像这样，下列代码将创建一个用户行为PurePath：&lt;br&gt;
&lt;em&gt;示例PurePath&lt;/em&gt;&lt;br&gt;
&lt;img alt="用户行为PurePath" src="http://pic.yupoo.com/east4ming_v/FjNDMj8O/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;```swift&lt;br&gt;
    #import "CompuwareUEM.h"&lt;br&gt;
    - (BOOL)application:(UIApplication &lt;em&gt;)application didFinishLaunchingWithOptions:(NSDictionary &lt;/em&gt;)launchOptions&lt;br&gt;
    {&lt;br&gt;
        ...&lt;br&gt;
        // initialize CompuwareUEM here or anywhere else (mind that actions and events that occur before initialization are not reported to dynaTrace!)&lt;br&gt;
        [CompuwareUEM startupWithApplicationName:@"easyTravel"&lt;br&gt;
                                       serverURL:@"http://easytravel.example.com:8080/eT/"&lt;br&gt;
                                    allowAnyCert:NO&lt;br&gt;
                                 certificatePath:nil];&lt;br&gt;
        ...&lt;br&gt;
    }&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;IBAction&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="nf"&gt;performSearch:&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="nv"&gt;sender&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
    &lt;span class="c1"&gt;// [1a] start action &amp;quot;search&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="nl"&gt;enterActionWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;search&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [2] named event inside an action&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="nl"&gt;reportEventWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;searchStart&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [3a] starting sub-action&lt;/span&gt;
    &lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;UEMAction&lt;/span&gt; &lt;span class="nl"&gt;enterActionWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;searchRequest&amp;quot;&lt;/span&gt;
                                         &lt;span class="nl"&gt;parentAction&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [4] NSURLRequest and NSMutableURLReqest are tagged automatically&lt;/span&gt;
    &lt;span class="bp"&gt;NSError&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="bp"&gt;NSHTTPURLResponse&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="bp"&gt;NSURL&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;searchURL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="bp"&gt;NSURL&lt;/span&gt; &lt;span class="nl"&gt;URLWithString&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                         &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;NSString&lt;/span&gt; &lt;span class="nl"&gt;stringWithFormat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;http://127.0.0.1:8080/ajax/TimeService?tz=GMT&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt; &lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;]]]&lt;/span&gt; &lt;span class="k"&gt;retain&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="bp"&gt;NSData&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;NSURLConnection&lt;/span&gt; &lt;span class="nl"&gt;sendSynchronousRequest&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="bp"&gt;NSURLRequest&lt;/span&gt; &lt;span class="nl"&gt;requestWithURL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;searchURL&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                         &lt;span class="nl"&gt;returningResponse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="nl"&gt;error&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;searchURL&lt;/span&gt; &lt;span class="k"&gt;release&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="c1"&gt;// [x] report an error if communication fails&lt;/span&gt;
        &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="nl"&gt;reportErrorWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;CommunicationError&amp;quot;&lt;/span&gt; &lt;span class="nl"&gt;errorValue&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="p"&gt;]];&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="c1"&gt;// [5] custom value inside an action&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="nl"&gt;reportValueWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;responseCode&amp;quot;&lt;/span&gt; &lt;span class="nl"&gt;intValue&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="n"&gt;statusCode&lt;/span&gt;&lt;span class="p"&gt;]];&lt;/span&gt;
    &lt;span class="c1"&gt;// [3b] end action &amp;quot;searchRequest&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="n"&gt;leaveAction&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [6] named event on successful completion&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="nl"&gt;reportEventWithName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;searchEnd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="c1"&gt;// [1b] end action &amp;quot;search&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="n"&gt;leaveAction&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_6"&gt;生命周期说明&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在应用中很早实例化ADK来抓取初始视图展现或者使用自动启动功能。从&lt;em&gt;main()&lt;/em&gt;调用&lt;em&gt;startupWithApplicationName&lt;/em&gt;是可以的。&lt;/p&gt;
&lt;h4&gt;限制&lt;/h4&gt;
&lt;p&gt;在dynaTrace5.6之前的版本，在&lt;strong&gt;System Profile-Error Detection&lt;/strong&gt;条件中的特殊字符（如：空格）被ADK使用下划线自动替换。确定你有正确的比较字符串，因为5.6及以后版本的ADK不会替换这些字符串。&lt;/p&gt;
&lt;h3 id="_7"&gt;总结&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;添加iOS ADK到应用会增加如下大小：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;架构&lt;/th&gt;
&lt;th&gt;大小&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;armv7&lt;/td&gt;
&lt;td&gt;340KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;armv7s&lt;/td&gt;
&lt;td&gt;340KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;arm64&lt;/td&gt;
&lt;td&gt;325KB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;All three&lt;/td&gt;
&lt;td&gt;980KB&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;行为，事件，错误被自动创建或者通过ADK API被储存在一个在应用的Document路径的SQLite 数据库。平均下来，这些项在数据库中大概占用150 bytes。大小取决于项中的字符串的长度，像名称、错误信息。&lt;br&gt;
默认情况下，ADK储存项在数据库中一直到2min在发送给Server端或者删除。你可以在dynaTrace 客户端管理发送间隔。&lt;/p&gt;
&lt;h2 id="iosauto-instrumentation"&gt;iOS自动感知（Auto-Instrumentation）&lt;a class="headerlink" href="#iosauto-instrumentation" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Auto-Instrumentation for iOS&lt;/em&gt;允许任何人通过手机App ADK来监控iOS应用。该说明程序是自动添加标准手机App ADK到应用而不用手动修改源代码。标准手机App ADK用于自动化的处理进程。自动化添加的应用和手动添加的应用收集到的基本数据是一样的。该方法提供应用、crash监测、应用启动和web交易相应时间性能监控真实用户体验流。&lt;/p&gt;
&lt;h3 id="_8"&gt;自动化功能&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下列功能是自动感知的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ADK自动启动-你必须使用instrumentation keys来配置自动启动。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生命周期数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;crash报告&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;web请求标记（tagging）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;web请求事件（报告执行时间和认证第三方请求）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;web视图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自动用户行为检测（真实用户行为像点按按钮及其他浏览操作和控制的监测和计时）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ADK 日志记录-你必须使用相应的instrumentation key来启动自动日志记录&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所有这些功能默认开启。你可以禁用或改进这些自动感知功能通过添加&lt;strong&gt;&lt;em&gt;configuration keys&lt;/em&gt;&lt;/strong&gt;到你的应用的&lt;em&gt;info.plist&lt;/em&gt;文件。&lt;br&gt;
你可以把自动感知和手动赶集结合起来。例如，你可能想在开发阶段手动获取确切用户定义的行为（并报告数值和事件），然后使用自动感知添加上列功能到你的应用。&lt;/p&gt;
&lt;h3 id="_9"&gt;自动感知概览&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;链接iOS 手机ADK静态库到你的应用并且编译进Xcode。参见&lt;strong&gt;iOS ADK安装使用说明&lt;/strong&gt;获取更多细节。&lt;/li&gt;
&lt;li&gt;添加keys到你的应用的&lt;em&gt;info.plist&lt;/em&gt;文件，配置自动感知。&lt;/li&gt;
&lt;li&gt;在编译期间自动感知发生。之后应用会感知在&lt;em&gt;info.plist&lt;/em&gt;文件中的级别配置。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;感知配置&lt;/h4&gt;
&lt;p&gt;下表的keys（properties）是自动感知的配置选项。根据需要添加keys到你的应用的info.plist文件。其中的很多属性值参考&lt;strong&gt;CompuwareUEM 手机App ADK API&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;关键字&lt;/th&gt;
&lt;th&gt;关键字类型&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_logging.level&lt;/td&gt;
&lt;td&gt;字符串&lt;/td&gt;
&lt;td&gt;如果该关键词合法（ALL,FINEST,FINER,FINE,CONFIG,INFO,WARNING,SEVERE,OFF），ADK日志记录就会自动启用对应等级。如果关键字没是哟个或者没有合法值，自动记录日志&lt;strong&gt;关闭&lt;/strong&gt;，你必须手动在应用中开启日志记录功能。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM.setMonitorCookie&lt;/td&gt;
&lt;td&gt;字符串&lt;/td&gt;
&lt;td&gt;如果配置该关键字，该值会自动作为HTTP请求到&lt;em&gt;serverUrl&lt;/em&gt;(参见&lt;em&gt;cpwrUEM_startup.agentpath&lt;/em&gt;)的一个cookie，这样他们可以通过你的基础架构需求。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.agentPath&lt;/td&gt;
&lt;td&gt;字符串&lt;/td&gt;
&lt;td&gt;如果该关键字配置一个合法的值，ADK将自动启动，使用该值作为&lt;em&gt;serverUrl&lt;/em&gt;,并将忽略你app中任何手动的&lt;em&gt;startupWithApplicationName&lt;/em&gt;调用。&lt;em&gt;serverUrl&lt;/em&gt;需要使用http://或https://传输。如果没配置，你必须手动调用&lt;em&gt;startupWithApplicationName&lt;/em&gt;来启动ADK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.sApplId&lt;/td&gt;
&lt;td&gt;字符串&lt;/td&gt;
&lt;td&gt;如果配置该关键字，它的值会被用作你应用的名称。如果没有配置，ADK将使用在main bundle中的应用名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.useAnyCert&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认值是&lt;em&gt;NO&lt;/em&gt;。该关键字等价于启动时调用&lt;em&gt;allowAnyCert&lt;/em&gt;参数。如果设置为&lt;em&gt;YES&lt;/em&gt;，所有证书都会被接受。如果设置为&lt;em&gt;NO&lt;/em&gt;，来自已知认证机构的合法证书会被接受；如果提供了一个自签名证书（参见&lt;em&gt;cpwrUEM_startup.certPath&lt;/em&gt;）,将检查它的有效性。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_startup.certPath&lt;/td&gt;
&lt;td&gt;字符串&lt;/td&gt;
&lt;td&gt;默认值为nil。该关键字定义了一个DER格式的（自签名）证书路径，用作一个额外的anchor来验证HTTPS通讯。如果&lt;em&gt;cpwrUEM_startup.useAnyCert&lt;/em&gt;是&lt;em&gt;NO&lt;/em&gt;,并且server上用了一个自签名的证书，那么需要使用该关键字。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_crash.reporting&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认值是&lt;em&gt;YES&lt;/em&gt;。crash报告默认自动启用。如果你不想启动crash报告，你必须使用该关键字，并设置值为&lt;em&gt;NO&lt;/em&gt;。如果你想报告crashes到一个不是dynaTrace server的server上，或者启用发送crash email通知，在你的代码里添加合适的&lt;em&gt;enableCrashReportingWithReport&lt;/em&gt; API调用来覆盖默认配置。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_crash.sendCrashReport&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认值是&lt;em&gt;YES&lt;/em&gt;。对于&lt;em&gt;enableCrashReportingWithReport&lt;/em&gt;发送crash报告到dynaTrace server，它和&lt;em&gt;sendCrashReport&lt;/em&gt;字段是等价的。如果你不想设置发送crash报告，设置该关键字为&lt;em&gt;NO&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.lifecycleMonitoring&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认值是&lt;em&gt;YES&lt;/em&gt;。不用使用iOS ADK生命周期类覆盖你的view controller 类，自动生命周期监测是启用的。设置该值为&lt;em&gt;NO&lt;/em&gt;来禁用自动生命周期监测。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.webRequestTagging&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认是&lt;em&gt;YES&lt;/em&gt;，打开自动web请求标记。注意，如果&lt;em&gt;webRequestTiming&lt;/em&gt;被启用，&lt;em&gt;webRequestTagging&lt;/em&gt;也会启用，因为有依赖关系。要关闭自动web请求标记，你需要把&lt;em&gt;webRequestTiming&lt;/em&gt;和&lt;em&gt;webRequestTagging&lt;/em&gt;都设置为&lt;em&gt;NO&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.webRequestTiming&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认是&lt;em&gt;YES&lt;/em&gt;，即开启自动web请求计时。设置为&lt;em&gt;NO&lt;/em&gt;禁用。注意该关键字和&lt;em&gt;webRequestTagging&lt;/em&gt;相互依赖。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.wrapWebRequestInAction&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认值是&lt;em&gt;YES&lt;/em&gt;。如果一个手动用户行为或自动用户行为不可用，就自动把web请求包进用户行为里。设置该值为&lt;em&gt;NO&lt;/em&gt;来禁用自动web请求行为包裹。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.autoUserAction&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;默认值是&lt;em&gt;YES&lt;/em&gt;。可以自动创建用户和app交互的行为（按按钮，跳转至其他页面，表单浏览选择等）.设置该值为&lt;em&gt;NO&lt;/em&gt;来禁用该功能。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_action.autoActionTimeoutMs&lt;/td&gt;
&lt;td&gt;数字&lt;/td&gt;
&lt;td&gt;The default value is 500 ms. It sets the value for how long a particular automatic user action is active. The purpose is to catch all web requests that happen when an automatic user action is active. If the automatic user action has completed web requests, the ADK leaves the action at the end of this time. The minimum allowed value is 100 ms, the maximum allowed value is 5000 ms (5 seconds).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_action.autoActionMaxDurationMs&lt;/td&gt;
&lt;td&gt;数字&lt;/td&gt;
&lt;td&gt;The default value is 60000 ms (60 seconds). It sets the value for how long a particular automatic user action is retained before being deleted. The purpose is to catch all web requests that happen when an automatic user action is active. If the automatic user action has pending web requests (because they are taking a long time to complete), the ADK waits for this amount of time for the web requests to complete before leaving the user action. The minimum allowed value is 100 ms, the maximum allowed value is 540000 ms (9 minutes).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_action.sendEmptyAutoAction&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;The default value is NO. It determines whether to send automatic user actions if they do not contain any web requests or lifecycle actions.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.webViewTiming&lt;/td&gt;
&lt;td&gt;布尔&lt;/td&gt;
&lt;td&gt;The default value is YES . It automatically detects and times  web views in your hybrid app. Set the value to   to disable automatic detection and timing of web views.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.excludeControls&lt;/td&gt;
&lt;td&gt;数组&lt;/td&gt;
&lt;td&gt;This key defines an array of items where each item contains a type of view or control to exclude from automatic creation of user actions. Each item in the array is a case-insensitive string. The possible values are Button， toolBar segmentedControl tableView tabBar alertView and  pageView navigationController collectionView actionSheet&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpwrUEM_instr.excludeLifecycleClasses&lt;/td&gt;
&lt;td&gt;数组&lt;/td&gt;
&lt;td&gt;This is an array of items where each item contains the name of a class to exclude from automatic lifecycle instrumentation. Each item in the array is a case-sensitive string that must &lt;strong&gt;exactly&lt;/strong&gt; match the name of the class to be  excluded.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="_10"&gt;限制&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;~~2698页~~&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-24-mobile-adk.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 20.报告功能</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-20-reporting.html</link><description>&lt;h2 id="_1"&gt;综述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;dynaTrace可以将dashboard和dashlet转换为自定义的报告。&lt;br&gt;
报告可以有客户端或者服务端生成。计划报告是一种服务端报告。&lt;/p&gt;
&lt;h2 id="_2"&gt;类型和格式&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;dynaTrace包括下列自定义报告格式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;PDF&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;XML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Excel和Excel2007&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CSV&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="PDF" src="http://pic.yupoo.com/east4ming_v/FhuunmKR/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="HTML" src="http://pic.yupoo.com/east4ming_v/FhuumWhj/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="xml" src="http://pic.yupoo.com/east4ming_v/FhuuoRBf/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Excel" src="http://pic.yupoo.com/east4ming_v/FhuunQEO/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="CSV" src="http://pic.yupoo.com/east4ming_v/FhuumrDF/medium.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_3"&gt;客户端报告&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_4"&gt;默认报告&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以通过下列操作创建报告：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;创建一个dashboard，从&lt;strong&gt;Dashboard&lt;/strong&gt;按钮或者右击在右上方的dashboard图标，选择&lt;strong&gt;Report&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成单个dashlet的报告，邮寄dashlet的标签并且选择&lt;strong&gt;Report&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;之后会出现&lt;strong&gt;Generate Report&lt;/strong&gt;对话框，可以进行细节项设置。&lt;/p&gt;
&lt;p&gt;&lt;img alt="创建报告对话框" src="http://pic.yupoo.com/east4ming_v/FhuyMfcb/medium.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;报告标题和描述自动由dashboard创建。可以进行修改。&lt;/li&gt;
&lt;li&gt;选择报告格式。&lt;/li&gt;
&lt;li&gt;更改纸张方向和纸张大小。&lt;/li&gt;
&lt;li&gt;定义输出路径&lt;/li&gt;
&lt;li&gt;点击&lt;strong&gt;Generate&lt;/strong&gt;创建报告。完成后，会自动打开。&lt;br&gt;
这些变更只会应用在一个报告里。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="dashboard"&gt;自定义dashboard报告&lt;a class="headerlink" href="#dashboard" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在dashboard属性里选择&lt;strong&gt;Reporting&lt;/strong&gt;标签页来改变下列设置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;默认格式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;纸张方向和纸张大小&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自定义页眉图片&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dashlet顺序和包含项&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按计划生成报告&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="Reporting标签页" src="http://pic.yupoo.com/east4ming_v/FhuFqY65/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="自定义项" src="http://pic.yupoo.com/east4ming_v/FhuGlt9I/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这些变更将会应用到由这个dashboard生成的每份报告里。&lt;/p&gt;
&lt;h2 id="_5"&gt;计划报告&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;计划报告&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;报告可以在给定的时间间隔自动生成，并且储存在dynaTrace Server端的文件系统或者通过email发送。计划报告由dynaTrace Server创建。&lt;br&gt;
创建报告任务，执行如下步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开你想要生成报告的dashboard&lt;/li&gt;
&lt;li&gt;邮寄dashboard或者打开dashboard菜单，选择&lt;strong&gt;Report&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;自定义报告，可以更改标题、描述、格式、纸张方向和大小、文件名。&lt;/li&gt;
&lt;li&gt;点击&lt;strong&gt;Create Schedule&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;自定义后处理--通过email发送或储存在dynaTrace Server文件系统。&lt;/li&gt;
&lt;li&gt;选择&lt;strong&gt;Schedule&lt;/strong&gt;标签页&lt;/li&gt;
&lt;li&gt;在Schedules Editor增加或编辑计划。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="计划报告_1" src="http://pic.yupoo.com/east4ming_v/FhuKKVdo/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="计划报告_2" src="http://pic.yupoo.com/east4ming_v/FhuKM5hh/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="计划报告_3" src="http://pic.yupoo.com/east4ming_v/FhuKKZ7B/medium.jpg"&gt;&lt;/p&gt;
&lt;h3 id="server"&gt;Server端自动报告任务&lt;a class="headerlink" href="#server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;为什么需要自动化报告？&lt;/h4&gt;
&lt;p&gt;通过自动化报告，你可以展示累计数据给利益相关者或者发送每日的KPI状态更新到你的邮箱。报告是必须的，而且你不想花费太多时间收集数据，设计报告，执行。如果你曾做同一个报告2次，那么你应该使用dynaTrace的报告功能来自动化生成报告。&lt;/p&gt;
&lt;h4&gt;目标演练&lt;/h4&gt;
&lt;p&gt;本次目标演练展示了dynaTrace的报告功能，以及如何更容易的生成报告。学习如何生成你的计划报告。&lt;/p&gt;
&lt;h4&gt;需求&lt;/h4&gt;
&lt;p&gt;创建你自己的dashboard或者使用dynaTrace自带的。如果你没有System Profile，没有来自agent的数据的话，使用自监控的内置dashboard。&lt;/p&gt;
&lt;h4&gt;详细步骤&lt;/h4&gt;
&lt;p&gt;根据以下步骤自动化生成报告：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开报告对话框到报告文档&lt;/li&gt;
&lt;li&gt;自定义必须的信息&lt;/li&gt;
&lt;li&gt;创建一个报告计划&lt;/li&gt;
&lt;li&gt;基于计划自动化生成报告&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;创建报告计划&lt;/h4&gt;
&lt;p&gt;如果你想通过邮件每天、每周、或者发报告或者发送给多个接收者，那么可以创建报告计划。到&lt;strong&gt;Report&lt;/strong&gt;设置项，创建计划。比如，可以创建计划，发送PDF报告，每天8点到你的邮箱，每周到你经理的邮箱。你必须创建两个计划。&lt;br&gt;
对于每天的计划，使用下列的定义：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Start on：每天&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Time to Send：8:00AM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;End：永久&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Recurrence：每天&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;定义周六、周日例外：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Schedule Exclusion：总是排除&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On：周六、周日&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In：每月&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="创建报告计划_1" src="http://pic.yupoo.com/east4ming_v/Fhw8OvM2/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="创建报告计划_2" src="http://pic.yupoo.com/east4ming_v/Fhw8PIOd/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="创建报告计划_3" src="http://pic.yupoo.com/east4ming_v/FhuKM5hh/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="创建报告计划_4" src="http://pic.yupoo.com/east4ming_v/Fhw8PHcr/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;第二个计划每月第一天执行&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Start on:每月第一天&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;End：永久&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Recurrence：每月&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;月度计划：每月第一天发送报告&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="创建报告计划_5" src="http://pic.yupoo.com/east4ming_v/Fhw8RcHJ/medium.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;总结&lt;/h4&gt;
&lt;p&gt;你用dashboard相关的数据配置后，自动报告节省了很多时间。而且自动化的技能可以作为一个数据导出引擎将数据发送到你的工具上。定时拿到数据或者把数据发送到自动化工具以备之后处理。&lt;/p&gt;
&lt;h2 id="_7"&gt;报告的限制&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_8"&gt;客户端报告限制&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;客户端报告有明确的限制：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;只有客户端上有数据展示才会报告-报告之前不会触发刷新&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;客户端报告会跳过没有激活的dashlet。要确保所有dashlet的数据显示在报告里，你必须在创建报告前手动刷新。这项不适用于通过REST的server端报告或计划报告。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_9"&gt;大小限制&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;dynaTrace限制报告大小，这样dynaTrace Server或客户端不会受到非常大的报告的影响。要生成大的报告，使用下列配置项：&lt;/p&gt;
&lt;h4&gt;软限制：每个dashlet 100行&lt;/h4&gt;
&lt;p&gt;dashlet和dashboard被设置每个表100行。该设置会被具体的dashboard和dashlet的设置覆盖。如果你设置高于硬限制：5000行，硬限制仍然起作用。&lt;/p&gt;
&lt;h4&gt;硬限制：每个报告5000行&lt;/h4&gt;
&lt;p&gt;所有dashlet的报告不能超过5000行。如果你需要更大值，你可以设置下列系统属性：&lt;br&gt;
&lt;img alt="硬限制" src="http://pic.yupoo.com/east4ming_v/Fhwjvk0s/14Nfau.jpg"&gt;&lt;/p&gt;
&lt;p&gt;你可能需要设置该项在多个地方。下列描述了报告类型和相应的设置：&lt;/p&gt;
&lt;h4&gt;客户端报告：本地安装的客户端&lt;/h4&gt;
&lt;p&gt;本地安装的客户端配置位是&lt;em&gt;dtclient.ini&lt;/em&gt;,位于C:/Users/$username/.dynaTrace/dynaTrace $version/dtclient.ini(Liunx/Mac OS X 是 ~/.dynaTrace/..)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;-vargs&lt;/span&gt;

&lt;span class="na"&gt;-Dcom.dynatrace.diagnostics.reporting.maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;10000&lt;/span&gt;
&lt;span class="na"&gt;-Xmx512M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;直接增加该设置到&lt;em&gt;-vmargs&lt;/em&gt;。&lt;/p&gt;
&lt;h4&gt;每个报告最多50个dashlets&lt;/h4&gt;
&lt;p&gt;为了防止超大的报告导致性能问题而作此设置。当然，你可以创建多个有50个dashlets的报告。&lt;/p&gt;
&lt;h4&gt;客户端报告：通过dynaTrace Server站点的Webstart客户端&lt;/h4&gt;
&lt;p&gt;没有本地安装，因此当你使用Webstart客户端时，必须在dynaTrace Server设置。位置：  C:\Program Files\dynaTrace\dynaTrace $version\server\conf\plugins\c.d.d.autoupdate.client.common_$version\common\plugin.properties.在文件末尾增加如下配置。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;...osgi.user.area&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;@user.home/$$workdingdir&lt;/span&gt;
&lt;span class="na"&gt;osgi.install.area&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;file:&lt;/span&gt;
&lt;span class="na"&gt;com.dynatrace.diagnostics.reporting.maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;10000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="serverrest"&gt;Server端报告：计划报告和REST报告&lt;a class="headerlink" href="#serverrest" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;当你通过计划任务或REST接口创建报告时，dynaTrace Server创建的报告。如果必须要配置更高的限制。在&lt;em&gt;dtserver.ini&lt;/em&gt;,位于$dynaTrace Installation\dtserver.ini,例如 C:\Program Files\dynaTrace\dynaTrace 5.5.0\dtserver.ini&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;-restartonfailure&lt;/span&gt;

&lt;span class="na"&gt;-vmargs&lt;/span&gt;

&lt;span class="na"&gt;-Dcom.dynatrace.diagnostics.reporting.maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;10000&lt;/span&gt;
&lt;span class="na"&gt;-Xmx1920M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;加到&lt;em&gt;-vmargs&lt;/em&gt;之后。&lt;/p&gt;
&lt;h2 id="troubleshooting"&gt;Troubleshooting&lt;a class="headerlink" href="#troubleshooting" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;配置应用，server或客户端重启后，第一份报告触发后，你应该在日志文件里看到下面信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;2015-14-03 09:26:53 INFO [ServerReportManager] Using non-default limit of table rows per report: '10000'&lt;br&gt;
如果没有出现，验证配置文件，并且重启server和客户端来激活新的变更。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;你也必须在dashboard或dashlet修改软限制，因为软限制仍然是100行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;dtclient.ini&lt;/em&gt;文件只位于C:\Users.如果该文件位于像是这样的位置：C:\Program Files (x86)\dynaTrace\dynaTrace $version,删除掉。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_10"&gt;非拉丁语脚本&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要启用PDF报告的非拉丁语系脚本，需要设置系统属性com。dynatrace.diagnostics.reporting.pdf.english为&lt;em&gt;false&lt;/em&gt;。这可能会导致连字符错误，但是允许从右到左书写。&lt;br&gt;
取决于报告是由dynaTrace Client还是dynaTrace Server创建，对应的系统属性也必须设置在&lt;em&gt;dtclient.ini&lt;/em&gt;或&lt;em&gt;dtserver.ini&lt;/em&gt;。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Sun, 26 May 2019 10:02:54 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-26:/dynatrace-appmon-handbook-20-reporting.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace 告警简要分析流程</title><link>https://www.EWhisper.cn/analyze-problems-with-dynatrace.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;告警类别及含义&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;应用告警&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;中间件告警&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;主机告警&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu"&gt;CPU运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;告警简要分析流程&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_6"&gt;简介&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;响应时间/速度较慢的请求的响应时间降低&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_8"&gt;失败率过高/页面操作/事务整体失败率高&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_9"&gt;应用程序进程不可用（非预期）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;应用程序进程运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#jvm"&gt;可能挂起的JVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;应用程序进程内存不足&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cpu_1"&gt;CPU运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_12"&gt;硬盘运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;内存运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;网络运行状况不佳&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;dynaTrace告警确认及关闭&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;告警类别及含义&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;应用告警&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;响应时间/速度较慢的请求的响应时间降低&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;响应时间降低--对应的应用或URL平均响应时间(中值)明显高于期望。即使所观测的响应时间尚可被客户接受，这种状态明显是应用程序或是硬件问题导致，并且会降低所能达到的最大吞吐量。&lt;/li&gt;
&lt;li&gt;速度较慢的请求的响应时间降低--观测中 10% 最慢请求的反应时间明显增加。这将导致用户体验变差。应用程序及硬件问题都能导致该问题。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;失败率过高/页面操作/事务整体失败率高&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;失败率过高--事务失败率远高于预期。&lt;/li&gt;
&lt;li&gt;页面操作失败率高--总体页面操作失败率超过预设阀值。&lt;/li&gt;
&lt;li&gt;事务整体失败率高--事务整体失败率高。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="_3"&gt;中间件告警&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;应用程序进程不可用（非预期）&lt;/h4&gt;
&lt;p&gt;与之前连接的应用程序进程/Agent 之间的连接已丢失，无法与 Agent 断开连接。&lt;/p&gt;
&lt;p&gt;一般出现该告警的原因为停止或杀掉对应中间件的进程。&lt;/p&gt;
&lt;h4&gt;应用程序进程运行状况不佳&lt;/h4&gt;
&lt;p&gt;由于在垃圾回收过程中花费大量执行时间，因此应用程序进程的显著挂起时间会持续一段时间。&lt;/p&gt;
&lt;p&gt;一般是由于频繁GC导致的。&lt;/p&gt;
&lt;h4&gt;可能挂起的JVM&lt;/h4&gt;
&lt;p&gt;可能的java VM挂起。可能是由于heap/thread dump或者GC活动。原因未知需要手动分析。&lt;/p&gt;
&lt;h4&gt;应用程序进程内存不足&lt;/h4&gt;
&lt;p&gt;应用程序进程报出内存不足。&lt;/p&gt;
&lt;p&gt;一般是由于中间件内存使用已满或内存溢出。&lt;/p&gt;
&lt;h3 id="_4"&gt;主机告警&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;主机类告警的阈值与所属的主机组有关。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCXRay6p/bea1t.jpg"&gt;&lt;/p&gt;
&lt;h3 id="cpu"&gt;CPU运行状况不佳&lt;a class="headerlink" href="#cpu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CPU使用率或系统时间超过预设阈值。&lt;/p&gt;
&lt;p&gt;CPU的阈值有2个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用率&lt;/li&gt;
&lt;li&gt;系统时间&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;硬盘运行状况不佳&lt;/h4&gt;
&lt;p&gt;主机硬盘的可用空间大小及百分比低于预设阈值。有2个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可用空间大小&lt;/li&gt;
&lt;li&gt;可用空间百分比&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;内存运行状况不佳&lt;/h4&gt;
&lt;p&gt;主机的可用内存大小及百分比低于预设阈值或内存页面故障大于预设阈值。有3个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可用内存大小&lt;/li&gt;
&lt;li&gt;可用内存百分比&lt;/li&gt;
&lt;li&gt;页面故障数&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;网络运行状况不佳&lt;/h4&gt;
&lt;p&gt;网络带宽使用率大于预设阈值。有1个阈值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;带宽使用率&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;告警简要分析流程&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_6"&gt;简介&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;通用入口&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;“驾驶舱”，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY07pnX/Ry7Q9.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Start Center，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY32F9u/eT8op.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;“监控”，如下图：(绿色正常/红色异常/灰色无数据)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY4WDEM/l7JDg.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_7"&gt;响应时间/速度较慢的请求的响应时间降低&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;打开事件仪表板，如下图：(告警红色为Severe级别/黄色为Warning级别；告警时间段可以按需选择)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCY7f5oF/dYODm.jpg"&gt; &lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;移动到对应的告警信息→右键→深入分析→PurePath，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYaxIBv/uWnkT.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;跳转到PurePath仪表板，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYdl5vQ/10ziUa.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;右键仪表板→编辑筛选器→筛选对应的PurePath并应用，如下图:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYehBhS/Jkp4w.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYfBRlP/NMHo5.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;全选所有的PurePath→右键→深入分析→响应时间热点 （此处可以点击第二列”响应时间“对PurePath进行排序，针对性分析）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYhLI4x/nAr3y.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;响应时间热点仪表板，如下：(针对“速度较慢的请求的响应时间降低”告警，需要在右上角“百分比筛选器进行选择。至此，初步分析结果已得出)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYk4En1/n9rDF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;
&lt;p&gt;最终分析结果：API细分仪表板及方法细分仪表板，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQlsd/NpiKX.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYlQd76/REkXi.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;更近一步分析：可以直接分析源代码，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnAAJy/yrJBF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYnwwKB/LynTC.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_8"&gt;失败率过高/页面操作/事务整体失败率高&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;事件→Purepath，如上文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑筛选器内容，如上文。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按错误排序，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYrsFLH/Qyujo.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;右键上图报错方法，出现具体的报错/异常/日志等内容，如下图：(可以多看十几条PurePath，如果报错内容都相同，则已经初步定位到告警原因)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYsL7Nf/UcVBq.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;全选所有PurePath→深入分析→错误率相关菜单，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYtOs3i/Myyj4.jpg"&gt; &lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;定位到告警原因，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYuXMxi/148DNZ.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_9"&gt;应用程序进程不可用（非预期）&lt;a class="headerlink" href="#_9" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;该类报错通常是由于停止或杀掉或重启中间件等进程导致的。&lt;/p&gt;
&lt;p&gt;可以直接在”事件”仪表板中查看，如下图：（告警开始时间就是停进程的时间；终止时间就是启动进程的时间）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYwhZNA/gEE3m.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_10"&gt;应用程序进程运行状况不佳&lt;a class="headerlink" href="#_10" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;该类报错分析起来较为复杂，需要有丰富的中间件运维经验和dynaTrace使用经验。详细信息参考附件：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;《应用程序进程运行状况不佳分析示例》&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="jvm"&gt;可能挂起的JVM&lt;a class="headerlink" href="#jvm" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如上文所述：可能是由于heap/thread dump或者GC活动。原因未知需要手动分析。具体问题具体对待。&lt;/p&gt;
&lt;h3 id="_11"&gt;应用程序进程内存不足&lt;a class="headerlink" href="#_11" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如上文所述，通常是由于内存溢出或内存快满。分析流程如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过上文提到的入口--“监控”→点击“进程”→查看进程仪表板，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYKC06L/RD3sF.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYJdo4D/10CMzY.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;点击内存快照→创建内存快照→按需选择快照的类型并应用，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYMr7TG/RzIqA.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;dynaTrace会自动分析并给出结果，如下图：(至此已经定位到问题所在)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYO7UoS/jZMqd.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;如需进一步分析，可以点击内存快照分析的其他标签页。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYPQTpk/T02uX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTrace支持内存溢出时自动做内存快照，且默认开启，在生产环境建议关闭该功能，有需求可以针对性开启。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYRN2UG/H6NSX.jpg"&gt;&lt;br&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="cpu_1"&gt;CPU运行状况不佳&lt;a class="headerlink" href="#cpu_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;从入口“监控”进入→主机列表→主机监控，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYV9u5l/aweYD.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;主机监控仪表图分析，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYVyY4X/NmNbr.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;做CPU采样与线程快照（步骤与做内存快照类似，见上文）。CPU采样与线程快照分析如下：(已经定位到告警原因)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYX1rCQ/RpJ2j.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;可以对线程快照进一步分析，定位到线程的堆栈以及当时线程执行的URL请求，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCYZHuqt/10KqLh.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_12"&gt;硬盘运行状况不佳&lt;a class="headerlink" href="#_12" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;直接进入主机仪表板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2mxAA/C7G0x.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_13"&gt;内存运行状况不佳&lt;a class="headerlink" href="#_13" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;直接进入主机仪表板查看内存使用率，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ3lGA6/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;分析占用物理内存的进程情况。&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;JVM使用的JVM代码区、JVM数据区、heap区都应该是固定的。但是JVM进程所使用的线程栈区、永久代、内核内存是可能随着应用程序吞吐量、业务量、负载量的变化而变化的。&lt;/p&gt;
&lt;p&gt;JVM是作为一个进程运行在Linux上的。从进程的角度来看，进程能直接访问的用户内存（虚拟内存空间）被划分为5个部分：代码区、数据区、堆区、栈区、未使用区。代码区中存放应用程序的机器代码，运行过程中代码不能被修改，具有只读和固定大小的特点。数据区中存放了应用程序中的全局数据，静态数据和一些常量字符串等，其大小也是固定的。堆是运行时程序动态申请的空间，属于程序运行时直接申请、释放的内存资源。栈区用来存放函数的传入参数、临时变量，以及返回地址等数据。未使用区是分配新内存空间的预备区域。 &lt;/p&gt;
&lt;p&gt;JavaNIO使得JVM可以使用内核内存。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_14"&gt;网络运行状况不佳&lt;a class="headerlink" href="#_14" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;直接进入主机仪表板查看网络利用率，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ2o2RS/hLaMM.jpg"&gt;&lt;/p&gt;
&lt;h1 id="dynatrace"&gt;dynaTrace告警确认及关闭&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;dynaTrace的告警确认及关闭需要登录客户端，进入到“事件”仪表板进行操作。具体如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FCZ6HvHe/eop6b.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Fri, 03 May 2019 14:54:12 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-05-03:/analyze-problems-with-dynatrace.html</guid><category>Dynatrace</category><category>Observability</category><category>性能调优</category></item><item><title>Dynatrace AppMon 实战手册 - 10.Dynatrace权限管理</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-10-authority-management.html</link><description>&lt;ol&gt;
&lt;li&gt;在Dynatrace Server设置 -&amp;gt; 用户面板，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vxzug/YnE01.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Dynatrace 关于权限管理方面，从3个层面实现对用户权限的精细化管理，从面到点依次为：&lt;strong&gt;角色、组、账户&lt;/strong&gt;。同时，Dynatrace的权限管理支持LDAP以及密码复杂度的配置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“角色”层面，主要负责Dynatrace所有详细权限的配置。Dynatrace默认配置的有如下角色：Administrator（管理员）、Guest（访客）、Power User、User（普通用户）。其中，Administrator具有Dynatrace的所有权限。具体如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuSXj/7BPLt.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;可以根据生产环境的实际需要，创建新的角色及配置详细的权限。如：创建应用项目组的角色--Project Team。权限包括应用分析的所有权限及保密字符串的查看权限，以及可以做线程快照进行分析。权限细节如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuCTD/8Iu8o.png"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;“组”层面。对3个方面进行了细化，分别是：Dynatrace Server管理（指定角色权限）；系统配置文件（对具体的系统配置文件进行详细的角色权限配置）；仪表板（对具体的仪表板进行权限配置，分为：可读和读写权限。）默认的组有：Incident Email Group（事件邮件告警组）、Business Users。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;根据实际情况，创建新的组并配置详细的权限。如：创建ilog组--ilog。权限为Project Team，所有与ilog相关的仪表板都有可读权限。具体操作如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuaV7/3bcPr.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vulJK/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuvnf/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;“账户”层面。就是实际使用Dynatrace的账户。包括以下内容：用户ID、电子邮件、所属用户组。具体操作如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX8vuLrs/medium.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-10-authority-management.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 11.Dynatrace创建定时任务</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-11-create-shedule-task.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;概述&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;操作步骤&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;创建月报，每月邮件发送&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace可以设置在每隔一定时间后，执行指定的任务。&lt;/p&gt;
&lt;p&gt;Dynatrace配置定时任务主要是在&lt;strong&gt;System Profile&lt;/strong&gt;（系统配置文件）层面进行配置。与定时任务有关的配置项包括以下2类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Schedule&lt;/strong&gt;（计划）：主要是与时间相关的配置。计划可以用于创建&lt;strong&gt;Task&lt;/strong&gt; （任务）和&lt;strong&gt;Monitor&lt;/strong&gt;（监视器）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Task&lt;/strong&gt; （任务）：主要是具体执行的操作。如：做内存快照、线程快照、CPU采样、Session存储以及定期报告等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;创建月报，每月邮件发送&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;创建计划&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;右击指定的System Profile（系统配置文件）-&amp;gt; 编辑系统配置文件。可以看到编辑系统配置文件首选项，在左面版中可以找到&lt;strong&gt;计划&lt;/strong&gt;和&lt;strong&gt;任务&lt;/strong&gt;标签页。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点击计划，默认的计划有每10min、每10s、每小时、每分钟。根据需要，创建一个&lt;strong&gt;每月&lt;/strong&gt;的计划，每月计划细则为：从20160701 9:35开始执行，每一个月执行一次，直到永远。如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fcrwn/vbDWA.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;下边以创建更复杂的&lt;strong&gt;Every workday&lt;/strong&gt;来说明创建计划的具体操作。点击&lt;strong&gt;创建计划...&lt;/strong&gt;跳出创建计划对话框。对话框分为2部分，分别为&lt;strong&gt;运行计划&lt;/strong&gt;和&lt;strong&gt;排除&lt;/strong&gt;，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FczTZ/A4ZZf.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;创建或编辑&lt;strong&gt;计划运行&lt;/strong&gt;，在对话框中可以选择&lt;strong&gt;开始&lt;/strong&gt;、&lt;strong&gt;结束&lt;/strong&gt;时间和&lt;strong&gt;重复周期&lt;/strong&gt;。开始时间可以指定具体到时分秒；结束有3种方式：指定时间结束、执行一定次数后结束、永不结束。如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FcLIJ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;设置&lt;strong&gt;重复周期&lt;/strong&gt;，重复周期可以选择具体的重复时间单位和具体的月份。如上图。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建&lt;strong&gt;排除&lt;/strong&gt;。排除有3种方式：始终排除、排除时间（日期）、排除时间自-到。&lt;strong&gt;Every workday&lt;/strong&gt;可以根据需求，始终排除1-12月的周六、周日。如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FcVKB/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;至此，&lt;strong&gt;计划&lt;/strong&gt;创建完毕。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;创建任务&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;回到系统配置文件首选项。点击&lt;strong&gt;任务&lt;/strong&gt;标签页。任务标签页可以对任务进行挂起和恢复以及停止。具体内容如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fd93j/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;可以在标签页点击&lt;strong&gt;创建...&lt;/strong&gt;,在本页面可以创建的任务有：内存快照、CPU采样、线程快照、Session存储。注意：无法在本页面创建报告。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fdi7K/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;如果需要创建报告任务，可以在Dynatrace客户端 -&amp;gt; 仪表板 -&amp;gt; 打开需要创建为报告的仪表板。如某系统的月报仪表板。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdrgC/FkwEk.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;在仪表板标签右击 -&amp;gt; 点击报告，如上图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;弹出&lt;strong&gt;报告创建&lt;/strong&gt;对话框，点击&lt;strong&gt;创建计划...&lt;/strong&gt;，如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdAUJ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;弹出计划报告任务对话框，主要有3个标签页可以设置：任务、计划、报告设置。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdNiy/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;任务&lt;/strong&gt;标签页可以指定发送邮件，邮件接收人，主题；或者存放到本机或远程主机磁盘上。本例通过邮件发送。如上图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;计划&lt;/strong&gt;标签页可以选择之前创建好的&lt;strong&gt;Every Month&lt;/strong&gt;计划，计划执行于Dynatrace Server。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdPls/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;&lt;strong&gt;报告设置&lt;/strong&gt;可以选择报告格式，支持以下格式：PDF、WORD、HTML、XML、EXCEL、CSV。这里选择HTML格式，可以直接显示在邮件里。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FdWZP/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;
&lt;p&gt;在&lt;strong&gt;高级&lt;/strong&gt; -&amp;gt; &lt;strong&gt;详细信息&lt;/strong&gt; 中可以进行更多细节设置。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fe8zz/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可以自定义logo、显示行数、显示的仪表图。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9Fecyh/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置完成后&lt;strong&gt;运行计划&lt;/strong&gt;，运行后月报效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FX9FejjI/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;至此，Dynatrace创建定时任务--月报全部完成。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-11-create-shedule-task.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 12.Dynatrace细节优化</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-12-appmon-optimization.html</link><description>&lt;h2 id="_1"&gt;应用响应时间失败率阈值优化&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_2"&gt;概述&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace的应用相关阈值（包括：响应时间、最慢响应时间、失败率）是由Dynatrace 的&lt;strong&gt;Smart Baseline&lt;/strong&gt; 功能来进行动态调整的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;备注:&lt;br&gt;
具体的实现原理可以查看官方文档：&lt;a href="https://community.dynatrace.com/community/display/DOCDT62/Baseline+and+Smart+Alerting+Explained"&gt;Baseline and Smart Alerting Explained&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;大致是根据&lt;strong&gt;过去7天&lt;/strong&gt;的表现来进行动态调整。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在某些特殊应用中，Dynatrace的自动基线并不符合生产系统的实际情况，会出现较多的误报。具体如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtsLv/5BIUQ.png"&gt;&lt;/p&gt;
&lt;p&gt;在这种情况下，我们需要根据应用的实际情况将动态基线改为静态基线。&lt;/p&gt;
&lt;h3 id="_3"&gt;操作步骤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下面以修改具体请求的响应时间基线为例，来说明如何对基线、阈值进行优化。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在Dynatrace指定系统配置文件的&lt;strong&gt;监控&lt;/strong&gt;页面 -&amp;gt; 点击中下方的&lt;strong&gt;应用程序&lt;/strong&gt; -&amp;gt; 选择对应的应用 -&amp;gt; 选择需要调整的&lt;strong&gt;业务分析&lt;/strong&gt; -&amp;gt; 点击具体业务分析的&lt;strong&gt;齿轮&lt;/strong&gt;图标 -&amp;gt; 选择&lt;strong&gt;配置基准&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRu0Af/aY6N4.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;跳出如下&lt;strong&gt;基准设置&lt;/strong&gt;对话框。可以设置失败率、响应时间、是否告警等内容。在此，我们将&lt;strong&gt;响应时间&lt;/strong&gt;设置为静态基准：1000ms。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtDaw/nPr34.png"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;将&lt;strong&gt;最慢响应时间&lt;/strong&gt;（最慢的10%请求）的静态基准设为：10000ms。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtFcD/WkmXY.png"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;至此设置完成，回到&lt;strong&gt;应用程序&lt;/strong&gt; -&amp;gt; 具体的业务分析页面。我们看到基准已经按照配置调整为静态。（绿色线条）。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXiRtNUs/QklZs.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-12-appmon-optimization.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 13.Dynatrace Agent 迁移</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-13-move-agent.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在实际生产环境中，由于Dynatrace 的License有类型、数量上的限制（限制同时接入的agent数量），但是并不限制agent必须永远嵌入同一个JVM中。而且，根据生产环境中不同应用系统的上下线，也需要对Dynatrace 的Agent进行调整迁移，以最大化地发挥Dynatrace的监控价值。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace Agent迁移主要分为3大步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dynatrace迁移前相关告警项的临时关闭（即创建Dynatrace事件&lt;strong&gt;停机时间&lt;/strong&gt;）&lt;/li&gt;
&lt;li&gt;Agent从原有JVM中移除，并重启对应JVM&lt;/li&gt;
&lt;li&gt;Agent嵌入新的JVM，并重启对应JVM&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后生效。&lt;/p&gt;
&lt;h3 id="_3"&gt;创建停机时间&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;在左侧&lt;strong&gt;驾驶舱&lt;/strong&gt;中，双击&lt;strong&gt;事件&lt;/strong&gt;，出现事件仪表板 -&amp;gt; 点击“旦”形的停机时间图标，可以看到已经创建好的停机时间规则。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wRLW/iZTj3.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;右击&lt;strong&gt;停机时间&lt;/strong&gt;表格空白处 -&amp;gt; &lt;strong&gt;创建停机时间&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wEfp/6NQPj.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;跳出&lt;strong&gt;创建停机时间&lt;/strong&gt;对话框，包括：停机开始时间及持续时间；重复周期；结束时间。此处配置如下图，然后点击下一步。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3xe7v/11CaLh.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;选择对应的告警事件，此处需要选择对应的系统配置文件的告警事件：&lt;strong&gt;Application Process Unavailable (unexpected)&lt;/strong&gt; ，并点击下一步。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3xnC3/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;配置完成后，返回停机时间表查看，规则已存在，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXj3wJlM/QbX65.jpg"&gt;&lt;/p&gt;
&lt;h3 id="dynatrace-agent"&gt;移除Dynatrace Agent&lt;a class="headerlink" href="#dynatrace-agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
以Weblogic为例。其他中间件操作类似。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;备份对应中间件实例启动脚本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;取消对应中间件实例启动脚本中的Dynatrace Agent字段，移除启动脚本中的如下内容：&lt;code&gt;-agentpath:&amp;lt;DT_HOME&amp;gt;/agent/lib/libdtagent.so=name=&amp;lt;AgentName&amp;gt;, server=&amp;lt;dynaTraceCollectorName&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在重启窗口时间段内，重启对应中间件实例。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除Dynatrace Agent已完成。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="dynatrace-agent_1"&gt;安装Dynatrace Agent&lt;a class="headerlink" href="#dynatrace-agent_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;请参考文档：&lt;a href="http://cloud.189.cn/t/V7VZze3uqERv"&gt;dynaTrace安装文档- 6.4  Agent 配置&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装完成后，可以在Dynatrace客户端左边&lt;strong&gt;驾驶舱&lt;/strong&gt; -&amp;gt; 双击&lt;strong&gt;Agent概述&lt;/strong&gt; -&amp;gt; 查看迁移后的Agent是否存在及抓取的Purepath总数。&lt;/p&gt;
&lt;p&gt;至此，Dynatrace Agent迁移完成。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-13-move-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 14.Dynatrace创建Server-side业务分析</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-14-create-server-side-bussiness-transaction.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;业务分析（&lt;strong&gt;Business Transaction&lt;/strong&gt;）可以经过对应用的分析来跟踪一些特殊的交易（如：登陆和购买）。例如，你可以跟踪某应用特定用户群的登陆操作响应时间。业务分析包含过滤方法来检查指定的用户标签的出现（如：一个标记过的web请求测量）。默认会计算响应时间和计数。拆分方法默认是&lt;strong&gt;应用&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;针对Dynatrace的业务分析又可以根据数据来源的不同，细分为以下几类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基于Server端数据的业务分析&lt;/li&gt;
&lt;li&gt;基于UEM用户访问数据的业务分析&lt;/li&gt;
&lt;li&gt;基于UEM用户行为数据的业务分析&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本次将介绍如何创建Server-side业务分析。&lt;/p&gt;
&lt;h2 id="_2"&gt;案例介绍&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;客户发现人寿显示影像资料频繁告警相应缓慢。怀疑与用户和具体的IP有关，希望创建针对&lt;strong&gt;显示影像&lt;/strong&gt;这一业务，按照用户名和IP地址进行拆分过滤。以进一步分析。&lt;/p&gt;
&lt;h2 id="_3"&gt;操作步骤&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;备注:&lt;br&gt;
推荐使用&lt;strong&gt;第一个&lt;/strong&gt;而不是&lt;strong&gt;最后一个&lt;/strong&gt;来作为业务分析的筛选条件。&lt;br&gt;
这2者的主要区别是：如果PurePath树很长的话，最后一个将导致每个方法都会查看一遍，如果是第一个，就只看第一个节点就行了&lt;br&gt;
所以&lt;strong&gt;第一个&lt;/strong&gt;作为筛选条件效率会高很多。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;操作步骤分解：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建特定业务的&lt;strong&gt;测量（measure）&lt;/strong&gt; -- &lt;em&gt;1-4步&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;创建作为过滤条件的&lt;strong&gt;测量&lt;/strong&gt;--客户端IP、用户名 -- &lt;em&gt;5-7步&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;创建&lt;strong&gt;业务分析&lt;/strong&gt; --  &lt;em&gt;8-11步&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;进入指定系统配置文件的&lt;strong&gt;编辑系统配置文件&lt;/strong&gt;菜单，在左面板找到&lt;strong&gt;测量&lt;/strong&gt;标签，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeeHe/sgCJu.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;点击&lt;strong&gt;创建测量...&lt;/strong&gt; ，这里需要按照&lt;strong&gt;URI模式值&lt;/strong&gt;进行创建。如上图：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳出创建新测量对话框，可以通过ctrl+f 直接查找关键字（在任何列表类界面都可以搜索） -&amp;gt; 点击&lt;strong&gt;web请求 - URI模式值&lt;/strong&gt;，需要根据实际需求填写：名称、URI模式和值、拆分等内容。如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeyWo/2g7eJ.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;配置好的&lt;strong&gt;显示影像&lt;/strong&gt;（showimage）的测量如下，并点击&lt;strong&gt;确定&lt;/strong&gt; ：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeWmD/x6wu1.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;再次点击&lt;strong&gt;创建测量...&lt;/strong&gt;,查找并选择&lt;strong&gt;Web请求 - 客户端IP&lt;/strong&gt;，并点击&lt;strong&gt;添加&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkef6xe/SGhyA.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;再次点击&lt;strong&gt;创建测量...&lt;/strong&gt;,查找并选择&lt;strong&gt;Web请求 - 会话属性值&lt;/strong&gt; ，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefgJ3/mTATJ.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;并进行详细的配置，配置可以抓取到用户名的&lt;strong&gt;会话属性&lt;/strong&gt;，本例中的会话属性为：&lt;strong&gt;lifeuser.getUserName()&lt;/strong&gt;。关于具体的会话属性，可以询问应用项目组的成员，也可以通过Dynatrace进行配置后发现。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefpPU/EZUFO.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;回到&lt;strong&gt;系统配置文件首选项&lt;/strong&gt;，在左面版点击业务分析，点击&lt;strong&gt;创建...&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeeqoQ/whjeF.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;跳出&lt;strong&gt;业务分析编辑器&lt;/strong&gt;对话框。先对&lt;strong&gt;筛选器&lt;/strong&gt;进行选择，点击“&lt;strong&gt;+&lt;/strong&gt;”按钮，选择之前创建好的&lt;strong&gt;showimage&lt;/strong&gt;测量。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefBbi/10GYpe.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;
&lt;p&gt;再对结果抓取结果进行拆分，在&lt;strong&gt;拆分结果&lt;/strong&gt;栏 -&amp;gt; 点击“&lt;strong&gt;+&lt;/strong&gt;”按钮，选择之前创建好的测量--用户名和客户端IP。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefKdS/wNnu6.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置&lt;strong&gt;拆分选项&lt;/strong&gt;，按照需求进行拆分。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkefVOx/xWmhe.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;至此创建Server-side业务分析完成。可以选择按照&lt;strong&gt;平均响应时间&lt;/strong&gt;排序，排序后下方会显示出平均响应时间占比的饼图。如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkeg73O/5odkC.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
关于第7步，如果需要测量该指标，则应该先抓取该指标。&lt;/p&gt;
&lt;p&gt;要抓取该指标，需要配置Servlet的传感器属性。具体如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXkrJrPK/PRzj5.jpg"&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-14-create-server-side-bussiness-transaction.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 15.Dynatrace创建Server-side业务分析 - 实时抓取某系统大于30s的请求</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-15-create-serverside-bt-another-example.html</link><description>&lt;h2 id="_1"&gt;案例介绍&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;某系统是某保险公司的核心系统。需要对系统进行性能上的优化工作，开发及项目组同事想要抓取到系统上个月所有响应时间超过30s的请求，以及请求的详细信息（如请求的具体时间等）。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;思路分解如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建针对 &lt;strong&gt;核心系统&lt;/strong&gt;响应时间&lt;strong&gt;大于30s&lt;/strong&gt;的&lt;strong&gt;web 请求&lt;/strong&gt;的测量； -- 第1-3步&lt;/li&gt;
&lt;li&gt;创建业务分析，用来筛选并按照URI拆分相应的请求；-- 第4-8步&lt;/li&gt;
&lt;li&gt;结果展示 -- 第9-10步&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;进入&lt;strong&gt;系统配置文件首选项&lt;/strong&gt; -&amp;gt; 左面版&lt;strong&gt;测量&lt;/strong&gt; -&amp;gt;  查找&lt;strong&gt;web请求&lt;/strong&gt;-&lt;strong&gt;时间&lt;/strong&gt; 测量 -&amp;gt; 复制&lt;strong&gt;web请求测量&lt;/strong&gt; ，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3gTEn/10SqYN.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;跳出编辑测量属性的对话框，在&lt;strong&gt;阈值&lt;/strong&gt; -&amp;gt; 严重级别上限值设置为 30000ms，如下图:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hgdf/5lMEx.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;转到&lt;strong&gt;详细信息&lt;/strong&gt;标签页，选择要抓取请求的系统--&lt;strong&gt;核心系统&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hmv8/pTYrW.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;在&lt;strong&gt;系统配置文件首选项&lt;/strong&gt; -&amp;gt; &lt;strong&gt;创建...&lt;/strong&gt; ，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hBdF/byLKG.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;跳出&lt;strong&gt;业务分析编辑器&lt;/strong&gt;，设置业务分析的&lt;strong&gt;名称&lt;/strong&gt;、&lt;strong&gt;描述&lt;/strong&gt;、&lt;strong&gt;筛选器&lt;/strong&gt;。点击筛选器右侧“+”按钮，选择之前创建的测量。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hRyy/2DyIX.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;选择业务分析拆分方式。点击&lt;strong&gt;拆分结果&lt;/strong&gt; -&amp;gt; 点击“+”按钮 -&amp;gt; 选择对应的拆封规则。本例中应该选择的拆分规则为：&lt;strong&gt;完整的URI&lt;/strong&gt;。（图片仅用作说明）如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3i4uG/HzFFm.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;选择拆分限制。点击&lt;strong&gt;拆分选项...&lt;/strong&gt; ，跳出拆分选项对话框，选择&lt;strong&gt;不限制&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3ibxt/KIdRF.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;配置完成后的&lt;strong&gt;业务分析&lt;/strong&gt;如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3hHP6/FMqWt.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;至此，业务分析配置完成。显示效果如下图（该图展示的是关于符合条件的URI的统计信息，上表显示的结果按照完整的URI进行拆分，每个拆分项都有&lt;strong&gt;计数&lt;/strong&gt;、&lt;strong&gt;平均响应时间&lt;/strong&gt; 等统计数据；下图中按照需求可以对&lt;strong&gt;计数&lt;/strong&gt;、&lt;strong&gt;平均响应时间&lt;/strong&gt;等生成饼图。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXW3ijPU/14leMe.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;如果需要查看每个URI执行的&lt;strong&gt;开始时间&lt;/strong&gt;、&lt;strong&gt;持续时间&lt;/strong&gt;、&lt;strong&gt;执行堆栈&lt;/strong&gt;、&lt;strong&gt;客户端IP&lt;/strong&gt;等详细信息，可以右击对应的URI，点击&lt;strong&gt;深入分析&lt;/strong&gt; -&amp;gt; PurePath 跳转到PurePath界面，以此来查看完整的信息。&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-15-create-serverside-bt-another-example.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 16.Dynatrace创建Server-side业务分析实战案例3</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-16-create-serverside-bt-3rd-example.html</link><description>&lt;h2 id="_1"&gt;案例介绍&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;某关键业务不仅仅需要URI进行过滤，同时需要对query字段&lt;em&gt;busiid&lt;/em&gt;和&lt;em&gt;showflag&lt;/em&gt;进行过滤。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;思路分解如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;配置sensor属性 - &lt;strong&gt;Servlet&lt;/strong&gt; 的&lt;strong&gt;请求属性&lt;/strong&gt; -- 添加对应的query字段；&lt;/li&gt;
&lt;li&gt;创建业务分析，配置指定的POST的URI、query；&lt;/li&gt;
&lt;li&gt;将配置好的测量作为组合条件配置业务分析。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
需要实现的业务分析示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;:heavy_exclamation_mark:不正确的配置示例如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_2.jpg"&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;配置&lt;strong&gt;servlet&lt;/strong&gt;传感器属性 -- &lt;strong&gt;请求参数&lt;/strong&gt; 来抓取对应的&lt;strong&gt;query&lt;/strong&gt;信息，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_4.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;创建包含指定query的测量 -- busiid （通过&lt;strong&gt;Web请求 - 参数值&lt;/strong&gt; 这个模板测量）。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_5.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;创建包含指定query的测量 -- showflag，如下图:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_7.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;注意&lt;strong&gt;测量&lt;/strong&gt;的&lt;strong&gt;拆分阈值&lt;/strong&gt;要设置为超过&lt;strong&gt;1&lt;/strong&gt;就拆分。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_6.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;通过组合3种测量 - post URI 、 query 字段 busiid、query字段showFlag 通过组合 &lt;strong&gt;与&lt;/strong&gt; 条件来创建业务分析。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/bt_3.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;至此，通过query设置业务分析已经完成。&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-16-create-serverside-bt-3rd-example.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 17.Dynatrace与Tivoli整合</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-17-appmon-and-tivoli.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace与Tivoli整合是通过SNMP协议完成的。Dynatrace发送SNMP协议信息到Tivoli，Tivoli接收到信息后进行分析，根据Tivoli上相应的规则进行一系列的动作，如：发送告警邮件、告警短信等。&lt;/p&gt;
&lt;p&gt;Dynatrace上有&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt; 插件，通过该插件来实现SNMP协议的发送。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU473ky/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;要使用&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;提供MIB库文件给SNMP目标系统的管理员。管理员会为其系统解析该文件。MIB库文件也会提供SNMP trap和你目标系统间的接口。&lt;/li&gt;
&lt;li&gt;在Dynatrace Server设置里启用SNMP Action Plugin： &lt;strong&gt;Dynatrace Server设置&lt;/strong&gt; -&amp;gt; &lt;strong&gt;插件&lt;/strong&gt; -&amp;gt; &lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;。启用之后，SNMP action出现在&lt;strong&gt;事件&lt;/strong&gt;行为列表中。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
Dynatrace SNMP 映射说明文档：&lt;a href="http://cloud.189.cn/t/AfayAfvEjem2"&gt;Dynatrace SNMP Mapping&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当前MIB库文件地址：&lt;a href="https://community.dynatrace.com/community/download/attachments/221381746/DYNATRACE-TRAP-MIB-V2?version=1&amp;amp;modificationDate=1432016056067&amp;amp;api=v2"&gt;DYNATRACE-TRAP-MIB-V2&lt;/a&gt;。MIB为2种受支持的traps提供以下值：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dynaTraceIncidentStart TRAP-TYPE&lt;br&gt;
ENTERPRISE dynaTrace&lt;br&gt;
VARIABLES (name, message, description, severity, violation, server, systemprofile, starttime)&lt;br&gt;
DESCRIPTION "Indicates that a new dynaTrace incident has begun."&lt;br&gt;
::= 1&lt;/p&gt;
&lt;p&gt;dynaTraceIncidentEnd TRAP-TYPE&lt;br&gt;
ENTERPRISE dynaTrace&lt;br&gt;
VARIABLES (name, message, description, severity, violation, server, systemprofile, starttime, endtime, duration)&lt;br&gt;
DESCRIPTION "Indicates that a dynaTrace incident has ended."&lt;br&gt;
::= 2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="_2"&gt;配置步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;以配置&lt;strong&gt;失败率太高&lt;/strong&gt;事件为例，说明事件如何通过SNMP协议发送给Tivoli。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;右击指定系统配置文件，弹出系统配置文件首选项 -&amp;gt; 左面版选择&lt;strong&gt;事件&lt;/strong&gt; -&amp;gt; 右边点击&lt;strong&gt;失败率太高&lt;/strong&gt;事件 -&amp;gt; 点击&lt;strong&gt;编辑&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47qEb/ZZaXa.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;跳出&lt;strong&gt;编辑事件规则&lt;/strong&gt;对话框。可以看到在下边&lt;strong&gt;设置&lt;/strong&gt;里，默认的是基本设置，点击&lt;strong&gt;高级配置&lt;/strong&gt;进入高级设置页面。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47xJD/c5CA3.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47CET/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;在页面中点击&lt;strong&gt;添加&lt;/strong&gt;，跳出如下界面：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47az8/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;选中&lt;strong&gt;SNMP Action Plugin&lt;/strong&gt;，下边出现一系列相关属性。根据对应的目标SNMP系统（如Tivoli的信息）来进行填写：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Target Host&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Target Port&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SNMP Version&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Community&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Maximum Number of Message Octets&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完成后点击确定，然后在高级设置里，选择新配置的SNMP插件，设置发送SNMP trap信息 的严重性级别（一般、警告、严重）以及执行的条件（开始时、结束时、开始和结束时）。严重性级别一般警告配置邮件告警，严重配置邮件和短信告警，执行条件一般选择&lt;strong&gt;开始和结束时&lt;/strong&gt;。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FXU47iXN/PCCU0.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;后续工作由SNMP接受系统的管理员进行进一步的配置。包括确认消息送达，编写告警规则等。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;其他配置说明&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在某公司Dynatrace与Tivoli配置期间，出现了较多的问题。现在整理如下：&lt;/p&gt;
&lt;h3 id="_4"&gt;字符集编码&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace SNMP的编码格式为&lt;strong&gt;utf-8&lt;/strong&gt;，且不可更改。&lt;/p&gt;
&lt;p&gt;而该公司Tivoli的编码格式为&lt;strong&gt;GBK&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;由于编码格式的不同，导致Dynatrace通过SNMP协议发送到Tivoli的内容，在有中文的地方发生&lt;strong&gt;字段跳行&lt;/strong&gt;的情况。&lt;/p&gt;
&lt;p&gt;为了尽量减少该问题，Dynatrace测量、事件等相关内容的名称和描述都尽量修改为&lt;strong&gt;英文&lt;/strong&gt;，以此来减少跳行问题的发生。但是尽管所有的相关内容都改为英文，Dynatrace在发送告警的时候，会自动加入&lt;strong&gt;超过了&lt;/strong&gt; 和&lt;strong&gt;上限&lt;/strong&gt; 字样。具体见示例部分。&lt;/p&gt;
&lt;p&gt;为了解决该问题，确定了如下的方案：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;dynaTrace使用中文语言包（为了Dynatrace的易用性考虑）&lt;/li&gt;
&lt;li&gt;邮件告警使用dynaTrace自带的邮件告警服务&lt;/li&gt;
&lt;li&gt;Severe级别、静态阈值部分告警通过Tivoli来实现短信告警。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;之所以静态阈值部分可以采用Tivoli告警，有以下原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;告警格式、字段、内容固定，即使有中文跳行，跳的行数也是相同的，可以通过Tivoli配置绕过该问题&lt;/li&gt;
&lt;li&gt;由于动态告警以及Dynatrace自带告警无法手动进行触发，且这些告警的格式与静态阈值告警格式不同，所以并未将这些告警发送到Tivoli。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;示例如下：&lt;/p&gt;
&lt;p&gt;Dynatrace发给Tivoli的信息：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HEX&lt;/strong&gt;格式内容：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;e8 b6 85 e8 bf 87 e4&lt;br&gt;
ba 86 20 57 65 62 4c 6f 67 69 63 20 39 2b 2f 45 4a 42 20 50 6f 6f 6c 20 54 69&lt;br&gt;
6d 65 6f 75 74 20 54 6f 74 61 6c 20 43 6f 75 6e 74 20 3a 20 3c 6c 69 66 65 2d&lt;br&gt;
73 65 72 76 69 63 65 5f 65 69 6e 73 75 3e 20 4a 44 42 43 5f 53 74 61 74 65 20 3c&lt;br&gt;
61 6c 6c 2d 61 70 70 6c 69 63 61 74 69 6f 6e 73 3e 20 28 54 50 4c 69 66 65 5f&lt;br&gt;
77 6c 73 5f 63 78 6a 6b 5f 6c 62 74 5f 33 36 5b 6c 62 74 61 70 70 53 65 72 76&lt;br&gt;
65 72 31 5d 40 73 68 74 70 6c 73 65 65 70 6f 72 74 6c 62 74 30 31 29 20 e4 b8&lt;br&gt;
8a e9 99 90&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;utf-8&lt;/strong&gt; 格式内容：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;超过了&lt;br&gt;
WebLogic 9+/EJB Pool Timeout Total Count : &lt;life-service_einsu&gt;&lt;br&gt;
JDBC_State &lt;all-applications&gt;&lt;br&gt;
(TPLife_wls_cxjk_lbt_36[lbtappServer1]@shtplseeportlbt01) 上限&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;GBK&lt;/strong&gt;内容&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;瓒呰繃浜?WebLogic9+/EJB Pool Timeout Total Count : &lt;life-service_einsu&gt; JDBC_State&lt;all-applications&gt;(TPLife_wls_cxjk_lbt_36[lbtappServer1]@shtplseeportlbt01) 涓婇檺&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;经过排查，确定该字样位于：&lt;strong&gt;oracle jre的lib库--rt.jar包中&lt;/strong&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/path/to/dynatrace/dynatrace-6.2/jre/lib/rt.jar&lt;/p&gt;
&lt;p&gt;具体位于：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMessages_zh_CN.class&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;只要Dynatrace Server选择了中文语言，就会自动加入该字样。&lt;/p&gt;
&lt;p&gt;同时，发现因为加入的字样类似，导致的&lt;strong&gt;跳行&lt;/strong&gt;都是跳了固定的行数，所以我们在Tivoli上对跳了之后的行进行解析，得到了正确的告警信息。通过该方法绕过了字符集冲突的问题。&lt;/p&gt;
&lt;h3 id="hostnameip"&gt;HOSTNAME与IP映射&lt;a class="headerlink" href="#hostnameip" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;由于Dynatrace发送的告警信息都是具体的HOSTNAME而不是对应的IP。而Tivoli是通过IP来找到对应的系统并告警。所以，为了正确地告警，在Tivoli中加入了Dynatrace所监控主机的&lt;strong&gt;HOSTNAME&lt;/strong&gt;和&lt;strong&gt;IP&lt;/strong&gt;的映射表。&lt;/p&gt;
&lt;p&gt;后续如有新增或调整监控主机，需要联系Tivoli的对应负责人进行相应调整。&lt;/p&gt;
&lt;p&gt;示例如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;appserverxxx 10.1.1.xxx&lt;/p&gt;
&lt;p&gt;dzbd-app1 10.x.x.x&lt;/p&gt;
&lt;p&gt;hostnamexxx01 10.1.x.x&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="_5"&gt;短信告警&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;短信告警格式如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;IP+服务器描述+系统+Weblogic Server+告警描述+当前值+发生时间&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;示例（短信告警内容）：&lt;/p&gt;
&lt;p&gt;[XXXX公司]10.1.129.36:xx系统xx应用服务器1；xx系统；Weblogic服务器：TPLife_wls_cxjk_xx_xx[appServer1]发生告警：&lt;life-service_einsu&gt; WLS JVM FreeMemory is low；当前值：1698.515644564548已恢复！；发生时间：2016-05-11&lt;br&gt;
18:40:31&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="severe"&gt;Severe级别静态告警阈值&lt;a class="headerlink" href="#severe" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;目前的Severe级别静态阈值告警有：（该级别使用短信告警。）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;TIPS：&lt;br&gt;
目前已经实现各个系统的测量参数、告警阈值、邮件通知人的自定义。（如针对核心系统，活动线程数告警阈值比其他大）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Weblogic Hogging线程数过高     &amp;gt;50 告警&lt;/li&gt;
&lt;li&gt;Weblogic JDBC连接池状态不正常&lt;/li&gt;
&lt;li&gt;JVM剩余内存过小                    &amp;lt;50M 告警&lt;/li&gt;
&lt;li&gt;WLS weblogic.kernel.System-MaxWaitTime 过长     &amp;gt;10min 告警&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="warning"&gt;Warning级别静态告警阈值&lt;a class="headerlink" href="#warning" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;以下为初始的设置，后续可以根据实际的告警情况进行调整和优化。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;活动线程数     Warning：&amp;gt;250    （核心系统线程数为400，暂定：Warning： &amp;gt;300 )&lt;/li&gt;
&lt;li&gt;JDBC连接延迟时间    Warning：&amp;gt;5s  Severe:&amp;gt;10s&lt;/li&gt;
&lt;li&gt;JDBC失败重连        Warning：&amp;gt;5      Severe:&amp;gt;10&lt;/li&gt;
&lt;li&gt;JDBC泄漏连接数    Warning：&amp;gt;15   Severe:&amp;gt;30&lt;/li&gt;
&lt;li&gt;JDBC当前等待连接计数   Warning:&amp;gt;10  Severe:&amp;gt;30&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-17-appmon-and-tivoli.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 18.Dynatrace创建自定义告警事件</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-18-create-incidents.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace有以下概念：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Measure&lt;/strong&gt;（测量） -- 即需要监控的指标。（包括需要监控的指标、对应的Agent、阈值等）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Incidents&lt;/strong&gt;（事件） -- 即告警事件。订阅了Measure，配置了Measure的阈值，然后才能创建Incidents，并且定义好根据哪个阈值来告警，以何种方式发送，产生告警该做的动作（如threaddump等）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本次将介绍如何创建自定义告警事件。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作步骤&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本次以创建&lt;strong&gt;指定系统&lt;/strong&gt;的&lt;strong&gt;WebLogic的Hogging线程数&lt;/strong&gt;告警为例。&lt;/p&gt;
&lt;p&gt;操作步骤分解：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建需要监控的指标--&lt;strong&gt;Measure&lt;/strong&gt;(测量) -- 1-5步&lt;/li&gt;
&lt;li&gt;创建告警事件--&lt;strong&gt;Incidents&lt;/strong&gt; -- 6-8步&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;打开&lt;strong&gt;系统配置文件&lt;/strong&gt; -&amp;gt; &lt;strong&gt;测量结果&lt;/strong&gt;标签页 -&amp;gt; 点击&lt;strong&gt;创建测量&lt;/strong&gt;。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_1.JPG"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;默认有所有系统的Hogging线程数Measure。可以通过复制，并修改来创建。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_2.JPG"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;对复制出来的测量进行编辑。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_2-1.JPG"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;编辑Measure（测量）的相关属性。（包括：名称、具体的测量属性、阈值、对应的Agent组）。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_3.JPG"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_4.JPG"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_5.JPG"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;
&lt;p&gt;至此，Measure（测量）创建完毕。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开始创建&lt;strong&gt;事件规则&lt;/strong&gt;，点击 &lt;strong&gt;事件&lt;/strong&gt;标签页 -&amp;gt; 点击 &lt;strong&gt;创建事件规则&lt;/strong&gt;。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_6.JPG"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;
&lt;p&gt;告警&lt;strong&gt;条件&lt;/strong&gt;选择上文创建好的Measure（测量）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;告警&lt;strong&gt;动作&lt;/strong&gt;可以配置发邮件，做快照等。如下图：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_7.JPG"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;告警&lt;strong&gt;操作&lt;/strong&gt;可以进行更多的设置。另外，可以对告警的细粒度、严重性、告警抑制时间等进行设置。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_create_incidents_8.JPG"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;至此，自定义告警创建完毕。&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-18-create-incidents.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 19.Dynatrace创建告警事件停机时间</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-19-create-downtime.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace在生产环境的使用中，往往会碰到所监控系统的正常生产重启（如停机窗口、发版本、维护等）导致的误告警。&lt;/p&gt;
&lt;p&gt;为了避免这种问题，可以通过设置告警&lt;strong&gt;停机时间&lt;/strong&gt;（downtime)来减少不必要的告警。&lt;/p&gt;
&lt;h2 id="_2"&gt;操作&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;点击&lt;strong&gt;事件&lt;/strong&gt;仪表板右上角按钮。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_1.JPG"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;点击后出现&lt;strong&gt;停机窗口&lt;/strong&gt;表。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_2.JPG"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;在表中点击右键&lt;strong&gt;创建停机时间&lt;/strong&gt;。勾选对应的系统配置文件中的对应的告警规则（如停机或重启时会出现的告警：应用关闭和应用进程不可用）。出现如下对话框：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_3.JPG"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;点击下一步，进行详细的设置，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_4.JPG"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;停机时间规则可以时临时性的一次。也可以根据生产重启窗口的要求，如设置为每月的第三周周六。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_5.JPG"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;配置完成后显示如下。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon_downtime_6.JPG"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 10 Apr 2019 17:45:51 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-10:/dynatrace-appmon-handbook-19-create-downtime.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 5.Dynatrace 客户端安装</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-5-install-client.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#1-dynatrace"&gt;1 Dynatrace客户端类型简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-web"&gt;2 Web 客户端安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-webstart32"&gt;3 WebStart客户端安装（推荐32位系统安装）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4-64"&gt;4 富客户端安装（仅适用64位系统）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5-webwebstart"&gt;5 Web端和客户端（WebStart 富客户端）联动&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="1-dynatrace"&gt;1 Dynatrace客户端类型简介&lt;a class="headerlink" href="#1-dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dynatrace有3种类型的客户端：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网页端&lt;/li&gt;
&lt;li&gt;WebStart客户端&lt;/li&gt;
&lt;li&gt;富客户端&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;三者有以下区别：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;网页端&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过浏览器（最新版本IE/Firefox/Chrome等）访问&lt;/li&gt;
&lt;li&gt;默认端口：9911（HTTPS）&lt;/li&gt;
&lt;li&gt;具有基本的监控功能（包括仪表板、应用、运维的基本监控信息），进一步分析需要跳转到后两种客户端执行&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;WebStart客户端&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要JRE/JDK  7/8支持&lt;/li&gt;
&lt;li&gt;需要通过网页下载一个jnlp文件并打开&lt;/li&gt;
&lt;li&gt;具有完整的监控分析功能（与富客户端功能相同）&lt;/li&gt;
&lt;li&gt;支持32位、64位系统&lt;/li&gt;
&lt;li&gt;支持的系统取决于JRE/JDK所支持的系统&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;富客户端&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;为安装包或绿色压缩包&lt;/li&gt;
&lt;li&gt;只支持64位系统&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="2-web"&gt;2 Web 客户端安装&lt;a class="headerlink" href="#2-web" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;访问IP地址：https://X.X.X.X:9911 ,并继续浏览。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVynxlr/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳转到Dynatrace Web登录页，输入自己的账号密码，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVynKLL/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;登录后跳转到Dynatrace首页，最上从左到右依次为：（如下图）&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;菜单&lt;/li&gt;
&lt;li&gt;仪表板&lt;/li&gt;
&lt;li&gt;筛选应用&lt;/li&gt;
&lt;li&gt;筛选时间范围&lt;/li&gt;
&lt;li&gt;分享&lt;/li&gt;
&lt;li&gt;用户信息&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyu6tA/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;日常使用的相关菜单及说明如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyCwo8/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="3-webstart32"&gt;3 WebStart客户端安装（推荐32位系统安装）&lt;a class="headerlink" href="#3-webstart32" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载并安装JRE/JDK 7/8，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyD3Kn/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyCVEm/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;浏览器访问Dynatrace Server IP：https://X.X.X.X:8021 ,如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyDEFL/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;访问后跳转到首页，点击&lt;strong&gt;Webstart客户端&lt;/strong&gt;，会下载一个client.jnlp文件。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyGvZ8/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;打开client.jnlp文件，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyTbtC/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;忽略告警并继续，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyTEQ2/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;之后会自动下载WebStart客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyV7rn/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;之后会自动启动，忽略告警并继续，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVyWtVK/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebStart客户端的界面显示，输入账号密码，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz0xXl/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebStart的界面展示如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz1NOi/pFI7J.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="4-64"&gt;4 富客户端安装（仅适用64位系统）&lt;a class="headerlink" href="#4-64" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;安装包包括苹果OS安装包、windows安装包及绿色解压版、linux版（jar包）如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz8tVT/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下面以windows安装包为例（windows压缩包直接解压使用），点击安装包运行，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz2dG3/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接受协议，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz2Ruw/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;选择路径，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz3f0G/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装开始，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz3JQe/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装完成，运行客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz47sp/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;填入IP+端口、账号密码，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz4RqZ/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;登录后会提示升级客户端，点击'YES'并继续，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5flw/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载升级包，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5sTF/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;升级后需重启客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz5SVf/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重启后会提示选择&lt;strong&gt;语言&lt;/strong&gt;，根据需要选择中文或英文，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz6OMI/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳转到首界面，界面简介如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz7qPQ/12Mkk2.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="5-webwebstart"&gt;5 Web端和客户端（WebStart 富客户端）联动&lt;a class="headerlink" href="#5-webwebstart" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Web端无法深入分析，可以在分析指定事务的时候，直接点击&lt;strong&gt;OPEN IN CLIENT&lt;/strong&gt; 后在WebStart或富客户端中进行分析。具体操作如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在Web端分析具体的事务，需要深入分析，点击&lt;strong&gt;OPEN IN CLIENT&lt;/strong&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz7I3h/cFcZZ.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;首次因为https信任会失败，接受告警后再次点击会跳出客户端，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GeVz8dUA/FePWL.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-5-install-client.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 7.Dynatrace agent安装</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-7-install-agent.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#server"&gt;Server 端配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#agent"&gt;安装 Agent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tips"&gt;TIPS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="server"&gt;Server 端配置&lt;a class="headerlink" href="#server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;编辑系统配置文件&lt;br&gt;
&lt;img alt="编辑系统配置文件" src="./images/appmon-install-agent-1.png"&gt;&lt;/li&gt;
&lt;li&gt;新建Agent组&lt;br&gt;
&lt;img alt="新建agent组" src="./images/appmon-install-agent-2.png"&gt;&lt;/li&gt;
&lt;li&gt;设置传感器映射关系&lt;ol&gt;
&lt;li&gt;▽ 与agent名字匹配：&lt;br&gt;
&lt;img alt="与agent名字匹配" src="./images/appmon-install-agent-3.png"&gt;&lt;/li&gt;
&lt;li&gt;▽ 高级设置：取消自动生成heapdump，将解析度设为最低，降低系统开销：&lt;br&gt;
&lt;img alt="高级设置" src="./images/appmon-install-agent-4.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;▽ 设置放置哪些传感器, 根据实际需要选定传感器种类：&lt;br&gt;
&lt;img alt="传感器种类" src="./images/appmon-install-agent-5.png"&gt;&lt;/li&gt;
&lt;li&gt;配置上一步放置的传感器的属性&lt;br&gt;
&lt;img alt="传感器属性" src="./images/appmon-install-agent-6.png"&gt;&lt;ol&gt;
&lt;li&gt;▽ JDBC传感器设置：将SQL命令捕获长度设为10240：&lt;br&gt;
&lt;img alt="jdbc 10240" src="./images/appmon-install-agent-7.png"&gt;&lt;/li&gt;
&lt;li&gt;▽ Java Logging传感器设置，增加几种级别的日志捕获：&lt;br&gt;
&lt;img alt="java传感器配置" src="./images/appmon-install-agent-8.png"&gt;&lt;/li&gt;
&lt;li&gt;▽ Servlets传感器设置：&lt;br&gt;
&lt;img alt="servlet传感器设置" src="./images/appmon-install-agent-9.png"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;其他传感器默认设置即可。&lt;/p&gt;
&lt;h2 id="agent"&gt;安装 Agent&lt;a class="headerlink" href="#agent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;说明:&lt;br&gt;
此处以&lt;strong&gt;dynatrace appmon 6.2&lt;/strong&gt;版本举例, 请根据实际情况换成对应版本的安装包.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;上传&lt;code&gt;dynatrace-agent-6.2.0.1239-unix.jar&lt;/code&gt;.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;java  -jar dynatrace-agent-6.2.0.1239-unix.jar&lt;/code&gt; （java版本必须与app server使用的相同），安装过程中修改安装路&lt;br&gt;
径，eg:&lt;code&gt;/tpsys/dynatrace/dynatrace-6.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;将agent嵌入到java中间件(如:weblogic)实例中：在启动脚本的环境变量&lt;code&gt;USER_MEM_ARGS&lt;/code&gt;中添加，&lt;code&gt;-agentpath:/tpsys/dynatrace/dynatrace-6.2/agent/lib64/libtagent.so=name=TPLife_wls_lbt_10.94.12.232_8001,server=10.94.21.140:9998&lt;/code&gt;（说明：name表示设置该agent的名字，server表示collector）&lt;/li&gt;
&lt;li&gt;重启java中间件生效。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tips"&gt;TIPS&lt;a class="headerlink" href="#tips" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;确认agent与哪个collector相连&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon-install-agent-10.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/appmon-install-agent-11.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-7-install-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 8.Dynatrace新增主机组&amp;添加应用程序定义</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-8-add-application.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;新增主机组&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;应用程序定义&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;新增主机组&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;▽ 编辑系统配置文件--基础结构--创建&lt;br&gt;
&lt;img alt="基础结构" src="./images/appmon-add-application-1.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 输入主机组名称&lt;br&gt;
&lt;img alt="主机组" src="./images/appmon-add-application-2.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 根据主机hostname，添加主机组映射关系：有多重语法，“包含”、“开头为”、“结尾&lt;br&gt;
为”等等。&lt;br&gt;
&lt;img alt="主机名规则" src="./images/appmon-add-application-3.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 设置主机的告警阈值&lt;br&gt;
&lt;img alt="主机告警阈值" src="./images/appmon-add-application-4.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;应用程序定义&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;▽ 编辑系统配置文件--应用程序--创建&lt;br&gt;
&lt;img alt="创建应用程序" src="./images/appmon-add-application-5.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 添加应用程序的匹配关系：可以包含应用实例所在主机的IP、应用程序域名等。&lt;br&gt;
&lt;img alt="应用程序匹配规则" src="./images/appmon-add-application-6.png"&gt;&lt;/p&gt;
&lt;p&gt;配置完成后, 还要查看监控面板，如果发现仍有一些URI没有纳入到自定义的应用程序监控，可以查看web请&lt;br&gt;
求，进行全面的纳入。&lt;/p&gt;
&lt;p&gt;▽ 系统配置文件--web请求--右键更多：&lt;br&gt;
&lt;img alt="web请求" src="./images/appmon-add-application-7.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 根据“源”编辑筛选：&lt;br&gt;
&lt;img alt="筛选" src="./images/appmon-add-application-8.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 应用程序条目筛选：&lt;br&gt;
&lt;img alt="条目筛选" src="./images/appmon-add-application-9.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 将未包含的URI全部加入到定义的应用程序中：&lt;br&gt;
&lt;img alt="添加" src="./images/appmon-add-application-10.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 查看监控面板，直到Default Application监控信息为空、以及不再出现其他未纳入的URI为止。&lt;br&gt;
&lt;img alt="default" src="./images/appmon-add-application-11.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:22:03 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-8-add-application.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 6.Dynatrace 生产环境License导入</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-6-import-license.html</link><description>&lt;ol&gt;
&lt;li&gt;在Dynatrace eservices -&amp;gt; &lt;a href="https://eservices.dynatrace.com/eservices/customers-licenses.jsf"&gt;My Licenses&lt;/a&gt;找到对应的License Key的信息，点击&lt;strong&gt;Download License File&lt;/strong&gt;，如下图：(下载后得到License文件名示例：&lt;strong&gt;dynaTrace_license_201608031073.key&lt;/strong&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="下载未激活License" src="http://pic.yupoo.com/east4ming_v/FMMHkMhr/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;进入到Dynatrace Server 设置 -&amp;gt; License，选择&lt;strong&gt;导入&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="导入未激活License" src="http://pic.yupoo.com/east4ming_v/FMMGDsAH/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;点击&lt;strong&gt;下一步&lt;/strong&gt;，出现如下图所示，如果Dynatrace Server无法连接到Internet，点击&lt;strong&gt;跳过&lt;/strong&gt;：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMGbuuD/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="4"&gt;
&lt;li&gt;跳过后需要手动导入之前下载的&lt;strong&gt;未激活的License文件&lt;/strong&gt;，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="从文件导入未激活License" src="http://pic.yupoo.com/east4ming_v/FMMGEfhk/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="5"&gt;
&lt;li&gt;导入&lt;strong&gt;未激活的License&lt;/strong&gt;后，会提示需要在网上进行&lt;strong&gt;激活&lt;/strong&gt;的操作，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="需要网上激活" src="http://pic.yupoo.com/east4ming_v/FMMGEMTr/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="6"&gt;
&lt;li&gt;点击下一步，会出现License激活的相关信息，主要的是&lt;strong&gt;Activation Key&lt;/strong&gt;信息，为25位的大写字母和数字的组合，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="Activation Key" src="http://pic.yupoo.com/east4ming_v/FMMHj38Z/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="7"&gt;
&lt;li&gt;记下该激活码信息，登陆Dynatrace eservices -&amp;gt; &lt;a href="https://eservices.dynatrace.com/eservices/customers-licenses.jsf"&gt;My Licenses&lt;/a&gt;,输入激活码激活,如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMHj7UN/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="8"&gt;
&lt;li&gt;激活后会提示成功激活，并给出&lt;strong&gt;已激活的License下载地址&lt;/strong&gt;，如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/FMMGFUk2/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="9"&gt;
&lt;li&gt;下载&lt;strong&gt;已激活License&lt;/strong&gt;，（下载后的文件示例：&lt;strong&gt;dynaTrace_license_201608031073__activated.key&lt;/strong&gt;),再次导入，如下图：（导入&lt;strong&gt;未激活的License&lt;/strong&gt;会提示&lt;strong&gt;当前许可证尚未启用&lt;/strong&gt;；导入&lt;strong&gt;已激活的License&lt;/strong&gt;提示会消失）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="导入已激活License" src="http://pic.yupoo.com/east4ming_v/FMMGGbCZ/medium.jpg"&gt;&lt;/p&gt;
&lt;ol start="10"&gt;
&lt;li&gt;通过文件导入&lt;strong&gt;已激活License&lt;/strong&gt;文件，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="通过文件导入已激活License" src="http://pic.yupoo.com/east4ming_v/FMMGGsUD/medium.jpg"&gt;&lt;/p&gt;
&lt;p&gt;导入后成功激活，显示如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="成功激活" src="http://pic.yupoo.com/east4ming_v/FMMY9dbb/medium.jpg"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:07:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-6-import-license.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 9.Dynatrace自定义仪表板</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-9-customized-dashboard.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;▽ 仪表板 -&amp;gt; 新建&lt;br&gt;
&lt;img alt="新建仪表板" src="./images/appmon-add-dashboard-1.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 在对应的系统配置文件下，选择图标绘制——自定义，添加系列：&lt;br&gt;
&lt;img alt="添加系列" src="./images/appmon-add-dashboard-2.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 选择测量值，以下以“web页面请求——Purepath响应时间”为例，按应用程序拆分：&lt;br&gt;
&lt;img alt="web请求" src="./images/appmon-add-dashboard-3.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt;备注:&lt;br&gt;
注：dynatrace上几乎所有地方都可以可以直接ctrl+F进行搜索。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;▽ 调整图表属性. 如重命名、选择时间范围、分辨率、图标类型、拆分模式、可视性等：&lt;br&gt;
&lt;img alt="图表属性" src="./images/appmon-add-dashboard-4.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 可以继续在该仪表板中添加系列，即将多个图表放在一个仪表板中：&lt;br&gt;
&lt;img alt="添加多个图表" src="./images/appmon-add-dashboard-5.png"&gt;&lt;/p&gt;
&lt;p&gt;▽ 拖动图表的标题，结合每个图表的属性，直到调到满意的效果。&lt;br&gt;
&lt;img alt="最终效果" src="./images/appmon-add-dashboard-6.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Thu, 04 Apr 2019 21:07:23 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-04:/dynatrace-appmon-handbook-9-customized-dashboard.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>监控JAVA JMX 指标 - 通过Dynatrace AppMon而无需Agent</title><link>https://www.EWhisper.cn/monitoring-java-soft-with-dynatrace-appmon-without-agent.html</link><description>&lt;h2 id="_1"&gt;概述&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在近期的中间件组会议中, 发现存在一个监控盲区, 即: &lt;strong&gt;JBoss EAP 6.X和Wildfly 10的监控&lt;/strong&gt;. 目前CA Wily和Zabbix(Zabbix应该可以监控的)暂时无法实现对其监控, 需要Dynatrace对其进行监控.(有Agent和无Agent两种方式). 本次主要介绍&lt;strong&gt;无Agent&lt;/strong&gt;的方式.&lt;/p&gt;
&lt;h2 id="_2"&gt;应用服务器端配置&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;JBoss EAP 6.X或Wildfly 10配置调整, &lt;strong&gt;需要配置logmanager和暴露JMX Remote端口&lt;/strong&gt;. 如下:&lt;/p&gt;
&lt;p&gt;对于Wildfly 10.1.0  (windows脚本, Linux下按照shell语法做相应修改, 下同)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;rem # Set LogManager&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Djboss.modules.system.pkgs=org.jboss.logmanager  -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:D:\wildfly-10.1.0.Final\wildfly-10.1.0.Final\modules\system\layers\base\org\jboss\logmanager\main\jboss-logmanager-2.0.4.Final.jar -Xbootclasspath/p:D:\wildfly-10.1.0.Final\wildfly-10.1.0.Final\modules\system\layers\base\org\jboss\log4j\logmanager\main\log4j-jboss-logmanager-1.1.2.Final.jar&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;rem # Set JMX Remote&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1090 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JBoss EAP 6.4&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;rem # Set LogManager&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Djboss.modules.system.pkgs=org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:D:\EAP-6.4.0\modules\system\layers\base\org\jboss\logmanager\main\jboss-logmanager-1.5.4.Final-redhat-1.jar -Xbootclasspath/p:D:\EAP-6.4.0\modules\system\layers\base\org\jboss\log4j\logmanager\main\log4j-jboss-logmanager-1.1.1.Final-redhat-1.jar&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;rem # Set JMX Remote&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;JAVA_OPTS=&lt;/span&gt;&lt;span class="nv"&gt;%JAVA_OPTS%&lt;/span&gt;&lt;span class="s2"&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1090 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;修改完成后重启对应的应用服务器.&lt;/p&gt;
&lt;h2 id="dynatrace"&gt;Dynatrace端配置&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;说明:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace通过一个插件: &lt;strong&gt;JMX Enhanced Monitor&lt;/strong&gt;来实现对JMX数据的收集.&lt;/p&gt;
&lt;p&gt;要使用该插件, 需要做以下2步操作:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建&lt;strong&gt;任务&lt;/strong&gt;, 通过该任务, 根据不同的JVM类型来抓取所有想要抓取的&lt;strong&gt;监控指标&lt;/strong&gt;, 并生成一个包含相关&lt;strong&gt;监控指标&lt;/strong&gt;的jar包到指定目录.&lt;/li&gt;
&lt;li&gt;再把该jar包以插件形式安装到Dynatrace Server上.&lt;/li&gt;
&lt;li&gt;创建&lt;strong&gt;监视器&lt;/strong&gt;, 从对应的应用服务器上获取想要监控的指标.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最后, 通过监控到的指标, 可以实现 &lt;strong&gt;监控面板展示/告警/报告导出&lt;/strong&gt;等功能.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;操作步骤:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在Dynatrace上, 通过安装插件&lt;strong&gt;JMX Enhanced Monitor&lt;/strong&gt;来实现对数据的收集. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="JMX监控插件" src="http://pic.yupoo.com/east4ming_v/ad38044d/358307e5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在具体的配置文件(如:CCIC2), 右键选择&lt;strong&gt;编辑系统配置文件&lt;/strong&gt; → &lt;strong&gt;任务&lt;/strong&gt; → &lt;strong&gt;创建任务&lt;/strong&gt;. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="创建任务1" src="http://pic.yupoo.com/east4ming_v/2310cada/9d4fc386.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;任务具体的配置如下:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/b2d66e68/e951a0be.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在&lt;strong&gt;Include MBeans Patterns&lt;/strong&gt;中, 编辑该配置, 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="包含MBeans" src="http://pic.yupoo.com/east4ming_v/3516c97c/54ece686.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑执行该任务的频率和具体的组件. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/bb7f8b32/d8dc5276.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;手动执行&lt;/strong&gt;该任务, 执行完成后, 右键查看该任务是否执行成功. 具体如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="执行任务" src="http://pic.yupoo.com/east4ming_v/384547c0/1d6444d6.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在第3步指定的路径的&lt;code&gt;mg/build&lt;/code&gt;下找到生成的jar包. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="生成的监控指标jar包" src="http://pic.yupoo.com/east4ming_v/0fe58827/9eef22a1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;设置&lt;/strong&gt; → Dynatrace Server → &lt;strong&gt;插件&lt;/strong&gt; → 安装插件, 选择上一步的jar包进行安装. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/b5e54e54/ad19a4c1.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在具体的配置文件(如:CCIC2), 右键选择&lt;strong&gt;编辑系统配置文件&lt;/strong&gt; → &lt;strong&gt;监视器&lt;/strong&gt; → &lt;strong&gt;创建...&lt;/strong&gt;. 如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/dec10b0f/193276e5.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;监视器的具体配置如下图:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;JMX Service URL的通用写法示例: &lt;code&gt;service:jmx:rmi:///jndi/rmi://127.0.0.1:1090/jmxrmi&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;添加要监控的主机.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/a7fc275c/04c867d4.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行频率和具体的执行组件配置如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/5e776a26/85260ee7.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;监控指标(测量结果)配置如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/72fd31d7/4a3b783d.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行该&lt;strong&gt;监视器&lt;/strong&gt;. 成功结果示例如下:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/058e36b4/86eae21e.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;至此, &lt;strong&gt;无Agent监控方式&lt;/strong&gt;已配置完成. 后续可以根据这些收集到的指标进行&lt;strong&gt;监控面板展示/告警/报告导出&lt;/strong&gt;等功能. 监控面板展示示例如下图:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/da0ed9f8/2bbec94e.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_3"&gt;监控指标&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;主机信息(物理内存和CPU. 需要JDK支持)&lt;/li&gt;
&lt;li&gt;内存使用相关信息(如: heap, perm, new区, old区等)&lt;/li&gt;
&lt;li&gt;类加载相关信息&lt;/li&gt;
&lt;li&gt;GC相关信息&lt;/li&gt;
&lt;li&gt;线程相关信息(总线程,peak线程, 当前线程)&lt;/li&gt;
&lt;li&gt;JAVA软件特定JMX信息(如:jboss的jboss相关信息, ActiveMQ的队列信息, Mule ESB的处理能力相关信息)&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Wed, 03 Apr 2019 10:36:27 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-03:/monitoring-java-soft-with-dynatrace-appmon-without-agent.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 1.安装组件前必备工作</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-1-before-installation.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;安装前准备&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#size"&gt;Size&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-server"&gt;Dynatrace Server&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#indexagent"&gt;禁用Index唯一化Agent名称&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#purepath"&gt;PurePath超时时间&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;业务分析最大分裂数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#server-side"&gt;Server Side报告限制&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gc"&gt;GC告警设置&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-analysis-server"&gt;Dynatrace Analysis Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace"&gt;Dynatrace 数据库&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;不同分辨率细节说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sql-server"&gt;SQL Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#oracle"&gt;Oracle&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-collector"&gt;Dynatrace Collector&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;最小需求&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#indexagent_1"&gt;使用Index唯一化Agent名字&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dynatrace-client"&gt;Dynatrace Client&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_5"&gt;客户端最小需求&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#client-side"&gt;Client Side 报告限制&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="_1"&gt;安装前准备&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;禁用&lt;strong&gt;超线程&lt;/strong&gt;（Hyper-Threading）&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/proc/cpuinfo&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;这是开启了超线程: &lt;code&gt;threads per core: 2&lt;/code&gt;  processor = core * 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;对于&lt;strong&gt;Medium&lt;/strong&gt;及以上规模，CPU时钟频率需大于等于2.6GHz&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="size"&gt;Size&lt;a class="headerlink" href="#size" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="size1" src="http://pic.yupoo.com/east4ming_v/GcvZBqZN/2IfCJ.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="size2" src="http://pic.yupoo.com/east4ming_v/GcvZByIh/RicSG.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="size3" src="http://pic.yupoo.com/east4ming_v/GcvZBDNd/KGXM7.jpg"&gt;&lt;/p&gt;
&lt;h2 id="dynatrace-server"&gt;Dynatrace Server&lt;a class="headerlink" href="#dynatrace-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;语言及字符集必须为&lt;strong&gt;LANG=en_US.UTF-8&lt;/strong&gt; (否则可能仪表板、告警邮件会乱码)&lt;/li&gt;
&lt;li&gt;Linux修改 ~/.bash_profile （直接cd到软件目录或&lt;code&gt;export DT_HOME=/opt/dynatrace-6.5&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;Linux修改chkconfig（配置服务项）&lt;/li&gt;
&lt;li&gt;Linux关闭selinux&lt;/li&gt;
&lt;li&gt;6.3+ Linux用户注意语言设置为中文。&lt;/li&gt;
&lt;li&gt;Linux需要安装JRE 6+（推荐Oracle JRE 8）&lt;/li&gt;
&lt;li&gt;会话存储不要多于&lt;strong&gt;2T&lt;/strong&gt; （500tps，一天1TB空间）&lt;/li&gt;
&lt;li&gt;ulimit -n 2048或更高&lt;/li&gt;
&lt;li&gt;内存分析服务器：在dtanalysisserver.ini中设置-Xmx。&lt;/li&gt;
&lt;li&gt;Windows：电源选项设置为&lt;strong&gt;高性能&lt;/strong&gt; （Linux也需要查看: &lt;code&gt;/proc/cpuinfo&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;不建议SAN-based存储，&lt;strong&gt;可能&lt;/strong&gt;会成为瓶颈(需要测试性能)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;为什么需要这么多核?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dynatrace 是一个复杂的软件解决方案，每时每刻都在后台进行海量的复杂计算。因此高性能的CPU是吞吐量的必要保障。下列列出Dynatrace Server需要较多CPU核数的一些原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;关联引擎&lt;/li&gt;
&lt;li&gt;实时分析&lt;/li&gt;
&lt;li&gt;通信（Clients, Collectors, etc.）&lt;/li&gt;
&lt;li&gt;数据库&lt;/li&gt;
&lt;li&gt;存储&lt;/li&gt;
&lt;li&gt;分析缓存&lt;/li&gt;
&lt;li&gt;数据导出&lt;/li&gt;
&lt;li&gt;Web servers&lt;/li&gt;
&lt;li&gt;任务和监视器的job center&lt;/li&gt;
&lt;li&gt;事件（告警）中心&lt;/li&gt;
&lt;li&gt;垃圾收集&lt;/li&gt;
&lt;li&gt;自监控和检查&lt;/li&gt;
&lt;li&gt;操作系统&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="indexagent"&gt;禁用Index唯一化Agent名称&lt;a class="headerlink" href="#indexagent" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要禁用这个功能，需要在Dynatrace Server的启动文件中加入一个布尔值。默认为true，需要将其设为false。如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;collector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;agentcenter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;unique_agent_names_with_index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="purepath"&gt;PurePath超时时间&lt;a class="headerlink" href="#purepath" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;默认为600s（10min），最大可以设置到3600s（1 hour）。在&lt;strong&gt;dtserver.ini&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;completenessTimeout&lt;/span&gt;&lt;span class="o"&gt;=&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;valueInSeconds&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="_2"&gt;业务分析最大分裂数&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在&lt;strong&gt;dtserver.ini&lt;/strong&gt;中，在 &lt;em&gt;-server&lt;/em&gt; 前一行添加如下内容：(第二个参数可以根据需要更改，如修改为75000)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;OverruleMaxSplittingsBTs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;MeasureExplosionPreventionTest&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;ManySplittingsTimeMillis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50000&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MeasureExplosionPreventionTest&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;MeasureExplosionTriggeringBT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="server-side"&gt;Server Side报告限制&lt;a class="headerlink" href="#server-side" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在&lt;strong&gt;dtserver.ini&lt;/strong&gt;中，设置如下参数：(需要添加在&lt;em&gt;-vmargs&lt;/em&gt; 后一行)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vmargs&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reporting&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Xmx1920M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;并行报告数设置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;默认为3&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.maxConcurrentReports=5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;报告等待超时&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;默认60s&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.reportWaitTimeout=120&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;报告等待队列长度&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;默认为3&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.maxWaitingReports=5&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;非拉丁语系PDF报告&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;-Dcom.dynatrace.diagnostics.reporting.pdf.english=false&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="gc"&gt;GC告警设置&lt;a class="headerlink" href="#gc" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;有以下3个参数可以进行设置，在&lt;strong&gt;dtserver.ini&lt;/strong&gt;中，使用-D&amp;lt;参数&amp;gt;=&amp;lt;值&amp;gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;值&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics.maxRelativeGCActivity&lt;/td&gt;
&lt;td&gt;int (default = 15) %&lt;/td&gt;
&lt;td&gt;Set custom health threshold for max relative GC activity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics.healthWatchPeriodGc&lt;/td&gt;
&lt;td&gt;int (default = 5) min&lt;/td&gt;
&lt;td&gt;Set custom process health threshold for the watch&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;com.dynatrace.diagnostics. healthWatchPeriodViolationThresholdGc&lt;/td&gt;
&lt;td&gt;int (default = 4) min&lt;/td&gt;
&lt;td&gt;Set custom process health threshold for the watch&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="dynatrace-analysis-server"&gt;Dynatrace Analysis Server&lt;a class="headerlink" href="#dynatrace-analysis-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;按照监控的JVM的最大heap+25% 修改最大内存-Xmx&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dynatrace"&gt;Dynatrace 数据库&lt;a class="headerlink" href="#dynatrace" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;不同分辨率细节说明&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="分辨率细节" src="http://pic.yupoo.com/east4ming_v/GcvZCl1E/NcZPS.jpg"&gt;&lt;/p&gt;
&lt;h3 id="sql-server"&gt;SQL Server&lt;a class="headerlink" href="#sql-server" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;起始空间5G&lt;/li&gt;
&lt;li&gt;DBowner权限&lt;/li&gt;
&lt;li&gt;表排序规则要求：&lt;strong&gt;Chinese_PRC_CI_AS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="oracle"&gt;Oracle&lt;a class="headerlink" href="#oracle" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;dba&lt;/li&gt;
&lt;li&gt;字符集：&lt;strong&gt;UTF-8&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dynatrace-collector"&gt;Dynatrace Collector&lt;a class="headerlink" href="#dynatrace-collector" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;预置JDK 8（推荐Oracle）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux修改 ~/.bash_profile （直接cd到软件目录）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux修改chkconfig（配置服务项）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux关闭selinux&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果Collector和Server不在一块，在脚本或注册文件中加入&lt;code&gt;-server &amp;lt;dynaTraceServerName&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果要配置多实例，添加&lt;code&gt;./dtcollector -instance collector02 -listen :10001&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对于服务项，拷贝$DT_HOME/init.d/dynaTraceCollector 脚本到/etc/init.d/dynatraceCollector02。并做以下修改：(2选1)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DT_OPTARGS="-instance collector02"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DT_INSTANCE=collector02&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;最小需求&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;50个Java或25个.Net Agents&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Disk：30GB&lt;/li&gt;
&lt;li&gt;Memory：2GB（Collector组件需要的，OS要更多一点，3GB+）&lt;/li&gt;
&lt;li&gt;CPU Cores：1 （禁用超线程，推荐2Core+）&lt;/li&gt;
&lt;li&gt;limits.conf 打开文件数 最小为：(500+3×Agents数)×Collectors数&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="indexagent_1"&gt;使用Index唯一化Agent名字&lt;a class="headerlink" href="#indexagent_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要禁用这个功能，需要在Dynatrace Collector的启动文件&lt;strong&gt;dtcollector.ini&lt;/strong&gt;中加入一个布尔值。默认为true，需要将其设为false。如下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-Dcom.dynatrace.diagnostics.collector.agentcenter.unique_agent_names_with_index=false&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="dynatrace-client"&gt;Dynatrace Client&lt;a class="headerlink" href="#dynatrace-client" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_5"&gt;客户端最小需求&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;x64（Dynatrace 6.5+）&lt;/li&gt;
&lt;li&gt;Disk：100MB&lt;/li&gt;
&lt;li&gt;Memory：1GB&lt;/li&gt;
&lt;li&gt;分辨率：1024×768&lt;/li&gt;
&lt;li&gt;Webstart Client：&lt;ul&gt;
&lt;li&gt;IE 8+ Firefox 38-48是经过Dynatrace认证的&lt;/li&gt;
&lt;li&gt;Oracle JRE &amp;gt;= 1.8.0_45&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="client-side"&gt;Client Side 报告限制&lt;a class="headerlink" href="#client-side" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以在&lt;strong&gt;dtclient.ini&lt;/strong&gt;中修改如下参数：(参数得加在 &lt;em&gt;-vmargs&lt;/em&gt; 后一行，而不是最后。)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vmargs&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;dynatrace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;diagnostics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;reporting&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;maxTableRows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Xmx512M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;对于Webstart Client，需要设置&lt;strong&gt;JAVA_TOOL_OPTIONS&lt;/strong&gt;环境变量：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;JAVA_TOOL_OPTIONS=-Dcom.dynatrace.diagnostics.reporting.maxTableRows=10000&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-1-before-installation.html</guid><category>Dynatrace</category><category>Observability</category><category>性能调优</category></item><item><title>Dynatrace AppMon 实战手册 - 2.证书创建</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-2-create-certificate.html</link><description>&lt;h2 id="_1"&gt;步骤&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;启动向导&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMaHa/7Bm8Z.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动内存分析服务器&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMkg2/WyzsU.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;填写组织名称&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMsh5/11IJkW.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建私钥成功&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMw10/1sjoN.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;导出私钥和证书&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMBA4/pfPKT.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自动部署到组件&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMEOc/medium.jpg"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件重启&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMLBp/tJqrX.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;部署证书完成&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GaYOMLBp/tJqrX.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-2-create-certificate.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 3.创建系统配置文件模板</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-3-create-profile-template.html</link><description>&lt;h2 id="_1"&gt;步骤&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;在左侧边栏中，右键&lt;strong&gt;系统配置文件模板&lt;/strong&gt; → &lt;strong&gt;创建系统配置文件模板&lt;/strong&gt;， 如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcoiwt/hknCr.png"&gt;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;配置系统配置文件模板基本信息，如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcowF1/QOxbw.jpg"&gt;&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;选择对应的技术栈（Java、.NET、Web server、PHP、Native）,如上图。具体解释如下：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java  .NET  PHP无须解释&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Web server - 对应一系列Web server，如Apache、Nginx、IIS等&lt;/li&gt;
&lt;li&gt;Native - 对应的是Dynatrace的ADK，通过在应用中嵌入该ADK，可以实现对C++、Python等的监控。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_2"&gt;要点&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_3"&gt;事件（即告警）相关配置&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;使某些事件活动或不活动&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;以下事件规则不需要启用，具体如下图：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;部署&lt;/li&gt;
&lt;li&gt;测试违例&lt;/li&gt;
&lt;li&gt;事物整体失败率高（&lt;strong&gt;失败率太高&lt;/strong&gt;已经覆盖）&lt;/li&gt;
&lt;li&gt;数据库Agent相关（没有购买数据库Agent license则无需开启）&lt;/li&gt;
&lt;li&gt;页面操作失败率高（需要UEM license；&lt;strong&gt;失败率太高&lt;/strong&gt;有交集）&lt;/li&gt;
&lt;li&gt;应用程序进程关闭（根据需求确定是否开启）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoCV4/M1i31.png"&gt;&lt;/p&gt;
&lt;h3 id="_4"&gt;错误检测配置&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;不要将日志标记为错误&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;删除&lt;strong&gt;重要的日志记录&lt;/strong&gt;规则。&lt;/p&gt;
&lt;p&gt;原因：&lt;/p&gt;
&lt;p&gt;有的开发为了在生产上显示日志，会将一些Info等级别的信息设置为Error，而出现Error日志报错并不一定意味着&lt;strong&gt;事务&lt;/strong&gt;失败。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoNLt/P7SbT.png"&gt;&lt;/p&gt;
&lt;h3 id="_5"&gt;错误规则创建&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以根据应用所特有的Exception、Logging等来创建，具体如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsOkh/65iq5.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_6"&gt;应用程序定义&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Dynatrace 6.5 可以通过Web/Mobile（6.5之前只有这一种定义方法）、Messaging、Entry Point来定义应用，可以进一步细化应用的定义。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsTQp/R2lT9.jpg"&gt;&lt;/p&gt;
&lt;h3 id="_7"&gt;用户体验&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果没有购买UEM license，则禁用UEM，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcoZMb/amzM1.png"&gt;&lt;/p&gt;
&lt;h3 id="schedule"&gt;Schedule&lt;a class="headerlink" href="#schedule" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;创建时间计划&lt;/strong&gt;，如创建&lt;strong&gt;每个工作日、每周、每月&lt;/strong&gt;计划。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcp5kE/44NZA.jpg"&gt;&lt;/p&gt;
&lt;h3 id="agent-group-java"&gt;Agent Group - Java&lt;a class="headerlink" href="#agent-group-java" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;创建Java技术栈的Agent Group模板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpaOy/8KhP9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;选择需要放置的Sensor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;原则：最少最需要。如下图：&lt;/p&gt;
&lt;p&gt;必须的Sensor：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDBC&lt;/li&gt;
&lt;li&gt;Exceptions&lt;/li&gt;
&lt;li&gt;Java Logging&lt;/li&gt;
&lt;li&gt;JMX MBean Server&lt;/li&gt;
&lt;li&gt;JMS&lt;/li&gt;
&lt;li&gt;JMS Receive Entry Point&lt;/li&gt;
&lt;li&gt;Executor Tagging&lt;/li&gt;
&lt;li&gt;Thread Start Tagging&lt;/li&gt;
&lt;li&gt;Java Web Requests&lt;/li&gt;
&lt;li&gt;Servers&lt;/li&gt;
&lt;li&gt;Java Web Services&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcpjjm/12bHs1.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Exception (Java)&lt;/h4&gt;
&lt;p&gt;对Dynatrace默认的Exception定义进行细化，如下图：&lt;/p&gt;
&lt;p&gt;原因：原有的直接排除java.开头的Exception会排除大量我们需要获取的Exception，如网络相关的报错等。所以我们需要尽可能细化不需要抓取的Exception，如&lt;strong&gt;beans&lt;/strong&gt;、 &lt;strong&gt;方法找不到&lt;/strong&gt;相关异常。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpAV9/YqhSj.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - JDBC&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;启用聚合（推荐生产环境开启，因为单个事务的SQL执行次数较多，如果不聚合分析起来很不方便。启用聚合了则无法获取&lt;strong&gt;绑定值&lt;/strong&gt;）&lt;/li&gt;
&lt;li&gt;SQL长度跳大（如：10240）（默认512长度，经常会抓取到不完整的SQL，从而无法定位SQL问题。建议该值大于所监控的应用中的最大的SQL长度）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcpVjP/10a2Js.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Logging (Java)&lt;/h4&gt;
&lt;p&gt;此处Log等级大小写敏感，我们可以添加我们监控的级别，如对于WebLogic，可以添加&lt;strong&gt;Error&lt;/strong&gt;等级别，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcqeew/5M54W.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - Servlet&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;通常，我们认为静态资源不会对系统性能造成影响，无需监控，此处设置排除对静态资源的监控。&lt;/li&gt;
&lt;li&gt;此外，一些中间件、硬件设备，会有与应用无关的URI，我们也需要排除。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcqnte/hunpl.jpg"&gt;&lt;/p&gt;
&lt;h3 id="agent-group-net"&gt;Agent Group - .NET&lt;a class="headerlink" href="#agent-group-net" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;创建.NET Agent Group模板，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcquzV/Pc4ms.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;选择必要的Sensor&lt;/strong&gt;，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqFMu/CkZXe.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - ADO.NET&lt;/h4&gt;
&lt;p&gt;与JDBC Sensor类似，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqMPS/iVLgB.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Sensor - ASP.NET&lt;/h4&gt;
&lt;p&gt;与Servlet类似，见下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqRLY/8DuGF.jpg"&gt;&lt;/p&gt;
&lt;h3 id="api"&gt;API&lt;a class="headerlink" href="#api" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以针对应用开发的需求，定义API，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcqXC8/th008.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcr2YK/14SZ6f.jpg"&gt;&lt;/p&gt;
&lt;h3 id="measure"&gt;Measure&lt;a class="headerlink" href="#measure" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;根据应用监控的需求，进行相关Measure的定义，此类数据可以进一步作为&lt;strong&gt;过滤、聚合、拆分&lt;/strong&gt;等条件创建Business Transaction。&lt;/p&gt;
&lt;p&gt;如需要创建&lt;strong&gt;大于10s的web请求&lt;/strong&gt;的measure，则具体创建如下：(由&lt;strong&gt;web requests - time&lt;/strong&gt;复制修改而来，设置上限阈值)，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsFyB/4pne8.jpg"&gt;&lt;/p&gt;
&lt;h3 id="business-transaction"&gt;Business Transaction&lt;a class="headerlink" href="#business-transaction" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如需要进行更为复杂的应用监控（如针对应用细节的监控、对关键业务的监控等），可以创建Business Transaction。&lt;/p&gt;
&lt;p&gt;如要抓取所有&lt;strong&gt;web响应时间大于10s&lt;/strong&gt;的请求，可以将之前创建的Measure作为过滤条件来创建。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcrg0x/eFEUX.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TIPS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;勾选&lt;strong&gt;Active&lt;/strong&gt; 才会正式启用。&lt;/li&gt;
&lt;li&gt;勾选对应选项后结果会存放到数据库中。&lt;/li&gt;
&lt;li&gt;三大因子&lt;ul&gt;
&lt;li&gt;Filter&lt;/li&gt;
&lt;li&gt;Calculate Results&lt;/li&gt;
&lt;li&gt;Split Results&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Splitting 也是重要的选项&lt;/li&gt;
&lt;li&gt;基线设置用来设置动态或静态的告警阈值&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id="monitor"&gt;Monitor&lt;a class="headerlink" href="#monitor" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Monitor这块内容待完善及丰富。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Unix Monitor&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrlB8/kLc10.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;VMware Monitor&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Host System Performance Monitor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrlB8/kLc10.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrLyx/9Rh2b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Virtual Machine Performance Monitor&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcrU8l/7iHmE.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/Gcwcs3as/cUXUV.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;Windows Performance Monitor&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="http://pic.yupoo.com/east4ming_v/GcwcsqFN/hKRir.jpg"&gt;&lt;/p&gt;
&lt;h2 id="_8"&gt;总结&lt;a class="headerlink" href="#_8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;至此，系统配置文件模板及关于系统配置文件大部分要点已经配置完成，后续可以基于该模板创建正式的系统配置文件。&lt;/p&gt;
&lt;p&gt;正式的系统配置文件还需要配置的内容有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Agent基础配置（如mapping、分辨率等）&lt;/li&gt;
&lt;li&gt;观察层（Messaging、Load Balance等）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;需要细化的内容有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;应用定义&lt;/li&gt;
&lt;li&gt;Monitor&lt;/li&gt;
&lt;li&gt;任务（定时报告、定时采样等）&lt;/li&gt;
&lt;li&gt;Measure（中间件指标、JMX指标、应用其他指标等）&lt;/li&gt;
&lt;li&gt;Business Transaction （关键业务等）&lt;/li&gt;
&lt;li&gt;Sensor（应用特定Sensor，如关键方法--核保金额；定义入口点，如批处理、TCP Socket及其他）&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-3-create-profile-template.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>Dynatrace AppMon 实战手册 - 4.Dynatrace组件Linux系统配置为服务</title><link>https://www.EWhisper.cn/dynatrace-appmon-handbook-4-register-linux-system-service.html</link><description>&lt;p&gt;配置为服务，可以在主机启动的时候自启动。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;复制Dynatrace相关脚本（$DT_HOME/init.d）到 /etc/init.d&lt;/li&gt;
&lt;li&gt;在脚本中定义&lt;strong&gt;DT_RUNASUSER&lt;/strong&gt;及其他变量（如有必要，修改&lt;strong&gt;DT_OPTARGS&lt;/strong&gt;和&lt;strong&gt;DT_FE_OPTARGS&lt;/strong&gt;等）(&lt;strong&gt;必需&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;使用&lt;code&gt;chkconfig --add dynaTraceServer&lt;/code&gt;  (如果是其他Linux版本，如Debian(Ubuntu,...)使用&lt;code&gt;sudo update -rc.d dynaTraceServerNonRoot defaults&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;如果Analysis Server和Server位于同一台，则先启动Analysis Server，过10s左右，再启动Server。（可以再Sever的脚本前加入sleep 10）&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 23:08:28 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/dynatrace-appmon-handbook-4-register-linux-system-service.html</guid><category>Dynatrace</category><category>Observability</category></item><item><title>什么是 AIOps?</title><link>https://www.EWhisper.cn/what-is-aiops.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops"&gt;什么是 AIOps&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops_1"&gt;AIOps 描述&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_2"&gt;典型AIOps 平台介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_1"&gt;上下文协作和知识捕获&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_3"&gt;AIOps 诞生背景&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;市场分析&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_3"&gt;数据摄取和处理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_4"&gt;分析结果&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;代表性供应商&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_4"&gt;AIOps 平台建设建议&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#aiops_5"&gt;通过采用增量方法确保成功部署AIOps功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#aiops_6"&gt;选择能够支持广泛的历史和流数据类型的AIOps平台&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;总结&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_7"&gt;建议&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="aiops"&gt;什么是 AIOps&lt;a class="headerlink" href="#aiops" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;AIOps平台结合了&lt;strong&gt;大数据&lt;/strong&gt;和&lt;strong&gt;机器学习&lt;/strong&gt;功能, 通过可扩展的提取和分析IT不断增加的&lt;strong&gt;数据量(volume), 数据种类(variety)和数据生成速度(velocity)&lt;/strong&gt;来支持所有的主要IP运维功能. 该&lt;strong&gt;平台支持使用多个数据源(监控的数据源), 数据收集方法以及分析和演示技术.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="aiops_1"&gt;AIOps 描述&lt;a class="headerlink" href="#aiops_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AIOps可以增强多种常见的IT运营流程和任务, 包括&lt;strong&gt;性能分析, 异常检测, 事件关联和分析, IT服务管理和自动化.&lt;/strong&gt;&lt;br&gt;
它们的核心功能是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;提取数据&lt;/strong&gt; - 从与供应商有关或无关的多个源中提取数据&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据分析&lt;/strong&gt; - 通过以下2点启用数据分析:&lt;ul&gt;
&lt;li&gt;提取时的实时分析(流式数据引擎)&lt;/li&gt;
&lt;li&gt;存储数据的历史分析(大数据离线分析)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据访问&lt;/strong&gt; - 提供对数据的访问&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据存储&lt;/strong&gt; - 存储采集的数据&lt;/li&gt;
&lt;li&gt;使用&lt;strong&gt;机器学习&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关联操作&lt;/strong&gt; - 根据分析结果启动操作或下一步&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;分析工作的目标是发现和建立模型 - 用于预测可能的事件和新出现的使用情况 - 并及时回看历史数据已确定当前系统行为的根本原因.&lt;/p&gt;
&lt;p&gt;&lt;img alt="AIOps平台在IT运营管理(ITOM)中持续洞察" src="./images/340492_0001.png"&gt;&lt;/p&gt;
&lt;h3 id="aiops_2"&gt;典型AIOps 平台介绍&lt;a class="headerlink" href="#aiops_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下面以典型的AIOps 平台为例, 对AIOps的相关功能进行一一介绍.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img align="absmiddle" alt="📓" class="emojione" height="20px" src="https://cdn.jsdelivr.net/emojione/assets/4.0/png/64/1f4d3.png" title=":notebook:" width="20px"&gt; 备注:&lt;br&gt;
截图来自: &lt;a href="https://www.moogsoft.com/"&gt;moogsoft&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;概览&lt;/h4&gt;
&lt;p&gt;下图为软件首页,  着重展示了功能:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;告警降噪&lt;/strong&gt; - 250000 的事件降噪为55个场景, 过滤噪声99.9%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="概览" src="./images/moogsoft-ai-ops-overview-in-situ@2x.png"&gt;&lt;/p&gt;
&lt;p&gt;以下是这个AIOps软件的主要功能:&lt;/p&gt;
&lt;h4&gt;集成&lt;/h4&gt;
&lt;p&gt;与IT监控，自动化，服务管理，通知和协作工具进行50多种开箱即用的集成; 通过REST，syslog，webhook，socket或SNMP，我们可以与数百个集成，为您在一个平台上的整个IT工具链提供可见的上下文。(集成, 源端集成监控, 目标端集成自动化, 通知工具等)&lt;/p&gt;
&lt;p&gt;集成接口:&lt;/p&gt;
&lt;p&gt;&lt;img alt="集成方式" src="./images/plug-graphics-logos-lg.png"&gt;&lt;/p&gt;
&lt;p&gt;集成的监控:&lt;/p&gt;
&lt;p&gt;&lt;img alt="集成监控" src="./images/Integrations-1.png"&gt;&lt;/p&gt;
&lt;h4&gt;降噪&lt;/h4&gt;
&lt;p&gt;通过对整个监控堆栈中的所有事件进行数学分析，将信号与噪声分离，将警报量降低90％或更多。&lt;/p&gt;
&lt;p&gt;&lt;img alt="降噪" src="./images/noise-reduction-eduction-reduced.png"&gt;&lt;/p&gt;
&lt;h4&gt;关联&lt;/h4&gt;
&lt;p&gt;关联整个监控堆栈中的相关警报，为运维人员提供上下文感知，以更快地发现事件。&lt;/p&gt;
&lt;p&gt;&lt;img alt="关联" src="./images/Asset-19@3x.png"&gt;&lt;/p&gt;
&lt;h4&gt;根因分析&lt;/h4&gt;
&lt;p&gt;机器学习和基于拓扑的算法在当前事件中列出可能根本原因。最重要的是，我们的技术从过去学习，所以如果问题再次出现，您会自动收到有关如何更快地修复它的说明。&lt;/p&gt;
&lt;p&gt;&lt;img alt="根因分析" src="./images/probable-root-cause-reduced.png"&gt;&lt;/p&gt;
&lt;h3 id="_1"&gt;上下文协作和知识捕获&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;将事件传递到合适的人员，以便他们可以一起更快地解决每个事件，同时记录相关恢复步骤，类似事件。我们的AIOps平台可以快速，轻松地跨团队和工具进行协作。&lt;/p&gt;
&lt;p&gt;&lt;img alt="协作1" src="./images/Collaboration-1-reduced.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="协作2" src="./images/Collaboration-2-reduced.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="协作3" src="./images/Collaboration-3-reduced.png"&gt;&lt;/p&gt;
&lt;h3 id="aiops_3"&gt;AIOps 诞生背景&lt;a class="headerlink" href="#aiops_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在过去二十年中，人工智能技术间歇性地影响了ITOM的发展，而AIOps平台只是这种影响的最新例证。IT运营一方面要求精细化运营, 降低成本，另一方面又增加了运营复杂性。可以在&lt;strong&gt;数据量(volume), 数据种类(variety)和数据生成速度(velocity)&lt;/strong&gt;的三个维度上定义复杂性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IT基础架构和应用程序产生的&lt;strong&gt;数据量&lt;/strong&gt;快速增长（每年增长2到3倍）&lt;/li&gt;
&lt;li&gt;机器和人类生成的&lt;strong&gt;数据类型越来越多&lt;/strong&gt;（例如，指标，日志，wire数据和文档[知识管理]）&lt;/li&gt;
&lt;li&gt;由于采用了云原生或其他敏捷架构，&lt;strong&gt;数据生成速度&lt;/strong&gt;不断提高，IT架构内的变化率也在不断提高&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在处理大量，多样化和速度的数据时，现有的监控工具面临压力。更重要的是，监控工具不会跨越提取有用见解所需的多种数据类型。例如，企业需要大量数据，这些数据可能跨越&lt;strong&gt;基础架构&lt;/strong&gt;和&lt;strong&gt;应用程序指标&lt;/strong&gt;，&lt;strong&gt;用户体验数据&lt;/strong&gt;，&lt;strong&gt;业务交易数据&lt;/strong&gt;，&lt;strong&gt;拨测数据&lt;/strong&gt;以及来自各种&lt;strong&gt;系统的日志&lt;/strong&gt;，以获得更多分析, 洞察和见解。&lt;/p&gt;
&lt;p&gt;非IT团队如业务条线和IT运营团队（如应用程序开发人员和DevOps），越来越多地表现出对AIOps技术的兴趣，以便在多个数据集中表现出洞察力。&lt;br&gt;
此外，由于数字业务，IT需要采取行动的速度也在不断提高(敏捷快速)，因此需要可以提供以下帮助的工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;降低噪音&lt;/strong&gt;（例如，以误报或冗余事件的形式）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;根因分析&lt;/strong&gt; - 提供更好的因果关系，这有助于确定事故的可能原因&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动态告警基线&lt;/strong&gt; - 捕获超出静态阈值的异常，以主动检测异常情况&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;故障预测&lt;/strong&gt; - 推断未来事件以防止潜在的故障&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;集成处理&lt;/strong&gt;  - 启动解决问题的操作（直接或通过集成）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;迄今为止，AIOps功能主要用于支持IT运维流程，以便监控或观察IT基础架构，应用程序行为或数字体验。AIOps平台投资几乎总是基于其&lt;strong&gt;减少平均解决问题时间&lt;/strong&gt;(提高业务连续性)的能力而得到认可。无论是采用机器学习还是在事件管理上下文中对事件进行重复数据删除，还是在APM上下文中结合基于字节码检测的分布式跟踪数据来分析应用程序日志数据，它们都是合理的。&lt;/p&gt;
&lt;p&gt;AIOps正在逐渐演变，不仅可以提取数据进行分析，还可以&lt;strong&gt;根据分析启动相应操作&lt;/strong&gt;。这些操作（最有可能通过与其他ITOM和ITSM工具的集成）将采取多种形式，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;告警及告警处置&lt;/li&gt;
&lt;li&gt;问题自动分类及记录&lt;/li&gt;
&lt;li&gt;CMDB清洗, 修正和关联&lt;/li&gt;
&lt;li&gt;运行预定自动化动作&lt;/li&gt;
&lt;li&gt;应用程序发布编排&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AIOps工具在监控的四个阶段 - &lt;strong&gt;数据采集，聚合，分析和行动&lt;/strong&gt;（见图2） - 显示了“右移” - 具有数据聚合和分析的核心功能。随着技术的进一步发展，用户将能够利用平台的主动建议，实现行动操作的阶段。&lt;br&gt;
关于监控工具与AIOps的争论刚刚开始，而且可能会增长。然而，从长远来看，专家领域将存在专业监控工具，而对于IT运营通才(SRE团妒?)，主要的工具将是AIOps。&lt;/p&gt;
&lt;p&gt;&lt;img alt="监控的4个阶段" src="./images/340492_0002.png"&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;市场分析&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;迄今为止，很少有供应商提供全面，集成的AIOps平台。然而，许多供应商提供了广泛的AIOps功能，其子集彼此集成。为了更清楚地了解市场如何发展以及供应商彼此之间的位置，Gartner将当前可用的AIOps功能划分为数据管理和分析结果两大类：&lt;/p&gt;
&lt;h3 id="_3"&gt;数据摄取和处理&lt;a class="headerlink" href="#_3" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;历史和流数据管理 - 允许提取，索引和持久化存储日志数据，wire数据，指标和文档数据的软件或设备。由此产生的数据库大部分是非结构化的或多结构化的，而存储的数据集以高容量累积，以高速度变化并且根据高度变化的格式隐式地构造。这种历史数据管理功能可称为“大数据管理”。为了在IT运营用例下提供价值，该工具还必须将人类用户感知的时间尺度的数据呈现为实时，直接在摄取时提供数据无需访问持久数据库。它必须跨多个实时和历史数据流提供连贯的分析。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;分析结果&lt;a class="headerlink" href="#_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;基本和高级统计分析&lt;/strong&gt;- 单变量和多变量分析的组合，包括对IT实体捕获的指标以及源头策划数据的相关性，聚类，分类和推断的使用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自动建立模型和预测&lt;/strong&gt; - 使用上述一种或多种类型的历史或流数据，以引出描述可以从数据集本身推断但不立即存在的新相关的数学或结构模式。然后可以使用这些模式及时前进并以不同程度的概率预测事件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;异常检测&lt;/strong&gt; - 使用先前组件发现的模型首先确定什么构成正常的系统行为，然后辨别出与正常系统行为的偏差。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;根因分析&lt;/strong&gt; - 修剪由自动化模式发现和预测组件建立的相关性网络，以隔离代表真正因果关系的依赖性链接，从而提供有效干预的解决方案。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;适用性建议&lt;/strong&gt; - 对问题进行分类，将其分类为已知类别。然后，它可以挖掘先前解决方案的存储，分析这些解决方案的适用性并以优先级形式提供它们以用于补救。最终，这些将使用闭环方法，并在使用后对其有效性进行投票。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;拓扑&lt;/strong&gt;- 对于AIOps检测到的相关且可操作的模式，必须围绕所摄取的数据放置上下文。该上下文是拓扑。如果没有拓扑的上下文和事实上的约束，检测到的模式虽然有效，但可能无益且分散注意力。从拓扑中的数据派生模式将减少模式的数量，建立相关性并说明隐藏的依赖性。使用拓扑作为因果关系确定的一部分可以大大提高其准确性和有效性。使用图形和瓶颈分析捕获事件发生的位置及其上下游依赖关系可以提供关于重点修复工作的重点。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;代表性供应商&lt;a class="headerlink" href="#_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;供应商&lt;/th&gt;
&lt;th&gt;成立年份&lt;/th&gt;
&lt;th&gt;总部&lt;/th&gt;
&lt;th&gt;网站&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Anodot&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;Israel&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.anodot.com/"&gt;https://www.anodot.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BigPanda&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.bigpanda.io/"&gt;https://www.bigpanda.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BMC&lt;/td&gt;
&lt;td&gt;1980&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.bmc.com/"&gt;https://www.bmc.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Brains Technology&lt;/td&gt;
&lt;td&gt;2008&lt;/td&gt;
&lt;td&gt;Japan&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.brains-tech.co.jp/en/"&gt;https://www.brains-tech.co.jp/en/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CA Technologies&lt;/td&gt;
&lt;td&gt;1974&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.ca.com/us.html"&gt;https://www.ca.com/us.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Devo (Logtrust)&lt;/td&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.devo.com/"&gt;https://www.devo.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Elastic&lt;/td&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.elastic.co/"&gt;https://www.elastic.co/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Evolven&lt;/td&gt;
&lt;td&gt;2007&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.evolven.com/"&gt;https://www.evolven.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FixStream&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://fixstream.com/"&gt;https://fixstream.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IBM&lt;/td&gt;
&lt;td&gt;1911&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="http://www.ibm.com/"&gt;www.ibm.com&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;InfluxData&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.influxdata.com/"&gt;https://www.influxdata.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ITRS&lt;/td&gt;
&lt;td&gt;1993&lt;/td&gt;
&lt;td&gt;United Kingdom&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.itrsgroup.com/"&gt;https://www.itrsgroup.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jKool&lt;/td&gt;
&lt;td&gt;2014&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.jkoolcloud.com/"&gt;https://www.jkoolcloud.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Loom Systems&lt;/td&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.loomsystems.com/"&gt;https://www.loomsystems.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Moogsoft&lt;/td&gt;
&lt;td&gt;2011&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.moogsoft.com/"&gt;https://www.moogsoft.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Scalyr&lt;/td&gt;
&lt;td&gt;2012&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.scalyr.com/"&gt;https://www.scalyr.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ScienceLogic&lt;/td&gt;
&lt;td&gt;2003&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://sciencelogic.com/"&gt;https://sciencelogic.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SignalFx&lt;/td&gt;
&lt;td&gt;2013&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://signalfx.com/"&gt;https://signalfx.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Splunk&lt;/td&gt;
&lt;td&gt;2004&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.splunk.com/"&gt;https://www.splunk.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Stackstate&lt;/td&gt;
&lt;td&gt;2015&lt;/td&gt;
&lt;td&gt;Netherlands&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.stackstate.com/"&gt;https://www.stackstate.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Sumo Logic&lt;/td&gt;
&lt;td&gt;2010&lt;/td&gt;
&lt;td&gt;United States&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.sumologic.com/"&gt;https://www.sumologic.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="aiops_4"&gt;AIOps 平台建设建议&lt;a class="headerlink" href="#aiops_4" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="aiops_5"&gt;通过采用增量方法确保成功部署AIOps功能&lt;a class="headerlink" href="#aiops_5" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;AIOps功能的有效部署需要从根据数据源重组IT域开始的结构化方法。这种方法将所需的焦点转移到数据集而不是工具，这是传统的方法。Gartner发现，最好先掌握从各种来源获取的大型持久数据集的使用。只有在IT运营团队熟练掌握AIOps的大数据方面之后，才能尝试掌握能力类别。因此，在选择工具或服务时，企业应优先考虑那些允许部署数据提取，存储和访问的供应商，而不依赖于剩余的AIOps组件。鉴于AIOps将用于多个用例，I＆O领导者必须确保供应商支持逐步添加其他功能。&lt;/p&gt;
&lt;h3 id="aiops_6"&gt;选择能够支持广泛的历史和流数据类型的AIOps平台&lt;a class="headerlink" href="#aiops_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;现代IT运营旨在获得IT实体的综合可见性，包括应用程序，其关系，相互依赖性和过去的转换，以深入了解整体IT环境的现状。选择正确的数据源对于避免盲点至关重要。部署成熟度和不断变化的用例的渐进性需要准备好摄取各种数据源。I＆O领导者必须选择能够摄取和提供对各种历史和流数据类型的访问的AIOps平台（参见图3）。&lt;/p&gt;
&lt;p&gt;&lt;img alt="AIOps获取的数据类型" src="./images/340492_0003.png"&gt;&lt;/p&gt;
&lt;h2 id="_6"&gt;总结&lt;a class="headerlink" href="#_6" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="_7"&gt;建议&lt;a class="headerlink" href="#_7" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;负责优化IT运营的数据中心负责人应该:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过采用以历史数据开始的增量方法部署AIOps, 并逐步使用&lt;strong&gt;流数据&lt;/strong&gt;, 与不断改进的IT运营成熟度保持一致.&lt;/li&gt;
&lt;li&gt;要选择这样的 AIOps平台: 通过识别能够摄取和提供对文本和指标数据访问的AIOps平台, 能够全面了解IT系统过去和现在的平台.&lt;/li&gt;
&lt;li&gt;通过选择支持逐步部署面向IT运维的机器学习四个阶段的工具, 深化其IT运营团队的分析技能: 描述性, 诊断性, 主动性能力和根本原因分析, 以帮助避免高严重性中断.&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 02 Apr 2019 22:21:31 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-04-02:/what-is-aiops.html</guid><category>gartner</category><category>aiops</category><category>可观察性</category><category>大数据</category><category>机器学习</category></item><item><title>使用 Dynatrace AppMon 监控 Docker 应用</title><link>https://www.EWhisper.cn/monitoring-docker-app-with-dynatrace.html</link><description>&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#appmon-dockerized-apps-basic"&gt;使用AppMon 监控 dockerized apps (basic)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;基于组合的方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_2"&gt;基于继承的方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#qa"&gt;Q&amp;amp;A&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#appmon-dockerized-apps-kubernetes-openshift"&gt;使用AppMon 监控 dockerized apps - Kubernetes 和 OpenShift&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#a"&gt;方案A: 基于继承的方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#b"&gt;B方案: 基于组合的方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;可以配置 AppMon 来监控包裹在docker 容器里的应用:&lt;/p&gt;
&lt;h2 id="appmon-dockerized-apps-basic"&gt;使用AppMon 监控 dockerized apps (basic)&lt;a class="headerlink" href="#appmon-dockerized-apps-basic" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本章节介绍了将&lt;a href="https://www.dynatrace.com/solutions/application-monitoring/"&gt;AppMon&lt;/a&gt; agent与dockerized应用程序集成的两种方案。这些方案在本页面上被称为&lt;strong&gt;基于组合&lt;/strong&gt;和&lt;strong&gt;基于继承&lt;/strong&gt;的方案。每个方案的利弊都会列出. 但是，建议不要使用&lt;strong&gt;基于继承&lt;/strong&gt;的方法，而是将其用于演示目的。&lt;/p&gt;
&lt;h3 id="_1"&gt;基于组合的方案&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;使用基于组合的方案，您可以使用&lt;a href="https://hub.docker.com/r/dynatrace/agent/"&gt;AppMon/agent&lt;/a&gt; Docker镜像(示例见下), 该镜像包含所有的AppMon agent, 你可以配置附加到你的现有的Docker容器中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AppMon 6.5 示例:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;#DOCKERFILE FOR DYNATRACE AGENT&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; alpine:3.5&lt;/span&gt;

&lt;span class="k"&gt;LABEL&lt;/span&gt; &lt;span class="nv"&gt;maintainer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Blazej Tomaszewski &amp;lt;blazej.tomaszewski@dynatrace.com&amp;gt;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ARG&lt;/span&gt; DT_HOME
&lt;span class="k"&gt;ARG&lt;/span&gt; BUILD_VERSION
&lt;span class="k"&gt;ARG&lt;/span&gt; VERSION
&lt;span class="k"&gt;ARG&lt;/span&gt; CUID
&lt;span class="k"&gt;ARG&lt;/span&gt; CGID

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-agent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-unix.jar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER32_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-wsagent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86-32.tar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER64_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-wsagent-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86-64.tar
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;NODE_AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;dynatrace-one-agent-nodejs-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-linux-x86.tgz
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER32_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER32_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;WSAGENT_INSTALLER64_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER64_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;NODE_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://files.dynatrace.com/downloads/OnPrem/dynaTrace/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BUILD_VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;NODE_AGENT_INSTALLER_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;SLAVE_AGENT_PORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;8001&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;curl&lt;span class="se"&gt;\ &lt;/span&gt;openjdk8-jre-base
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;DT_RUNTIME_DEPS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bash

&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-agent.sh /usr/bin
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-node-agent.sh /usr/bin
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/install-wsagent.sh /usr/bin

&lt;span class="k"&gt;RUN&lt;/span&gt;  apk update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add --no-cache &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_RUNTIME_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     mkdir -p &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-agent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER32_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;WSAGENT_INSTALLER64_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     /usr/bin/install-node-agent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;NODE_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     mkdir -p &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/log/agent &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     apk del &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_INSTALL_DEPS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;ADD&lt;/span&gt;  build/bin/dtnginx_offsets.json.tar.gz &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/agent/conf
&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/run-wsagent.sh &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;COPY&lt;/span&gt; build/scripts/create-user.sh /tmp
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;CUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CUID&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;CGID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CGID&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; /bin/sh -c /tmp/create-user.sh &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf /tmp/*
&lt;span class="k"&gt;USER&lt;/span&gt;&lt;span class="s"&gt; ${CUID}:${CGID}&lt;/span&gt;

&lt;span class="k"&gt;CMD&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt; true&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; sleep &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;从技术上讲，这种方法使用了docker的一个特性，它允许docker容器将其文件系统的一部分导出为&lt;a href="https://docs.docker.com/engine/tutorials/dockervolumes/"&gt;docker卷&lt;/a&gt;，从而使其可以被其他感兴趣的容器获得。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_1.png"&gt;&lt;/p&gt;
&lt;h4&gt;示例&lt;/h4&gt;
&lt;p&gt;以下示例假定您已经运行&lt;code&gt;dynatrace/agent&lt;/code&gt; Docker容器, 通过名字 &lt;code&gt;dtagent&lt;/code&gt; 导入到&lt;code&gt;/dynatrace&lt;/code&gt;安装目录作为一个卷. GitHub上的&lt;a href="https://github.com/Dynatrace/Dynatrace-AppMon-Docker"&gt;AppMon in Docker&lt;/a&gt; 项目包含脚本来完成这个任务，甚至允许你在docker中方便地设置一个完整的appmon环境。更多的信息可以在以下的"性能诊所"(视频)找到。&lt;/p&gt;
&lt;h5&gt;示例: Apache Tomcat&lt;/h5&gt;
&lt;p&gt;下边的&lt;code&gt;docker-compose.yml&lt;/code&gt; 挂载容器&lt;code&gt;dtagent&lt;/code&gt; 导入的卷, 并且使用合适的&lt;code&gt;-agentpath&lt;/code&gt;来初始化&lt;code&gt;CATALINA_OPTS&lt;/code&gt;环境变量.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;tomcat&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;tomcat&lt;/span&gt;
  &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
  &lt;span class="nt"&gt;volumes_from&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;dtagent&lt;/span&gt;
  &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;CATALINA_OPTS&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;-agentpath:/dynatrace/agent/lib64/libdtagent.so=name=tomcat,collector=127.0.0.1:9998&amp;quot;&lt;/span&gt;
  &lt;span class="nt"&gt;command&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;catalina.sh run&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;示例: NGINX&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;分析&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;优点&lt;/strong&gt;: 这种方法有助于巧妙地清晰地分离关注点，这是Docker世界的设计原则。此外，您不需要将agent放入您的基本映像中。在运行时进行一个简单的配置就可以监控您需要的容器的一切。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;缺点&lt;/strong&gt;: 虽然Docker运行时对容器之间交换volumes有很大的支持，但在容器编排平台（如kubernetes或openshift）上这样做会使您的应用程序配置过于复杂。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_2"&gt;基于继承的方案&lt;a class="headerlink" href="#_2" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;不建议使用此方法，仅在此处进行演示。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;从技术角度而言，Docker化应用程序通常涉及两个部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个基本镜像, 如:&lt;code&gt;java:8&lt;/code&gt;或&lt;code&gt;node:7&lt;/code&gt;, 提供基础的执行环境&lt;/li&gt;
&lt;li&gt;一个&lt;code&gt;Dockerfile&lt;/code&gt;, 用特定于应用程序的安装指令来扩充选定的基本镜像。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用你的&lt;code&gt;Dockerfile&lt;/code&gt;, 运行&lt;code&gt;docker build&lt;/code&gt;命令来创建需要的Docker 镜像.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/"&gt;Docker Hub&lt;/a&gt;上提供了一整套的基础镜像. 你可以阅读&lt;a href="https://www.digitalocean.com/community/tutorials/docker-explained-using-dockerfiles-to-automate-building-of-images"&gt;使用Dockerfiles自动化镜像构建&lt;/a&gt;和&lt;a href="https://docs.docker.com/articles/dockerfile_best-practices/"&gt;写Dockerfiles的最佳实践&lt;/a&gt;获取更多信息.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_2.png"&gt;&lt;/p&gt;
&lt;h4&gt;示例&lt;/h4&gt;
&lt;p&gt;你可以为准备监控的应用创建基础镜像. 把agent打包为基础的自动启用监控的镜像。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.EWhisper.cn/images/dynatrace_docker_3.png"&gt;&lt;/p&gt;
&lt;h5&gt;示例: Java&lt;/h5&gt;
&lt;p&gt;本例子展示了一个&lt;code&gt;Dockerfile&lt;/code&gt;, 来扩展官方的&lt;a href="https://github.com/docker-library/openjdk"&gt;openJDK Docker镜像&lt;/a&gt; 基础镜像, 并下载对应的agent. 为了遍历, 需要设置一些环境变量, 如&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;和&lt;code&gt;DT_AGENT_COLLECTOR&lt;/code&gt;, 以后可以在这些变量中填入你自己的数据. 另外, &lt;code&gt;JAVA_OPTS&lt;/code&gt;添加一个指向&lt;code&gt;DT_AGENT_LIB64&lt;/code&gt;的&lt;code&gt;-agentpath&lt;/code&gt;参数.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; openjdk:8&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_INSTALLER_URL &lt;span class="s2"&gt;&amp;quot;http://files.dynatrace.com/downloads/OnPrem/dynaTrace/6.5/6.5.0.1289/dynatrace-agent-6.5.0.1289-unix.jar&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT                     &lt;span class="s2"&gt;&amp;quot;/dynatrace&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_LIB32         &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/agent/lib/libdtagent.so&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_LIB64         &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/agent/lib64/libdtagent.so&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_NAME          &lt;span class="s2"&gt;&amp;quot;java&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_COLLECTOR     &lt;span class="s2"&gt;&amp;quot;127.0.0.1:9998&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; JAVA_OPTS              &lt;span class="s2"&gt;&amp;quot;-agentpath:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_LIB64&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;=name=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_NAME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;,collector=&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_COLLECTOR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# Install the Agent&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; curl -L -o /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    java -jar /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; -t &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    rm -f /tmp/&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;DT_AGENT_INSTALLER_URL&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;构建该Dockerfile使用&lt;code&gt;docker build . -t openjdk:8-dtappmon -f ./Dockerfile&lt;/code&gt;在本地Docker仓库创建一个新的Docker镜像, 名字为&lt;code&gt;openjdk&lt;/code&gt;, 标签为&lt;code&gt;8-dtappmon&lt;/code&gt;. 每个应用构建, 你可以通过扩展&lt;code&gt;openjdk:8-dtappmon&lt;/code&gt;来创建应用镜像(如下所示, &lt;code&gt;repo.internal&lt;/code&gt;指的是虚拟仓库, &lt;code&gt;my-app&lt;/code&gt;是虚拟应用.) 你也可以覆盖&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;环境变量来在该镜像里更准确的配置.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; openjdk:8-dtappmon&lt;/span&gt;

&lt;span class="k"&gt;ENV&lt;/span&gt; DT_AGENT_NAME &lt;span class="s2"&gt;&amp;quot;my-app&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;ADD&lt;/span&gt; https://repo.internal/my-app/builds/latest.tar.gz /app

&lt;span class="k"&gt;CMD&lt;/span&gt; java &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;JAVA_OPTS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; -jar /app/my-app.jar
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;示例: Nginx&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;分析&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;优点&lt;/strong&gt;: 一旦agent已经被放入你的Docker基础映像中，在哪个容器平台上运行你的应用程序并不重要. 此外，这种方案减少了appmon整合的准备工作，不会增加频繁building，shipping和running Dockerized 应用程序过程的任何开销。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;缺点&lt;/strong&gt;: 根据您的特定用例和您所使用的技术,您必须手动集成这些技术. 因为这个方案会在特定技术的基础镜像上, 与特定技术的agent(如Java agent)紧密绑定, 当切换到另一种技术或appmon的新版本时，这些基本镜像可能需要被全部重新创建. (其实这个不算什么大问题, 就是定期更新agent)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="qa"&gt;Q&amp;amp;A&lt;a class="headerlink" href="#qa" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4&gt;我能监控运行在docker, alpine上的程序么?&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;我能监控在kubernetes或OpenShift上单 docker化应用么?&lt;/h4&gt;
&lt;p&gt;是的. 参见下一章节.&lt;/p&gt;
&lt;h4&gt;我能在docker中运行easyTravel(AppMon的demo程序)么?&lt;/h4&gt;
&lt;p&gt;EasyTravel已经在GitHub的&lt;a href="https://github.com/dynatrace/Dynatrace-easytravel-docker"&gt;EasyTravel in Docker &lt;/a&gt;完全实现容器化了. 你可以使用&lt;a href="https://github.com/Dynatrace/Dynatrace-AppMon-Docker"&gt;Dynatrace in Docker&lt;/a&gt;项目来注入监控.&lt;/p&gt;
&lt;h2 id="appmon-dockerized-apps-kubernetes-openshift"&gt;使用AppMon 监控 dockerized apps - Kubernetes 和 OpenShift&lt;a class="headerlink" href="#appmon-dockerized-apps-kubernetes-openshift" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;上一章描述了如何使用&lt;a href="https://www.dynatrace.com/solutions/application-monitoring/"&gt;AppMon&lt;/a&gt;监控 普通的Docker环境中的Dockerized apps.&lt;/p&gt;
&lt;p&gt;本章阐述了如何监控在&lt;a href="http://kubernetes.io/"&gt;Kubernetes&lt;/a&gt;和&lt;a href="https://www.openshift.com/"&gt;Red Hat OpenShift(v3)&lt;/a&gt;的 Dockerized 应用. (OpenShift算是Kubernetes的商业化).&lt;/p&gt;
&lt;p&gt;如上章"如何使用AppMon监控dockerized apps"所述, 根据于你的实际情况,  你可能会发现下列的方案更适合. 每种方案的利弊都已列出.&lt;/p&gt;
&lt;h3 id="a"&gt;方案A: 基于继承的方案&lt;a class="headerlink" href="#a" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;基于继承的方案的目标是把AppMon的agent放到你的Docker基础镜像里. 因为Kubernetes和OpenShift都是容器平台, 这种方案允许你来在这些平台上复用你的启用监控的镜像. 然而, 因为OpenShift是一个安全加固的容器平台, 使用root运行容器和执行进程(大部分Docker都是这么构建的)默认会被禁止.  参考&lt;a href="https://docs.openshift.org/latest/creating_images/guidelines.html"&gt;OpenShift 容器镜像向导&lt;/a&gt;来学习如何为OpenShift准备你的Docker镜像. 参见&lt;a href="https://www.dynatrace.com/support/doc/appmon/application-monitoring/monitor-specific-applications/monitor-docker-apps/monitor-dockerized-apps-with-appmon/"&gt;如何使用AppMon监控dockerized apps&lt;/a&gt;获取如何应用本方案到你的Docker镜像.&lt;/p&gt;
&lt;h4&gt;示例: Java&lt;/h4&gt;
&lt;p&gt;因为在你的基础镜像中的特定技术已被appmon监控，因此只需简单的运行时配置设置即可将agent绑定到appmon collector。&lt;/p&gt;
&lt;p&gt;下列例子为一个运行在&lt;a href="http://kubernetes.io/docs/user-guide/pods/"&gt;Pod&lt;/a&gt;上的一个叫做&lt;em&gt;catalog&lt;/em&gt;的容器定义了一个&lt;a href="http://kubernetes.io/docs/user-guide/replication-controller/"&gt;ReplicationController&lt;/a&gt;. 环境变量&lt;code&gt;DT_AGENT_NAME&lt;/code&gt;和&lt;code&gt;DT_AGENT_COLLECTOR&lt;/code&gt;(&lt;a href="https://www.dynatrace.com/support/doc/appmon/application-monitoring/monitor-specific-applications/monitor-docker-apps/monitor-dockerized-apps-with-appmon/"&gt;如何使用AppMon监控dockerized apps&lt;/a&gt;中已定义好)覆盖掉由基础的&lt;code&gt;acmeco/my-app&lt;/code&gt;镜像提供的各自的对应值.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;apiVersion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;v1&lt;/span&gt;
&lt;span class="nt"&gt;kind&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ReplicationController&lt;/span&gt;
&lt;span class="nt"&gt;metadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-app&lt;/span&gt;
&lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;template&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;spec&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;containers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;my-app&lt;/span&gt;
        &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;acmeco/my-app&lt;/span&gt;
        &lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DT_AGENT_NAME&lt;/span&gt;
          &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;my-app&amp;quot;&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;DT_AGENT_COLLECTOR&lt;/span&gt;
          &lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;dtappmon-collector.acmeco.com:9998&amp;quot;&lt;/span&gt;
        &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;containerPort&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;示例: Nginx&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;分析&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;优点&lt;/strong&gt;: 一旦agent已经被放入你的Docker基础映像中，在哪个容器平台上运行你的应用程序并不重要. 此外，这种方案减少了appmon整合的准备工作，不会增加频繁building，shipping和running Dockerized 应用程序过程的任何开销。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;缺点&lt;/strong&gt;: 根据您的特定用例和您所使用的技术,您必须手动集成这些技术. 因为这个方案会在特定技术的基础镜像上, 与特定技术的agent(如Java agent)紧密绑定, 当切换到另一种技术或appmon的新版本时，这些基本镜像可能需要被全部重新创建. (其实这个不算什么大问题, 就是定期更新agent)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="b"&gt;B方案: 基于组合的方案&lt;a class="headerlink" href="#b" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;待补充.&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">东风微鸣</dc:creator><pubDate>Tue, 12 Mar 2019 10:58:00 +0800</pubDate><guid isPermaLink="false">tag:www.ewhisper.cn,2019-03-12:/monitoring-docker-app-with-dynatrace.html</guid><category>APM</category><category>Dynatrace</category><category>docker</category></item></channel></rss>